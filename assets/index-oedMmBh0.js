(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Fm={exports:{}},Wl={};var cT;function tI(){if(cT)return Wl;cT=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Wl.Fragment=t,Wl.jsx=n,Wl.jsxs=n,Wl}var hT;function eI(){return hT||(hT=1,Fm.exports=tI()),Fm.exports}var $=eI(),Hm={exports:{}},wt={};var fT;function nI(){if(fT)return wt;fT=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function j(x){return x===null||typeof x!="object"?null:(x=R&&x[R]||x["@@iterator"],typeof x=="function"?x:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Z={};function ht(x,Y,it){this.props=x,this.context=Y,this.refs=Z,this.updater=it||J}ht.prototype.isReactComponent={},ht.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},ht.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ft(){}ft.prototype=ht.prototype;function st(x,Y,it){this.props=x,this.context=Y,this.refs=Z,this.updater=it||J}var Rt=st.prototype=new ft;Rt.constructor=st,W(Rt,ht.prototype),Rt.isPureReactComponent=!0;var It=Array.isArray;function _t(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(x,Y,it){var at=it.ref;return{$$typeof:s,type:x,key:Y,ref:at!==void 0?at:null,props:it}}function M(x,Y){return D(x.type,Y,x.props)}function b(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function V(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(it){return Y[it]})}var I=/\/+/g;function pt(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):Y.toString(36)}function vt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(_t,_t):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function q(x,Y,it,at,At){var Nt=typeof x;(Nt==="undefined"||Nt==="boolean")&&(x=null);var qt=!1;if(x===null)qt=!0;else switch(Nt){case"bigint":case"string":case"number":qt=!0;break;case"object":switch(x.$$typeof){case s:case t:qt=!0;break;case T:return qt=x._init,q(qt(x._payload),Y,it,at,At)}}if(qt)return At=At(x),qt=at===""?"."+pt(x,0):at,It(At)?(it="",qt!=null&&(it=qt.replace(I,"$&/")+"/"),q(At,Y,it,"",function(ms){return ms})):At!=null&&(b(At)&&(At=M(At,it+(At.key==null||x&&x.key===At.key?"":(""+At.key).replace(I,"$&/")+"/")+qt)),Y.push(At)),1;qt=0;var Me=at===""?".":at+":";if(It(x))for(var le=0;le<x.length;le++)at=x[le],Nt=Me+pt(at,le),qt+=q(at,Y,it,Nt,At);else if(le=j(x),typeof le=="function")for(x=le.call(x),le=0;!(at=x.next()).done;)at=at.value,Nt=Me+pt(at,le++),qt+=q(at,Y,it,Nt,At);else if(Nt==="object"){if(typeof x.then=="function")return q(vt(x),Y,it,at,At);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return qt}function et(x,Y,it){if(x==null)return x;var at=[],At=0;return q(x,at,"","",function(Nt){return Y.call(it,Nt,At++)}),at}function dt(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(it){(x._status===0||x._status===-1)&&(x._status=1,x._result=it)},function(it){(x._status===0||x._status===-1)&&(x._status=2,x._result=it)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var xt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},zt={map:et,forEach:function(x,Y,it){et(x,function(){Y.apply(this,arguments)},it)},count:function(x){var Y=0;return et(x,function(){Y++}),Y},toArray:function(x){return et(x,function(Y){return Y})||[]},only:function(x){if(!b(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return wt.Activity=A,wt.Children=zt,wt.Component=ht,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=st,wt.StrictMode=r,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},wt.cache=function(x){return function(){return x.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(x,Y,it){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var at=W({},x.props),At=x.key;if(Y!=null)for(Nt in Y.key!==void 0&&(At=""+Y.key),Y)!w.call(Y,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&Y.ref===void 0||(at[Nt]=Y[Nt]);var Nt=arguments.length-2;if(Nt===1)at.children=it;else if(1<Nt){for(var qt=Array(Nt),Me=0;Me<Nt;Me++)qt[Me]=arguments[Me+2];at.children=qt}return D(x.type,At,at)},wt.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},wt.createElement=function(x,Y,it){var at,At={},Nt=null;if(Y!=null)for(at in Y.key!==void 0&&(Nt=""+Y.key),Y)w.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(At[at]=Y[at]);var qt=arguments.length-2;if(qt===1)At.children=it;else if(1<qt){for(var Me=Array(qt),le=0;le<qt;le++)Me[le]=arguments[le+2];At.children=Me}if(x&&x.defaultProps)for(at in qt=x.defaultProps,qt)At[at]===void 0&&(At[at]=qt[at]);return D(x,Nt,At)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(x){return{$$typeof:m,render:x}},wt.isValidElement=b,wt.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:dt}},wt.memo=function(x,Y){return{$$typeof:y,type:x,compare:Y===void 0?null:Y}},wt.startTransition=function(x){var Y=C.T,it={};C.T=it;try{var at=x(),At=C.S;At!==null&&At(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(_t,xt)}catch(Nt){xt(Nt)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),C.T=Y}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(x){return C.H.use(x)},wt.useActionState=function(x,Y,it){return C.H.useActionState(x,Y,it)},wt.useCallback=function(x,Y){return C.H.useCallback(x,Y)},wt.useContext=function(x){return C.H.useContext(x)},wt.useDebugValue=function(){},wt.useDeferredValue=function(x,Y){return C.H.useDeferredValue(x,Y)},wt.useEffect=function(x,Y){return C.H.useEffect(x,Y)},wt.useEffectEvent=function(x){return C.H.useEffectEvent(x)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(x,Y,it){return C.H.useImperativeHandle(x,Y,it)},wt.useInsertionEffect=function(x,Y){return C.H.useInsertionEffect(x,Y)},wt.useLayoutEffect=function(x,Y){return C.H.useLayoutEffect(x,Y)},wt.useMemo=function(x,Y){return C.H.useMemo(x,Y)},wt.useOptimistic=function(x,Y){return C.H.useOptimistic(x,Y)},wt.useReducer=function(x,Y,it){return C.H.useReducer(x,Y,it)},wt.useRef=function(x){return C.H.useRef(x)},wt.useState=function(x){return C.H.useState(x)},wt.useSyncExternalStore=function(x,Y,it){return C.H.useSyncExternalStore(x,Y,it)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.1",wt}var dT;function Hg(){return dT||(dT=1,Hm.exports=nI()),Hm.exports}var de=Hg(),Gm={exports:{}},tu={},Km={exports:{}},Qm={};var mT;function iI(){return mT||(mT=1,(function(s){function t(q,et){var dt=q.length;q.push(et);t:for(;0<dt;){var xt=dt-1>>>1,zt=q[xt];if(0<o(zt,et))q[xt]=et,q[dt]=zt,dt=xt;else break t}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var et=q[0],dt=q.pop();if(dt!==et){q[0]=dt;t:for(var xt=0,zt=q.length,x=zt>>>1;xt<x;){var Y=2*(xt+1)-1,it=q[Y],at=Y+1,At=q[at];if(0>o(it,dt))at<zt&&0>o(At,it)?(q[xt]=At,q[at]=dt,xt=at):(q[xt]=it,q[Y]=dt,xt=Y);else if(at<zt&&0>o(At,dt))q[xt]=At,q[at]=dt,xt=at;else break t}}return et}function o(q,et){var dt=q.sortIndex-et.sortIndex;return dt!==0?dt:q.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();s.unstable_now=function(){return c.now()-m}}var g=[],y=[],T=1,A=null,R=3,j=!1,J=!1,W=!1,Z=!1,ht=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function Rt(q){for(var et=n(y);et!==null;){if(et.callback===null)r(y);else if(et.startTime<=q)r(y),et.sortIndex=et.expirationTime,t(g,et);else break;et=n(y)}}function It(q){if(W=!1,Rt(q),!J)if(n(g)!==null)J=!0,_t||(_t=!0,V());else{var et=n(y);et!==null&&vt(It,et.startTime-q)}}var _t=!1,C=-1,w=5,D=-1;function M(){return Z?!0:!(s.unstable_now()-D<w)}function b(){if(Z=!1,_t){var q=s.unstable_now();D=q;var et=!0;try{t:{J=!1,W&&(W=!1,ft(C),C=-1),j=!0;var dt=R;try{e:{for(Rt(q),A=n(g);A!==null&&!(A.expirationTime>q&&M());){var xt=A.callback;if(typeof xt=="function"){A.callback=null,R=A.priorityLevel;var zt=xt(A.expirationTime<=q);if(q=s.unstable_now(),typeof zt=="function"){A.callback=zt,Rt(q),et=!0;break e}A===n(g)&&r(g),Rt(q)}else r(g);A=n(g)}if(A!==null)et=!0;else{var x=n(y);x!==null&&vt(It,x.startTime-q),et=!1}}break t}finally{A=null,R=dt,j=!1}et=void 0}}finally{et?V():_t=!1}}}var V;if(typeof st=="function")V=function(){st(b)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,pt=I.port2;I.port1.onmessage=b,V=function(){pt.postMessage(null)}}else V=function(){ht(b,0)};function vt(q,et){C=ht(function(){q(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(q){switch(R){case 1:case 2:case 3:var et=3;break;default:et=R}var dt=R;R=et;try{return q()}finally{R=dt}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var dt=R;R=q;try{return et()}finally{R=dt}},s.unstable_scheduleCallback=function(q,et,dt){var xt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?xt+dt:xt):dt=xt,q){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=dt+zt,q={id:T++,callback:et,priorityLevel:q,startTime:dt,expirationTime:zt,sortIndex:-1},dt>xt?(q.sortIndex=dt,t(y,q),n(g)===null&&q===n(y)&&(W?(ft(C),C=-1):W=!0,vt(It,dt-xt))):(q.sortIndex=zt,t(g,q),J||j||(J=!0,_t||(_t=!0,V()))),q},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(q){var et=R;return function(){var dt=R;R=et;try{return q.apply(this,arguments)}finally{R=dt}}}})(Qm)),Qm}var gT;function rI(){return gT||(gT=1,Km.exports=iI()),Km.exports}var Ym={exports:{}},Ze={};var pT;function sI(){if(pT)return Ze;pT=1;var s=Hg();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:T}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ze.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,T)},Ze.flushSync=function(g){var y=c.T,T=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=y,r.p=T,r.d.f()}},Ze.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Ze.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Ze.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,A=m(T,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:j}):T==="script"&&r.d.X(g,{crossOrigin:A,integrity:R,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Ze.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=m(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Ze.requestFormReset=function(g){r.d.r(g)},Ze.unstable_batchedUpdates=function(g,y){return g(y)},Ze.useFormState=function(g,y,T){return c.H.useFormState(g,y,T)},Ze.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ze.version="19.2.1",Ze}var yT;function aI(){if(yT)return Ym.exports;yT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ym.exports=sI(),Ym.exports}var _T;function oI(){if(_T)return tu;_T=1;var s=rI(),t=Hg(),n=aI();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),e;if(d===l)return g(f),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,E=f.child;E;){if(E===a){_=!0,a=f,l=d;break}if(E===l){_=!0,l=f,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,l=f;break}if(E===l){_=!0,l=d,a=f;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),st=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),b=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=b&&e[b]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ht:return"Profiler";case Z:return"StrictMode";case It:return"Suspense";case _t:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case st:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case Rt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:pt(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return pt(e(i))}catch{}}return null}var vt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},xt=[],zt=-1;function x(e){return{current:e}}function Y(e){0>zt||(e.current=xt[zt],xt[zt]=null,zt--)}function it(e,i){zt++,xt[zt]=e.current,e.current=i}var at=x(null),At=x(null),Nt=x(null),qt=x(null);function Me(e,i){switch(it(Nt,i),it(At,e),it(at,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?xv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=xv(i),e=Mv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),it(at,e)}function le(){Y(at),Y(At),Y(Nt)}function ms(e){e.memoizedState!==null&&it(qt,e);var i=at.current,a=Mv(i,e.type);i!==a&&(it(At,e),it(at,a))}function Ea(e){At.current===e&&(Y(at),Y(At)),qt.current===e&&(Y(qt),Xl._currentValue=dt)}var Aa,Sa;function ui(e){if(Aa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Aa=i&&i[1]||"",Sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+e+Sa}var Xo=!1;function gs(e,i){if(!e||Xo)return"";Xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var B=H}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(H){B=H}e.call(Q.prototype)}}else{try{throw Error()}catch(H){B=H}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var N=_.split(`
`),z=E.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===z.length)for(l=N.length-1,f=z.length-1;1<=l&&0<=f&&N[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==z[f]){var G=`
`+N[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=f);break}}}finally{Xo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ui(a):""}function Jo(e,i){switch(e.tag){case 26:case 27:case 5:return ui(e.type);case 16:return ui("Lazy");case 13:return e.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return gs(e.type,!1);case 11:return gs(e.type.render,!1);case 1:return gs(e.type,!0);case 31:return ui("Activity");default:return""}}function $o(e){try{var i="",a=null;do i+=Jo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ae=Object.prototype.hasOwnProperty,Pe=s.unstable_scheduleCallback,mr=s.unstable_cancelCallback,Gf=s.unstable_shouldYield,$u=s.unstable_requestPaint,nn=s.unstable_now,ps=s.unstable_getCurrentPriorityLevel,Zo=s.unstable_ImmediatePriority,Wo=s.unstable_UserBlockingPriority,gr=s.unstable_NormalPriority,Kf=s.unstable_LowPriority,Zu=s.unstable_IdlePriority,Wu=s.log,tc=s.unstable_setDisableYieldValue,Qn=null,He=null;function Nn(e){if(typeof Wu=="function"&&tc(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Qn,e)}catch{}}var _e=Math.clz32?Math.clz32:nc,ec=Math.log,ba=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(ec(e)/ba|0)|0}var ci=256,ys=262144,Se=4194304;function hi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?f=hi(l):(_&=E,_!==0?f=hi(_):a||(a=E&~e,a!==0&&(f=hi(a))))):(E=l&~d,E!==0?f=hi(E):_!==0?f=hi(_):a||(a=l&~e,a!==0&&(f=hi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Yn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Qf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ic(){var e=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),e}function di(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function _s(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yf(e,i,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-_e(a),Q=1<<G;E[G]=0,N[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~Q}l!==0&&vs(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function vs(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-_e(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function tl(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-_e(a),f=1<<l;f&i|e[l]&i&&(e[l]|=i),a&=~f}}function el(e,i){var a=i&-i;return a=(a&42)!==0?1:Ts(a),(a&(e.suspendedLanes|i))!==0?0:a}function Ts(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rc(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:iT(e.type))}function Xn(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var Jn=Math.random().toString(36).slice(2),be="__reactFiber$"+Jn,ze="__reactProps$"+Jn,mi="__reactContainer$"+Jn,Ia="__reactEvents$"+Jn,Xf="__reactListeners$"+Jn,sc="__reactHandles$"+Jn,ac="__reactResources$"+Jn,gi="__reactMarker$"+Jn;function wa(e){delete e[be],delete e[ze],delete e[Ia],delete e[Xf],delete e[sc]}function pi(e){var i=e[be];if(i)return i;for(var a=e.parentNode;a;){if(i=a[mi]||a[be]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=jv(e);e!==null;){if(a=e[be])return a;e=jv(e)}return i}e=a,a=e.parentNode}return null}function Vn(e){if(e=e[be]||e[mi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function yi(e){var i=e[ac];return i||(i=e[ac]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ie(e){e[gi]=!0}var nl=new Set,il={};function _i(e,i){vi(e,i),vi(e+"Capture",i)}function vi(e,i){for(il[e]=i,e=0;e<i.length;e++)nl.add(i[e])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},al={};function oc(e){return Ae.call(al,e)?!0:Ae.call(sl,e)?!1:rl.test(e)?al[e]=!0:(sl[e]=!0,!1)}function Ra(e,i,a){if(oc(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function yn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function we(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ol(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Yt(e){if(!e._valueTracker){var i=pr(e)?"checked":"value";e._valueTracker=ol(e,i,""+e[i])}}function Es(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=pr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var As=/[\n"\\]/g;function ln(e){return e.replace(As,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ca(e,i,a,l,f,d,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Be(i)):e.value!==""+Be(i)&&(e.value=""+Be(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?ll(e,_,Be(i)):a!=null?ll(e,_,Be(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function lc(e,i,a,l,f,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Yt(e);return}a=a!=null?""+Be(a):"",i=i!=null?""+Be(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Yt(e)}function ll(e,i,a){i==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function yr(e,i,a,l){if(e=e.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=i.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Be(a),i=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function uc(e,i,a){if(i!=null&&(i=""+Be(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Be(a):""}function _r(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(vt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Be(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Yt(e)}function un(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||cc.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function cl(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&ul(e,f,l)}else for(var d in i)i.hasOwnProperty(d)&&ul(e,d,i[d])}function Da(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(e){return vr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var hl=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,Ei=null;function Ss(e){var i=Vn(e);if(i&&(e=i.stateNode)){var a=e[ze]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ca(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var f=l[ze]||null;if(!f)throw Error(r(90));Ca(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Es(l)}break t;case"textarea":uc(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&yr(e,!!a.multiple,i,!1)}}}var Va=!1;function Er(e,i,a){if(Va)return e(i,a);Va=!0;try{var l=e(i);return l}finally{if(Va=!1,(Tr!==null||Ei!==null)&&(rh(),Tr&&(i=Tr,e=Ei,Ei=Tr=null,Ss(i),e)))for(i=0;i<e.length;i++)Ss(e[i])}}function Zn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=!1;if(xn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){bs=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{bs=!1}var Ai=null,fl=null,Is=null;function dl(){if(Is)return Is;var e,i=fl,a=i.length,l,f="value"in Ai?Ai.value:Ai.textContent,d=f.length;for(e=0;e<a&&i[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Is=f.slice(e,1<l?1-l:void 0)}function ws(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Wn(){return!1}function Ge(e){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Wn,this.isPropagationStopped=Wn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ge(ji),Ar=A({},ji,{view:0,detail:0}),ml=Ge(Ar),Sr,Oa,bi,xa=A({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Sr=e.screenX-bi.screenX,Oa=e.screenY-bi.screenY):Oa=Sr=0,bi=e),Sr)},movementY:function(e){return"movementY"in e?e.movementY:Oa}}),gl=Ge(xa),Rs=A({},xa,{dataTransfer:0}),fc=Ge(Rs),dc=A({},Ar,{relatedTarget:0}),Cs=Ge(dc),pl=A({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),mc=Ge(pl),Ma=A({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gc=Ge(Ma),pc=A({},ji,{data:0}),Ii=Ge(pc),yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_c={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tc(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=vc[e])?!!i[e]:!1}function br(){return Tc}var rn=A({},Ar,{key:function(e){if(e.key){var i=yc[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_c[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ec=Ge(rn),Ac=A({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Ge(Ac),h=A({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),p=Ge(h),v=A({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ge(v),U=A({},xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ge(U),nt=A({},ji,{newState:0,oldState:0}),Ct=Ge(nt),ve=[9,13,27,32],Kt=xn&&"CompositionEvent"in window,ue=null;xn&&"documentMode"in document&&(ue=document.documentMode);var Mn=xn&&"TextEvent"in window&&!ue,wi=xn&&(!Kt||ue&&8<ue&&11>=ue),ti=" ",ei=!1;function Ds(e,i){switch(e){case"keyup":return ve.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ka=!1;function bb(e,i){switch(e){case"compositionend":return Pa(i);case"keypress":return i.which!==32?null:(ei=!0,ti);case"textInput":return e=i.data,e===ti&&ei?null:e;default:return null}}function Ib(e,i){if(ka)return e==="compositionend"||!Kt&&Ds(e,i)?(e=dl(),Is=fl=Ai=null,ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var wb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!wb[e.type]:i==="textarea"}function Gp(e,i,a,l){Tr?Ei?Ei.push(l):Ei=[l]:Tr=l,i=hh(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var yl=null,_l=null;function Rb(e){Rv(e,0)}function Sc(e){var i=pn(e);if(Es(i))return e}function Kp(e,i){if(e==="change")return i}var Qp=!1;if(xn){var Jf;if(xn){var $f="oninput"in document;if(!$f){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),$f=typeof Yp.oninput=="function"}Jf=$f}else Jf=!1;Qp=Jf&&(!document.documentMode||9<document.documentMode)}function Xp(){yl&&(yl.detachEvent("onpropertychange",Jp),_l=yl=null)}function Jp(e){if(e.propertyName==="value"&&Sc(_l)){var i=[];Gp(i,_l,e,On(e)),Er(Rb,i)}}function Cb(e,i,a){e==="focusin"?(Xp(),yl=i,_l=a,yl.attachEvent("onpropertychange",Jp)):e==="focusout"&&Xp()}function Db(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sc(_l)}function Nb(e,i){if(e==="click")return Sc(i)}function Vb(e,i){if(e==="input"||e==="change")return Sc(i)}function Ob(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:Ob;function vl(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ae.call(i,f)||!_n(e[f],i[f]))return!1}return!0}function $p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zp(e,i){var a=$p(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=$p(a)}}function Wp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Wp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ty(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ti(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ti(e.document)}return i}function Zf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var xb=xn&&"documentMode"in document&&11>=document.documentMode,Ua=null,Wf=null,Tl=null,td=!1;function ey(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;td||Ua==null||Ua!==Ti(l)||(l=Ua,"selectionStart"in l&&Zf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&vl(Tl,l)||(Tl=l,l=hh(Wf,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ua)))}function Ns(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var La={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},ed={},ny={};xn&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Vs(e){if(ed[e])return ed[e];if(!La[e])return e;var i=La[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ny)return ed[e]=i[a];return e}var iy=Vs("animationend"),ry=Vs("animationiteration"),sy=Vs("animationstart"),Mb=Vs("transitionrun"),Pb=Vs("transitionstart"),kb=Vs("transitioncancel"),ay=Vs("transitionend"),oy=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function ni(e,i){oy.set(e,i),_i(i,[e])}var bc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pn=[],za=0,id=0;function Ic(){for(var e=za,i=id=za=0;i<e;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var f=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&ly(a,f,d)}}function wc(e,i,a,l){Pn[za++]=e,Pn[za++]=i,Pn[za++]=a,Pn[za++]=l,id|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function rd(e,i,a,l){return wc(e,i,a,l),Rc(e)}function Os(e,i){return wc(e,null,null,i),Rc(e)}function ly(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&i!==null&&(f=31-_e(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Rc(e){if(50<ql)throw ql=0,dm=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ba={};function Ub(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,a,l){return new Ub(e,i,a,l)}function sd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fi(e,i){var a=e.alternate;return a===null?(a=vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function uy(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Cc(e,i,a,l,f,d){var _=0;if(l=e,typeof e=="function")sd(e)&&(_=1);else if(typeof e=="string")_=q1(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=vn(31,a,i,f),e.elementType=D,e.lanes=d,e;case W:return xs(a.children,f,d,i);case Z:_=8,f|=24;break;case ht:return e=vn(12,a,i,f|2),e.elementType=ht,e.lanes=d,e;case It:return e=vn(13,a,i,f),e.elementType=It,e.lanes=d,e;case _t:return e=vn(19,a,i,f),e.elementType=_t,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:_=10;break t;case ft:_=9;break t;case Rt:_=11;break t;case C:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=vn(_,a,i,f),i.elementType=e,i.type=l,i.lanes=d,i}function xs(e,i,a,l){return e=vn(7,e,l,i),e.lanes=a,e}function ad(e,i,a){return e=vn(6,e,null,i),e.lanes=a,e}function cy(e){var i=vn(18,null,null,0);return i.stateNode=e,i}function od(e,i,a){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var hy=new WeakMap;function kn(e,i){if(typeof e=="object"&&e!==null){var a=hy.get(e);return a!==void 0?a:(i={value:e,source:i,stack:$o(i)},hy.set(e,i),i)}return{value:e,source:i,stack:$o(i)}}var ja=[],qa=0,Dc=null,El=0,Un=[],Ln=0,Ir=null,Ri=1,Ci="";function Hi(e,i){ja[qa++]=El,ja[qa++]=Dc,Dc=e,El=i}function fy(e,i,a){Un[Ln++]=Ri,Un[Ln++]=Ci,Un[Ln++]=Ir,Ir=e;var l=Ri;e=Ci;var f=32-_e(l)-1;l&=~(1<<f),a+=1;var d=32-_e(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ri=1<<32-_e(i)+f|a<<f|l,Ci=d+e}else Ri=1<<d|a<<f|l,Ci=e}function ld(e){e.return!==null&&(Hi(e,1),fy(e,1,0))}function ud(e){for(;e===Dc;)Dc=ja[--qa],ja[qa]=null,El=ja[--qa],ja[qa]=null;for(;e===Ir;)Ir=Un[--Ln],Un[Ln]=null,Ci=Un[--Ln],Un[Ln]=null,Ri=Un[--Ln],Un[Ln]=null}function dy(e,i){Un[Ln++]=Ri,Un[Ln++]=Ci,Un[Ln++]=Ir,Ri=i.id,Ci=i.overflow,Ir=e}var Ke=null,ae=null,Bt=!1,wr=null,zn=!1,cd=Error(r(519));function Rr(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(kn(i,e)),cd}function my(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[be]=e,i[ze]=l,a){case"dialog":Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":case"embed":Pt("load",i);break;case"video":case"audio":for(a=0;a<Hl.length;a++)Pt(Hl[a],i);break;case"source":Pt("error",i);break;case"img":case"image":case"link":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"input":Pt("invalid",i),lc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pt("invalid",i);break;case"textarea":Pt("invalid",i),_r(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Vv(i.textContent,a)?(l.popover!=null&&(Pt("beforetoggle",i),Pt("toggle",i)),l.onScroll!=null&&Pt("scroll",i),l.onScrollEnd!=null&&Pt("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Rr(e,!0)}function gy(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ke=Ke.return}}function Fa(e){if(e!==Ke)return!1;if(!Bt)return gy(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cm(e.type,e.memoizedProps)),a=!a),a&&ae&&Rr(e),gy(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=Bv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=Bv(e)}else i===27?(i=ae,jr(e.type)?(e=xm,xm=null,ae=e):ae=i):ae=Ke?jn(e.stateNode.nextSibling):null;return!0}function Ms(){ae=Ke=null,Bt=!1}function hd(){var e=wr;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),wr=null),e}function Al(e){wr===null?wr=[e]:wr.push(e)}var fd=x(null),Ps=null,Gi=null;function Cr(e,i,a){it(fd,i._currentValue),i._currentValue=a}function Ki(e){e._currentValue=fd.current,Y(fd)}function dd(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function md(e,i,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=f;for(var N=0;N<i.length;N++)if(E.context===i[N]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),dd(d.return,a,e),l||(_=null);break t}d=E.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),dd(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ha(e,i,a,l){e=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=f.type;_n(f.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(f===qt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Xl):e=[Xl])}f=f.return}e!==null&&md(i,e,a,l),i.flags|=262144}function Nc(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ks(e){Ps=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return py(Ps,e)}function Vc(e,i){return Ps===null&&ks(e),py(e,i)}function py(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(e===null)throw Error(r(308));Gi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Gi=Gi.next=i;return a}var Lb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},zb=s.unstable_scheduleCallback,Bb=s.unstable_NormalPriority,Re={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new Lb,data:new Map,refCount:0}}function Sl(e){e.refCount--,e.refCount===0&&zb(Bb,function(){e.controller.abort()})}var bl=null,pd=0,Ga=0,Ka=null;function jb(e,i){if(bl===null){var a=bl=[];pd=0,Ga=vm(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pd++,i.then(yy,yy),i}function yy(){if(--pd===0&&bl!==null){Ka!==null&&(Ka.status="fulfilled");var e=bl;bl=null,Ga=0,Ka=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function qb(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var _y=q.S;q.S=function(e,i){ev=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jb(e,i),_y!==null&&_y(e,i)};var Us=x(null);function yd(){var e=Us.current;return e!==null?e:se.pooledCache}function Oc(e,i){i===null?it(Us,Us.current):it(Us,i.pool)}function vy(){var e=yd();return e===null?null:{parent:Re._currentValue,pool:e}}var Qa=Error(r(460)),_d=Error(r(474)),xc=Error(r(542)),Mc={then:function(){}};function Ty(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ey(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Sy(e),e;default:if(typeof i.status=="string")i.then($n,$n);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Sy(e),e}throw zs=i,Qa}}function Ls(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zs=a,Qa):a}}var zs=null;function Ay(){if(zs===null)throw Error(r(459));var e=zs;return zs=null,e}function Sy(e){if(e===Qa||e===xc)throw Error(r(483))}var Ya=null,Il=0;function Pc(e){var i=Il;return Il+=1,Ya===null&&(Ya=[]),Ey(Ya,e,i)}function wl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function kc(e,i){throw i.$$typeof===R?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function by(e){function i(P,O){if(e){var L=P.deletions;L===null?(P.deletions=[O],P.flags|=16):L.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function f(P,O){return P=Fi(P,O),P.index=0,P.sibling=null,P}function d(P,O,L){return P.index=L,e?(L=P.alternate,L!==null?(L=L.index,L<O?(P.flags|=67108866,O):L):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,O,L,K){return O===null||O.tag!==6?(O=ad(L,P.mode,K),O.return=P,O):(O=f(O,L),O.return=P,O)}function N(P,O,L,K){var gt=L.type;return gt===W?G(P,O,L.props.children,K,L.key):O!==null&&(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Ls(gt)===O.type)?(O=f(O,L.props),wl(O,L),O.return=P,O):(O=Cc(L.type,L.key,L.props,null,P.mode,K),wl(O,L),O.return=P,O)}function z(P,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=od(L,P.mode,K),O.return=P,O):(O=f(O,L.children||[]),O.return=P,O)}function G(P,O,L,K,gt){return O===null||O.tag!==7?(O=xs(L,P.mode,K,gt),O.return=P,O):(O=f(O,L),O.return=P,O)}function Q(P,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ad(""+O,P.mode,L),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return L=Cc(O.type,O.key,O.props,null,P.mode,L),wl(L,O),L.return=P,L;case J:return O=od(O,P.mode,L),O.return=P,O;case w:return O=Ls(O),Q(P,O,L)}if(vt(O)||V(O))return O=xs(O,P.mode,L,null),O.return=P,O;if(typeof O.then=="function")return Q(P,Pc(O),L);if(O.$$typeof===st)return Q(P,Vc(P,O),L);kc(P,O)}return null}function B(P,O,L,K){var gt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return gt!==null?null:E(P,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return L.key===gt?N(P,O,L,K):null;case J:return L.key===gt?z(P,O,L,K):null;case w:return L=Ls(L),B(P,O,L,K)}if(vt(L)||V(L))return gt!==null?null:G(P,O,L,K,null);if(typeof L.then=="function")return B(P,O,Pc(L),K);if(L.$$typeof===st)return B(P,O,Vc(P,L),K);kc(P,L)}return null}function H(P,O,L,K,gt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return P=P.get(L)||null,E(O,P,""+K,gt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return P=P.get(K.key===null?L:K.key)||null,N(O,P,K,gt);case J:return P=P.get(K.key===null?L:K.key)||null,z(O,P,K,gt);case w:return K=Ls(K),H(P,O,L,K,gt)}if(vt(K)||V(K))return P=P.get(L)||null,G(O,P,K,gt,null);if(typeof K.then=="function")return H(P,O,L,Pc(K),gt);if(K.$$typeof===st)return H(P,O,L,Vc(O,K),gt);kc(O,K)}return null}function lt(P,O,L,K){for(var gt=null,Ht=null,ct=O,Vt=O=0,Ut=null;ct!==null&&Vt<L.length;Vt++){ct.index>Vt?(Ut=ct,ct=null):Ut=ct.sibling;var Gt=B(P,ct,L[Vt],K);if(Gt===null){ct===null&&(ct=Ut);break}e&&ct&&Gt.alternate===null&&i(P,ct),O=d(Gt,O,Vt),Ht===null?gt=Gt:Ht.sibling=Gt,Ht=Gt,ct=Ut}if(Vt===L.length)return a(P,ct),Bt&&Hi(P,Vt),gt;if(ct===null){for(;Vt<L.length;Vt++)ct=Q(P,L[Vt],K),ct!==null&&(O=d(ct,O,Vt),Ht===null?gt=ct:Ht.sibling=ct,Ht=ct);return Bt&&Hi(P,Vt),gt}for(ct=l(ct);Vt<L.length;Vt++)Ut=H(ct,P,Vt,L[Vt],K),Ut!==null&&(e&&Ut.alternate!==null&&ct.delete(Ut.key===null?Vt:Ut.key),O=d(Ut,O,Vt),Ht===null?gt=Ut:Ht.sibling=Ut,Ht=Ut);return e&&ct.forEach(function(Kr){return i(P,Kr)}),Bt&&Hi(P,Vt),gt}function Tt(P,O,L,K){if(L==null)throw Error(r(151));for(var gt=null,Ht=null,ct=O,Vt=O=0,Ut=null,Gt=L.next();ct!==null&&!Gt.done;Vt++,Gt=L.next()){ct.index>Vt?(Ut=ct,ct=null):Ut=ct.sibling;var Kr=B(P,ct,Gt.value,K);if(Kr===null){ct===null&&(ct=Ut);break}e&&ct&&Kr.alternate===null&&i(P,ct),O=d(Kr,O,Vt),Ht===null?gt=Kr:Ht.sibling=Kr,Ht=Kr,ct=Ut}if(Gt.done)return a(P,ct),Bt&&Hi(P,Vt),gt;if(ct===null){for(;!Gt.done;Vt++,Gt=L.next())Gt=Q(P,Gt.value,K),Gt!==null&&(O=d(Gt,O,Vt),Ht===null?gt=Gt:Ht.sibling=Gt,Ht=Gt);return Bt&&Hi(P,Vt),gt}for(ct=l(ct);!Gt.done;Vt++,Gt=L.next())Gt=H(ct,P,Vt,Gt.value,K),Gt!==null&&(e&&Gt.alternate!==null&&ct.delete(Gt.key===null?Vt:Gt.key),O=d(Gt,O,Vt),Ht===null?gt=Gt:Ht.sibling=Gt,Ht=Gt);return e&&ct.forEach(function(W1){return i(P,W1)}),Bt&&Hi(P,Vt),gt}function ne(P,O,L,K){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case j:t:{for(var gt=L.key;O!==null;){if(O.key===gt){if(gt=L.type,gt===W){if(O.tag===7){a(P,O.sibling),K=f(O,L.props.children),K.return=P,P=K;break t}}else if(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Ls(gt)===O.type){a(P,O.sibling),K=f(O,L.props),wl(K,L),K.return=P,P=K;break t}a(P,O);break}else i(P,O);O=O.sibling}L.type===W?(K=xs(L.props.children,P.mode,K,L.key),K.return=P,P=K):(K=Cc(L.type,L.key,L.props,null,P.mode,K),wl(K,L),K.return=P,P=K)}return _(P);case J:t:{for(gt=L.key;O!==null;){if(O.key===gt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(P,O.sibling),K=f(O,L.children||[]),K.return=P,P=K;break t}else{a(P,O);break}else i(P,O);O=O.sibling}K=od(L,P.mode,K),K.return=P,P=K}return _(P);case w:return L=Ls(L),ne(P,O,L,K)}if(vt(L))return lt(P,O,L,K);if(V(L)){if(gt=V(L),typeof gt!="function")throw Error(r(150));return L=gt.call(L),Tt(P,O,L,K)}if(typeof L.then=="function")return ne(P,O,Pc(L),K);if(L.$$typeof===st)return ne(P,O,Vc(P,L),K);kc(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(P,O.sibling),K=f(O,L),K.return=P,P=K):(a(P,O),K=ad(L,P.mode,K),K.return=P,P=K),_(P)):a(P,O)}return function(P,O,L,K){try{Il=0;var gt=ne(P,O,L,K);return Ya=null,gt}catch(ct){if(ct===Qa||ct===xc)throw ct;var Ht=vn(29,ct,null,P.mode);return Ht.lanes=K,Ht.return=P,Ht}finally{}}}var Bs=by(!0),Iy=by(!1),Dr=!1;function vd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Rc(e),ly(e,null,a),i}return wc(e,l,i,a),Rc(e)}function Rl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,tl(e,a)}}function Ed(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Ad=!1;function Cl(){if(Ad){var e=Ka;if(e!==null)throw e}}function Dl(e,i,a,l){Ad=!1;var f=e.updateQueue;Dr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var N=E,z=N.next;N.next=null,_===null?d=z:_.next=z,_=N;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=N))}if(d!==null){var Q=f.baseState;_=0,G=z=N=null,E=d;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(kt&B)===B:(l&B)===B){B!==0&&B===Ga&&(Ad=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,Tt=E;B=i;var ne=a;switch(Tt.tag){case 1:if(lt=Tt.payload,typeof lt=="function"){Q=lt.call(ne,Q,B);break t}Q=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=Tt.payload,B=typeof lt=="function"?lt.call(ne,Q,B):lt,B==null)break t;Q=A({},Q,B);break t;case 2:Dr=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,N=Q):G=G.next=H,_|=B;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;H=E,E=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);G===null&&(N=Q),f.baseState=N,f.firstBaseUpdate=z,f.lastBaseUpdate=G,d===null&&(f.shared.lanes=0),kr|=_,e.lanes=_,e.memoizedState=Q}}function wy(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Ry(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)wy(a[e],i)}var Xa=x(null),Uc=x(0);function Cy(e,i){e=er,it(Uc,e),it(Xa,i),er=e|i.baseLanes}function Sd(){it(Uc,er),it(Xa,Xa.current)}function bd(){er=Uc.current,Y(Xa),Y(Uc)}var Tn=x(null),Bn=null;function Or(e){var i=e.alternate;it(Te,Te.current&1),it(Tn,e),Bn===null&&(i===null||Xa.current!==null||i.memoizedState!==null)&&(Bn=e)}function Id(e){it(Te,Te.current),it(Tn,e),Bn===null&&(Bn=e)}function Dy(e){e.tag===22?(it(Te,Te.current),it(Tn,e),Bn===null&&(Bn=e)):xr()}function xr(){it(Te,Te.current),it(Tn,Tn.current)}function En(e){Y(Tn),Bn===e&&(Bn=null),Y(Te)}var Te=x(0);function Lc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vm(a)||Om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Dt=null,te=null,Ce=null,zc=!1,Ja=!1,js=!1,Bc=0,Nl=0,$a=null,Fb=0;function ge(){throw Error(r(321))}function wd(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!_n(e[a],i[a]))return!1;return!0}function Rd(e,i,a,l,f,d){return Qi=d,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=e===null||e.memoizedState===null?f_:qd,js=!1,d=a(l,f),js=!1,Ja&&(d=Vy(i,a,l,f)),Ny(e),d}function Ny(e){q.H=xl;var i=te!==null&&te.next!==null;if(Qi=0,Ce=te=Dt=null,zc=!1,Nl=0,$a=null,i)throw Error(r(300));e===null||De||(e=e.dependencies,e!==null&&Nc(e)&&(De=!0))}function Vy(e,i,a,l){Dt=e;var f=0;do{if(Ja&&($a=null),Nl=0,Ja=!1,25<=f)throw Error(r(301));if(f+=1,Ce=te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=d_,d=i(a,l)}while(Ja);return d}function Hb(){var e=q.H,i=e.useState()[0];return i=typeof i.then=="function"?Vl(i):i,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Dt.flags|=1024),i}function Cd(){var e=Bc!==0;return Bc=0,e}function Dd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Nd(e){if(zc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}zc=!1}Qi=0,Ce=te=Dt=null,Ja=!1,Nl=Bc=0,$a=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Dt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function Ee(){if(te===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var i=Ce===null?Dt.memoizedState:Ce.next;if(i!==null)Ce=i,te=e;else{if(e===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ce===null?Dt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(e){var i=Nl;return Nl+=1,$a===null&&($a=[]),e=Ey($a,e,i),i=Dt,(Ce===null?i.memoizedState:Ce.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?f_:qd),e}function qc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vl(e);if(e.$$typeof===st)return Qe(e)}throw Error(r(438,String(e)))}function Vd(e){var i=null,a=Dt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=jc(),Dt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=M;return i.index++,a}function Yi(e,i){return typeof i=="function"?i(e):i}function Fc(e){var i=Ee();return Od(i,te,e)}function Od(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{i=f.next;var E=_=null,N=null,z=i,G=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(kt&Q)===Q:(Qi&Q)===Q){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Ga&&(G=!0);else if((Qi&B)===B){z=z.next,B===Ga&&(G=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=Q,_=d):N=N.next=Q,Dt.lanes|=B,kr|=B;Q=z.action,js&&a(d,Q),d=z.hasEagerState?z.eagerState:a(d,Q)}else B={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=B,_=d):N=N.next=B,Dt.lanes|=Q,kr|=Q;z=z.next}while(z!==null&&z!==i);if(N===null?_=d:N.next=E,!_n(d,e.memoizedState)&&(De=!0,G&&(a=Ka,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function xd(e){var i=Ee(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);_n(d,i.memoizedState)||(De=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Oy(e,i,a){var l=Dt,f=Ee(),d=Bt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!_n((te||f).memoizedState,a);if(_&&(f.memoizedState=a,De=!0),f=f.queue,kd(Py.bind(null,l,f,e),[e]),f.getSnapshot!==i||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},My.bind(null,l,f,a,i),null),se===null)throw Error(r(349));d||(Qi&127)!==0||xy(l,i,a)}return a}function xy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Dt.updateQueue,i===null?(i=jc(),Dt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function My(e,i,a,l){i.value=a,i.getSnapshot=l,ky(i)&&Uy(e)}function Py(e,i,a){return a(function(){ky(i)&&Uy(e)})}function ky(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!_n(e,a)}catch{return!0}}function Uy(e){var i=Os(e,2);i!==null&&mn(i,e,2)}function Md(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),js){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},i}function Ly(e,i,a,l){return e.baseState=a,Od(e,te,typeof l=="function"?l:Yi)}function Gb(e,i,a,l,f){if(Kc(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,zy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function zy(e,i){var a=i.action,l=i.payload,f=e.state;if(i.isTransition){var d=q.T,_={};q.T=_;try{var E=a(f,l),N=q.S;N!==null&&N(_,E),By(e,i,E)}catch(z){Pd(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),q.T=d}}else try{d=a(f,l),By(e,i,d)}catch(z){Pd(e,i,z)}}function By(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jy(e,i,l)},function(l){return Pd(e,i,l)}):jy(e,i,a)}function jy(e,i,a){i.status="fulfilled",i.value=a,qy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,zy(e,a)))}function Pd(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,qy(i),i=i.next;while(i!==l)}e.action=null}function qy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Fy(e,i){return i}function Hy(e,i){if(Bt){var a=se.formState;if(a!==null){t:{var l=Dt;if(Bt){if(ae){e:{for(var f=ae,d=zn;f.nodeType!==8;){if(!d){f=null;break e}if(f=jn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ae=jn(f.nextSibling),l=f.data==="F!";break t}}Rr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:i},a.queue=l,a=u_.bind(null,Dt,l),l.dispatch=a,l=Md(!1),d=jd.bind(null,Dt,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:e,pending:null},l.queue=f,a=Gb.bind(null,Dt,f,d,a),f.dispatch=a,l.memoizedState=e,[i,a,!1]}function Gy(e){var i=Ee();return Ky(i,te,e)}function Ky(e,i,a){if(i=Od(e,i,Fy)[0],e=Fc(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Vl(i)}catch(_){throw _===Qa?xc:_}else l=i;i=Ee();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Dt.flags|=2048,Za(9,{destroy:void 0},Kb.bind(null,f,a),null)),[l,d,e]}function Kb(e,i){e.action=i}function Qy(e){var i=Ee(),a=te;if(a!==null)return Ky(i,a,e);Ee(),i=i.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Za(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Dt.updateQueue,i===null&&(i=jc(),Dt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Yy(){return Ee().memoizedState}function Hc(e,i,a,l){var f=sn();Dt.flags|=e,f.memoizedState=Za(1|i,{destroy:void 0},a,l===void 0?null:l)}function Gc(e,i,a,l){var f=Ee();l=l===void 0?null:l;var d=f.memoizedState.inst;te!==null&&l!==null&&wd(l,te.memoizedState.deps)?f.memoizedState=Za(i,d,a,l):(Dt.flags|=e,f.memoizedState=Za(1|i,d,a,l))}function Xy(e,i){Hc(8390656,8,e,i)}function kd(e,i){Gc(2048,8,e,i)}function Qb(e){Dt.flags|=4;var i=Dt.updateQueue;if(i===null)i=jc(),Dt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Jy(e){var i=Ee().memoizedState;return Qb({ref:i,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function $y(e,i){return Gc(4,2,e,i)}function Zy(e,i){return Gc(4,4,e,i)}function Wy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function t_(e,i,a){a=a!=null?a.concat([e]):null,Gc(4,4,Wy.bind(null,i,e),a)}function Ud(){}function e_(e,i){var a=Ee();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&wd(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function n_(e,i){var a=Ee();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&wd(i,l[1]))return l[0];if(l=e(),js){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function Ld(e,i,a){return a===void 0||(Qi&1073741824)!==0&&(kt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=iv(),Dt.lanes|=e,kr|=e,a)}function i_(e,i,a,l){return _n(a,i)?a:Xa.current!==null?(e=Ld(e,a,l),_n(e,i)||(De=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(kt&261930)===0?(De=!0,e.memoizedState=a):(e=iv(),Dt.lanes|=e,kr|=e,i)}function r_(e,i,a,l,f){var d=et.p;et.p=d!==0&&8>d?d:8;var _=q.T,E={};q.T=E,jd(e,!1,i,a);try{var N=f(),z=q.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=qb(N,l);Ol(e,i,G,bn(e))}else Ol(e,i,l,bn(e))}catch(Q){Ol(e,i,{then:function(){},status:"rejected",reason:Q},bn())}finally{et.p=d,_!==null&&E.types!==null&&(_.types=E.types),q.T=_}}function Yb(){}function zd(e,i,a,l){if(e.tag!==5)throw Error(r(476));var f=s_(e).queue;r_(e,f,i,dt,a===null?Yb:function(){return a_(e),a(l)})}function s_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function a_(e){var i=s_(e);i.next===null&&(i=e.alternate.memoizedState),Ol(e,i.next.queue,{},bn())}function Bd(){return Qe(Xl)}function o_(){return Ee().memoizedState}function l_(){return Ee().memoizedState}function Xb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();e=Nr(a);var l=Vr(i,e,a);l!==null&&(mn(l,i,a),Rl(l,i,a)),i={cache:gd()},e.payload=i;return}i=i.return}}function Jb(e,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Kc(e)?c_(i,a):(a=rd(e,i,a,l),a!==null&&(mn(a,e,l),h_(a,i,l)))}function u_(e,i,a){var l=bn();Ol(e,i,a,l)}function Ol(e,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Kc(e))c_(i,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,E=d(_,a);if(f.hasEagerState=!0,f.eagerState=E,_n(E,_))return wc(e,i,f,0),se===null&&Ic(),!1}catch{}finally{}if(a=rd(e,i,f,l),a!==null)return mn(a,e,l),h_(a,i,l),!0}return!1}function jd(e,i,a,l){if(l={lane:2,revertLane:vm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Kc(e)){if(i)throw Error(r(479))}else i=rd(e,a,l,2),i!==null&&mn(i,e,2)}function Kc(e){var i=e.alternate;return e===Dt||i!==null&&i===Dt}function c_(e,i){Ja=zc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function h_(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,tl(e,a)}}var xl={readContext:Qe,use:qc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};xl.useEffectEvent=ge;var f_={readContext:Qe,use:qc,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:Xy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Hc(4194308,4,Wy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Hc(4194308,4,e,i)},useInsertionEffect:function(e,i){Hc(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(js){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var f=a(i);if(js){Nn(!0);try{a(i)}finally{Nn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Jb.bind(null,Dt,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Md(e);var i=e.queue,a=u_.bind(null,Dt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Ud,useDeferredValue:function(e,i){var a=sn();return Ld(a,e,i)},useTransition:function(){var e=Md(!1);return e=r_.bind(null,Dt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Dt,f=sn();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),se===null)throw Error(r(349));(kt&127)!==0||xy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Xy(Py.bind(null,l,d,e),[e]),l.flags|=2048,Za(9,{destroy:void 0},My.bind(null,l,d,a,i),null),a},useId:function(){var e=sn(),i=se.identifierPrefix;if(Bt){var a=Ci,l=Ri;a=(l&~(1<<32-_e(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Bc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Fb++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Bd,useFormState:Hy,useActionState:Hy,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=jd.bind(null,Dt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Vd,useCacheRefresh:function(){return sn().memoizedState=Xb.bind(null,Dt)},useEffectEvent:function(e){var i=sn(),a={impl:e};return i.memoizedState=a,function(){if((Qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qd={readContext:Qe,use:qc,useCallback:e_,useContext:Qe,useEffect:kd,useImperativeHandle:t_,useInsertionEffect:$y,useLayoutEffect:Zy,useMemo:n_,useReducer:Fc,useRef:Yy,useState:function(){return Fc(Yi)},useDebugValue:Ud,useDeferredValue:function(e,i){var a=Ee();return i_(a,te.memoizedState,e,i)},useTransition:function(){var e=Fc(Yi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:Vl(e),i]},useSyncExternalStore:Oy,useId:o_,useHostTransitionStatus:Bd,useFormState:Gy,useActionState:Gy,useOptimistic:function(e,i){var a=Ee();return Ly(a,te,e,i)},useMemoCache:Vd,useCacheRefresh:l_};qd.useEffectEvent=Jy;var d_={readContext:Qe,use:qc,useCallback:e_,useContext:Qe,useEffect:kd,useImperativeHandle:t_,useInsertionEffect:$y,useLayoutEffect:Zy,useMemo:n_,useReducer:xd,useRef:Yy,useState:function(){return xd(Yi)},useDebugValue:Ud,useDeferredValue:function(e,i){var a=Ee();return te===null?Ld(a,e,i):i_(a,te.memoizedState,e,i)},useTransition:function(){var e=xd(Yi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:Vl(e),i]},useSyncExternalStore:Oy,useId:o_,useHostTransitionStatus:Bd,useFormState:Qy,useActionState:Qy,useOptimistic:function(e,i){var a=Ee();return te!==null?Ly(a,te,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:l_};d_.useEffectEvent=Jy;function Fd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Hd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=bn(),f=Nr(l);f.payload=i,a!=null&&(f.callback=a),i=Vr(e,f,l),i!==null&&(mn(i,e,l),Rl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=bn(),f=Nr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Vr(e,f,l),i!==null&&(mn(i,e,l),Rl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=bn(),l=Nr(a);l.tag=2,i!=null&&(l.callback=i),i=Vr(e,l,a),i!==null&&(mn(i,e,a),Rl(i,e,a))}};function m_(e,i,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!vl(a,l)||!vl(f,d):!0}function g_(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Hd.enqueueReplaceState(i,i.state,null)}function qs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function p_(e){bc(e)}function y_(e){console.error(e)}function __(e){bc(e)}function Qc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function v_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gd(e,i,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){Qc(e,i)},a}function T_(e){return e=Nr(e),e.tag=3,e}function E_(e,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){v_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){v_(i,a,l),typeof f!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function $b(e,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ha(i,a,f,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?sh():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Mc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),pm(e,l,f)),!1;case 22:return a.flags|=65536,l===Mc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),pm(e,l,f)),!1}throw Error(r(435,a.tag))}return pm(e,l,f),sh(),!1}if(Bt)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==cd&&(e=Error(r(422),{cause:l}),Al(kn(e,a)))):(l!==cd&&(i=Error(r(423),{cause:l}),Al(kn(i,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=kn(l,a),f=Gd(e.stateNode,l,f),Ed(e,f),pe!==4&&(pe=2)),!1;var d=Error(r(520),{cause:l});if(d=kn(d,a),jl===null?jl=[d]:jl.push(d),pe!==4&&(pe=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Gd(a.stateNode,l,e),Ed(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=T_(f),E_(f,e,a,l),Ed(a,f),!1}a=a.return}while(a!==null);return!1}var Kd=Error(r(461)),De=!1;function Ye(e,i,a,l){i.child=e===null?Iy(i,null,a,l):Bs(i,e.child,a,l)}function A_(e,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return ks(i),l=Rd(e,i,a,_,d,f),E=Cd(),e!==null&&!De?(Dd(e,i,f),Xi(e,i,f)):(Bt&&E&&ld(i),i.flags|=1,Ye(e,i,l,f),i.child)}function S_(e,i,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!sd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,b_(e,i,d,l,f)):(e=Cc(a.type,null,l,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!tm(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(_,l)&&e.ref===i.ref)return Xi(e,i,f)}return i.flags|=1,e=Fi(d,l),e.ref=i.ref,e.return=i,i.child=e}function b_(e,i,a,l,f){if(e!==null){var d=e.memoizedProps;if(vl(d,l)&&e.ref===i.ref)if(De=!1,i.pendingProps=l=d,tm(e,f))(e.flags&131072)!==0&&(De=!0);else return i.lanes=e.lanes,Xi(e,i,f)}return Qd(e,i,a,l,f)}function I_(e,i,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return w_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Oc(i,d!==null?d.cachePool:null),d!==null?Cy(i,d):Sd(),Dy(i);else return l=i.lanes=536870912,w_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Oc(i,d.cachePool),Cy(i,d),xr(),i.memoizedState=null):(e!==null&&Oc(i,null),Sd(),xr());return Ye(e,i,f,a),i.child}function Ml(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function w_(e,i,a,l,f){var d=yd();return d=d===null?null:{parent:Re._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Oc(i,null),Sd(),Dy(i),e!==null&&Ha(e,i,l,!0),i.childLanes=f,null}function Yc(e,i){return i=Jc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function R_(e,i,a){return Bs(i,e.child,null,a),e=Yc(i,i.pendingProps),e.flags|=2,En(i),i.memoizedState=null,e}function Zb(e,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Bt){if(l.mode==="hidden")return e=Yc(i,l),i.lanes=536870912,Ml(null,e);if(Id(i),(e=ae)?(e=zv(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ir!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=cy(e),a.return=i,i.child=a,Ke=i,ae=null)):e=null,e===null)throw Rr(i);return i.lanes=536870912,null}return Yc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Id(i),f)if(i.flags&256)i.flags&=-257,i=R_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(De||Ha(e,i,a,!1),f=(a&e.childLanes)!==0,De||f){if(l=se,l!==null&&(_=el(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Os(e,_),mn(l,e,_),Kd;sh(),i=R_(e,i,a)}else e=d.treeContext,ae=jn(_.nextSibling),Ke=i,Bt=!0,wr=null,zn=!1,e!==null&&dy(i,e),i=Yc(i,l),i.flags|=4096;return i}return e=Fi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Xc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Qd(e,i,a,l,f){return ks(i),a=Rd(e,i,a,l,void 0,f),l=Cd(),e!==null&&!De?(Dd(e,i,f),Xi(e,i,f)):(Bt&&l&&ld(i),i.flags|=1,Ye(e,i,a,f),i.child)}function C_(e,i,a,l,f,d){return ks(i),i.updateQueue=null,a=Vy(i,l,a,f),Ny(e),l=Cd(),e!==null&&!De?(Dd(e,i,d),Xi(e,i,d)):(Bt&&l&&ld(i),i.flags|=1,Ye(e,i,a,d),i.child)}function D_(e,i,a,l,f){if(ks(i),i.stateNode===null){var d=Ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qe(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},vd(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qe(_):Ba,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Fd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Hd.enqueueReplaceState(d,d.state,null),Dl(i,l,d,f),Cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,N=qs(a,E);d.props=N;var z=d.context,G=a.contextType;_=Ba,typeof G=="object"&&G!==null&&(_=Qe(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==_)&&g_(i,d,l,_),Dr=!1;var B=i.memoizedState;d.state=B,Dl(i,l,d,f),Cl(),z=i.memoizedState,E||B!==z||Dr?(typeof Q=="function"&&(Fd(i,a,Q,l),z=i.memoizedState),(N=Dr||m_(i,a,N,l,B,z,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Td(e,i),_=i.memoizedProps,G=qs(a,_),d.props=G,Q=i.pendingProps,B=d.context,z=a.contextType,N=Ba,typeof z=="object"&&z!==null&&(N=Qe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Q||B!==N)&&g_(i,d,l,N),Dr=!1,B=i.memoizedState,d.state=B,Dl(i,l,d,f),Cl();var H=i.memoizedState;_!==Q||B!==H||Dr||e!==null&&e.dependencies!==null&&Nc(e.dependencies)?(typeof E=="function"&&(Fd(i,a,E,l),H=i.memoizedState),(G=Dr||m_(i,a,G,l,B,H,N)||e!==null&&e.dependencies!==null&&Nc(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=N,l=G):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Xc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Bs(i,e.child,null,f),i.child=Bs(i,null,a,f)):Ye(e,i,a,f),i.memoizedState=d.state,e=i.child):e=Xi(e,i,f),e}function N_(e,i,a,l){return Ms(),i.flags|=256,Ye(e,i,a,l),i.child}var Yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xd(e){return{baseLanes:e,cachePool:vy()}}function Jd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Sn),e}function V_(e,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(f?Or(i):xr(),(e=ae)?(e=zv(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ir!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=cy(e),a.return=i,i.child=a,Ke=i,ae=null)):e=null,e===null)throw Rr(i);return Om(e)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,f?(xr(),f=i.mode,E=Jc({mode:"hidden",children:E},f),l=xs(l,f,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=Xd(a),l.childLanes=Jd(e,_,a),i.memoizedState=Yd,Ml(null,l)):(Or(i),$d(i,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(d)i.flags&256?(Or(i),i.flags&=-257,i=Zd(e,i,a)):i.memoizedState!==null?(xr(),i.child=e.child,i.flags|=128,i=null):(xr(),E=l.fallback,f=i.mode,l=Jc({mode:"visible",children:l.children},f),E=xs(E,f,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,Bs(i,e.child,null,a),l=i.child,l.memoizedState=Xd(a),l.childLanes=Jd(e,_,a),i.memoizedState=Yd,i=Ml(null,l));else if(Or(i),Om(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,Al({value:l,source:null,stack:null}),i=Zd(e,i,a)}else if(De||Ha(e,i,a,!1),_=(a&e.childLanes)!==0,De||_){if(_=se,_!==null&&(l=el(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Os(e,l),mn(_,e,l),Kd;Vm(E)||sh(),i=Zd(e,i,a)}else Vm(E)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,ae=jn(E.nextSibling),Ke=i,Bt=!0,wr=null,zn=!1,e!==null&&dy(i,e),i=$d(i,l.children),i.flags|=4096);return i}return f?(xr(),E=l.fallback,f=i.mode,N=e.child,z=N.sibling,l=Fi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=Fi(z,E):(E=xs(E,f,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,Ml(null,l),l=i.child,E=e.child.memoizedState,E===null?E=Xd(a):(f=E.cachePool,f!==null?(N=Re._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=vy(),E={baseLanes:E.baseLanes|a,cachePool:f}),l.memoizedState=E,l.childLanes=Jd(e,_,a),i.memoizedState=Yd,Ml(e.child,l)):(Or(i),a=e.child,e=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function $d(e,i){return i=Jc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Jc(e,i){return e=vn(22,e,null,i),e.lanes=0,e}function Zd(e,i,a){return Bs(i,e.child,null,a),e=$d(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function O_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),dd(e.return,i,a)}function Wd(e,i,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function x_(e,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Te.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,it(Te,_),Ye(e,i,l,a),l=Bt?El:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&O_(e,a,i);else if(e.tag===19)O_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)e=a.alternate,e!==null&&Lc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Wd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&Lc(e)===null){i.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Wd(i,!0,a,null,d,l);break;case"together":Wd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Xi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),kr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ha(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Fi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Fi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function tm(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Nc(e)))}function Wb(e,i,a){switch(i.tag){case 3:Me(i,i.stateNode.containerInfo),Cr(i,Re,e.memoizedState.cache),Ms();break;case 27:case 5:ms(i);break;case 4:Me(i,i.stateNode.containerInfo);break;case 10:Cr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Id(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?V_(e,i,a):(Or(i),e=Xi(e,i,a),e!==null?e.sibling:null);Or(i);break;case 19:var f=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ha(e,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return x_(e,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(Te,Te.current),l)break;return null;case 22:return i.lanes=0,I_(e,i,a,i.pendingProps);case 24:Cr(i,Re,e.memoizedState.cache)}return Xi(e,i,a)}function M_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)De=!0;else{if(!tm(e,a)&&(i.flags&128)===0)return De=!1,Wb(e,i,a);De=(e.flags&131072)!==0}else De=!1,Bt&&(i.flags&1048576)!==0&&fy(i,El,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Ls(i.elementType),i.type=e,typeof e=="function")sd(e)?(l=qs(e,l),i.tag=1,i=D_(null,i,e,l,a)):(i.tag=0,i=Qd(null,i,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===Rt){i.tag=11,i=A_(null,i,e,l,a);break t}else if(f===C){i.tag=14,i=S_(null,i,e,l,a);break t}}throw i=pt(e)||e,Error(r(306,i,""))}}return i;case 0:return Qd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=qs(l,i.pendingProps),D_(e,i,l,f,a);case 3:t:{if(Me(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Td(e,i),Dl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Cr(i,Re,l),l!==d.cache&&md(i,[Re],a,!0),Cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=N_(e,i,l,a);break t}else if(l!==f){f=kn(Error(r(424)),i),Al(f),i=N_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=jn(e.firstChild),Ke=i,Bt=!0,wr=null,zn=!0,a=Iy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ms(),l===f){i=Xi(e,i,a);break t}Ye(e,i,l,a)}i=i.child}return i;case 26:return Xc(e,i),e===null?(a=Gv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=fh(Nt.current).createElement(a),l[be]=i,l[ze]=e,Xe(l,a,e),Ie(l),i.stateNode=l):i.memoizedState=Gv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ms(i),e===null&&Bt&&(l=i.stateNode=qv(i.type,i.pendingProps,Nt.current),Ke=i,zn=!0,f=ae,jr(i.type)?(xm=f,ae=jn(l.firstChild)):ae=f),Ye(e,i,i.pendingProps.children,a),Xc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((f=l=ae)&&(l=D1(l,i.type,i.pendingProps,zn),l!==null?(i.stateNode=l,Ke=i,ae=jn(l.firstChild),zn=!1,f=!0):f=!1),f||Rr(i)),ms(i),f=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Cm(f,d)?l=null:_!==null&&Cm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Rd(e,i,Hb,null,null,a),Xl._currentValue=f),Xc(e,i),Ye(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=ae)&&(a=N1(a,i.pendingProps,zn),a!==null?(i.stateNode=a,Ke=i,ae=null,e=!0):e=!1),e||Rr(i)),null;case 13:return V_(e,i,a);case 4:return Me(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Bs(i,null,l,a):Ye(e,i,l,a),i.child;case 11:return A_(e,i,i.type,i.pendingProps,a);case 7:return Ye(e,i,i.pendingProps,a),i.child;case 8:return Ye(e,i,i.pendingProps.children,a),i.child;case 12:return Ye(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Cr(i,i.type,l.value),Ye(e,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ks(i),f=Qe(f),l=l(f),i.flags|=1,Ye(e,i,l,a),i.child;case 14:return S_(e,i,i.type,i.pendingProps,a);case 15:return b_(e,i,i.type,i.pendingProps,a);case 19:return x_(e,i,a);case 31:return Zb(e,i,a);case 22:return I_(e,i,a,i.pendingProps);case 24:return ks(i),l=Qe(Re),e===null?(f=yd(),f===null&&(f=se,d=gd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},vd(i),Cr(i,Re,f)):((e.lanes&a)!==0&&(Td(e,i),Dl(i,null,null,a),Cl()),f=e.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Cr(i,Re,l)):(l=d.cache,Cr(i,Re,l),l!==f.cache&&md(i,[Re],a,!0))),Ye(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ji(e){e.flags|=4}function em(e,i,a,l,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(ov())e.flags|=8192;else throw zs=Mc,_d}else e.flags&=-16777217}function P_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jv(i))if(ov())e.flags|=8192;else throw zs=Mc,_d}function $c(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ic():536870912,e.lanes|=i,no|=i)}function Pl(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function t1(e,i,a){var l=i.pendingProps;switch(ud(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ki(Re),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Fa(i)?Ji(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hd())),oe(i),null;case 26:var f=i.type,d=i.memoizedState;return e===null?(Ji(i),d!==null?(oe(i),P_(i,d)):(oe(i),em(i,f,null,l,a))):d?d!==e.memoizedState?(Ji(i),oe(i),P_(i,d)):(oe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ji(i),oe(i),em(i,f,e,l,a)),null;case 27:if(Ea(i),a=Nt.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return oe(i),null}e=at.current,Fa(i)?my(i):(e=qv(f,l,a),i.stateNode=e,Ji(i))}return oe(i),null;case 5:if(Ea(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return oe(i),null}if(d=at.current,Fa(i))my(i);else{var _=fh(Nt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[be]=i,d[ze]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Xe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ji(i)}}return oe(i),em(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=Nt.current,Fa(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,f=Ke,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[be]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Vv(e.nodeValue,a)),e||Rr(i,!0)}else e=fh(e).createTextNode(l),e[be]=i,i.stateNode=e}return oe(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Fa(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[be]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),e=!1}else a=hd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return oe(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Fa(i),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[be]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),f=!1}else f=hd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),$c(i,i.updateQueue),oe(i),null);case 4:return le(),e===null&&Sm(i.stateNode.containerInfo),oe(i),null;case 10:return Ki(i.type),oe(i),null;case 19:if(Y(Te),l=i.memoizedState,l===null)return oe(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Pl(l,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Lc(e),d!==null){for(i.flags|=128,Pl(l,!1),e=d.updateQueue,i.updateQueue=e,$c(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)uy(a,e),a=a.sibling;return it(Te,Te.current&1|2),Bt&&Hi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&nn()>nh&&(i.flags|=128,f=!0,Pl(l,!1),i.lanes=4194304)}else{if(!f)if(e=Lc(d),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,$c(i,e),Pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Bt)return oe(i),null}else 2*nn()-l.renderingStartTime>nh&&a!==536870912&&(i.flags|=128,f=!0,Pl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=nn(),e.sibling=null,a=Te.current,it(Te,f?a&1|2:a&1),Bt&&Hi(i,l.treeForkCount),e):(oe(i),null);case 22:case 23:return En(i),bd(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),a=i.updateQueue,a!==null&&$c(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&Y(Us),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ki(Re),oe(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function e1(e,i){switch(ud(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ki(Re),le(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ea(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Ms()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(En(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ms()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(Te),null;case 4:return le(),null;case 10:return Ki(i.type),null;case 22:case 23:return En(i),bd(),e!==null&&Y(Us),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ki(Re),null;case 25:return null;default:return null}}function k_(e,i){switch(ud(i),i.tag){case 3:Ki(Re),le();break;case 26:case 27:case 5:Ea(i);break;case 4:le();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:Y(Te);break;case 10:Ki(i.type);break;case 22:case 23:En(i),bd(),e!==null&&Y(Us);break;case 24:Ki(Re)}}function kl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(E){Jt(i,i.return,E)}}function Mr(e,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,f=i;var N=a,z=E;try{z()}catch(G){Jt(f,N,G)}}}l=l.next}while(l!==d)}}catch(G){Jt(i,i.return,G)}}function U_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ry(i,a)}catch(l){Jt(e,e.return,l)}}}function L_(e,i,a){a.props=qs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,i,l)}}function Ul(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Jt(e,i,f)}}function Di(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Jt(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Jt(e,i,f)}else a.current=null}function z_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Jt(e,e.return,f)}}function nm(e,i,a){try{var l=e.stateNode;S1(l,e.type,a,i),l[ze]=i}catch(f){Jt(e,e.return,f)}}function B_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&jr(e.type)||e.tag===4}function im(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||B_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&jr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rm(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&jr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(rm(e,i,a),e=e.sibling;e!==null;)rm(e,i,a),e=e.sibling}function Zc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&jr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Zc(e,i,a),e=e.sibling;e!==null;)Zc(e,i,a),e=e.sibling}function j_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Xe(i,l,a),i[be]=e,i[ze]=a}catch(d){Jt(e,e.return,d)}}var $i=!1,Ne=!1,sm=!1,q_=typeof WeakSet=="function"?WeakSet:Set,je=null;function n1(e,i){if(e=e.containerInfo,wm=vh,e=ty(e),Zf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,E=-1,N=-1,z=0,G=0,Q=e,B=null;e:for(;;){for(var H;Q!==a||f!==0&&Q.nodeType!==3||(E=_+f),Q!==d||l!==0&&Q.nodeType!==3||(N=_+l),Q.nodeType===3&&(_+=Q.nodeValue.length),(H=Q.firstChild)!==null;)B=Q,Q=H;for(;;){if(Q===e)break e;if(B===a&&++z===f&&(E=_),B===d&&++G===l&&(N=_),(H=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=H}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rm={focusedElem:e,selectionRange:a},vh=!1,je=i;je!==null;)if(i=je,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,je=e;else for(;je!==null;){switch(i=je,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var lt=qs(a.type,f);e=l.getSnapshotBeforeUpdate(lt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Jt(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Nm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,je=e;break}je=i.return}}function F_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(e,a),l&4&&kl(5,a);break;case 1:if(Wi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Jt(a,a.return,_)}else{var f=qs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Jt(a,a.return,_)}}l&64&&U_(a),l&512&&Ul(a,a.return);break;case 3:if(Wi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ry(e,i)}catch(_){Jt(a,a.return,_)}}break;case 27:i===null&&l&4&&j_(a);case 26:case 5:Wi(e,a),i===null&&l&4&&z_(a),l&512&&Ul(a,a.return);break;case 12:Wi(e,a);break;case 31:Wi(e,a),l&4&&K_(e,a);break;case 13:Wi(e,a),l&4&&Q_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=h1.bind(null,a),V1(e,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){i=i!==null&&i.memoizedState!==null||Ne,f=$i;var d=Ne;$i=l,(Ne=i)&&!d?tr(e,a,(a.subtreeFlags&8772)!==0):Wi(e,a),$i=f,Ne=d}break;case 30:break;default:Wi(e,a)}}function H_(e){var i=e.alternate;i!==null&&(e.alternate=null,H_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&wa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,cn=!1;function Zi(e,i,a){for(a=a.child;a!==null;)G_(e,i,a),a=a.sibling}function G_(e,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:Ne||Di(a,i),Zi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||Di(a,i);var l=ce,f=cn;jr(a.type)&&(ce=a.stateNode,cn=!1),Zi(e,i,a),Kl(a.stateNode),ce=l,cn=f;break;case 5:Ne||Di(a,i);case 6:if(l=ce,f=cn,ce=null,Zi(e,i,a),ce=l,cn=f,ce!==null)if(cn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(d){Jt(a,i,d)}else try{ce.removeChild(a.stateNode)}catch(d){Jt(a,i,d)}break;case 18:ce!==null&&(cn?(e=ce,Uv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),co(e)):Uv(ce,a.stateNode));break;case 4:l=ce,f=cn,ce=a.stateNode.containerInfo,cn=!0,Zi(e,i,a),ce=l,cn=f;break;case 0:case 11:case 14:case 15:Mr(2,a,i),Ne||Mr(4,a,i),Zi(e,i,a);break;case 1:Ne||(Di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&L_(a,i,l)),Zi(e,i,a);break;case 21:Zi(e,i,a);break;case 22:Ne=(l=Ne)||a.memoizedState!==null,Zi(e,i,a),Ne=l;break;default:Zi(e,i,a)}}function K_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{co(e)}catch(a){Jt(i,i.return,a)}}}function Q_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{co(e)}catch(a){Jt(i,i.return,a)}}function i1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new q_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new q_),i;default:throw Error(r(435,e.tag))}}function Wc(e,i){var a=i1(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=f1.bind(null,e,l);l.then(f,f)}})}function hn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(jr(E.type)){ce=E.stateNode,cn=!1;break t}break;case 5:ce=E.stateNode,cn=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ce===null)throw Error(r(160));G_(d,_,f),ce=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Y_(i,e),i=i.sibling}var ii=null;function Y_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),l&4&&(Mr(3,e,e.return),kl(3,e),Mr(5,e,e.return));break;case 1:hn(i,e),fn(e),l&512&&(Ne||a===null||Di(a,a.return)),l&64&&$i&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ii;if(hn(i,e),fn(e),l&512&&(Ne||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gi]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xe(d,l,a),d[be]=e,Ie(d),l=d;break t;case"link":var _=Yv("link","href",f).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Yv("meta","content",f).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[be]=e,Ie(d),l=d}e.stateNode=l}else Xv(f,e.type,e.stateNode);else e.stateNode=Qv(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Xv(f,e.type,e.stateNode):Qv(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&nm(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),l&512&&(Ne||a===null||Di(a,a.return)),a!==null&&l&4&&nm(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),l&512&&(Ne||a===null||Di(a,a.return)),e.flags&32){f=e.stateNode;try{un(f,"")}catch(lt){Jt(e,e.return,lt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,nm(e,f,a!==null?a.memoizedProps:f)),l&1024&&(sm=!0);break;case 6:if(hn(i,e),fn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(lt){Jt(e,e.return,lt)}}break;case 3:if(gh=null,f=ii,ii=dh(i.containerInfo),hn(i,e),ii=f,fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(i.containerInfo)}catch(lt){Jt(e,e.return,lt)}sm&&(sm=!1,X_(e));break;case 4:l=ii,ii=dh(e.stateNode.containerInfo),hn(i,e),fn(e),ii=l;break;case 12:hn(i,e),fn(e);break;case 31:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wc(e,l)));break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(eh=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wc(e,l)));break;case 22:f=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=$i,G=Ne;if($i=z||f,Ne=G||N,hn(i,e),Ne=G,$i=z,fn(e),l&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||$i||Ne||Fs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=N.stateNode;var Q=N.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){Jt(N,N.return,lt)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(lt){Jt(N,N.return,lt)}}}else if(i.tag===18){if(a===null){N=i;try{var H=N.stateNode;f?Lv(H,!0):Lv(N.stateNode,!1)}catch(lt){Jt(N,N.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wc(e,a))));break;case 19:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wc(e,l)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(B_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=im(e);Zc(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var E=im(e);Zc(e,E,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=im(e);rm(e,z,N);break;default:throw Error(r(161))}}catch(G){Jt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function X_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;X_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Wi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)F_(e,i.alternate,i),i=i.sibling}function Fs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),Fs(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&L_(i,i.return,a),Fs(i);break;case 27:Kl(i.stateNode);case 26:case 5:Di(i,i.return),Fs(i);break;case 22:i.memoizedState===null&&Fs(i);break;case 30:Fs(i);break;default:Fs(i)}e=e.sibling}}function tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:tr(f,d,a),kl(4,d);break;case 1:if(tr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Jt(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var E=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)wy(N[f],E)}catch(z){Jt(l,l.return,z)}}a&&_&64&&U_(d),Ul(d,d.return);break;case 27:j_(d);case 26:case 5:tr(f,d,a),a&&l===null&&_&4&&z_(d),Ul(d,d.return);break;case 12:tr(f,d,a);break;case 31:tr(f,d,a),a&&_&4&&K_(f,d);break;case 13:tr(f,d,a),a&&_&4&&Q_(f,d);break;case 22:d.memoizedState===null&&tr(f,d,a),Ul(d,d.return);break;case 30:break;default:tr(f,d,a)}i=i.sibling}}function am(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Sl(a))}function om(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Sl(e))}function ri(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)J_(e,i,a,l),i=i.sibling}function J_(e,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i,a,l),f&2048&&kl(9,i);break;case 1:ri(e,i,a,l);break;case 3:ri(e,i,a,l),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Sl(e)));break;case 12:if(f&2048){ri(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Jt(i,i.return,N)}}else ri(e,i,a,l);break;case 31:ri(e,i,a,l);break;case 13:ri(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ri(e,i,a,l):Ll(e,i):d._visibility&2?ri(e,i,a,l):(d._visibility|=2,Wa(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&am(_,i);break;case 24:ri(e,i,a,l),f&2048&&om(i.alternate,i);break;default:ri(e,i,a,l)}}function Wa(e,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,E=a,N=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Wa(d,_,E,N,f),kl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Wa(d,_,E,N,f):Ll(d,_):(G._visibility|=2,Wa(d,_,E,N,f)),f&&z&2048&&am(_.alternate,_);break;case 24:Wa(d,_,E,N,f),f&&z&2048&&om(_.alternate,_);break;default:Wa(d,_,E,N,f)}i=i.sibling}}function Ll(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,f=l.flags;switch(l.tag){case 22:Ll(a,l),f&2048&&am(l.alternate,l);break;case 24:Ll(a,l),f&2048&&om(l.alternate,l);break;default:Ll(a,l)}i=i.sibling}}var zl=8192;function to(e,i,a){if(e.subtreeFlags&zl)for(e=e.child;e!==null;)$_(e,i,a),e=e.sibling}function $_(e,i,a){switch(e.tag){case 26:to(e,i,a),e.flags&zl&&e.memoizedState!==null&&F1(a,ii,e.memoizedState,e.memoizedProps);break;case 5:to(e,i,a);break;case 3:case 4:var l=ii;ii=dh(e.stateNode.containerInfo),to(e,i,a),ii=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=zl,zl=16777216,to(e,i,a),zl=l):to(e,i,a));break;default:to(e,i,a)}}function Z_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Bl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,tv(l,e)}Z_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)W_(e),e=e.sibling}function W_(e){switch(e.tag){case 0:case 11:case 15:Bl(e),e.flags&2048&&Mr(9,e,e.return);break;case 3:Bl(e);break;case 12:Bl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,th(e)):Bl(e);break;default:Bl(e)}}function th(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,tv(l,e)}Z_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),th(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,th(i));break;default:th(i)}e=e.sibling}}function tv(e,i){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=e;je!==null;){l=je;var f=l.sibling,d=l.return;if(H_(l),l===a){je=null;break t}if(f!==null){f.return=d,je=f;break t}je=d}}}var r1={getCacheForType:function(e){var i=Qe(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Qe(Re).controller.signal}},s1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,se=null,Mt=null,kt=0,Xt=0,An=null,Pr=!1,eo=!1,lm=!1,er=0,pe=0,kr=0,Hs=0,um=0,Sn=0,no=0,jl=null,dn=null,cm=!1,eh=0,ev=0,nh=1/0,ih=null,Ur=null,ke=0,Lr=null,io=null,nr=0,hm=0,fm=null,nv=null,ql=0,dm=null;function bn(){return(Qt&2)!==0&&kt!==0?kt&-kt:q.T!==null?vm():rc()}function iv(){if(Sn===0)if((kt&536870912)===0||Bt){var e=ys;ys<<=1,(ys&3932160)===0&&(ys=262144),Sn=e}else Sn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),Sn}function mn(e,i,a){(e===se&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(ro(e,0),zr(e,kt,Sn,!1)),_s(e,a),((Qt&2)===0||e!==se)&&(e===se&&((Qt&2)===0&&(Hs|=a),pe===4&&zr(e,kt,Sn,!1)),Ni(e))}function rv(e,i,a){if((Qt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Yn(e,i),f=l?l1(e,i):gm(e,i,!0),d=l;do{if(f===0){eo&&!l&&zr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!a1(a)){f=gm(e,i,!1),d=!1;continue}if(f===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;f=jl;var N=E.current.memoizedState.isDehydrated;if(N&&(ro(E,_).flags|=256),_=gm(E,_,!1),_!==2){if(lm&&!N){E.errorRecoveryDisabledLanes|=d,Hs|=d,f=4;break t}d=dn,dn=f,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){ro(e,0),zr(e,i,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:zr(l,i,Sn,!Pr);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=eh+300-nn(),10<f)){if(zr(l,i,Sn,!Pr),fi(l,0,!0)!==0)break t;nr=i,l.timeoutHandle=Pv(sv.bind(null,l,a,dn,ih,cm,i,Sn,Hs,no,Pr,d,"Throttled",-0,0),f);break t}sv(l,a,dn,ih,cm,i,Sn,Hs,no,Pr,d,null,-0,0)}}break}while(!0);Ni(e)}function sv(e,i,a,l,f,d,_,E,N,z,G,Q,B,H){if(e.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},$_(i,d,Q);var lt=(d&62914560)===d?eh-nn():(d&4194048)===d?ev-nn():0;if(lt=H1(Q,lt),lt!==null){nr=d,e.cancelPendingCommit=lt(dv.bind(null,e,i,d,a,l,f,_,E,N,G,Q,null,B,H)),zr(e,d,_,!z);return}}dv(e,i,d,a,l,f,_,E,N)}function a1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zr(e,i,a,l){i&=~um,i&=~Hs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var f=i;0<f;){var d=31-_e(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&vs(e,a,i)}function rh(){return(Qt&6)===0?(Fl(0),!1):!0}function mm(){if(Mt!==null){if(Xt===0)var e=Mt.return;else e=Mt,Gi=Ps=null,Nd(e),Ya=null,Il=0,e=Mt;for(;e!==null;)k_(e.alternate,e),e=e.return;Mt=null}}function ro(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,w1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),nr=0,mm(),se=e,Mt=a=Fi(e.current,null),kt=i,Xt=0,An=null,Pr=!1,eo=Yn(e,i),lm=!1,no=Sn=um=Hs=kr=pe=0,dn=jl=null,cm=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var f=31-_e(l),d=1<<f;i|=e[f],l&=~d}return er=i,Ic(),a}function av(e,i){Dt=null,q.H=xl,i===Qa||i===xc?(i=Ay(),Xt=3):i===_d?(i=Ay(),Xt=4):Xt=i===Kd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Mt===null&&(pe=1,Qc(e,kn(i,e.current)))}function ov(){var e=Tn.current;return e===null?!0:(kt&4194048)===kt?Bn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Bn:!1}function lv(){var e=q.H;return q.H=xl,e===null?xl:e}function uv(){var e=q.A;return q.A=r1,e}function sh(){pe=4,Pr||(kt&4194048)!==kt&&Tn.current!==null||(eo=!0),(kr&134217727)===0&&(Hs&134217727)===0||se===null||zr(se,kt,Sn,!1)}function gm(e,i,a){var l=Qt;Qt|=2;var f=lv(),d=uv();(se!==e||kt!==i)&&(ih=null,ro(e,i)),i=!1;var _=pe;t:do try{if(Xt!==0&&Mt!==null){var E=Mt,N=An;switch(Xt){case 8:mm(),_=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var z=Xt;if(Xt=0,An=null,so(e,E,N,z),a&&eo){_=0;break t}break;default:z=Xt,Xt=0,An=null,so(e,E,N,z)}}o1(),_=pe;break}catch(G){av(e,G)}while(!0);return i&&e.shellSuspendCounter++,Gi=Ps=null,Qt=l,q.H=f,q.A=d,Mt===null&&(se=null,kt=0,Ic()),_}function o1(){for(;Mt!==null;)cv(Mt)}function l1(e,i){var a=Qt;Qt|=2;var l=lv(),f=uv();se!==e||kt!==i?(ih=null,nh=nn()+500,ro(e,i)):eo=Yn(e,i);t:do try{if(Xt!==0&&Mt!==null){i=Mt;var d=An;e:switch(Xt){case 1:Xt=0,An=null,so(e,i,d,1);break;case 2:case 9:if(Ty(d)){Xt=0,An=null,hv(i);break}i=function(){Xt!==2&&Xt!==9||se!==e||(Xt=7),Ni(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Ty(d)?(Xt=0,An=null,hv(i)):(Xt=0,An=null,so(e,i,d,7));break;case 5:var _=null;switch(Mt.tag){case 26:_=Mt.memoizedState;case 5:case 27:var E=Mt;if(_?Jv(_):E.stateNode.complete){Xt=0,An=null;var N=E.sibling;if(N!==null)Mt=N;else{var z=E.return;z!==null?(Mt=z,ah(z)):Mt=null}break e}}Xt=0,An=null,so(e,i,d,5);break;case 6:Xt=0,An=null,so(e,i,d,6);break;case 8:mm(),pe=6;break t;default:throw Error(r(462))}}u1();break}catch(G){av(e,G)}while(!0);return Gi=Ps=null,q.H=l,q.A=f,Qt=a,Mt!==null?0:(se=null,kt=0,Ic(),pe)}function u1(){for(;Mt!==null&&!Gf();)cv(Mt)}function cv(e){var i=M_(e.alternate,e,er);e.memoizedProps=e.pendingProps,i===null?ah(e):Mt=i}function hv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=C_(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=C_(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:Nd(i);default:k_(a,i),i=Mt=uy(i,er),i=M_(a,i,er)}e.memoizedProps=e.pendingProps,i===null?ah(e):Mt=i}function so(e,i,a,l){Gi=Ps=null,Nd(i),Ya=null,Il=0;var f=i.return;try{if($b(e,f,i,a,kt)){pe=1,Qc(e,kn(a,e.current)),Mt=null;return}}catch(d){if(f!==null)throw Mt=f,d;pe=1,Qc(e,kn(a,e.current)),Mt=null;return}i.flags&32768?(Bt||l===1?e=!0:eo||(kt&536870912)!==0?e=!1:(Pr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),fv(i,e)):ah(i)}function ah(e){var i=e;do{if((i.flags&32768)!==0){fv(i,Pr);return}e=i.return;var a=t1(i.alternate,i,er);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);pe===0&&(pe=5)}function fv(e,i){do{var a=e1(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);pe=6,Mt=null}function dv(e,i,a,l,f,d,_,E,N){e.cancelPendingCommit=null;do oh();while(ke!==0);if((Qt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=id,Yf(e,a,d,_,E,N),e===se&&(Mt=se=null,kt=0),io=i,Lr=e,nr=a,hm=d,fm=f,nv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,d1(gr,function(){return _v(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,f=et.p,et.p=2,_=Qt,Qt|=4;try{n1(e,i,a)}finally{Qt=_,et.p=f,q.T=l}}ke=1,mv(),gv(),pv()}}function mv(){if(ke===1){ke=0;var e=Lr,i=io,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=et.p;et.p=2;var f=Qt;Qt|=4;try{Y_(i,e);var d=Rm,_=ty(e.containerInfo),E=d.focusedElem,N=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&Wp(E.ownerDocument.documentElement,E)){if(N!==null&&Zf(E)){var z=N.start,G=N.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var H=B.getSelection(),lt=E.textContent.length,Tt=Math.min(N.start,lt),ne=N.end===void 0?Tt:Math.min(N.end,lt);!H.extend&&Tt>ne&&(_=ne,ne=Tt,Tt=_);var P=Zp(E,Tt),O=Zp(E,ne);if(P&&O&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=Q.createRange();L.setStart(P.node,P.offset),H.removeAllRanges(),Tt>ne?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(Q=[],H=E;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var K=Q[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}vh=!!wm,Rm=wm=null}finally{Qt=f,et.p=l,q.T=a}}e.current=i,ke=2}}function gv(){if(ke===2){ke=0;var e=Lr,i=io,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=et.p;et.p=2;var f=Qt;Qt|=4;try{F_(e,i.alternate,i)}finally{Qt=f,et.p=l,q.T=a}}ke=3}}function pv(){if(ke===4||ke===3){ke=0,$u();var e=Lr,i=io,a=nr,l=nv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ke=5:(ke=0,io=Lr=null,yv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ur=null),zi(a),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=q.T,f=et.p,et.p=2,q.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var E=l[_];d(E.value,{componentStack:E.stack})}}finally{q.T=i,et.p=f}}(nr&3)!==0&&oh(),Ni(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===dm?ql++:(ql=0,dm=e):ql=0,Fl(0)}}function yv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Sl(i)))}function oh(){return mv(),gv(),pv(),_v()}function _v(){if(ke!==5)return!1;var e=Lr,i=hm;hm=0;var a=zi(nr),l=q.T,f=et.p;try{et.p=32>a?32:a,q.T=null,a=fm,fm=null;var d=Lr,_=nr;if(ke=0,io=Lr=null,nr=0,(Qt&6)!==0)throw Error(r(331));var E=Qt;if(Qt|=4,W_(d.current),J_(d,d.current,_,a),Qt=E,Fl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{et.p=f,q.T=l,yv(e,i)}}function vv(e,i,a){i=kn(a,i),i=Gd(e.stateNode,i,2),e=Vr(e,i,2),e!==null&&(_s(e,2),Ni(e))}function Jt(e,i,a){if(e.tag===3)vv(e,e,a);else for(;i!==null;){if(i.tag===3){vv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){e=kn(a,e),a=T_(2),l=Vr(i,a,2),l!==null&&(E_(a,l,i,e),_s(l,2),Ni(l));break}}i=i.return}}function pm(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new s1;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(lm=!0,f.add(a),e=c1.bind(null,e,i,a),i.then(e,e))}function c1(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(kt&a)===a&&(pe===4||pe===3&&(kt&62914560)===kt&&300>nn()-eh?(Qt&2)===0&&ro(e,0):um|=a,no===kt&&(no=0)),Ni(e)}function Tv(e,i){i===0&&(i=ic()),e=Os(e,i),e!==null&&(_s(e,i),Ni(e))}function h1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Tv(e,a)}function f1(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Tv(e,a)}function d1(e,i){return Pe(e,i)}var lh=null,ao=null,ym=!1,uh=!1,_m=!1,Br=0;function Ni(e){e!==ao&&e.next===null&&(ao===null?lh=ao=e:ao=ao.next=e),uh=!0,ym||(ym=!0,g1())}function Fl(e,i){if(!_m&&uh){_m=!0;do for(var a=!1,l=lh;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-_e(42|e)+1)-1,d&=f&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,bv(l,d))}else d=kt,d=fi(l,l===se?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,bv(l,d));l=l.next}while(a);_m=!1}}function m1(){Ev()}function Ev(){uh=ym=!1;var e=0;Br!==0&&I1()&&(e=Br);for(var i=nn(),a=null,l=lh;l!==null;){var f=l.next,d=Av(l,i);d===0?(l.next=null,a===null?lh=f:a.next=f,f===null&&(ao=a)):(a=l,(e!==0||(d&3)!==0)&&(uh=!0)),l=f}ke!==0&&ke!==5||Fl(e),Br!==0&&(Br=0)}function Av(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-_e(d),E=1<<_,N=f[_];N===-1?((E&a)===0||(E&l)!==0)&&(f[_]=Qf(E,i)):N<=i&&(e.expiredLanes|=E),d&=~E}if(i=se,a=kt,a=fi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&mr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&mr(l),zi(a)){case 2:case 8:a=Wo;break;case 32:a=gr;break;case 268435456:a=Zu;break;default:a=gr}return l=Sv.bind(null,e),a=Pe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&mr(l),e.callbackPriority=2,e.callbackNode=null,2}function Sv(e,i){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(oh()&&e.callbackNode!==a)return null;var l=kt;return l=fi(e,e===se?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(rv(e,l,i),Av(e,nn()),e.callbackNode!=null&&e.callbackNode===a?Sv.bind(null,e):null)}function bv(e,i){if(oh())return null;rv(e,i,!0)}function g1(){R1(function(){(Qt&6)!==0?Pe(Zo,m1):Ev()})}function vm(){if(Br===0){var e=Ga;e===0&&(e=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Br=e}return Br}function Iv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Na(""+e)}function wv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function p1(e,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Iv((f[ze]||null).action),_=l.submitter;_&&(i=(i=_[ze]||null)?Iv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var E=new Si("action","action",null,l,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Br!==0){var N=_?wv(f,_):new FormData(f);zd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(E.preventDefault(),N=_?wv(f,_):new FormData(f),zd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Tm=0;Tm<nd.length;Tm++){var Em=nd[Tm],y1=Em.toLowerCase(),_1=Em[0].toUpperCase()+Em.slice(1);ni(y1,"on"+_1)}ni(iy,"onAnimationEnd"),ni(ry,"onAnimationIteration"),ni(sy,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Mb,"onTransitionRun"),ni(Pb,"onTransitionStart"),ni(kb,"onTransitionCancel"),ni(ay,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Rv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var E=l[_],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=z;try{d(f)}catch(G){bc(G)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(E=l[_],N=E.instance,z=E.currentTarget,E=E.listener,N!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=z;try{d(f)}catch(G){bc(G)}f.currentTarget=null,d=N}}}}function Pt(e,i){var a=i[Ia];a===void 0&&(a=i[Ia]=new Set);var l=e+"__bubble";a.has(l)||(Cv(i,e,2,!1),a.add(l))}function Am(e,i,a){var l=0;i&&(l|=4),Cv(a,e,l,i)}var ch="_reactListening"+Math.random().toString(36).slice(2);function Sm(e){if(!e[ch]){e[ch]=!0,nl.forEach(function(a){a!=="selectionchange"&&(v1.has(a)||Am(a,!1,e),Am(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ch]||(i[ch]=!0,Am("selectionchange",!1,i))}}function Cv(e,i,a,l){switch(iT(i)){case 2:var f=Q1;break;case 8:f=Y1;break;default:f=Lm}a=f.bind(null,i,a,e),f=void 0,!bs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(i,a,{capture:!0,passive:f}):e.addEventListener(i,a,!0):f!==void 0?e.addEventListener(i,a,{passive:f}):e.addEventListener(i,a,!1)}function bm(e,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;E!==null;){if(_=pi(E),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}E=E.parentNode}}l=l.return}Er(function(){var z=d,G=On(a),Q=[];t:{var B=oy.get(e);if(B!==void 0){var H=Si,lt=e;switch(e){case"keypress":if(ws(a)===0)break t;case"keydown":case"keyup":H=Ec;break;case"focusin":lt="focus",H=Cs;break;case"focusout":lt="blur",H=Cs;break;case"beforeblur":case"afterblur":H=Cs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case iy:case ry:case sy:H=mc;break;case ay:H=S;break;case"scroll":case"scrollend":H=ml;break;case"wheel":H=F;break;case"copy":case"cut":case"paste":H=gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=qi;break;case"toggle":case"beforetoggle":H=Ct}var Tt=(i&4)!==0,ne=!Tt&&(e==="scroll"||e==="scrollend"),P=Tt?B!==null?B+"Capture":null:B;Tt=[];for(var O=z,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||P===null||(K=Zn(O,P),K!=null&&Tt.push(Gl(O,K,L))),ne)break;O=O.return}0<Tt.length&&(B=new H(B,lt,null,a,G),Q.push({event:B,listeners:Tt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==hl&&(lt=a.relatedTarget||a.fromElement)&&(pi(lt)||lt[mi]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(lt=a.relatedTarget||a.toElement,H=z,lt=lt?pi(lt):null,lt!==null&&(ne=u(lt),Tt=lt.tag,lt!==ne||Tt!==5&&Tt!==27&&Tt!==6)&&(lt=null)):(H=null,lt=z),H!==lt)){if(Tt=gl,K="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=qi,K="onPointerLeave",P="onPointerEnter",O="pointer"),ne=H==null?B:pn(H),L=lt==null?B:pn(lt),B=new Tt(K,O+"leave",H,a,G),B.target=ne,B.relatedTarget=L,K=null,pi(G)===z&&(Tt=new Tt(P,O+"enter",lt,a,G),Tt.target=L,Tt.relatedTarget=ne,K=Tt),ne=K,H&&lt)e:{for(Tt=T1,P=H,O=lt,L=0,K=P;K;K=Tt(K))L++;K=0;for(var gt=O;gt;gt=Tt(gt))K++;for(;0<L-K;)P=Tt(P),L--;for(;0<K-L;)O=Tt(O),K--;for(;L--;){if(P===O||O!==null&&P===O.alternate){Tt=P;break e}P=Tt(P),O=Tt(O)}Tt=null}else Tt=null;H!==null&&Dv(Q,B,H,Tt,!1),lt!==null&&ne!==null&&Dv(Q,ne,lt,Tt,!0)}}t:{if(B=z?pn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ht=Kp;else if(Hp(B))if(Qp)Ht=Vb;else{Ht=Db;var ct=Cb}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Da(z.elementType)&&(Ht=Kp):Ht=Nb;if(Ht&&(Ht=Ht(e,z))){Gp(Q,Ht,a,G);break t}ct&&ct(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&ll(B,"number",B.value)}switch(ct=z?pn(z):window,e){case"focusin":(Hp(ct)||ct.contentEditable==="true")&&(Ua=ct,Wf=z,Tl=null);break;case"focusout":Tl=Wf=Ua=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,ey(Q,a,G);break;case"selectionchange":if(xb)break;case"keydown":case"keyup":ey(Q,a,G)}var Vt;if(Kt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ka?Ds(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(wi&&a.locale!=="ko"&&(ka||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ka&&(Vt=dl()):(Ai=G,fl="value"in Ai?Ai.value:Ai.textContent,ka=!0)),ct=hh(z,Ut),0<ct.length&&(Ut=new Ii(Ut,e,null,a,G),Q.push({event:Ut,listeners:ct}),Vt?Ut.data=Vt:(Vt=Pa(a),Vt!==null&&(Ut.data=Vt)))),(Vt=Mn?bb(e,a):Ib(e,a))&&(Ut=hh(z,"onBeforeInput"),0<Ut.length&&(ct=new Ii("onBeforeInput","beforeinput",null,a,G),Q.push({event:ct,listeners:Ut}),ct.data=Vt)),p1(Q,e,z,a,G)}Rv(Q,i)})}function Gl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function hh(e,i){for(var a=i+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Zn(e,a),f!=null&&l.unshift(Gl(e,f,d)),f=Zn(e,i),f!=null&&l.push(Gl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function T1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dv(e,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var E=a,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||z===null||(N=z,f?(z=Zn(a,d),z!=null&&_.unshift(Gl(a,z,N))):f||(z=Zn(a,d),z!=null&&_.push(Gl(a,z,N)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var E1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function Nv(e){return(typeof e=="string"?e:""+e).replace(E1,`
`).replace(A1,"")}function Vv(e,i){return i=Nv(i),Nv(e)===i}function ee(e,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&un(e,""+l);break;case"className":yn(e,"class",l);break;case"tabIndex":yn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,l);break;case"style":cl(e,l,d);break;case"data":if(i!=="object"){yn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Na(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ee(e,i,"name",f.name,f,null),ee(e,i,"formEncType",f.formEncType,f,null),ee(e,i,"formMethod",f.formMethod,f,null),ee(e,i,"formTarget",f.formTarget,f,null)):(ee(e,i,"encType",f.encType,f,null),ee(e,i,"method",f.method,f,null),ee(e,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Na(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),Ra(e,"popover",l);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hc.get(a)||a,Ra(e,a,l))}}function Im(e,i,a,l,f,d){switch(a){case"style":cl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=e[ze]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ra(e,a,l)}}}function Xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ee(e,i,d,_,a,null)}}f&&ee(e,i,"srcSet",a.srcSet,a,null),l&&ee(e,i,"src",a.src,a,null);return;case"input":Pt("invalid",e);var E=d=_=f=null,N=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":f=G;break;case"type":_=G;break;case"checked":N=G;break;case"defaultChecked":z=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:ee(e,i,l,G,a,null)}}lc(e,d,E,N,z,_,f,!1);return;case"select":Pt("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:ee(e,i,f,E,a,null)}i=d,a=_,e.multiple=!!l,i!=null?yr(e,!!l,i,!1):a!=null&&yr(e,!!l,a,!0);return;case"textarea":Pt("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":f=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ee(e,i,_,E,a,null)}_r(e,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(e,i,N,l,a,null)}return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Pt(Hl[l],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ee(e,i,z,l,a,null)}return;default:if(Da(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Im(e,i,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ee(e,i,E,l,a,null))}function S1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,E=null,N=null,z=null,G=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=Q;default:l.hasOwnProperty(H)||ee(e,i,H,null,l,Q)}}for(var B in l){var H=l[B];if(Q=a[B],l.hasOwnProperty(B)&&(H!=null||Q!=null))switch(B){case"type":d=H;break;case"name":f=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Q&&ee(e,i,B,H,l,Q)}}Ca(e,_,E,N,z,G,d,f);return;case"select":H=_=E=B=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(d)||ee(e,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==N&&ee(e,i,f,d,l,N)}i=E,a=_,l=H,B!=null?yr(e,!!a,B,!1):!!l!=!!a&&(i!=null?yr(e,!!a,i,!0):yr(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(e,i,E,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":B=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ee(e,i,_,f,l,d)}uc(e,B,H);return;case"option":for(var lt in a)if(B=a[lt],a.hasOwnProperty(lt)&&B!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:ee(e,i,lt,null,l,B)}for(N in l)if(B=l[N],H=a[N],l.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null))switch(N){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ee(e,i,N,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)B=a[Tt],a.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt)&&ee(e,i,Tt,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:ee(e,i,z,B,l,H)}return;default:if(Da(i)){for(var ne in a)B=a[ne],a.hasOwnProperty(ne)&&B!==void 0&&!l.hasOwnProperty(ne)&&Im(e,i,ne,void 0,l,B);for(G in l)B=l[G],H=a[G],!l.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Im(e,i,G,B,l,H);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&ee(e,i,P,null,l,B);for(Q in l)B=l[Q],H=a[Q],!l.hasOwnProperty(Q)||B===H||B==null&&H==null||ee(e,i,Q,B,l,H)}function Ov(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,E=f.duration;if(d&&E&&Ov(_)){for(_=0,E=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],z=N.startTime;if(z>E)break;var G=N.transferSize,Q=N.initiatorType;G&&Ov(Q)&&(N=N.responseEnd,_+=G*(N<E?1:(E-z)/(N-z)))}if(--l,i+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wm=null,Rm=null;function fh(e){return e.nodeType===9?e:e.ownerDocument}function xv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Cm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dm=null;function I1(){var e=window.event;return e&&e.type==="popstate"?e===Dm?!1:(Dm=e,!0):(Dm=null,!1)}var Pv=typeof setTimeout=="function"?setTimeout:void 0,w1=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,R1=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(e){return kv.resolve(null).then(e).catch(C1)}:Pv;function C1(e){setTimeout(function(){throw e})}function jr(e){return e==="head"}function Uv(e,i){var a=i,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),co(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Kl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Kl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,E=d.nodeName;d[gi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Kl(e.ownerDocument.body);a=f}while(a);co(i)}function Lv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Nm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nm(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function D1(e,i,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[gi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function N1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function zv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=jn(e.nextSibling),e===null))return null;return e}function Vm(e){return e.data==="$?"||e.data==="$~"}function Om(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function V1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var xm=null;function Bv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return jn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function jv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function qv(e,i,a){switch(i=fh(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Kl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);wa(e)}var qn=new Map,Fv=new Set;function dh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ir=et.d;et.d={f:O1,r:x1,D:M1,C:P1,L:k1,m:U1,X:z1,S:L1,M:B1};function O1(){var e=ir.f(),i=rh();return e||i}function x1(e){var i=Vn(e);i!==null&&i.tag===5&&i.type==="form"?a_(i):ir.r(e)}var oo=typeof document>"u"?null:document;function Hv(e,i,a){var l=oo;if(l&&typeof i=="string"&&i){var f=ln(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Fv.has(f)||(Fv.add(f),e={rel:e,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Xe(i,"link",e),Ie(i),l.head.appendChild(i)))}}function M1(e){ir.D(e),Hv("dns-prefetch",e,null)}function P1(e,i){ir.C(e,i),Hv("preconnect",e,i)}function k1(e,i,a){ir.L(e,i,a);var l=oo;if(l&&e&&i){var f='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ln(a.imageSizes)+'"]')):f+='[href="'+ln(e)+'"]';var d=f;switch(i){case"style":d=lo(e);break;case"script":d=uo(e)}qn.has(d)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),qn.set(d,e),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ql(d))||i==="script"&&l.querySelector(Yl(d))||(i=l.createElement("link"),Xe(i,"link",e),Ie(i),l.head.appendChild(i)))}}function U1(e,i){ir.m(e,i);var a=oo;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(e)}if(!qn.has(d)&&(e=A({rel:"modulepreload",href:e},i),qn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(d)))return}l=a.createElement("link"),Xe(l,"link",e),Ie(l),a.head.appendChild(l)}}}function L1(e,i,a){ir.S(e,i,a);var l=oo;if(l&&e){var f=yi(l).hoistableStyles,d=lo(e);i=i||"default";var _=f.get(d);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Ql(d)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=qn.get(d))&&Mm(e,a);var N=_=l.createElement("link");Ie(N),Xe(N,"link",e),N._p=new Promise(function(z,G){N.onload=z,N.onerror=G}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:E},f.set(d,_)}}}function z1(e,i){ir.X(e,i);var a=oo;if(a&&e){var l=yi(a).hoistableScripts,f=uo(e),d=l.get(f);d||(d=a.querySelector(Yl(f)),d||(e=A({src:e,async:!0},i),(i=qn.get(f))&&Pm(e,i),d=a.createElement("script"),Ie(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function B1(e,i){ir.M(e,i);var a=oo;if(a&&e){var l=yi(a).hoistableScripts,f=uo(e),d=l.get(f);d||(d=a.querySelector(Yl(f)),d||(e=A({src:e,async:!0,type:"module"},i),(i=qn.get(f))&&Pm(e,i),d=a.createElement("script"),Ie(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Gv(e,i,a,l){var f=(f=Nt.current)?dh(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=lo(a.href),a=yi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=lo(a.href);var d=yi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Ql(e)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(e,a),d||j1(f,e,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=uo(a),a=yi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function lo(e){return'href="'+ln(e)+'"'}function Ql(e){return'link[rel="stylesheet"]['+e+"]"}function Kv(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function j1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xe(i,"link",a),Ie(i),e.head.appendChild(i))}function uo(e){return'[src="'+ln(e)+'"]'}function Yl(e){return"script[async]"+e}function Qv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,Ie(l),l;var f=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ie(l),Xe(l,"style",f),mh(l,a.precedence,e),i.instance=l;case"stylesheet":f=lo(a.href);var d=e.querySelector(Ql(f));if(d)return i.state.loading|=4,i.instance=d,Ie(d),d;l=Kv(a),(f=qn.get(f))&&Mm(l,f),d=(e.ownerDocument||e).createElement("link"),Ie(d);var _=d;return _._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),Xe(d,"link",l),i.state.loading|=4,mh(d,a.precedence,e),i.instance=d;case"script":return d=uo(a.src),(f=e.querySelector(Yl(d)))?(i.instance=f,Ie(f),f):(l=a,(f=qn.get(d))&&(l=A({},a),Pm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ie(f),Xe(f,"link",l),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,mh(l,a.precedence,e));return i.instance}function mh(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===i)d=E;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Mm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Pm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var gh=null;function Yv(e,i,a){if(gh===null){var l=new Map,f=gh=new Map;f.set(a,l)}else f=gh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[gi]||d[be]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var E=l.get(_);E?E.push(d):l.set(_,[d])}}return l}function Xv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function q1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Jv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function F1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=lo(l.href),d=i.querySelector(Ql(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=ph.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ie(d);return}d=i.ownerDocument||i,l=Kv(l),(f=qn.get(f))&&Mm(l,f),d=d.createElement("link"),Ie(d);var _=d;_._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),Xe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ph.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var km=0;function H1(e,i){return e.stylesheets&&e.count===0&&_h(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&_h(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&km===0&&(km=62500*b1());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_h(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>km?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_h(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yh=null;function _h(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yh=new Map,i.forEach(G1,e),yh=null,ph.call(e))}function G1(e,i){if(!(i.state.loading&4)){var a=yh.get(e);if(a)var l=a.get(null);else{a=new Map,yh.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=ph.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var Xl={$$typeof:st,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function K1(e,i,a,l,f,d,_,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function $v(e,i,a,l,f,d,_,E,N,z,G,Q){return e=new K1(e,i,a,_,N,z,G,Q,E),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),e.current=d,d.stateNode=e,i=gd(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},vd(d),e}function Zv(e){return e?(e=Ba,e):Ba}function Wv(e,i,a,l,f,d){f=Zv(f),l.context===null?l.context=f:l.pendingContext=f,l=Nr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vr(e,l,i),a!==null&&(mn(a,e,i),Rl(a,e,i))}function tT(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Um(e,i){tT(e,i),(e=e.alternate)&&tT(e,i)}function eT(e){if(e.tag===13||e.tag===31){var i=Os(e,67108864);i!==null&&mn(i,e,67108864),Um(e,67108864)}}function nT(e){if(e.tag===13||e.tag===31){var i=bn();i=Ts(i);var a=Os(e,i);a!==null&&mn(a,e,i),Um(e,i)}}var vh=!0;function Q1(e,i,a,l){var f=q.T;q.T=null;var d=et.p;try{et.p=2,Lm(e,i,a,l)}finally{et.p=d,q.T=f}}function Y1(e,i,a,l){var f=q.T;q.T=null;var d=et.p;try{et.p=8,Lm(e,i,a,l)}finally{et.p=d,q.T=f}}function Lm(e,i,a,l){if(vh){var f=zm(l);if(f===null)bm(e,i,l,Th,a),rT(e,l);else if(J1(f,e,i,a,l))l.stopPropagation();else if(rT(e,l),i&4&&-1<X1.indexOf(e)){for(;f!==null;){var d=Vn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hi(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var N=1<<31-_e(_);E.entanglements[1]|=N,_&=~N}Ni(d),(Qt&6)===0&&(nh=nn()+500,Fl(0))}}break;case 31:case 13:E=Os(d,2),E!==null&&mn(E,d,2),rh(),Um(d,2)}if(d=zm(l),d===null&&bm(e,i,l,Th,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else bm(e,i,l,null,a)}}function zm(e){return e=On(e),Bm(e)}var Th=null;function Bm(e){if(Th=null,e=pi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=c(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Th=e,null}function iT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ps()){case Zo:return 2;case Wo:return 8;case gr:case Kf:return 32;case Zu:return 268435456;default:return 32}default:return 32}}var jm=!1,qr=null,Fr=null,Hr=null,Jl=new Map,$l=new Map,Gr=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rT(e,i){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Zl(e,i,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Vn(i),i!==null&&eT(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function J1(e,i,a,l,f){switch(i){case"focusin":return qr=Zl(qr,e,i,a,l,f),!0;case"dragenter":return Fr=Zl(Fr,e,i,a,l,f),!0;case"mouseover":return Hr=Zl(Hr,e,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Jl.set(d,Zl(Jl.get(d)||null,e,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,$l.set(d,Zl($l.get(d)||null,e,i,a,l,f)),!0}return!1}function sT(e){var i=pi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){e.blockedOn=i,Xn(e.priority,function(){nT(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Xn(e.priority,function(){nT(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=zm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);hl=l,a.target.dispatchEvent(l),hl=null}else return i=Vn(a),i!==null&&eT(i),e.blockedOn=a,!1;i.shift()}return!0}function aT(e,i,a){Eh(e)&&a.delete(i)}function $1(){jm=!1,qr!==null&&Eh(qr)&&(qr=null),Fr!==null&&Eh(Fr)&&(Fr=null),Hr!==null&&Eh(Hr)&&(Hr=null),Jl.forEach(aT),$l.forEach(aT)}function Ah(e,i){e.blockedOn===i&&(e.blockedOn=null,jm||(jm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$1)))}var Sh=null;function oT(e){Sh!==e&&(Sh=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sh===e&&(Sh=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],f=e[i+2];if(typeof l!="function"){if(Bm(l||a)===null)continue;break}var d=Vn(a);d!==null&&(e.splice(i,3),i-=3,zd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function co(e){function i(N){return Ah(N,e)}qr!==null&&Ah(qr,e),Fr!==null&&Ah(Fr,e),Hr!==null&&Ah(Hr,e),Jl.forEach(i),$l.forEach(i);for(var a=0;a<Gr.length;a++){var l=Gr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Gr.length&&(a=Gr[0],a.blockedOn===null);)sT(a),a.blockedOn===null&&Gr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[ze]||null;if(typeof d=="function")_||oT(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[ze]||null)E=_.formAction;else if(Bm(f)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),oT(a)}}}function lT(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function qm(e){this._internalRoot=e}bh.prototype.render=qm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=bn();Wv(a,l,e,i,null,null)},bh.prototype.unmount=qm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Wv(e.current,2,null,e,null,null),rh(),i[mi]=null}};function bh(e){this._internalRoot=e}bh.prototype.unstable_scheduleHydration=function(e){if(e){var i=rc();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Gr.length&&i!==0&&i<Gr[a].priority;a++);Gr.splice(a,0,e),a===0&&sT(e)}};var uT=t.version;if(uT!=="19.2.1")throw Error(r(527,uT,"19.2.1"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Z1={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{Qn=Ih.inject(Z1),He=Ih}catch{}}return tu.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",f=p_,d=y_,_=__;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=$v(e,1,!1,null,null,a,l,null,f,d,_,lT),e[mi]=i.current,Sm(e),new qm(i)},tu.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,f="",d=p_,_=y_,E=__,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=$v(e,1,!0,i,a??null,l,f,N,d,_,E,lT),i.context=Zv(null),a=i.current,l=bn(),l=Ts(l),f=Nr(l),f.callback=null,Vr(a,f,l),a=l,i.current.lanes=a,_s(i,a),Ni(i),e[mi]=i.current,Sm(e),new bh(i)},tu.version="19.2.1",tu}var vT;function lI(){if(vT)return Gm.exports;vT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gm.exports=oI(),Gm.exports}var uI=lI();const cI=()=>{};var TT={};const y0=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},hI=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],c=s[n++],m=s[n++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],c=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],c=o+1<s.length,m=c?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,T=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,j=y&63;g||(j=64,c||(R=64)),r.push(n[T],n[A],n[R],n[j])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(y0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):hI(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const A=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new fI;const R=u<<2|m>>4;if(r.push(R),y!==64){const j=m<<4&240|y>>2;if(r.push(j),A!==64){const J=y<<6&192|A;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class fI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dI=function(s){const t=y0(s);return _0.encodeByteArray(t,!0)},Jh=function(s){return dI(s).replace(/\./g,"")},v0=function(s){try{return _0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function T0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mI=()=>T0().__FIREBASE_DEFAULTS__,gI=()=>{if(typeof process>"u"||typeof TT>"u")return;const s=TT.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},pI=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&v0(s[1]);return t&&JSON.parse(t)},Af=()=>{try{return cI()||mI()||gI()||pI()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},E0=s=>Af()?.emulatorHosts?.[s],yI=s=>{const t=E0(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},A0=()=>Af()?.config,S0=s=>Af()?.[`_${s}`];class _I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function Fo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b0(s){return(await fetch(s,{credentials:"include"})).ok}function vI(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Jh(JSON.stringify(n)),Jh(JSON.stringify(c)),""].join(".")}const fu={};function TI(){const s={prod:[],emulator:[]};for(const t of Object.keys(fu))fu[t]?s.emulator.push(t):s.prod.push(t);return s}function EI(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let ET=!1;function I0(s,t){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||fu[s]===t||fu[s]||ET)return;fu[s]=t;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=TI().prod.length>0;function c(){const R=document.getElementById(r);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,j){R.setAttribute("width","24"),R.setAttribute("id",j),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{ET=!0,c()},R}function T(R,j){R.setAttribute("id",j),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=EI(r),j=n("text"),J=document.getElementById(j)||document.createElement("span"),W=n("learnmore"),Z=document.getElementById(W)||document.createElement("a"),ht=n("preprendIcon"),ft=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const st=R.element;m(st),T(Z,W);const Rt=y();g(ft,ht),st.append(ft,J,Z,Rt),document.body.appendChild(st)}u?(J.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Ue(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function w0(){const s=Af()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bI(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function II(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wI(){const s=Ue();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function R0(){return!w0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C0(){return!w0()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function D0(){try{return typeof indexedDB=="object"}catch{return!1}}function RI(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const CI="FirebaseError";class fr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=CI,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?DI(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new fr(o,m,r)}}function DI(s,t){return s.replace(NI,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const NI=/\{\$([^}]+)}/g;function VI(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function oa(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],c=t[o];if(AT(u)&&AT(c)){if(!oa(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function AT(s){return s!==null&&typeof s=="object"}function zu(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function OI(s,t){const n=new xI(s,t);return n.subscribe.bind(n)}class xI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MI(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Xm),o.error===void 0&&(o.error=Xm),o.complete===void 0&&(o.complete=Xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MI(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Xm(){}function Cn(s){return s&&s._delegate?s._delegate:s}class la{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ks="[DEFAULT]";class PI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new _I;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(UI(t))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ks){return this.instances.has(t)}getOptions(t=Ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ks){return this.component?this.component.multipleInstances?t:Ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kI(s){return s===Ks?void 0:s}function UI(s){return s.instantiationMode==="EAGER"}class LI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new PI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const zI={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},BI=Lt.INFO,jI={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},qI=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=jI[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Gg{constructor(t){this.name=t,this._logLevel=BI,this._logHandler=qI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const FI=(s,t)=>t.some(n=>s instanceof n);let ST,bT;function HI(){return ST||(ST=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GI(){return bT||(bT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N0=new WeakMap,hg=new WeakMap,V0=new WeakMap,Jm=new WeakMap,Kg=new WeakMap;function KI(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",c)},u=()=>{n(ns(s.result)),o()},c=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&N0.set(n,s)}).catch(()=>{}),Kg.set(t,s),t}function QI(s){if(hg.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",c),s.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",c),s.addEventListener("abort",c)});hg.set(s,t)}let fg={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return hg.get(s);if(t==="objectStoreNames")return s.objectStoreNames||V0.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function YI(s){fg=s(fg)}function XI(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call($m(this),t,...n);return V0.set(r,t.sort?t.sort():[t]),ns(r)}:GI().includes(s)?function(...t){return s.apply($m(this),t),ns(N0.get(this))}:function(...t){return ns(s.apply($m(this),t))}}function JI(s){return typeof s=="function"?XI(s):(s instanceof IDBTransaction&&QI(s),FI(s,HI())?new Proxy(s,fg):s)}function ns(s){if(s instanceof IDBRequest)return KI(s);if(Jm.has(s))return Jm.get(s);const t=JI(s);return t!==s&&(Jm.set(s,t),Kg.set(t,s)),t}const $m=s=>Kg.get(s);function $I(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(s,t),m=ns(c);return r&&c.addEventListener("upgradeneeded",g=>{r(ns(c.result),g.oldVersion,g.newVersion,ns(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ZI=["get","getKey","getAll","getAllKeys","count"],WI=["put","add","delete","clear"],Zm=new Map;function IT(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Zm.get(t))return Zm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=WI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ZI.includes(n)))return;const u=async function(c,...m){const g=this.transaction(c,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Zm.set(t,u),u}YI(s=>({...s,get:(t,n,r)=>IT(t,n)||s.get(t,n,r),has:(t,n)=>!!IT(t,n)||s.has(t,n)}));class tw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ew(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ew(s){return s.getComponent()?.type==="VERSION"}const dg="@firebase/app",wT="0.14.6";const lr=new Gg("@firebase/app"),nw="@firebase/app-compat",iw="@firebase/analytics-compat",rw="@firebase/analytics",sw="@firebase/app-check-compat",aw="@firebase/app-check",ow="@firebase/auth",lw="@firebase/auth-compat",uw="@firebase/database",cw="@firebase/data-connect",hw="@firebase/database-compat",fw="@firebase/functions",dw="@firebase/functions-compat",mw="@firebase/installations",gw="@firebase/installations-compat",pw="@firebase/messaging",yw="@firebase/messaging-compat",_w="@firebase/performance",vw="@firebase/performance-compat",Tw="@firebase/remote-config",Ew="@firebase/remote-config-compat",Aw="@firebase/storage",Sw="@firebase/storage-compat",bw="@firebase/firestore",Iw="@firebase/ai",ww="@firebase/firestore-compat",Rw="firebase",Cw="12.6.0";const mg="[DEFAULT]",Dw={[dg]:"fire-core",[nw]:"fire-core-compat",[rw]:"fire-analytics",[iw]:"fire-analytics-compat",[aw]:"fire-app-check",[sw]:"fire-app-check-compat",[ow]:"fire-auth",[lw]:"fire-auth-compat",[uw]:"fire-rtdb",[cw]:"fire-data-connect",[hw]:"fire-rtdb-compat",[fw]:"fire-fn",[dw]:"fire-fn-compat",[mw]:"fire-iid",[gw]:"fire-iid-compat",[pw]:"fire-fcm",[yw]:"fire-fcm-compat",[_w]:"fire-perf",[vw]:"fire-perf-compat",[Tw]:"fire-rc",[Ew]:"fire-rc-compat",[Aw]:"fire-gcs",[Sw]:"fire-gcs-compat",[bw]:"fire-fst",[ww]:"fire-fst-compat",[Iw]:"fire-vertex","fire-js":"fire-js",[Rw]:"fire-js-all"};const $h=new Map,Nw=new Map,gg=new Map;function RT(s,t){try{s.container.addComponent(t)}catch(n){lr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Co(s){const t=s.name;if(gg.has(t))return lr.debug(`There were multiple attempts to register component ${t}.`),!1;gg.set(t,s);for(const n of $h.values())RT(n,s);for(const n of Nw.values())RT(n,s);return!0}function Qg(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function ai(s){return s==null?!1:s.settings!==void 0}const Vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new Lu("app","Firebase",Vw);class Ow{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const Ho=Cw;function O0(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:mg,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=A0()),!n)throw is.create("no-options");const u=$h.get(o);if(u){if(oa(n,u.options)&&oa(r,u.config))return u;throw is.create("duplicate-app",{appName:o})}const c=new LI(o);for(const g of gg.values())c.addComponent(g);const m=new Ow(n,r,c);return $h.set(o,m),m}function x0(s=mg){const t=$h.get(s);if(!t&&s===mg&&A0())return O0();if(!t)throw is.create("no-app",{appName:s});return t}function rs(s,t,n){let r=Dw[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),lr.warn(c.join(" "));return}Co(new la(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const xw="firebase-heartbeat-database",Mw=1,Au="firebase-heartbeat-store";let Wm=null;function M0(){return Wm||(Wm=$I(xw,Mw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Au)}catch(n){console.warn(n)}}}}).catch(s=>{throw is.create("idb-open",{originalErrorMessage:s.message})})),Wm}async function Pw(s){try{const n=(await M0()).transaction(Au),r=await n.objectStore(Au).get(P0(s));return await n.done,r}catch(t){if(t instanceof fr)lr.warn(t.message);else{const n=is.create("idb-get",{originalErrorMessage:t?.message});lr.warn(n.message)}}}async function CT(s,t){try{const r=(await M0()).transaction(Au,"readwrite");await r.objectStore(Au).put(t,P0(s)),await r.done}catch(n){if(n instanceof fr)lr.warn(n.message);else{const r=is.create("idb-set",{originalErrorMessage:n?.message});lr.warn(r.message)}}}function P0(s){return`${s.name}!${s.options.appId}`}const kw=1024,Uw=30;class Lw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=DT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Uw){const o=jw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){lr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=DT(),{heartbeatsToSend:n,unsentEntries:r}=zw(this._heartbeatsCache.heartbeats),o=Jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return lr.warn(t),""}}}function DT(){return new Date().toISOString().substring(0,10)}function zw(s,t=kw){const n=[];let r=s.slice();for(const o of s){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),NT(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),NT(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Bw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D0()?RI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Pw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return CT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return CT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function NT(s){return Jh(JSON.stringify({version:2,heartbeats:s})).length}function jw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function qw(s){Co(new la("platform-logger",t=>new tw(t),"PRIVATE")),Co(new la("heartbeat",t=>new Lw(t),"PRIVATE")),rs(dg,wT,s),rs(dg,wT,"esm2020"),rs("fire-js","")}qw("");function k0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fw=k0,U0=new Lu("auth","Firebase",k0());const Zh=new Gg("@firebase/auth");function Hw(s,...t){Zh.logLevel<=Lt.WARN&&Zh.warn(`Auth (${Ho}): ${s}`,...t)}function Mh(s,...t){Zh.logLevel<=Lt.ERROR&&Zh.error(`Auth (${Ho}): ${s}`,...t)}function Ui(s,...t){throw Xg(s,...t)}function li(s,...t){return Xg(s,...t)}function Yg(s,t,n){const r={...Fw(),[t]:n};return new Lu("auth","Firebase",r).create(t,{appName:s.name})}function ea(s){return Yg(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gw(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ui(s,"argument-error"),Yg(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xg(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return U0.create(s,...t)}function Et(s,t,...n){if(!s)throw Xg(t,...n)}function sr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Mh(t),new Error(t)}function ur(s,t){s||sr(t)}function pg(){return typeof self<"u"&&self.location?.href||""}function Kw(){return VT()==="http:"||VT()==="https:"}function VT(){return typeof self<"u"&&self.location?.protocol||null}function Qw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kw()||bI()||"connection"in navigator)?navigator.onLine:!0}function Yw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Bu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ur(n>t,"Short delay should be less than long delay!"),this.isMobile=AI()||II()}get(){return Qw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jg(s,t){ur(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class L0{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Jw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$w=new Bu(3e4,6e4);function $g(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Go(s,t,n,r,o={}){return z0(s,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=zu({key:s.config.apiKey,...c}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:g,...u};return SI()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Fo(s.emulatorConfig.host)&&(y.credentials="include"),L0.fetch()(await B0(s,s.config.apiHost,n,m),y)})}async function z0(s,t,n){s._canInitEmulator=!1;const r={...Xw,...t};try{const o=new Ww(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw wh(s,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(s,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw wh(s,"email-already-in-use",c);if(g==="USER_DISABLED")throw wh(s,"user-disabled",c);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Yg(s,T,y);Ui(s,T)}}catch(o){if(o instanceof fr)throw o;Ui(s,"network-request-failed",{message:String(o)})}}async function Zw(s,t,n,r,o={}){const u=await Go(s,t,n,r,o);return"mfaPendingCredential"in u&&Ui(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function B0(s,t,n,r){const o=`${t}${n}?${r}`,u=s,c=u.config.emulator?Jg(s.config,o):`${s.config.apiScheme}://${o}`;return Jw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class Ww{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),$w.get())})}}function wh(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=li(s,t,r);return o.customData._tokenResponse=n,o}async function tR(s,t){return Go(s,"POST","/v1/accounts:delete",t)}async function Wh(s,t){return Go(s,"POST","/v1/accounts:lookup",t)}function du(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eR(s,t=!1){const n=Cn(s),r=await n.getIdToken(t),o=Zg(r);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:du(tg(o.auth_time)),issuedAtTime:du(tg(o.iat)),expirationTime:du(tg(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function tg(s){return Number(s)*1e3}function Zg(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=v0(n);return o?JSON.parse(o):(Mh("Failed to decode base64 JWT payload"),null)}catch(o){return Mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function OT(s){const t=Zg(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Su(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof fr&&nR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function nR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class iR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class yg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tf(s){const t=s.auth,n=await s.getIdToken(),r=await Su(s,Wh(t,{idToken:n}));Et(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?j0(o.providerUserInfo):[],c=sR(s.providerData,u),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!c?.length,y=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new yg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function rR(s){const t=Cn(s);await tf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sR(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function j0(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function aR(s,t){const n=await z0(s,{},async()=>{const r=zu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,c=await B0(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&Fo(s.emulatorConfig.host)&&(g.credentials="include"),L0.fetch()(c,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oR(s,t){return Go(s,"POST","/v2/accounts:revokeToken",$g(s,t))}class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):OT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=OT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await aR(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new So;return r&&(Et(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Et(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Qr(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class oi{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new iR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Su(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return eR(this,t)}reload(){return rR(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new oi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(ea(this.auth));const t=await this.getIdToken();return await Su(this,tR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:j,providerData:J,stsTokenManager:W}=n;Et(A&&W,t,"internal-error");const Z=So.fromJSON(this.name,W);Et(typeof A=="string",t,"internal-error"),Qr(r,t.name),Qr(o,t.name),Et(typeof R=="boolean",t,"internal-error"),Et(typeof j=="boolean",t,"internal-error"),Qr(u,t.name),Qr(c,t.name),Qr(m,t.name),Qr(g,t.name),Qr(y,t.name),Qr(T,t.name);const ht=new oi({uid:A,auth:t,email:o,emailVerified:R,displayName:r,isAnonymous:j,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:Z,createdAt:y,lastLoginAt:T});return J&&Array.isArray(J)&&(ht.providerData=J.map(ft=>({...ft}))),g&&(ht._redirectEventId=g),ht}static async _fromIdTokenResponse(t,n,r=!1){const o=new So;o.updateFromServerResponse(n);const u=new oi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await tf(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?j0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new So;m.updateFromIdToken(r);const g=new oi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new yg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const xT=new Map;function ar(s){ur(s instanceof Function,"Expected a class definition");let t=xT.get(s);return t?(ur(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,xT.set(s,t),t)}class q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}q0.type="NONE";const MT=q0;function Ph(s,t,n){return`firebase:${s}:${t}:${n}`}class bo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Wh(this.auth,{idToken:t}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new bo(ar(MT),t,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ar(MT);const c=Ph(r,t.config.apiKey,t.name);let m=null;for(const y of n)try{const T=await y._get(c);if(T){let A;if(typeof T=="string"){const R=await Wh(t,{idToken:T}).catch(()=>{});if(!R)break;A=await oi._fromGetAccountInfoResponse(t,R,T)}else A=oi._fromJSON(t,T);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new bo(u,t,r):(u=g[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(c)}catch{}})),new bo(u,t,r))}}function PT(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(K0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(F0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Y0(t))return"Blackberry";if(X0(t))return"Webos";if(H0(t))return"Safari";if((t.includes("chrome/")||G0(t))&&!t.includes("edge/"))return"Chrome";if(Q0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function F0(s=Ue()){return/firefox\//i.test(s)}function H0(s=Ue()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function G0(s=Ue()){return/crios\//i.test(s)}function K0(s=Ue()){return/iemobile/i.test(s)}function Q0(s=Ue()){return/android/i.test(s)}function Y0(s=Ue()){return/blackberry/i.test(s)}function X0(s=Ue()){return/webos/i.test(s)}function Wg(s=Ue()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function lR(s=Ue()){return Wg(s)&&!!window.navigator?.standalone}function uR(){return wI()&&document.documentMode===10}function J0(s=Ue()){return Wg(s)||Q0(s)||X0(s)||Y0(s)||/windows phone/i.test(s)||K0(s)}function $0(s,t=[]){let n;switch(s){case"Browser":n=PT(Ue());break;case"Worker":n=`${PT(Ue())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${r}`}class cR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((c,m)=>{try{const g=t(u);c(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function hR(s,t={}){return Go(s,"GET","/v2/passwordPolicy",$g(s,t))}const fR=6;class dR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class mR{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kT(this),this.idTokenSubscription=new kT(this),this.beforeStateQueue=new cR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Wh(this,{idToken:t}),r=await oi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ai(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await tf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Yw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(ea(this));const n=t?Cn(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hR(this),n=new dR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Lu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await oR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ar(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,r,o);return()=>{c=!0,g()}}else{const g=t.addObserver(n);return()=>{c=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Hw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Sf(s){return Cn(s)}class kT{constructor(t){this.auth=t,this.observer=null,this.addObserver=OI(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gR(s){tp=s}function pR(s){return tp.loadJS(s)}function yR(){return tp.gapiScript}function _R(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function vR(s,t){const n=Qg(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(oa(u,t??{}))return o;Ui(o,"already-initialized")}return n.initialize({options:t})}function TR(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ar);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function ER(s,t,n){const r=Sf(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=Z0(t),{host:c,port:m}=AR(t),g=m===null?"":`:${m}`,y={url:`${u}//${c}${g}/`},T=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(oa(y,r.config.emulator)&&oa(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Fo(c)?(b0(`${u}//${c}${g}`),I0("Auth",!0)):SR()}function Z0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function AR(s){const t=Z0(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:UT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:UT(c)}}}function UT(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function SR(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class W0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(t){return sr("not implemented")}_linkToIdToken(t,n){return sr("not implemented")}_getReauthenticationResolver(t){return sr("not implemented")}}async function Io(s,t){return Zw(s,"POST","/v1/accounts:signInWithIdp",$g(s,t))}const bR="http://localhost";class ua extends W0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const c=new ua(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Io(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Io(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Io(t,n)}buildRequest(){const t={requestUri:bR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zu(n)}return t}}class ep{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ju extends ep{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class $r extends ju{constructor(){super("facebook.com")}static credential(t){return ua._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $r.credential(t.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";class rr extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ua._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return rr.credential(n,r)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class Zr extends ju{constructor(){super("github.com")}static credential(t){return ua._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";class Wr extends ju{constructor(){super("twitter.com")}static credential(t,n){return ua._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";class Do{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await oi._fromIdTokenResponse(t,r,o),c=LT(r);return new Do({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=LT(r);return new Do({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function LT(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ef extends fr{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new ef(t,n,r,o)}}function tA(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(s,u,t,r):u})}async function IR(s,t,n=!1){const r=await Su(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Do._forOperation(s,"link",r)}async function wR(s,t,n=!1){const{auth:r}=s;if(ai(r.app))return Promise.reject(ea(r));const o="reauthenticate";try{const u=await Su(s,tA(r,o,t,s),n);Et(u.idToken,r,"internal-error");const c=Zg(u.idToken);Et(c,r,"internal-error");const{sub:m}=c;return Et(s.uid===m,r,"user-mismatch"),Do._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ui(r,"user-mismatch"),u}}async function RR(s,t,n=!1){if(ai(s.app))return Promise.reject(ea(s));const r="signIn",o=await tA(s,r,t),u=await Do._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function CR(s,t,n,r){return Cn(s).onIdTokenChanged(t,n,r)}function DR(s,t,n){return Cn(s).beforeAuthStateChanged(t,n)}function NR(s,t,n,r){return Cn(s).onAuthStateChanged(t,n,r)}function VR(s){return Cn(s).signOut()}const nf="__sak";class eA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const OR=1e3,xR=10;class nA extends eA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,m,g)=>{this.notifyListeners(c,g)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);uR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,xR):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}nA.type="LOCAL";const MR=nA;class iA extends eA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}iA.type="SESSION";const rA=iA;function PR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class bf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new bf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async y=>y(n.origin,u)),g=await PR(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];function np(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class kR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,g)=>{const y=np("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Mi(){return window}function UR(s){Mi().location.href=s}function sA(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function LR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zR(){return navigator?.serviceWorker?.controller||null}function BR(){return sA()?self:null}const aA="firebaseLocalStorageDb",jR=1,rf="firebaseLocalStorage",oA="fbase_key";class qu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function If(s,t){return s.transaction([rf],t?"readwrite":"readonly").objectStore(rf)}function qR(){const s=indexedDB.deleteDatabase(aA);return new qu(s).toPromise()}function _g(){const s=indexedDB.open(aA,jR);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(rf,{keyPath:oA})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(rf)?t(r):(r.close(),await qR(),t(await _g()))})})}async function zT(s,t,n){const r=If(s,!0).put({[oA]:t,value:n});return new qu(r).toPromise()}async function FR(s,t){const n=If(s,!1).get(t),r=await new qu(n).toPromise();return r===void 0?null:r.value}function BT(s,t){const n=If(s,!0).delete(t);return new qu(n).toPromise()}const HR=800,GR=3;class lA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _g(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>GR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(BR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LR(),!this.activeServiceWorker)return;this.sender=new kR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _g();return await zT(t,nf,"1"),await BT(t,nf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zT(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>FR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>BT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=If(o,!1).getAll();return new qu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lA.type="LOCAL";const KR=lA;new Bu(3e4,6e4);function uA(s,t){return t?ar(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ip extends W0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Io(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Io(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Io(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function QR(s){return RR(s.auth,new ip(s),s.bypassAuthState)}function YR(s){const{auth:t,user:n}=s;return Et(n,t,"internal-error"),wR(n,new ip(s),s.bypassAuthState)}async function XR(s){const{auth:t,user:n}=s;return Et(n,t,"internal-error"),IR(n,new ip(s),s.bypassAuthState)}class cA{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return QR;case"linkViaPopup":case"linkViaRedirect":return XR;case"reauthViaPopup":case"reauthViaRedirect":return YR;default:Ui(this.auth,"internal-error")}}resolve(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JR=new Bu(2e3,1e4);async function $R(s,t,n){if(ai(s.app))return Promise.reject(li(s,"operation-not-supported-in-this-environment"));const r=Sf(s);Gw(s,t,ep);const o=uA(r,n);return new Ws(r,"signInViaPopup",t,o).executeNotNull()}class Ws extends cA{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const t=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,JR.get())};t()}}Ws.currentPopupAction=null;const ZR="pendingRedirect",kh=new Map;class WR extends cA{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=kh.get(this.auth._key());if(!t){try{const r=await tC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}kh.set(this.auth._key(),t)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tC(s,t){const n=iC(t),r=nC(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function eC(s,t){kh.set(s._key(),t)}function nC(s){return ar(s._redirectPersistence)}function iC(s){return Ph(ZR,s.config.apiKey,s.name)}async function rC(s,t,n=!1){if(ai(s.app))return Promise.reject(ea(s));const r=Sf(s),o=uA(r,t),c=await new WR(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const sC=600*1e3;class aC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!oC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!hA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(li(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sC&&this.cachedEventUids.clear(),this.cachedEventUids.has(jT(t))}saveEventToCache(t){this.cachedEventUids.add(jT(t)),this.lastProcessedEventTime=Date.now()}}function jT(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function hA({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function oC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hA(s);default:return!1}}async function lC(s,t={}){return Go(s,"GET","/v1/projects",t)}const uC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function hC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await lC(s);for(const n of t)try{if(fC(n))return}catch{}Ui(s,"unauthorized-domain")}function fC(s){const t=pg(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const c=new URL(s);return c.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!cC.test(n))return!1;if(uC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const dC=new Bu(3e4,6e4);function qT(){const s=Mi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function mC(s){return new Promise((t,n)=>{function r(){qT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qT(),n(li(s,"network-request-failed"))},timeout:dC.get()})}if(Mi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Mi().gapi?.load)r();else{const o=_R("iframefcb");return Mi()[o]=()=>{gapi.load?r():n(li(s,"network-request-failed"))},pR(`${yR()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Uh=null,t})}let Uh=null;function gC(s){return Uh=Uh||mC(s),Uh}const pC=new Bu(5e3,15e3),yC="__/auth/iframe",_C="emulator/auth/iframe",vC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EC(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Jg(t,_C):`https://${s.config.authDomain}/${yC}`,r={apiKey:t.apiKey,appName:s.name,v:Ho},o=TC.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${zu(r).slice(1)}`}async function AC(s){const t=await gC(s),n=Mi().gapi;return Et(n,s,"internal-error"),t.open({where:document.body,url:EC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vC,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=li(s,"network-request-failed"),m=Mi().setTimeout(()=>{u(c)},pC.get());function g(){Mi().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(c)})}))}const SC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bC=500,IC=600,wC="_blank",RC="http://localhost";class FT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CC(s,t,n,r=bC,o=IC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...SC,width:r.toString(),height:o.toString(),top:u,left:c},y=Ue().toLowerCase();n&&(m=G0(y)?wC:n),F0(y)&&(t=t||RC,g.scrollbars="yes");const T=Object.entries(g).reduce((R,[j,J])=>`${R}${j}=${J},`,"");if(lR(y)&&m!=="_self")return DC(t||"",m),new FT(null);const A=window.open(t||"",m,T);Et(A,s,"popup-blocked");try{A.focus()}catch{}return new FT(A)}function DC(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const NC="__/auth/handler",VC="emulator/auth/handler",OC=encodeURIComponent("fac");async function HT(s,t,n,r,o,u){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const c={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Ho,eventId:o};if(t instanceof ep){t.setDefaultLanguage(s.languageCode),c.providerId=t.providerId||"",VI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))c[T]=A}if(t instanceof ju){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(c.scopes=T.join(","))}s.tenantId&&(c.tid=s.tenantId);const m=c;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await s._getAppCheckToken(),y=g?`#${OC}=${encodeURIComponent(g)}`:"";return`${xC(s)}?${zu(m).slice(1)}${y}`}function xC({config:s}){return s.emulator?Jg(s,VC):`https://${s.authDomain}/${NC}`}const eg="webStorageSupport";class MC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rA,this._completeRedirectFn=rC,this._overrideRedirectResult=eC}async _openPopup(t,n,r,o){ur(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await HT(t,n,r,pg(),o);return CC(t,u,np())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await HT(t,n,r,pg(),o);return UR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await AC(t),r=new aC(t);return n.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(eg,{type:eg},o=>{const u=o?.[0]?.[eg];u!==void 0&&n(!!u),Ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return J0()||H0()||Wg()}}const PC=MC;var GT="@firebase/auth",KT="1.11.1";class kC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function UC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LC(s){Co(new la("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:c,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$0(s)},y=new mR(r,o,u,g);return TR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Co(new la("auth-internal",t=>{const n=Sf(t.getProvider("auth").getImmediate());return(r=>new kC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(GT,KT,UC(s)),rs(GT,KT,"esm2020")}const zC=300,BC=S0("authIdTokenMaxAge")||zC;let QT=null;const jC=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BC)return;const o=n?.token;QT!==o&&(QT=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qC(s=x0()){const t=Qg(s,"auth");if(t.isInitialized())return t.getImmediate();const n=vR(s,{popupRedirectResolver:PC,persistence:[KR,MR,rA]}),r=S0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=jC(u.toString());DR(n,c,()=>c(n.currentUser)),CR(n,m=>c(m))}}const o=E0("auth");return o&&ER(n,`http://${o}`),n}function FC(){return document.getElementsByTagName("head")?.[0]??document}gR({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=li("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",FC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LC("Browser");var YT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ss,fA;(function(){var s;function t(C,w){function D(){}D.prototype=w.prototype,C.F=w.prototype,C.prototype=new D,C.prototype.constructor=C,C.D=function(M,b,V){for(var I=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)I[pt-2]=arguments[pt];return w.prototype[b].apply(M,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,D){D||(D=0);const M=Array(16);if(typeof w=="string")for(var b=0;b<16;++b)M[b]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(b=0;b<16;++b)M[b]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=C.g[0],D=C.g[1],b=C.g[2];let V=C.g[3],I;I=w+(V^D&(b^V))+M[0]+3614090360&4294967295,w=D+(I<<7&4294967295|I>>>25),I=V+(b^w&(D^b))+M[1]+3905402710&4294967295,V=w+(I<<12&4294967295|I>>>20),I=b+(D^V&(w^D))+M[2]+606105819&4294967295,b=V+(I<<17&4294967295|I>>>15),I=D+(w^b&(V^w))+M[3]+3250441966&4294967295,D=b+(I<<22&4294967295|I>>>10),I=w+(V^D&(b^V))+M[4]+4118548399&4294967295,w=D+(I<<7&4294967295|I>>>25),I=V+(b^w&(D^b))+M[5]+1200080426&4294967295,V=w+(I<<12&4294967295|I>>>20),I=b+(D^V&(w^D))+M[6]+2821735955&4294967295,b=V+(I<<17&4294967295|I>>>15),I=D+(w^b&(V^w))+M[7]+4249261313&4294967295,D=b+(I<<22&4294967295|I>>>10),I=w+(V^D&(b^V))+M[8]+1770035416&4294967295,w=D+(I<<7&4294967295|I>>>25),I=V+(b^w&(D^b))+M[9]+2336552879&4294967295,V=w+(I<<12&4294967295|I>>>20),I=b+(D^V&(w^D))+M[10]+4294925233&4294967295,b=V+(I<<17&4294967295|I>>>15),I=D+(w^b&(V^w))+M[11]+2304563134&4294967295,D=b+(I<<22&4294967295|I>>>10),I=w+(V^D&(b^V))+M[12]+1804603682&4294967295,w=D+(I<<7&4294967295|I>>>25),I=V+(b^w&(D^b))+M[13]+4254626195&4294967295,V=w+(I<<12&4294967295|I>>>20),I=b+(D^V&(w^D))+M[14]+2792965006&4294967295,b=V+(I<<17&4294967295|I>>>15),I=D+(w^b&(V^w))+M[15]+1236535329&4294967295,D=b+(I<<22&4294967295|I>>>10),I=w+(b^V&(D^b))+M[1]+4129170786&4294967295,w=D+(I<<5&4294967295|I>>>27),I=V+(D^b&(w^D))+M[6]+3225465664&4294967295,V=w+(I<<9&4294967295|I>>>23),I=b+(w^D&(V^w))+M[11]+643717713&4294967295,b=V+(I<<14&4294967295|I>>>18),I=D+(V^w&(b^V))+M[0]+3921069994&4294967295,D=b+(I<<20&4294967295|I>>>12),I=w+(b^V&(D^b))+M[5]+3593408605&4294967295,w=D+(I<<5&4294967295|I>>>27),I=V+(D^b&(w^D))+M[10]+38016083&4294967295,V=w+(I<<9&4294967295|I>>>23),I=b+(w^D&(V^w))+M[15]+3634488961&4294967295,b=V+(I<<14&4294967295|I>>>18),I=D+(V^w&(b^V))+M[4]+3889429448&4294967295,D=b+(I<<20&4294967295|I>>>12),I=w+(b^V&(D^b))+M[9]+568446438&4294967295,w=D+(I<<5&4294967295|I>>>27),I=V+(D^b&(w^D))+M[14]+3275163606&4294967295,V=w+(I<<9&4294967295|I>>>23),I=b+(w^D&(V^w))+M[3]+4107603335&4294967295,b=V+(I<<14&4294967295|I>>>18),I=D+(V^w&(b^V))+M[8]+1163531501&4294967295,D=b+(I<<20&4294967295|I>>>12),I=w+(b^V&(D^b))+M[13]+2850285829&4294967295,w=D+(I<<5&4294967295|I>>>27),I=V+(D^b&(w^D))+M[2]+4243563512&4294967295,V=w+(I<<9&4294967295|I>>>23),I=b+(w^D&(V^w))+M[7]+1735328473&4294967295,b=V+(I<<14&4294967295|I>>>18),I=D+(V^w&(b^V))+M[12]+2368359562&4294967295,D=b+(I<<20&4294967295|I>>>12),I=w+(D^b^V)+M[5]+4294588738&4294967295,w=D+(I<<4&4294967295|I>>>28),I=V+(w^D^b)+M[8]+2272392833&4294967295,V=w+(I<<11&4294967295|I>>>21),I=b+(V^w^D)+M[11]+1839030562&4294967295,b=V+(I<<16&4294967295|I>>>16),I=D+(b^V^w)+M[14]+4259657740&4294967295,D=b+(I<<23&4294967295|I>>>9),I=w+(D^b^V)+M[1]+2763975236&4294967295,w=D+(I<<4&4294967295|I>>>28),I=V+(w^D^b)+M[4]+1272893353&4294967295,V=w+(I<<11&4294967295|I>>>21),I=b+(V^w^D)+M[7]+4139469664&4294967295,b=V+(I<<16&4294967295|I>>>16),I=D+(b^V^w)+M[10]+3200236656&4294967295,D=b+(I<<23&4294967295|I>>>9),I=w+(D^b^V)+M[13]+681279174&4294967295,w=D+(I<<4&4294967295|I>>>28),I=V+(w^D^b)+M[0]+3936430074&4294967295,V=w+(I<<11&4294967295|I>>>21),I=b+(V^w^D)+M[3]+3572445317&4294967295,b=V+(I<<16&4294967295|I>>>16),I=D+(b^V^w)+M[6]+76029189&4294967295,D=b+(I<<23&4294967295|I>>>9),I=w+(D^b^V)+M[9]+3654602809&4294967295,w=D+(I<<4&4294967295|I>>>28),I=V+(w^D^b)+M[12]+3873151461&4294967295,V=w+(I<<11&4294967295|I>>>21),I=b+(V^w^D)+M[15]+530742520&4294967295,b=V+(I<<16&4294967295|I>>>16),I=D+(b^V^w)+M[2]+3299628645&4294967295,D=b+(I<<23&4294967295|I>>>9),I=w+(b^(D|~V))+M[0]+4096336452&4294967295,w=D+(I<<6&4294967295|I>>>26),I=V+(D^(w|~b))+M[7]+1126891415&4294967295,V=w+(I<<10&4294967295|I>>>22),I=b+(w^(V|~D))+M[14]+2878612391&4294967295,b=V+(I<<15&4294967295|I>>>17),I=D+(V^(b|~w))+M[5]+4237533241&4294967295,D=b+(I<<21&4294967295|I>>>11),I=w+(b^(D|~V))+M[12]+1700485571&4294967295,w=D+(I<<6&4294967295|I>>>26),I=V+(D^(w|~b))+M[3]+2399980690&4294967295,V=w+(I<<10&4294967295|I>>>22),I=b+(w^(V|~D))+M[10]+4293915773&4294967295,b=V+(I<<15&4294967295|I>>>17),I=D+(V^(b|~w))+M[1]+2240044497&4294967295,D=b+(I<<21&4294967295|I>>>11),I=w+(b^(D|~V))+M[8]+1873313359&4294967295,w=D+(I<<6&4294967295|I>>>26),I=V+(D^(w|~b))+M[15]+4264355552&4294967295,V=w+(I<<10&4294967295|I>>>22),I=b+(w^(V|~D))+M[6]+2734768916&4294967295,b=V+(I<<15&4294967295|I>>>17),I=D+(V^(b|~w))+M[13]+1309151649&4294967295,D=b+(I<<21&4294967295|I>>>11),I=w+(b^(D|~V))+M[4]+4149444226&4294967295,w=D+(I<<6&4294967295|I>>>26),I=V+(D^(w|~b))+M[11]+3174756917&4294967295,V=w+(I<<10&4294967295|I>>>22),I=b+(w^(V|~D))+M[2]+718787259&4294967295,b=V+(I<<15&4294967295|I>>>17),I=D+(V^(b|~w))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+b&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const D=w-this.blockSize,M=this.C;let b=this.h,V=0;for(;V<w;){if(b==0)for(;V<=D;)o(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<w;)if(M[b++]=C.charCodeAt(V++),b==this.blockSize){o(this,M),b=0;break}}else for(;V<w;)if(M[b++]=C[V++],b==this.blockSize){o(this,M),b=0;break}}this.h=b,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var D=C.length-8;D<C.length;++D)C[D]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,D=0;D<4;++D)for(let M=0;M<32;M+=8)C[w++]=this.g[D]>>>M&255;return C};function u(C,w){var D=m;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=w(C)}function c(C,w){this.h=w;const D=[];let M=!0;for(let b=C.length-1;b>=0;b--){const V=C[b]|0;M&&V==w||(D[b]=V,M=!1)}this.g=D}var m={};function g(C){return-128<=C&&C<128?u(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return Z(y(-C));const w=[];let D=1;for(let M=0;C>=D;M++)w[M]=C/D|0,D*=4294967296;return new c(w,0)}function T(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return Z(T(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(w,8));let M=A;for(let V=0;V<C.length;V+=8){var b=Math.min(8,C.length-V);const I=parseInt(C.substring(V,V+b),w);b<8?(b=y(Math.pow(w,b)),M=M.j(b).add(y(I))):(M=M.j(D),M=M.add(y(I)))}return M}var A=g(0),R=g(1),j=g(16777216);s=c.prototype,s.m=function(){if(W(this))return-Z(this).m();let C=0,w=1;for(let D=0;D<this.g.length;D++){const M=this.i(D);C+=(M>=0?M:4294967296+M)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(W(this))return"-"+Z(this).toString(C);const w=y(Math.pow(C,6));var D=this;let M="";for(;;){const b=Rt(D,w).g;D=ht(D,b.j(w));let V=((D.g.length>0?D.g[0]:D.h)>>>0).toString(C);if(D=b,J(D))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function W(C){return C.h==-1}s.l=function(C){return C=ht(this,C),W(C)?-1:J(C)?0:1};function Z(C){const w=C.g.length,D=[];for(let M=0;M<w;M++)D[M]=~C.g[M];return new c(D,~C.h).add(R)}s.abs=function(){return W(this)?Z(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),D=[];let M=0;for(let b=0;b<=w;b++){let V=M+(this.i(b)&65535)+(C.i(b)&65535),I=(V>>>16)+(this.i(b)>>>16)+(C.i(b)>>>16);M=I>>>16,V&=65535,I&=65535,D[b]=I<<16|V}return new c(D,D[D.length-1]&-2147483648?-1:0)};function ht(C,w){return C.add(Z(w))}s.j=function(C){if(J(this)||J(C))return A;if(W(this))return W(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(W(C))return Z(this.j(Z(C)));if(this.l(j)<0&&C.l(j)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,D=[];for(var M=0;M<2*w;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(let b=0;b<C.g.length;b++){const V=this.i(M)>>>16,I=this.i(M)&65535,pt=C.i(b)>>>16,vt=C.i(b)&65535;D[2*M+2*b]+=I*vt,ft(D,2*M+2*b),D[2*M+2*b+1]+=V*vt,ft(D,2*M+2*b+1),D[2*M+2*b+1]+=I*pt,ft(D,2*M+2*b+1),D[2*M+2*b+2]+=V*pt,ft(D,2*M+2*b+2)}for(C=0;C<w;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=w;C<2*w;C++)D[C]=0;return new c(D,0)};function ft(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function st(C,w){this.g=C,this.h=w}function Rt(C,w){if(J(w))throw Error("division by zero");if(J(C))return new st(A,A);if(W(C))return w=Rt(Z(C),w),new st(Z(w.g),Z(w.h));if(W(w))return w=Rt(C,Z(w)),new st(Z(w.g),w.h);if(C.g.length>30){if(W(C)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var D=R,M=w;M.l(C)<=0;)D=It(D),M=It(M);var b=_t(D,1),V=_t(M,1);for(M=_t(M,2),D=_t(D,2);!J(M);){var I=V.add(M);I.l(C)<=0&&(b=b.add(D),V=I),M=_t(M,1),D=_t(D,1)}return w=ht(C,b.j(w)),new st(b,w)}for(b=A;C.l(w)>=0;){for(D=Math.max(1,Math.floor(C.m()/w.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=y(D),I=V.j(w);W(I)||I.l(C)>0;)D-=M,V=y(D),I=V.j(w);J(V)&&(V=R),b=b.add(V),C=ht(C,I)}return new st(b,C)}s.B=function(C){return Rt(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),D=[];for(let M=0;M<w;M++)D[M]=this.i(M)&C.i(M);return new c(D,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),D=[];for(let M=0;M<w;M++)D[M]=this.i(M)|C.i(M);return new c(D,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),D=[];for(let M=0;M<w;M++)D[M]=this.i(M)^C.i(M);return new c(D,this.h^C.h)};function It(C){const w=C.g.length+1,D=[];for(let M=0;M<w;M++)D[M]=C.i(M)<<1|C.i(M-1)>>>31;return new c(D,C.h)}function _t(C,w){const D=w>>5;w%=32;const M=C.g.length-D,b=[];for(let V=0;V<M;V++)b[V]=w>0?C.i(V+D)>>>w|C.i(V+D+1)<<32-w:C.i(V+D);return new c(b,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=T,ss=c}).apply(typeof YT<"u"?YT:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dA,ou,mA,Lh,vg,gA,pA,yA;(function(){var s,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var p=0;p<h.length;++p){var v=h[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(h,p){if(p)t:{var v=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var U=h[S];if(!(U in v))break t;v=v[U]}h=h[h.length-1],S=v[h],p=p(S),p!=S&&p!=null&&t(v,h,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});var u=u||{},c=this||self;function m(h){var p=typeof h;return p=="object"&&h!=null||p=="function"}function g(h,p,v){return h.call.apply(h.bind,arguments)}function y(h,p,v){return y=g,y.apply(null,arguments)}function T(h,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function A(h,p){function v(){}v.prototype=p.prototype,h.Z=p.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(S,U,F){for(var nt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)nt[Ct-2]=arguments[Ct];return p.prototype[U].apply(S,nt)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function j(h){const p=h.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=h[S];return v}return[]}function J(h,p){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=h.length||0;const F=U.length||0;h.length=v+F;for(let nt=0;nt<F;nt++)h[v+nt]=U[nt]}else h.push(U)}}class W{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Z(h){c.setTimeout(()=>{throw h},0)}function ht(){var h=C;let p=null;return h.g&&(p=h.g,h.g=h.g.next,h.g||(h.h=null),p.next=null),p}class ft{constructor(){this.h=this.g=null}add(p,v){const S=st.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var st=new W(()=>new Rt,h=>h.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let It,_t=!1,C=new ft,w=()=>{const h=Promise.resolve(void 0);It=()=>{h.then(D)}};function D(){for(var h;h=ht();){try{h.h.call(h.g)}catch(v){Z(v)}var p=st;p.j(h),p.h<100&&(p.h++,h.next=p.g,p.g=h)}_t=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(h,p){this.type=h,this.g=this.target=p,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,p=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,p),c.removeEventListener("test",v,p)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function pt(h,p){b.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,p)}A(pt,b),pt.prototype.init=function(h,p){const v=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=p,p=h.relatedTarget,p||(v=="mouseover"?p=h.fromElement:v=="mouseout"&&(p=h.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&pt.Z.h.call(this)},pt.prototype.h=function(){pt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),q=0;function et(h,p,v,S,U){this.listener=h,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=U,this.key=++q,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xt(h,p,v){for(const S in h)p.call(v,h[S],S,h)}function zt(h,p){for(const v in h)p.call(void 0,h[v],v,h)}function x(h){const p={};for(const v in h)p[v]=h[v];return p}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(h,p){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)h[v]=S[v];for(let F=0;F<Y.length;F++)v=Y[F],Object.prototype.hasOwnProperty.call(S,v)&&(h[v]=S[v])}}function at(h){this.src=h,this.g={},this.h=0}at.prototype.add=function(h,p,v,S,U){const F=h.toString();h=this.g[F],h||(h=this.g[F]=[],this.h++);const nt=Nt(h,p,S,U);return nt>-1?(p=h[nt],v||(p.fa=!1)):(p=new et(p,this.src,F,!!S,U),p.fa=v,h.push(p)),p};function At(h,p){const v=p.type;if(v in h.g){var S=h.g[v],U=Array.prototype.indexOf.call(S,p,void 0),F;(F=U>=0)&&Array.prototype.splice.call(S,U,1),F&&(dt(p),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Nt(h,p,v,S){for(let U=0;U<h.length;++U){const F=h[U];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==S)return U}return-1}var qt="closure_lm_"+(Math.random()*1e6|0),Me={};function le(h,p,v,S,U){if(Array.isArray(p)){for(let F=0;F<p.length;F++)le(h,p[F],v,S,U);return null}return v=$o(v),h&&h[vt]?h.J(p,v,m(S)?!!S.capture:!1,U):ms(h,p,v,!1,S,U)}function ms(h,p,v,S,U,F){if(!p)throw Error("Invalid event type");const nt=m(U)?!!U.capture:!!U;let Ct=gs(h);if(Ct||(h[qt]=Ct=new at(h)),v=Ct.add(p,v,S,nt,F),v.proxy)return v;if(S=Ea(),v.proxy=S,S.src=h,S.listener=v,h.addEventListener)V||(U=nt),U===void 0&&(U=!1),h.addEventListener(p.toString(),S,U);else if(h.attachEvent)h.attachEvent(ui(p.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ea(){function h(v){return p.call(h.src,h.listener,v)}const p=Xo;return h}function Aa(h,p,v,S,U){if(Array.isArray(p))for(var F=0;F<p.length;F++)Aa(h,p[F],v,S,U);else S=m(S)?!!S.capture:!!S,v=$o(v),h&&h[vt]?(h=h.i,F=String(p).toString(),F in h.g&&(p=h.g[F],v=Nt(p,v,S,U),v>-1&&(dt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete h.g[F],h.h--)))):h&&(h=gs(h))&&(p=h.g[p.toString()],h=-1,p&&(h=Nt(p,v,S,U)),(v=h>-1?p[h]:null)&&Sa(v))}function Sa(h){if(typeof h!="number"&&h&&!h.da){var p=h.src;if(p&&p[vt])At(p.i,h);else{var v=h.type,S=h.proxy;p.removeEventListener?p.removeEventListener(v,S,h.capture):p.detachEvent?p.detachEvent(ui(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=gs(p))?(At(v,h),v.h==0&&(v.src=null,p[qt]=null)):dt(h)}}}function ui(h){return h in Me?Me[h]:Me[h]="on"+h}function Xo(h,p){if(h.da)h=!0;else{p=new pt(p,this);const v=h.listener,S=h.ha||h.src;h.fa&&Sa(h),h=v.call(S,p)}return h}function gs(h){return h=h[qt],h instanceof at?h:null}var Jo="__closure_events_fn_"+(Math.random()*1e9>>>0);function $o(h){return typeof h=="function"?h:(h[Jo]||(h[Jo]=function(p){return h.handleEvent(p)}),h[Jo])}function Ae(){M.call(this),this.i=new at(this),this.M=this,this.G=null}A(Ae,M),Ae.prototype[vt]=!0,Ae.prototype.removeEventListener=function(h,p,v,S){Aa(this,h,p,v,S)};function Pe(h,p){var v,S=h.G;if(S)for(v=[];S;S=S.G)v.push(S);if(h=h.M,S=p.type||p,typeof p=="string")p=new b(p,h);else if(p instanceof b)p.target=p.target||h;else{var U=p;p=new b(S,h),it(p,U)}U=!0;let F,nt;if(v)for(nt=v.length-1;nt>=0;nt--)F=p.g=v[nt],U=mr(F,S,!0,p)&&U;if(F=p.g=h,U=mr(F,S,!0,p)&&U,U=mr(F,S,!1,p)&&U,v)for(nt=0;nt<v.length;nt++)F=p.g=v[nt],U=mr(F,S,!1,p)&&U}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var h=this.i;for(const p in h.g){const v=h.g[p];for(let S=0;S<v.length;S++)dt(v[S]);delete h.g[p],h.h--}}this.G=null},Ae.prototype.J=function(h,p,v,S){return this.i.add(String(h),p,!1,v,S)},Ae.prototype.K=function(h,p,v,S){return this.i.add(String(h),p,!0,v,S)};function mr(h,p,v,S){if(p=h.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let F=0;F<p.length;++F){const nt=p[F];if(nt&&!nt.da&&nt.capture==v){const Ct=nt.listener,ve=nt.ha||nt.src;nt.fa&&At(h.i,nt),U=Ct.call(ve,S)!==!1&&U}}return U&&!S.defaultPrevented}function Gf(h,p){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:c.setTimeout(h,p||0)}function $u(h){h.g=Gf(()=>{h.g=null,h.i&&(h.i=!1,$u(h))},h.l);const p=h.h;h.h=null,h.m.apply(null,p)}class nn extends M{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:$u(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(h){M.call(this),this.h=h,this.g={}}A(ps,M);var Zo=[];function Wo(h){xt(h.g,function(p,v){this.g.hasOwnProperty(v)&&Sa(p)},h),h.g={}}ps.prototype.N=function(){ps.Z.N.call(this),Wo(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=c.JSON.stringify,Kf=c.JSON.parse,Zu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Wu(){}function tc(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){b.call(this,"d")}A(He,b);function Nn(){b.call(this,"c")}A(Nn,b);var _e={},ec=null;function ba(){return ec=ec||new Ae}_e.Ia="serverreachability";function nc(h){b.call(this,_e.Ia,h)}A(nc,b);function ci(h){const p=ba();Pe(p,new nc(p))}_e.STAT_EVENT="statevent";function ys(h,p){b.call(this,_e.STAT_EVENT,h),this.stat=p}A(ys,b);function Se(h){const p=ba();Pe(p,new ys(p,h))}_e.Ja="timingevent";function hi(h,p){b.call(this,_e.Ja,h),this.size=p}A(hi,b);function fi(h,p){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},p)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Qf(h,p,v,S,U,F){h.info(function(){if(h.g)if(F){var nt="",Ct=F.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var ve=Ct[Kt].split("=");if(ve.length>1){const ue=ve[0];ve=ve[1];const Mn=ue.split("_");nt=Mn.length>=2&&Mn[1]=="type"?nt+(ue+"="+ve+"&"):nt+(ue+"=redacted&")}}}else nt=null;else nt=F;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+p+`
`+v+`
`+nt})}function ic(h,p,v,S,U,F,nt){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+p+`
`+v+`
`+F+" "+nt})}function di(h,p,v,S){h.info(function(){return"XMLHTTP TEXT ("+p+"): "+Yf(h,v)+(S?" "+S:"")})}function _s(h,p){h.info(function(){return"TIMEOUT: "+p})}Yn.prototype.info=function(){};function Yf(h,p){if(!h.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(h=0;h<F.length;h++)if(Array.isArray(F[h])){var v=F[h];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let nt=1;nt<S.length;nt++)S[nt]=""}}}}return gr(F)}catch{return p}}var vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},el;function Ts(){}A(Ts,Wu),Ts.prototype.g=function(){return new XMLHttpRequest},el=new Ts;function zi(h){return encodeURIComponent(String(h))}function rc(h){var p=1;h=h.split(":");const v=[];for(;p>0&&h.length;)v.push(h.shift()),p--;return h.length&&v.push(h.join(":")),v}function Xn(h,p,v,S){this.j=h,this.i=p,this.l=v,this.S=S||1,this.V=new ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var be={},ze={};function mi(h,p,v){h.M=1,h.A=Es(we(p)),h.u=v,h.R=!0,Ia(h,null)}function Ia(h,p){h.F=Date.now(),gi(h),h.B=we(h.A);var v=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Da(v.i,"t",S),h.C=0,v=h.j.L,h.h=new Jn,h.g=vc(h.j,v?p:null,!h.u),h.P>0&&(h.O=new nn(y(h.Y,h,h.g),h.P)),p=h.V,v=h.g,S=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(Zo[0]=U.toString()),U=Zo);for(let F=0;F<U.length;F++){const nt=le(v,U[F],S||p.handleEvent,!1,p.h||p);if(!nt)break;p.g[nt.key]=nt}p=h.J?x(h.J):{},h.u?(h.v||(h.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,p)):(h.v="GET",h.g.ea(h.B,h.v,null,p)),ci(),Qf(h.i,h.v,h.B,h.l,h.S,h.u)}Xn.prototype.ba=function(h){h=h.target;const p=this.O;p&&Wn(h)==3?p.j():this.Y(h)},Xn.prototype.Y=function(h){try{if(h==this.g)t:{const Ct=Wn(this.g),ve=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Ct!=4||ve==7||(ve==8||Kt<=0?ci(3):ci(2)),pi(this);var p=this.g.ca();this.X=p;var v=Xf(this);if(this.o=p==200,ic(this.i,this.v,this.B,this.l,this.S,Ct,p),this.o){if(this.U&&!this.L){e:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var F=S;break e}}F=null}if(h=F)di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,h);else{this.o=!1,this.m=3,Se(12),pn(this),Vn(this);break t}}if(this.R){h=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=ac(this,v),ue==ze){Ct==4&&(this.m=4,Se(14),h=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==be){this.m=4,Se(15),di(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else di(this.i,this.l,ue,null),yi(this,ue);if(sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Se(16),h=!1),this.o=this.o&&h,!h)di(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Vn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),pl(nt),nt.P=!0,Se(11))}}else di(this.i,this.l,v,null),yi(this,v);Ct==4&&pn(this),this.o&&!this.K&&(Ct==4?gc(this.j,this):(this.o=!1,gi(this)))}else ji(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),pn(this),Vn(this)}}}catch{}finally{}};function Xf(h){if(!sc(h))return h.g.la();const p=Ge(h.g);if(p==="")return"";let v="";const S=p.length,U=Wn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return pn(h),Vn(h),"";h.h.i=new c.TextDecoder}for(let F=0;F<S;F++)h.h.h=!0,v+=h.h.i.decode(p[F],{stream:!(U&&F==S-1)});return p.length=0,h.h.g+=v,h.C=0,h.h.g}function sc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ac(h,p){var v=h.C,S=p.indexOf(`
`,v);return S==-1?ze:(v=Number(p.substring(v,S)),isNaN(v)?be:(S+=1,S+v>p.length?ze:(p=p.slice(S,S+v),h.C=S+v,p)))}Xn.prototype.cancel=function(){this.K=!0,pn(this)};function gi(h){h.T=Date.now()+h.H,wa(h,h.H)}function wa(h,p){if(h.D!=null)throw Error("WatchDog timer not null");h.D=fi(y(h.aa,h),p)}function pi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Xn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(_s(this.i,this.B),this.M!=2&&(ci(),Se(17)),pn(this),this.m=2,Vn(this)):wa(this,this.T-h)};function Vn(h){h.j.I==0||h.K||gc(h.j,h)}function pn(h){pi(h);var p=h.O;p&&typeof p.dispose=="function"&&p.dispose(),h.O=null,Wo(h.V),h.g&&(p=h.g,h.g=null,p.abort(),p.dispose())}function yi(h,p){try{var v=h.j;if(v.I!=0&&(v.g==h||vi(v.h,h))){if(!h.L&&vi(v.h,h)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)Ma(v),Sr(v);else break t;Cs(v),Se(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(y(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((h.L||v.g==h)&&Ma(v),!I(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let Kt=U[p];const ue=Kt[0];if(!(ue<=v.K))if(v.K=ue,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Mn=Kt[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const wi=Kt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const ti=Kt[5];ti!=null&&typeof ti=="number"&&ti>0&&(S=1.5*ti,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ei=h.g;if(ei){const Ds=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var F=S.h;F.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(rl(F,F.h),F.h=null))}if(S.G){const Pa=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Pa&&(S.wa=Pa,Yt(S.J,S.G,Pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var nt=h;if(S.na=_c(S,S.L?S.ba:null,S.W),nt.L){sl(S.h,nt);var Ct=nt,ve=S.O;ve&&(Ct.H=ve),Ct.D&&(pi(Ct),gi(Ct)),S.g=nt}else dc(S);v.i.length>0&&bi(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Ii(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Ii(v,7):ml(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}ci(4)}catch{}}var Ie=class{constructor(h,p){this.g=h,this.map=p}};function nl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _i(h){return h.h?1:h.g?h.g.size:0}function vi(h,p){return h.h?h.h==p:h.g?h.g.has(p):!1}function rl(h,p){h.g?h.g.add(p):h.h=p}function sl(h,p){h.h&&h.h==p?h.h=null:h.g&&h.g.has(p)&&h.g.delete(p)}nl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function al(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let p=h.i;for(const v of h.g.values())p=p.concat(v.G);return p}return j(h.i)}var oc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(h,p){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const S=h[v].indexOf("=");let U,F=null;S>=0?(U=h[v].substring(0,S),F=h[v].substring(S+1)):U=h[v],p(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function yn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;h instanceof yn?(this.l=h.l,Be(this,h.j),this.o=h.o,this.g=h.g,pr(this,h.u),this.h=h.h,ol(this,hc(h.i)),this.m=h.m):h&&(p=String(h).match(oc))?(this.l=!1,Be(this,p[1]||"",!0),this.o=Ti(p[2]||""),this.g=Ti(p[3]||"",!0),pr(this,p[4]),this.h=Ti(p[5]||"",!0),ol(this,p[6]||"",!0),this.m=Ti(p[7]||"")):(this.l=!1,this.i=new _r(null,this.l))}yn.prototype.toString=function(){const h=[];var p=this.j;p&&h.push(As(p,Ca,!0),":");var v=this.g;return(v||p=="file")&&(h.push("//"),(p=this.o)&&h.push(As(p,Ca,!0),"@"),h.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(As(v,v.charAt(0)=="/"?ll:lc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",As(v,uc)),h.join("")},yn.prototype.resolve=function(h){const p=we(this);let v=!!h.j;v?Be(p,h.j):v=!!h.o,v?p.o=h.o:v=!!h.g,v?p.g=h.g:v=h.u!=null;var S=h.h;if(v)pr(p,h.u);else if(v=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=p.h.lastIndexOf("/");U!=-1&&(S=p.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let nt=0;nt<U.length;){const Ct=U[nt++];Ct=="."?S&&nt==U.length&&F.push(""):Ct==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&nt==U.length&&F.push("")):(F.push(Ct),S=!0)}S=F.join("/")}else S=U}return v?p.h=S:v=h.i.toString()!=="",v?ol(p,hc(h.i)):v=!!h.m,v&&(p.m=h.m),p};function we(h){return new yn(h)}function Be(h,p,v){h.j=v?Ti(p,!0):p,h.j&&(h.j=h.j.replace(/:$/,""))}function pr(h,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);h.u=p}else h.u=null}function ol(h,p,v){p instanceof _r?(h.i=p,Na(h.i,h.l)):(v||(p=As(p,yr)),h.i=new _r(p,h.l))}function Yt(h,p,v){h.i.set(p,v)}function Es(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ti(h,p){return h?p?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function As(h,p,v){return typeof h=="string"?(h=encodeURI(h).replace(p,ln),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ln(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ca=/[#\/\?@]/g,lc=/[#\?:]/g,ll=/[#\?]/g,yr=/[#\?@]/g,uc=/#/g;function _r(h,p){this.h=this.g=null,this.i=h||null,this.j=!!p}function un(h){h.g||(h.g=new Map,h.h=0,h.i&&Ra(h.i,function(p,v){h.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=_r.prototype,s.add=function(h,p){un(this),this.i=null,h=vr(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(p),this.h+=1,this};function cc(h,p){un(h),p=vr(h,p),h.g.has(p)&&(h.i=null,h.h-=h.g.get(p).length,h.g.delete(p))}function ul(h,p){return un(h),p=vr(h,p),h.g.has(p)}s.forEach=function(h,p){un(this),this.g.forEach(function(v,S){v.forEach(function(U){h.call(p,U,S,this)},this)},this)};function cl(h,p){un(h);let v=[];if(typeof p=="string")ul(h,p)&&(v=v.concat(h.g.get(vr(h,p))));else for(h=Array.from(h.g.values()),p=0;p<h.length;p++)v=v.concat(h[p]);return v}s.set=function(h,p){return un(this),this.i=null,h=vr(this,h),ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[p]),this.h+=1,this},s.get=function(h,p){return h?(h=cl(this,h),h.length>0?String(h[0]):p):p};function Da(h,p,v){cc(h,p),v.length>0&&(h.i=null,h.g.set(vr(h,p),j(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const U=zi(v);v=cl(this,v);for(let F=0;F<v.length;F++){let nt=U;v[F]!==""&&(nt+="="+zi(v[F])),h.push(nt)}}return this.i=h.join("&")};function hc(h){const p=new _r;return p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),p}function vr(h,p){return p=String(p),h.j&&(p=p.toLowerCase()),p}function Na(h,p){p&&!h.j&&(un(h),h.i=null,h.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(cc(this,S),Da(this,U,v))},h)),h.j=p}function $n(h,p){const v=new Yn;if(c.Image){const S=new Image;S.onload=T(On,v,"TestLoadImage: loaded",!0,p,S),S.onerror=T(On,v,"TestLoadImage: error",!1,p,S),S.onabort=T(On,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=T(On,v,"TestLoadImage: timeout",!1,p,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else p(!1)}function hl(h,p){const v=new Yn,S=new AbortController,U=setTimeout(()=>{S.abort(),On(v,"TestPingServer: timeout",!1,p)},1e4);fetch(h,{signal:S.signal}).then(F=>{clearTimeout(U),F.ok?On(v,"TestPingServer: ok",!0,p):On(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),On(v,"TestPingServer: error",!1,p)})}function On(h,p,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Tr(){this.g=new Zu}function Ei(h){this.i=h.Sb||null,this.h=h.ab||!1}A(Ei,Wu),Ei.prototype.g=function(){return new Ss(this.i,this.h)};function Ss(h,p){Ae.call(this),this.H=h,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ss,Ae),s=Ss.prototype,s.open=function(h,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=p,this.readyState=1,Zn(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(p.body=h),(this.H||c).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Va(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Va(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var p=h.value?h.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!h.done}))&&(this.response=this.responseText+=p)}h.done?Er(this):Zn(this),this.readyState==3&&Va(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Er(this))},s.Na=function(h){this.g&&(this.response=h,Er(this))},s.ga=function(){this.g&&Er(this)};function Er(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Zn(h)}s.setRequestHeader=function(h,p){this.A.append(h,p)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=p.next();return h.join(`\r
`)};function Zn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xn(h){let p="";return xt(h,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function bs(h,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=xn(v),typeof h=="string"?v!=null&&zi(v):Yt(h,p,v))}function Wt(h){Ae.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Wt,Ae);var Ai=/^https?$/i,fl=["POST","PUT"];s=Wt.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);p=p?p.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():el.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(h),!0),this.B=!1}catch(F){Is(this,F);return}if(h=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())v.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(fl,p,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,nt]of v)this.g.setRequestHeader(F,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(F){Is(this,F)}};function Is(h,p){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=p,h.o=5,dl(h),Bi(h)}function dl(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pe(this,"complete"),Pe(this,"abort"),Bi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Wt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},s.Xa=function(){ws(this)};function ws(h){if(h.h&&typeof u<"u"){if(h.v&&Wn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pe(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const F=h.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=F===0){let nt=String(h.D).match(oc)[1]||null;!nt&&c.self&&c.self.location&&(nt=c.self.location.protocol.slice(0,-1)),S=!Ai.test(nt?nt.toLowerCase():"")}v=S}if(v)Pe(h,"complete"),Pe(h,"success");else{h.o=6;try{var U=Wn(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",dl(h)}}finally{Bi(h)}}}}function Bi(h,p){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,p||Pe(h,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}s.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var p=this.g.responseText;return h&&p.indexOf(h)==0&&(p=p.substring(h.length)),Kf(p)}};function Ge(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(h){const p={};h=(h.g&&Wn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(I(h[S]))continue;var v=rc(h[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[U]||[];p[U]=F,F.push(v)}zt(p,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(h,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||p}function Ar(h){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,h),this.Za=Si("retryDelaySeedMs",1e4,h),this.Ta=Si("forwardChannelMaxRetries",2,h),this.va=Si("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(h&&h.concurrentRequestLimit),this.Ba=new Tr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ar.prototype,s.ka=8,s.I=1,s.connect=function(h,p,v,S){Se(0),this.W=h,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=_c(this,null,this.W),bi(this)};function ml(h){if(Oa(h),h.I==3){var p=h.V++,v=we(h.J);if(Yt(v,"SID",h.M),Yt(v,"RID",p),Yt(v,"TYPE","terminate"),Rs(h,v),p=new Xn(h,h.j,p),p.M=2,p.A=Es(we(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=p.A,v=!0),v||(p.g=vc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),gi(p)}yc(h)}function Sr(h){h.g&&(pl(h),h.g.cancel(),h.g=null)}function Oa(h){Sr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ma(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function bi(h){if(!il(h.h)&&!h.m){h.m=!0;var p=h.Ea;It||w(),_t||(It(),_t=!0),C.add(p,h),h.D=0}}function xa(h,p){return _i(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=p.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=fi(y(h.Ea,h,p),pc(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Xn(this,this.j,h);let F=this.o;if(this.U&&(F?(F=x(F),it(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=fc(this,U,p),v=we(this.J),Yt(v,"RID",h),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),Rs(this,v),F&&(this.R?p="headers="+zi(xn(F))+"&"+p:this.u&&bs(v,this.u,F)),rl(this.h,U),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",p),Yt(v,"SID","null"),U.U=!0,mi(U,v,null)):mi(U,v,p),this.I=2}}else this.I==3&&(h?gl(this,h):this.i.length==0||il(this.h)||gl(this))};function gl(h,p){var v;p?v=p.l:v=h.V++;const S=we(h.J);Yt(S,"SID",h.M),Yt(S,"RID",v),Yt(S,"AID",h.K),Rs(h,S),h.u&&h.o&&bs(S,h.u,h.o),v=new Xn(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),p&&(h.i=p.G.concat(h.i)),p=fc(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),rl(h.h,v),mi(v,S,p)}function Rs(h,p){h.H&&xt(h.H,function(v,S){Yt(p,S,v)}),h.l&&xt({},function(v,S){Yt(p,S,v)})}function fc(h,p,v){v=Math.min(h.i.length,v);const S=h.l?y(h.l.Ka,h.l,h):null;t:{var U=h.i;let Ct=-1;for(;;){const ve=["count="+v];Ct==-1?v>0?(Ct=U[0].g,ve.push("ofs="+Ct)):Ct=0:ve.push("ofs="+Ct);let Kt=!0;for(let ue=0;ue<v;ue++){var F=U[ue].g;const Mn=U[ue].map;if(F-=Ct,F<0)Ct=Math.max(0,U[ue].g-100),Kt=!1;else try{F="req"+F+"_"||"";try{var nt=Mn instanceof Map?Mn:Object.entries(Mn);for(const[wi,ti]of nt){let ei=ti;m(ti)&&(ei=gr(ti)),ve.push(F+wi+"="+encodeURIComponent(ei))}}catch(wi){throw ve.push(F+"type="+encodeURIComponent("_badmap")),wi}}catch{S&&S(Mn)}}if(Kt){nt=ve.join("&");break t}}nt=void 0}return h=h.i.splice(0,v),p.G=h,nt}function dc(h){if(!h.g&&!h.v){h.Y=1;var p=h.Da;It||w(),_t||(It(),_t=!0),C.add(p,h),h.A=0}}function Cs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=fi(y(h.Da,h),pc(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,mc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=fi(y(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Sr(this),mc(this))};function pl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function mc(h){h.g=new Xn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var p=we(h.na);Yt(p,"RID","rpc"),Yt(p,"SID",h.M),Yt(p,"AID",h.K),Yt(p,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(p,"TO",h.ia),Yt(p,"TYPE","xmlhttp"),Rs(h,p),h.u&&h.o&&bs(p,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Es(we(p)),v.u=null,v.R=!0,Ia(v,h)}s.Va=function(){this.C!=null&&(this.C=null,Sr(this),Cs(this),Se(19))};function Ma(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function gc(h,p){var v=null;if(h.g==p){Ma(h),pl(h),h.g=null;var S=2}else if(vi(h.h,p))v=p.G,sl(h.h,p),S=1;else return;if(h.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=h.D;S=ba(),Pe(S,new hi(S,v)),bi(h)}else dc(h);else if(U=p.m,U==3||U==0&&p.X>0||!(S==1&&xa(h,p)||S==2&&Cs(h)))switch(v&&v.length>0&&(p=h.h,p.i=p.i.concat(v)),U){case 1:Ii(h,5);break;case 4:Ii(h,10);break;case 3:Ii(h,6);break;default:Ii(h,2)}}}function pc(h,p){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*p}function Ii(h,p){if(h.j.info("Error code "+p),p==2){var v=y(h.bb,h),S=h.Ua;const U=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Be(S,"https"),Es(S),U?$n(S.toString(),v):hl(S.toString(),v)}else Se(2);h.I=0,h.l&&h.l.pa(p),yc(h),Oa(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function yc(h){if(h.I=0,h.ja=[],h.l){const p=al(h.h);(p.length!=0||h.i.length!=0)&&(J(h.ja,p),J(h.ja,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.oa()}}function _c(h,p,v){var S=v instanceof yn?we(v):new yn(v);if(S.g!="")p&&(S.g=p+"."+S.g),pr(S,S.u);else{var U=c.location;S=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const F=new yn(null);S&&Be(F,S),p&&(F.g=p),U&&pr(F,U),v&&(F.h=v),S=F}return v=h.G,p=h.wa,v&&p&&Yt(S,v,p),Yt(S,"VER",h.ka),Rs(h,S),S}function vc(h,p,v){if(p&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=h.Aa&&!h.ma?new Wt(new Ei({ab:v})):new Wt(h.ma),p.Fa(h.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}s=Tc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function br(){}br.prototype.g=function(h,p){return new rn(h,p)};function rn(h,p){Ae.call(this),this.g=new Ar(p),this.l=h,this.h=p&&p.messageUrlParams||null,h=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(h?h["X-WebChannel-Content-Type"]=p.messageContentType:h={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(h?h["X-WebChannel-Client-Profile"]=p.sa:h={"X-WebChannel-Client-Profile":p.sa}),this.g.U=h,(h=p&&p.Qb)&&!I(h)&&(this.g.u=h),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,h=this.h,h!==null&&p in h&&(h=this.h,p in h&&delete h[p])),this.j=new qi(this)}A(rn,Ae),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){ml(this.g)},rn.prototype.o=function(h){var p=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=gr(h),h=v);p.i.push(new Ie(p.Ya++,h)),p.I==3&&bi(p)},rn.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,rn.Z.N.call(this)};function Ec(h){He.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var p=h.__sm__;if(p){t:{for(const v in p){h=v;break t}h=void 0}(this.i=h)&&(h=this.i,p=p!==null&&h in p?p[h]:void 0),this.data=p}else this.data=h}A(Ec,He);function Ac(){Nn.call(this),this.status=1}A(Ac,Nn);function qi(h){this.g=h}A(qi,Tc),qi.prototype.ra=function(){Pe(this.g,"a")},qi.prototype.qa=function(h){Pe(this.g,new Ec(h))},qi.prototype.pa=function(h){Pe(this.g,new Ac)},qi.prototype.oa=function(){Pe(this.g,"b")},br.prototype.createWebChannel=br.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,yA=function(){return new br},pA=function(){return ba()},gA=_e,vg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,Lh=vs,tl.COMPLETE="complete",mA=tl,tc.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,ou=tc,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,dA=Wt}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const XT="@firebase/firestore",JT="4.9.2";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let Ko="12.3.0";const ca=new Gg("@firebase/firestore");function _o(){return ca.logLevel}function tt(s,...t){if(ca.logLevel<=Lt.DEBUG){const n=t.map(rp);ca.debug(`Firestore (${Ko}): ${s}`,...n)}}function an(s,...t){if(ca.logLevel<=Lt.ERROR){const n=t.map(rp);ca.error(`Firestore (${Ko}): ${s}`,...n)}}function ha(s,...t){if(ca.logLevel<=Lt.WARN){const n=t.map(rp);ca.warn(`Firestore (${Ko}): ${s}`,...n)}}function rp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function ut(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,_A(s,r,n)}function _A(s,t,n){let r=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw an(r),new Error(r)}function mt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||_A(t,o,r)}function bt(s,t){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends fr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class vA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class GC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KC{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){mt(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new as;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new as,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new as)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new vA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return mt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class QC{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YC{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new QC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $T{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){mt(this.o===void 0,3512);const r=u=>{u.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $T(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $T(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JC(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class sp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=JC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function St(s,t){return s<t?-1:s>t?1:0}function Tg(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return ng(o)===ng(u)?St(o,u):ng(o)?1:-1}return St(s.length,t.length)}const $C=55296,ZC=57343;function ng(s){const t=s.charCodeAt(0);return t>=$C&&t<=ZC}function No(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}function TA(s){return s+"\0"}const ZT="__name__";class Vi{constructor(t,n,r){n===void 0?n=0:n>t.length&&ut(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&ut(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Vi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return St(t.length,n.length)}static compareSegments(t,n){const r=Vi.isNumericId(t),o=Vi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Vi.extractNumericId(t).compare(Vi.extractNumericId(n)):Tg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ss.fromString(t.substring(4,t.length-2))}}class ie extends Vi{construct(t,n,r){return new ie(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ie(n)}static emptyPath(){return new ie([])}}const WC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class me extends Vi{construct(t,n,r){return new me(t,n,r)}static isValidIdentifier(t){return WC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),me.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZT}static keyField(){return new me([ZT])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new me(n)}static emptyPath(){return new me([])}}class rt{constructor(t){this.path=t}static fromPath(t){return new rt(ie.fromString(t))}static fromName(t){return new rt(ie.fromString(t).popFirst(5))}static empty(){return new rt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rt(new ie(t.slice()))}}function t2(s,t,n){if(!n)throw new ot(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function e2(s,t,n,r){if(t===!0&&r===!0)throw new ot(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function WT(s){if(!rt.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function EA(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ap(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":ut(12329,{type:typeof s})}function na(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ap(s);throw new ot(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Oe(s,t){const n={typeString:s};return t&&(n.value=t),n}function Fu(s,t){if(!EA(s))throw new ot(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const c=s[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ot(X.INVALID_ARGUMENT,n);return!0}const tE=-62135596800,eE=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(t){return $t.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*eE);return new $t(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<tE)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eE}_compareTo(t){return this.seconds===t.seconds?St(this.nanoseconds,t.nanoseconds):St(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fu(t,$t._jsonSchema))return new $t(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-tE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:Oe("string",$t._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new $t(0,0))}static max(){return new yt(new $t(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bu=-1;class sf{constructor(t,n,r,o){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=o}}function Eg(s){return s.fields.find((t=>t.kind===2))}function Qs(s){return s.fields.filter((t=>t.kind!==2))}sf.UNKNOWN_ID=-1;class zh{constructor(t,n){this.fieldPath=t,this.kind=n}}class Iu{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new Iu(0,Dn.min())}}function n2(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new Dn(o,rt.empty(),t)}function AA(s){return new Dn(s.readTime,s.key,bu)}class Dn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Dn(yt.min(),rt.empty(),bu)}static max(){return new Dn(yt.max(),rt.empty(),bu)}}function op(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=rt.comparator(s.documentKey,t.documentKey),n!==0?n:St(s.largestBatchId,t.largestBatchId))}const SA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function _a(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==SA)throw s;tt("LocalStore","Unexpectedly lost primary lease")}class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):k.reject(n)}static resolve(t){return new k(((n,r)=>{n(t)}))}static reject(t){return new k(((n,r)=>{r(t)}))}static waitFor(t){return new k(((n,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(g=>r(g)))})),c=!0,u===o&&n()}))}static or(t){let n=k.resolve(!1);for(const r of t)n=n.next((o=>o?k.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new k(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((T=>{c[y]=T,++m,m===u&&r(c)}),(T=>o(T)))}}))}static doWhile(t,n){return new k(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}const In="SimpleDb";class wf{static open(t,n,r,o){try{return new wf(n,t.transaction(o,r))}catch(u){throw new mu(n,u)}}constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.S=new as,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new mu(t,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const o=lp(r.target.error);this.S.reject(new mu(t,o))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(tt(In,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new r2(n)}}class os{static delete(t){return tt(In,"Removing database:",t),Xs(T0().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!D0())return!1;if(os.F())return!0;const t=Ue(),n=os.M(t),r=0<n&&n<10,o=IA(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||u)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,n){return t.store(n)}static M(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,n,r){this.name=t,this.version=n,this.N=r,this.B=null,os.M(Ue())===12.2&&an("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(tt(In,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=u=>{const c=u.target.result;n(c)},o.onblocked=()=>{r(new mu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const c=u.target.error;c.name==="VersionError"?r(new ot(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new ot(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new mu(t,c))},o.onupgradeneeded=u=>{tt(In,'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const c=u.target.result;this.N.k(c,o.transaction,u.oldVersion,this.version).next((()=>{tt(In,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(t){this.q=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,o){const u=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(t);const m=wf.open(this.db,t,u?"readonly":"readwrite",r),g=o(m).next((y=>(m.C(),y))).catch((y=>(m.abort(y),k.reject(y)))).toPromise();return g.catch((()=>{})),await m.D,g}catch(m){const g=m,y=g.name!=="FirebaseError"&&c<3;if(tt(In,"Transaction failed with error:",g.message,"Retrying:",y),this.close(),!y)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function IA(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class i2{constructor(t){this.U=t,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(t){this.U=t}done(){this.K=!0}j(t){this.W=t}delete(){return Xs(this.U.delete())}}class mu extends ot{constructor(t,n){super(X.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function fs(s){return s.name==="IndexedDbTransactionError"}class r2{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(tt(In,"PUT",this.store.name,t,n),r=this.store.put(n,t)):(tt(In,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Xs(r)}add(t){return tt(In,"ADD",this.store.name,t,t),Xs(this.store.add(t))}get(t){return Xs(this.store.get(t)).next((n=>(n===void 0&&(n=null),tt(In,"GET",this.store.name,t,n),n)))}delete(t){return tt(In,"DELETE",this.store.name,t),Xs(this.store.delete(t))}count(){return tt(In,"COUNT",this.store.name),Xs(this.store.count())}J(t,n){const r=this.options(t,n),o=r.index?this.store.index(r.index):this.store;if(typeof o.getAll=="function"){const u=o.getAll(r.range);return new k(((c,m)=>{u.onerror=g=>{m(g.target.error)},u.onsuccess=g=>{c(g.target.result)}}))}{const u=this.cursor(r),c=[];return this.H(u,((m,g)=>{c.push(g)})).next((()=>c))}}Y(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new k(((o,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{o(c.target.result)}}))}Z(t,n){tt(In,"DELETE ALL",this.store.name);const r=this.options(t,n);r.X=!1;const o=this.cursor(r);return this.H(o,((u,c,m)=>m.delete()))}ee(t,n){let r;n?r=t:(r={},n=t);const o=this.cursor(r);return this.H(o,n)}te(t){const n=this.cursor({});return new k(((r,o)=>{n.onerror=u=>{const c=lp(u.target.error);o(c)},n.onsuccess=u=>{const c=u.target.result;c?t(c.primaryKey,c.value).next((m=>{m?c.continue():r()})):r()}}))}H(t,n){const r=[];return new k(((o,u)=>{t.onerror=c=>{u(c.target.error)},t.onsuccess=c=>{const m=c.target.result;if(!m)return void o();const g=new i2(m),y=n(m.primaryKey,m.value,g);if(y instanceof k){const T=y.catch((A=>(g.done(),k.reject(A))));r.push(T)}g.isDone?o():g.G===null?m.continue():m.continue(g.G)}})).next((()=>k.waitFor(r)))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.X?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Xs(s){return new k(((t,n)=>{s.onsuccess=r=>{const o=r.target.result;t(o)},s.onerror=r=>{const o=lp(r.target.error);n(o)}}))}let nE=!1;function lp(s){const t=os.M(Ue());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(n)>=0){const r=new ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nE||(nE=!0,setTimeout((()=>{throw r}),0)),r}}return s}const gu="IndexBackfiller";class s2{constructor(t,n){this.asyncQueue=t,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){tt(gu,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const n=await this.ne.ie();tt(gu,`Documents written: ${n}`)}catch(n){fs(n)?tt(gu,"Ignoring IndexedDB error during index backfill: ",n):await _a(n)}await this.re(6e4)}))}}class a2{constructor(t,n){this.localStore=t,this.persistence=n}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,t)))}se(t,n){const r=new Set;let o=n,u=!0;return k.doWhile((()=>u===!0&&o>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((c=>{if(c!==null&&!r.has(c))return tt(gu,`Processing collection: ${c}`),this.oe(t,c,o).next((m=>{o-=m,r.add(c)}));u=!1})))).next((()=>n-o))}oe(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next((o=>this.localStore.localDocuments.getNextDocuments(t,n,o,r).next((u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next((()=>this._e(o,u))).next((m=>(tt(gu,`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,n,m)))).next((()=>c.size))}))))}_e(t,n){let r=t;return n.changes.forEach(((o,u)=>{const c=AA(u);op(c,r)>0&&(r=c)})),new Dn(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}class Hn{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Hn.ce=-1;const ia=-1;function Rf(s){return s==null}function wu(s){return s===0&&1/s==-1/0}function o2(s){return typeof s=="number"&&Number.isInteger(s)&&!wu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const af="";function en(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=iE(t)),t=l2(s.get(n),t);return iE(t)}function l2(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case af:n+="";break;default:n+=u}}return n}function iE(s){return s+af+""}function Oi(s){const t=s.length;if(mt(t>=2,64408,{path:s}),t===2)return mt(s.charAt(0)===af&&s.charAt(1)==="",56145,{path:s}),ie.emptyPath();const n=t-2,r=[];let o="";for(let u=0;u<t;){const c=s.indexOf(af,u);switch((c<0||c>n)&&ut(50515,{path:s}),s.charAt(c+1)){case"":const m=s.substring(u,c);let g;o.length===0?g=m:(o+=m,g=o,o=""),r.push(g);break;case"":o+=s.substring(u,c),o+="\0";break;case"":o+=s.substring(u,c+1);break;default:ut(61167,{path:s})}u=c+2}return new ie(r)}const Ys="remoteDocuments",Hu="owner",ho="owner",Ru="mutationQueues",u2="userId",si="mutations",rE="batchId",ta="userMutationsIndex",sE=["userId","batchId"];function Bh(s,t){return[s,en(t)]}function wA(s,t,n){return[s,en(t),n]}const c2={},Vo="documentMutations",of="remoteDocumentsV14",h2=["prefixPath","collectionGroup","readTime","documentId"],jh="documentKeyIndex",f2=["prefixPath","collectionGroup","documentId"],RA="collectionGroupIndex",d2=["collectionGroup","readTime","prefixPath","documentId"],Cu="remoteDocumentGlobal",Ag="remoteDocumentGlobalKey",Oo="targets",CA="queryTargetsIndex",m2=["canonicalId","targetId"],xo="targetDocuments",g2=["targetId","path"],up="documentTargetsIndex",p2=["path","targetId"],lf="targetGlobalKey",ra="targetGlobal",Du="collectionParents",y2=["collectionId","parent"],Mo="clientMetadata",_2="clientId",Cf="bundles",v2="bundleId",Df="namedQueries",T2="name",cp="indexConfiguration",E2="indexId",Sg="collectionGroupIndex",A2="collectionGroup",pu="indexState",S2=["indexId","uid"],DA="sequenceNumberIndex",b2=["uid","sequenceNumber"],yu="indexEntries",I2=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NA="documentKeyIndex",w2=["indexId","uid","orderedDocumentKey"],Nf="documentOverlays",R2=["userId","collectionPath","documentId"],bg="collectionPathOverlayIndex",C2=["userId","collectionPath","largestBatchId"],VA="collectionGroupOverlayIndex",D2=["userId","collectionGroup","largestBatchId"],hp="globals",N2="name",OA=[Ru,si,Vo,Ys,Oo,Hu,ra,xo,Mo,Cu,Du,Cf,Df],V2=[...OA,Nf],xA=[Ru,si,Vo,of,Oo,Hu,ra,xo,Mo,Cu,Du,Cf,Df,Nf],MA=xA,fp=[...MA,cp,pu,yu],O2=fp,PA=[...fp,hp],x2=PA;class Ig extends bA{constructor(t,n){super(),this.le=t,this.currentSequenceNumber=n}}function Le(s,t){const n=bt(s);return os.O(n.le,t)}function aE(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function va(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function kA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class fe{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ch(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ch(this.root,t,this.comparator,!0)}}class Ch{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new $e(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ut(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw ut(57766)}get value(){throw ut(16141)}get color(){throw ut(16727)}get left(){throw ut(29726)}get right(){throw ut(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(t){return new oE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Zt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Zt(this.comparator);return n.data=t,n}}class oE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fo(s){return s.hasNext()?s.getNext():void 0}class Gn{constructor(t){this.fields=t,t.sort(me.comparator)}static empty(){return new Gn([])}unionWith(t){let n=new Zt(me.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Gn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return No(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class UA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new UA("Invalid base64 string: "+u):u}})(t);return new xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return St(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xe.EMPTY_BYTE_STRING=new xe("");const M2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(s){if(mt(!!s,39018),typeof s=="string"){let t=0;const n=M2.exec(s);if(mt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function hr(s){return typeof s=="string"?xe.fromBase64String(s):xe.fromUint8Array(s)}const LA="server_timestamp",zA="__type__",BA="__previous_value__",jA="__local_write_time__";function dp(s){return(s?.mapValue?.fields||{})[zA]?.stringValue===LA}function Vf(s){const t=s.mapValue.fields[BA];return dp(t)?Vf(t):t}function Nu(s){const t=cr(s.mapValue.fields[jA].timestampValue);return new $t(t.seconds,t.nanos)}class P2{constructor(t,n,r,o,u,c,m,g,y,T){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const uf="(default)";class fa{constructor(t,n){this.projectId=t,this.database=n||uf}static empty(){return new fa("","")}get isDefaultDatabase(){return this.database===uf}isEqual(t){return t instanceof fa&&t.projectId===this.projectId&&t.database===this.database}}const mp="__type__",qA="__max__",es={mapValue:{fields:{__type__:{stringValue:qA}}}},gp="__vector__",Po="value",qh={nullValue:"NULL_VALUE"};function ls(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?dp(s)?4:FA(s)?9007199254740991:Of(s)?10:11:ut(28295,{value:s})}function Li(s,t){if(s===t)return!0;const n=ls(s);if(n!==ls(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Nu(s).isEqual(Nu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=cr(o.timestampValue),m=cr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return hr(o.bytesValue).isEqual(hr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return he(o.geoPointValue.latitude)===he(u.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return he(o.integerValue)===he(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=he(o.doubleValue),m=he(u.doubleValue);return c===m?wu(c)===wu(m):isNaN(c)&&isNaN(m)}return!1})(s,t);case 9:return No(s.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(aE(c)!==aE(m))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(m[g]===void 0||!Li(c[g],m[g])))return!1;return!0})(s,t);default:return ut(52216,{left:s})}}function Vu(s,t){return(s.values||[]).find((n=>Li(n,t)))!==void 0}function us(s,t){if(s===t)return 0;const n=ls(s),r=ls(t);if(n!==r)return St(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return St(s.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=he(u.integerValue||u.doubleValue),g=he(c.integerValue||c.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,t);case 3:return lE(s.timestampValue,t.timestampValue);case 4:return lE(Nu(s),Nu(t));case 5:return Tg(s.stringValue,t.stringValue);case 6:return(function(u,c){const m=hr(u),g=hr(c);return m.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),g=c.split("/");for(let y=0;y<m.length&&y<g.length;y++){const T=St(m[y],g[y]);if(T!==0)return T}return St(m.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=St(he(u.latitude),he(c.latitude));return m!==0?m:St(he(u.longitude),he(c.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return uE(s.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},g=c.fields||{},y=m[Po]?.arrayValue,T=g[Po]?.arrayValue,A=St(y?.values?.length||0,T?.values?.length||0);return A!==0?A:uE(y,T)})(s.mapValue,t.mapValue);case 11:return(function(u,c){if(u===es.mapValue&&c===es.mapValue)return 0;if(u===es.mapValue)return 1;if(c===es.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=c.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let A=0;A<g.length&&A<T.length;++A){const R=Tg(g[A],T[A]);if(R!==0)return R;const j=us(m[g[A]],y[T[A]]);if(j!==0)return j}return St(g.length,T.length)})(s.mapValue,t.mapValue);default:throw ut(23264,{he:n})}}function lE(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return St(s,t);const n=cr(s),r=cr(t),o=St(n.seconds,r.seconds);return o!==0?o:St(n.nanos,r.nanos)}function uE(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=us(n[o],r[o]);if(u)return u}return St(n.length,r.length)}function ko(s){return wg(s)}function wg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=cr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return hr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return rt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=wg(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${wg(n.fields[c])}`;return o+"}"})(s.mapValue):ut(61005,{value:s})}function Fh(s){switch(ls(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vf(s);return t?16+Fh(t):16;case 5:return 2*s.stringValue.length;case 6:return hr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Fh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return va(r.fields,((u,c)=>{o+=u.length+Fh(c)})),o})(s.mapValue);default:throw ut(13486,{value:s})}}function pp(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Rg(s){return!!s&&"integerValue"in s}function Ou(s){return!!s&&"arrayValue"in s}function cE(s){return!!s&&"nullValue"in s}function hE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hh(s){return!!s&&"mapValue"in s}function Of(s){return(s?.mapValue?.fields||{})[mp]?.stringValue===gp}function _u(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return va(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=_u(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_u(s.arrayValue.values[n]);return t}return{...s}}function FA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===qA}const HA={mapValue:{fields:{[mp]:{stringValue:gp},[Po]:{arrayValue:{}}}}};function k2(s){return"nullValue"in s?qh:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?pp(fa.empty(),rt.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?Of(s)?HA:{mapValue:{}}:ut(35942,{value:s})}function U2(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?pp(fa.empty(),rt.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?HA:"mapValue"in s?Of(s)?{mapValue:{}}:es:ut(61959,{value:s})}function fE(s,t){const n=us(s.value,t.value);return n!==0?n:s.inclusive&&!t.inclusive?-1:!s.inclusive&&t.inclusive?1:0}function dE(s,t){const n=us(s.value,t.value);return n!==0?n:s.inclusive&&!t.inclusive?1:!s.inclusive&&t.inclusive?-1:0}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Hh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=_u(n)}setAll(t){let n=me.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}c?r[m.lastSegment()]=_u(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){va(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new gn(_u(this.value))}}function GA(s){const t=[];return va(s.fields,((n,r)=>{const o=new me([n]);if(Hh(r)){const u=GA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Gn(t)}class ye{constructor(t,n,r,o,u,c,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new ye(t,0,yt.min(),yt.min(),yt.min(),gn.empty(),0)}static newFoundDocument(t,n,r,o){return new ye(t,1,n,yt.min(),r,o,0)}static newNoDocument(t,n){return new ye(t,2,n,yt.min(),yt.min(),gn.empty(),0)}static newUnknownDocument(t,n){return new ye(t,3,n,yt.min(),yt.min(),gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uo{constructor(t,n){this.position=t,this.inclusive=n}}function mE(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],c=s.position[o];if(u.field.isKeyField()?r=rt.comparator(rt.fromName(c.referenceValue),n.key):r=us(c,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function gE(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Li(s.position[n],t.position[n]))return!1;return!0}class cf{constructor(t,n="asc"){this.field=t,this.dir=n}}function L2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class KA{}class jt extends KA{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new z2(t,n,r):n==="array-contains"?new q2(t,r):n==="in"?new ZA(t,r):n==="not-in"?new F2(t,r):n==="array-contains-any"?new H2(t,r):new jt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new B2(t,r):new j2(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(us(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(us(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class re extends KA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new re(t,n)}matches(t){return Lo(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Lo(s){return s.op==="and"}function Cg(s){return s.op==="or"}function yp(s){return QA(s)&&Lo(s)}function QA(s){for(const t of s.filters)if(t instanceof re)return!1;return!0}function Dg(s){if(s instanceof jt)return s.field.canonicalString()+s.op.toString()+ko(s.value);if(yp(s))return s.filters.map((t=>Dg(t))).join(",");{const t=s.filters.map((n=>Dg(n))).join(",");return`${s.op}(${t})`}}function YA(s,t){return s instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&Li(r.value,o.value)})(s,t):s instanceof re?(function(r,o){return o instanceof re&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&YA(c,o.filters[m])),!0):!1})(s,t):void ut(19439)}function XA(s,t){const n=s.filters.concat(t);return re.create(n,s.op)}function JA(s){return s instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`})(s):s instanceof re?(function(n){return n.op.toString()+" {"+n.getFilters().map(JA).join(" ,")+"}"})(s):"Filter"}class z2 extends jt{constructor(t,n,r){super(t,n,r),this.key=rt.fromName(r.referenceValue)}matches(t){const n=rt.comparator(t.key,this.key);return this.matchesComparison(n)}}class B2 extends jt{constructor(t,n){super(t,"in",n),this.keys=$A("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class j2 extends jt{constructor(t,n){super(t,"not-in",n),this.keys=$A("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function $A(s,t){return(t.arrayValue?.values||[]).map((n=>rt.fromName(n.referenceValue)))}class q2 extends jt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ou(n)&&Vu(n.arrayValue,this.value)}}class ZA extends jt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class F2 extends jt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vu(this.value.arrayValue,n)}}class H2 extends jt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ou(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Vu(this.value.arrayValue,r)))}}class G2{constructor(t,n=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function Ng(s,t=null,n=[],r=[],o=null,u=null,c=null){return new G2(s,t,n,r,o,u,c)}function da(s){const t=bt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Dg(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Rf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>ko(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>ko(r))).join(",")),t.Te=n}return t.Te}function Gu(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!L2(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!YA(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!gE(s.startAt,t.startAt)&&gE(s.endAt,t.endAt)}function hf(s){return rt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function ff(s,t){return s.filters.filter((n=>n instanceof jt&&n.field.isEqual(t)))}function pE(s,t,n){let r=qh,o=!0;for(const u of ff(s,t)){let c=qh,m=!0;switch(u.op){case"<":case"<=":c=k2(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,m=!1;break;case"!=":case"not-in":c=qh}fE({value:r,inclusive:o},{value:c,inclusive:m})<0&&(r=c,o=m)}if(n!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(t)){const c=n.position[u];fE({value:r,inclusive:o},{value:c,inclusive:n.inclusive})<0&&(r=c,o=n.inclusive);break}}return{value:r,inclusive:o}}function yE(s,t,n){let r=es,o=!0;for(const u of ff(s,t)){let c=es,m=!0;switch(u.op){case">=":case">":c=U2(u.value),m=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,m=!1;break;case"!=":case"not-in":c=es}dE({value:r,inclusive:o},{value:c,inclusive:m})>0&&(r=c,o=m)}if(n!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(t)){const c=n.position[u];dE({value:r,inclusive:o},{value:c,inclusive:n.inclusive})>0&&(r=c,o=n.inclusive);break}}return{value:r,inclusive:o}}class xf{constructor(t,n=null,r=[],o=[],u=null,c="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function K2(s,t,n,r,o,u,c,m){return new xf(s,t,n,r,o,u,c,m)}function Mf(s){return new xf(s)}function _E(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Q2(s){return s.collectionGroup!==null}function vu(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Zt(me.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new cf(u,r))})),n.has(me.keyField().canonicalString())||t.Ie.push(new cf(me.keyField(),r))}return t.Ie}function Kn(s){const t=bt(s);return t.Ee||(t.Ee=Y2(t,vu(s))),t.Ee}function Y2(s,t){if(s.limitType==="F")return Ng(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new cf(o.field,u)}));const n=s.endAt?new Uo(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Uo(s.startAt.position,s.startAt.inclusive):null;return Ng(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Vg(s,t,n){return new xf(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Pf(s,t){return Gu(Kn(s),Kn(t))&&s.limitType===t.limitType}function WA(s){return`${da(Kn(s))}|lt:${s.limitType}`}function vo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>JA(o))).join(", ")}]`),Rf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>ko(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>ko(o))).join(",")),`Target(${r})`})(Kn(s))}; limitType=${s.limitType})`}function Ku(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):rt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of vu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,g){const y=mE(c,m,g);return c.inclusive?y<=0:y<0})(r.startAt,vu(r),o)||r.endAt&&!(function(c,m,g){const y=mE(c,m,g);return c.inclusive?y>=0:y>0})(r.endAt,vu(r),o))})(s,t)}function X2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function tS(s){return(t,n)=>{let r=!1;for(const o of vu(s)){const u=J2(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function J2(s,t,n){const r=s.field.isKeyField()?rt.comparator(t.key,n.key):(function(u,c,m){const g=c.data.field(u),y=m.data.field(u);return g!==null&&y!==null?us(g,y):ut(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ut(19790,{direction:s.dir})}}class dr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){va(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return kA(this.inner)}size(){return this.innerSize}}const $2=new fe(rt.comparator);function wn(){return $2}const eS=new fe(rt.comparator);function lu(...s){let t=eS;for(const n of s)t=t.insert(n.key,n);return t}function nS(s){let t=eS;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function xi(){return Tu()}function iS(){return Tu()}function Tu(){return new dr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Z2=new fe(rt.comparator),W2=new Zt(rt.comparator);function Ot(...s){let t=W2;for(const n of s)t=t.add(n);return t}const tD=new Zt(St);function eD(){return tD}function _p(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wu(t)?"-0":t}}function rS(s){return{integerValue:""+s}}function nD(s,t){return o2(t)?rS(t):_p(s,t)}class kf{constructor(){this._=void 0}}function iD(s,t,n){return s instanceof xu?(function(o,u){const c={fields:{[zA]:{stringValue:LA},[jA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&dp(u)&&(u=Vf(u)),u&&(c.fields[BA]=u),{mapValue:c}})(n,t):s instanceof zo?aS(s,t):s instanceof Bo?oS(s,t):(function(o,u){const c=sS(o,u),m=vE(c)+vE(o.Ae);return Rg(c)&&Rg(o.Ae)?rS(m):_p(o.serializer,m)})(s,t)}function rD(s,t,n){return s instanceof zo?aS(s,t):s instanceof Bo?oS(s,t):n}function sS(s,t){return s instanceof Mu?(function(r){return Rg(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class xu extends kf{}class zo extends kf{constructor(t){super(),this.elements=t}}function aS(s,t){const n=lS(t);for(const r of s.elements)n.some((o=>Li(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Bo extends kf{constructor(t){super(),this.elements=t}}function oS(s,t){let n=lS(t);for(const r of s.elements)n=n.filter((o=>!Li(o,r)));return{arrayValue:{values:n}}}class Mu extends kf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function vE(s){return he(s.integerValue||s.doubleValue)}function lS(s){return Ou(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class sD{constructor(t,n){this.field=t,this.transform=n}}function aD(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof zo&&o instanceof zo||r instanceof Bo&&o instanceof Bo?No(r.elements,o.elements,Li):r instanceof Mu&&o instanceof Mu?Li(r.Ae,o.Ae):r instanceof xu&&o instanceof xu})(s.transform,t.transform)}class oD{constructor(t,n){this.version=t,this.transformResults=n}}class Rn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Rn}static exists(t){return new Rn(void 0,t)}static updateTime(t){return new Rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Uf{}function uS(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new vp(s.key,Rn.none()):new Qo(s.key,s.data,Rn.none());{const n=s.data,r=gn.empty();let o=new Zt(me.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new ds(s.key,r,new Gn(o.toArray()),Rn.none())}}function lD(s,t,n){s instanceof Qo?(function(o,u,c){const m=o.value.clone(),g=EE(o.fieldTransforms,u,c.transformResults);m.setAll(g),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(s,t,n):s instanceof ds?(function(o,u,c){if(!Gh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=EE(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(cS(o)),g.setAll(m),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(s,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Eu(s,t,n,r){return s instanceof Qo?(function(u,c,m,g){if(!Gh(u.precondition,c))return m;const y=u.value.clone(),T=AE(u.fieldTransforms,g,c);return y.setAll(T),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(s,t,n,r):s instanceof ds?(function(u,c,m,g){if(!Gh(u.precondition,c))return m;const y=AE(u.fieldTransforms,g,c),T=c.data;return T.setAll(cS(u)),T.setAll(y),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,t,n,r):(function(u,c,m){return Gh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(s,t,n)}function uD(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=sS(r.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(r.field,u))}return n||null}function TE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&No(r,o,((u,c)=>aD(u,c)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Qo extends Uf{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends Uf{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cS(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function EE(s,t,n){const r=new Map;mt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,rD(c,m,n[o]))}return r}function AE(s,t,n){const r=new Map;for(const o of s){const u=o.transform,c=n.data.field(o.field);r.set(o.field,iD(u,c,t))}return r}class vp extends Uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hS extends Uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tp{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&lD(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Eu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Eu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=iS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const g=uS(c,m);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&No(this.mutations,t.mutations,((n,r)=>TE(n,r)))&&No(this.baseMutations,t.baseMutations,((n,r)=>TE(n,r)))}}class Ep{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){mt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return Z2})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Ep(t,n,r,o)}}class Ap{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cD{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ve,Ft;function hD(s){switch(s){case X.OK:return ut(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ut(15467,{code:s})}}function fS(s){if(s===void 0)return an("GRPC error has no .code"),X.UNKNOWN;switch(s){case Ve.OK:return X.OK;case Ve.CANCELLED:return X.CANCELLED;case Ve.UNKNOWN:return X.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return X.INTERNAL;case Ve.UNAVAILABLE:return X.UNAVAILABLE;case Ve.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ve.NOT_FOUND:return X.NOT_FOUND;case Ve.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ve.ABORTED:return X.ABORTED;case Ve.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ve.DATA_LOSS:return X.DATA_LOSS;default:return ut(39323,{code:s})}}(Ft=Ve||(Ve={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function fD(){return new TextEncoder}const dD=new ss([4294967295,4294967295],0);function SE(s){const t=fD().encode(s),n=new fA;return n.update(t),new Uint8Array(n.digest())}function bE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ss([n,r],0),new ss([o,u],0)]}class Sp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(r<0)throw new uu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ss.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(ss.fromNumber(r)));return o.compare(dD)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=SE(t),[r,o]=bE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Sp(u,o,n);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const n=SE(t),[r,o]=bE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lf{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Qu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Lf(yt.min(),o,new fe(St),wn(),Ot())}}class Qu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Qu(r,n,Ot(),Ot(),Ot())}}class Kh{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class dS{constructor(t,n){this.targetId=t,this.Ce=n}}class mS{constructor(t,n,r=xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class IE{constructor(){this.ve=0,this.Fe=wE(),this.Me=xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),n=Ot(),r=Ot();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ut(38017,{changeType:u})}})),new Qu(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=wE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mD{constructor(t){this.Ge=t,this.ze=new Map,this.je=wn(),this.Je=Dh(),this.He=Dh(),this.Ye=new fe(St)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:ut(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(hf(u))if(r===0){const c=new rt(u.path);this.et(n,c,ye.newNoDocument(c,yt.min()))}else mt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const m=this.ut(t),g=m?this.ct(m,t,c):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=hr(r).toUint8Array()}catch(g){if(g instanceof UA)return ha("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Sp(c,o,u)}catch(g){return ha(g instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&hf(m.target)){const g=new rt(m.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,ye.newNoDocument(g,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let r=Ot();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Lf(t,n,this.Ye,this.je,r);return this.je=wn(),this.Je=Dh(),this.He=Dh(),this.Ye=new fe(St),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new IE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Zt(St),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Zt(St),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||tt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new IE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Dh(){return new fe(rt.comparator)}function wE(){return new fe(rt.comparator)}const gD={asc:"ASCENDING",desc:"DESCENDING"},pD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yD={and:"AND",or:"OR"};class _D{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Og(s,t){return s.useProto3Json||Rf(t)?t:{value:t}}function jo(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gS(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function vD(s,t){return jo(s,t.toTimestamp())}function on(s){return mt(!!s,49232),yt.fromTimestamp((function(n){const r=cr(n);return new $t(r.seconds,r.nanos)})(s))}function bp(s,t){return xg(s,t).canonicalString()}function xg(s,t){const n=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function pS(s){const t=ie.fromString(s);return mt(IS(t),10190,{key:t.toString()}),t}function df(s,t){return bp(s.databaseId,t.path)}function sa(s,t){const n=pS(t);if(n.get(1)!==s.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new rt(vS(n))}function yS(s,t){return bp(s.databaseId,t)}function _S(s){const t=pS(s);return t.length===4?ie.emptyPath():vS(t)}function Mg(s){return new ie(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function vS(s){return mt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function RE(s,t,n){return{name:df(s,t),fields:n.value.mapValue.fields}}function TD(s,t,n){const r=sa(s,t.name),o=on(t.updateTime),u=t.createTime?on(t.createTime):yt.min(),c=new gn({mapValue:{fields:t.fields}}),m=ye.newFoundDocument(r,o,u,c);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function ED(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ut(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(mt(T===void 0||typeof T=="string",58123),xe.fromBase64String(T||"")):(mt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),xe.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(y){const T=y.code===void 0?X.UNKNOWN:fS(y.code);return new ot(T,y.message||"")})(c);n=new mS(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=sa(s,r.document.name),u=on(r.document.updateTime),c=r.document.createTime?on(r.document.createTime):yt.min(),m=new gn({mapValue:{fields:r.document.fields}}),g=ye.newFoundDocument(o,u,c,m),y=r.targetIds||[],T=r.removedTargetIds||[];n=new Kh(y,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=sa(s,r.document),u=r.readTime?on(r.readTime):yt.min(),c=ye.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Kh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=sa(s,r.document),u=r.removedTargetIds||[];n=new Kh([],u,o,null)}else{if(!("filter"in t))return ut(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new cD(o,u),m=r.targetId;n=new dS(m,c)}}return n}function mf(s,t){let n;if(t instanceof Qo)n={update:RE(s,t.key,t.value)};else if(t instanceof vp)n={delete:df(s,t.key)};else if(t instanceof ds)n={update:RE(s,t.key,t.data),updateMask:RD(t.fieldMask)};else{if(!(t instanceof hS))return ut(16599,{Vt:t.type});n={verify:df(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof zo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Bo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mu)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw ut(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:vD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ut(27497)})(s,t.precondition)),n}function Pg(s,t){const n=t.currentDocument?(function(u){return u.updateTime!==void 0?Rn.updateTime(on(u.updateTime)):u.exists!==void 0?Rn.exists(u.exists):Rn.none()})(t.currentDocument):Rn.none(),r=t.updateTransforms?t.updateTransforms.map((o=>(function(c,m){let g=null;if("setToServerValue"in m)mt(m.setToServerValue==="REQUEST_TIME",16630,{proto:m}),g=new xu;else if("appendMissingElements"in m){const T=m.appendMissingElements.values||[];g=new zo(T)}else if("removeAllFromArray"in m){const T=m.removeAllFromArray.values||[];g=new Bo(T)}else"increment"in m?g=new Mu(c,m.increment):ut(16584,{proto:m});const y=me.fromServerFormat(m.fieldPath);return new sD(y,g)})(s,o))):[];if(t.update){t.update.name;const o=sa(s,t.update.name),u=new gn({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=(function(g){const y=g.fieldPaths||[];return new Gn(y.map((T=>me.fromServerFormat(T))))})(t.updateMask);return new ds(o,u,c,n,r)}return new Qo(o,u,n,r)}if(t.delete){const o=sa(s,t.delete);return new vp(o,n)}if(t.verify){const o=sa(s,t.verify);return new hS(o,n)}return ut(1463,{proto:t})}function AD(s,t){return s&&s.length>0?(mt(t!==void 0,14353),s.map((n=>(function(o,u){let c=o.updateTime?on(o.updateTime):on(u);return c.isEqual(yt.min())&&(c=on(u)),new oD(c,o.transformResults||[])})(n,t)))):[]}function TS(s,t){return{documents:[yS(s,t.path)]}}function ES(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yS(s,o);const u=(function(y){if(y.length!==0)return bS(re.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(y){if(y.length!==0)return y.map((T=>(function(R){return{field:To(R.field),direction:bD(R.dir)}})(T)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Og(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function AS(s){let t=_S(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){mt(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(A){const R=SS(A);return R instanceof re&&yp(R)?R.getFilters():[R]})(n.where));let c=[];n.orderBy&&(c=(function(A){return A.map((R=>(function(J){return new cf(Eo(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let R;return R=typeof A=="object"?A.value:A,Rf(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(A){const R=!!A.before,j=A.values||[];return new Uo(j,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const R=!A.before,j=A.values||[];return new Uo(j,R)})(n.endAt)),K2(t,o,c,u,m,"F",g,y)}function SD(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function SS(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Eo(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(n.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Eo(n.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ut(61313);default:return ut(60726)}})(s):s.fieldFilter!==void 0?(function(n){return jt.create(Eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ut(58110);default:return ut(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return re.create(n.compositeFilter.filters.map((r=>SS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ut(1026)}})(n.compositeFilter.op))})(s):ut(30097,{filter:s})}function bD(s){return gD[s]}function ID(s){return pD[s]}function wD(s){return yD[s]}function To(s){return{fieldPath:s.canonicalString()}}function Eo(s){return me.fromServerFormat(s.fieldPath)}function bS(s){return s instanceof jt?(function(n){if(n.op==="=="){if(hE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(cE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(cE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:ID(n.op),value:n.value}}})(s):s instanceof re?(function(n){const r=n.getFilters().map((o=>bS(o)));return r.length===1?r[0]:{compositeFilter:{op:wD(n.op),filters:r}}})(s):ut(54877,{filter:s})}function RD(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function IS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class or{constructor(t,n,r,o,u=yt.min(),c=yt.min(),m=xe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class wS{constructor(t){this.yt=t}}function CD(s,t){let n;if(t.document)n=TD(s.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=rt.fromSegments(t.noDocument.path),o=ga(t.noDocument.readTime);n=ye.newNoDocument(r,o),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ut(56709);{const r=rt.fromSegments(t.unknownDocument.path),o=ga(t.unknownDocument.version);n=ye.newUnknownDocument(r,o)}}return t.readTime&&n.setReadTime((function(o){const u=new $t(o[0],o[1]);return yt.fromTimestamp(u)})(t.readTime)),n}function CE(s,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=(function(u,c){return{name:df(u,c.key),fields:c.data.value.mapValue.fields,updateTime:jo(u,c.version.toTimestamp()),createTime:jo(u,c.createTime.toTimestamp())}})(s.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ma(t.version)};else{if(!t.isUnknownDocument())return ut(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:ma(t.version)}}return r}function gf(s){const t=s.toTimestamp();return[t.seconds,t.nanoseconds]}function ma(s){const t=s.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ga(s){const t=new $t(s.seconds,s.nanoseconds);return yt.fromTimestamp(t)}function Js(s,t){const n=(t.baseMutations||[]).map((u=>Pg(s.yt,u)));for(let u=0;u<t.mutations.length-1;++u){const c=t.mutations[u];if(u+1<t.mutations.length&&t.mutations[u+1].transform!==void 0){const m=t.mutations[u+1];c.updateTransforms=m.transform.fieldTransforms,t.mutations.splice(u+1,1),++u}}const r=t.mutations.map((u=>Pg(s.yt,u))),o=$t.fromMillis(t.localWriteTimeMs);return new Tp(t.batchId,o,n,r)}function cu(s){const t=ga(s.readTime),n=s.lastLimboFreeSnapshotVersion!==void 0?ga(s.lastLimboFreeSnapshotVersion):yt.min();let r;return r=(function(u){return u.documents!==void 0})(s.query)?(function(u){const c=u.documents.length;return mt(c===1,1966,{count:c}),Kn(Mf(_S(u.documents[0])))})(s.query):(function(u){return Kn(AS(u))})(s.query),new or(r,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,t,n,xe.fromBase64String(s.resumeToken))}function RS(s,t){const n=ma(t.snapshotVersion),r=ma(t.lastLimboFreeSnapshotVersion);let o;o=hf(t.target)?TS(s.yt,t.target):ES(s.yt,t.target).ft;const u=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:da(t.target),readTime:n,resumeToken:u,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function CS(s){const t=AS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Vg(t,t.limit,"L"):t}function ig(s,t){return new Ap(t.largestBatchId,Pg(s.yt,t.overlayMutation))}function DE(s,t){const n=t.path.lastSegment();return[s,en(t.path.popLast()),n]}function NE(s,t,n,r){return{indexId:s,uid:t,sequenceNumber:n,readTime:ma(r.readTime),documentKey:en(r.documentKey.path),largestBatchId:r.largestBatchId}}class DD{getBundleMetadata(t,n){return VE(t).get(n).next((r=>{if(r)return(function(u){return{id:u.bundleId,createTime:ga(u.createTime),version:u.version}})(r)}))}saveBundleMetadata(t,n){return VE(t).put((function(o){return{bundleId:o.id,createTime:ma(on(o.createTime)),version:o.version}})(n))}getNamedQuery(t,n){return OE(t).get(n).next((r=>{if(r)return(function(u){return{name:u.name,query:CS(u.bundledQuery),readTime:ga(u.readTime)}})(r)}))}saveNamedQuery(t,n){return OE(t).put((function(o){return{name:o.name,readTime:ma(on(o.readTime)),bundledQuery:o.bundledQuery}})(n))}}function VE(s){return Le(s,Cf)}function OE(s){return Le(s,Df)}class zf{constructor(t,n){this.serializer=t,this.userId=n}static wt(t,n){const r=n.uid||"";return new zf(t,r)}getOverlay(t,n){return eu(t).get(DE(this.userId,n)).next((r=>r?ig(this.serializer,r):null))}getOverlays(t,n){const r=xi();return k.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){const o=[];return r.forEach(((u,c)=>{const m=new Ap(n,c);o.push(this.St(t,m))})),k.waitFor(o)}removeOverlaysForBatchId(t,n,r){const o=new Set;n.forEach((c=>o.add(en(c.getCollectionPath()))));const u=[];return o.forEach((c=>{const m=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(eu(t).Z(bg,m))})),k.waitFor(u)}getOverlaysForCollection(t,n,r){const o=xi(),u=en(n),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return eu(t).J(bg,c).next((m=>{for(const g of m){const y=ig(this.serializer,g);o.set(y.getKey(),y)}return o}))}getOverlaysForCollectionGroup(t,n,r,o){const u=xi();let c;const m=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return eu(t).ee({index:VA,range:m},((g,y,T)=>{const A=ig(this.serializer,y);u.size()<o||A.largestBatchId===c?(u.set(A.getKey(),A),c=A.largestBatchId):T.done()})).next((()=>u))}St(t,n){return eu(t).put((function(o,u,c){const[m,g,y]=DE(u,c.mutation.key);return{userId:u,collectionPath:g,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:mf(o.yt,c.mutation)}})(this.serializer,this.userId,n))}}function eu(s){return Le(s,Nf)}class ND{bt(t){return Le(t,hp)}getSessionToken(t){return this.bt(t).get("sessionToken").next((n=>{const r=n?.value;return r?xe.fromUint8Array(r):xe.EMPTY_BYTE_STRING}))}setSessionToken(t,n){return this.bt(t).put({name:"sessionToken",value:n.toUint8Array()})}}class $s{constructor(){}Dt(t,n){this.Ct(t,n),n.vt()}Ct(t,n){if("nullValue"in t)this.Ft(n,5);else if("booleanValue"in t)this.Ft(n,10),n.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(n,15),n.Mt(he(t.integerValue));else if("doubleValue"in t){const r=he(t.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),wu(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=cr(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,n),this.Nt(n);else if("bytesValue"in t)this.Ft(n,30),n.Bt(hr(t.bytesValue)),this.Nt(n);else if("referenceValue"in t)this.Lt(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in t?FA(t)?this.Ft(n,Number.MAX_SAFE_INTEGER):Of(t)?this.kt(t.mapValue,n):(this.qt(t.mapValue,n),this.Nt(n)):"arrayValue"in t?(this.Qt(t.arrayValue,n),this.Nt(n)):ut(19022,{$t:t})}Ot(t,n){this.Ft(n,25),this.Ut(t,n)}Ut(t,n){n.xt(t)}qt(t,n){const r=t.fields||{};this.Ft(n,55);for(const o of Object.keys(r))this.Ot(o,n),this.Ct(r[o],n)}kt(t,n){const r=t.fields||{};this.Ft(n,53);const o=Po,u=r[o].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(he(u)),this.Ot(o,n),this.Ct(r[o],n)}Qt(t,n){const r=t.values||[];this.Ft(n,50);for(const o of r)this.Ct(o,n)}Lt(t,n){this.Ft(n,37),rt.fromName(t).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(t,n){t.Mt(n)}Nt(t){t.Mt(2)}}$s.Kt=new $s;const mo=255;function VD(s){if(s===0)return 8;let t=0;return s>>4||(t+=4,s<<=4),s>>6||(t+=2,s<<=2),s>>7||(t+=1),t}function xE(s){const t=64-(function(r){let o=0;for(let u=0;u<8;++u){const c=VD(255&r[u]);if(o+=c,c!==8)break}return o})(s);return Math.ceil(t/8)}class OD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const o=n.codePointAt(0);this.Gt(240|o>>>18),this.Gt(128|63&o>>>12),this.Gt(128|63&o>>>6),this.Gt(128|63&o)}}this.zt()}Zt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const o=n.codePointAt(0);this.Jt(240|o>>>18),this.Jt(128|63&o>>>12),this.Jt(128|63&o>>>6),this.Jt(128|63&o)}}this.Ht()}Xt(t){const n=this.en(t),r=xE(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=255&n[o]}nn(t){const n=this.en(t),r=xE(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=~(255&n[o])}rn(){this.sn(mo),this.sn(255)}_n(){this.an(mo),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const n=(function(u){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,u,!1),new Uint8Array(c.buffer)})(t),r=!!(128&n[0]);n[0]^=r?255:128;for(let o=1;o<n.length;++o)n[o]^=r?255:0;return n}Gt(t){const n=255&t;n===0?(this.sn(0),this.sn(255)):n===mo?(this.sn(mo),this.sn(0)):this.sn(n)}Jt(t){const n=255&t;n===0?(this.an(0),this.an(255)):n===mo?(this.an(mo),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class xD{constructor(t){this.cn=t}Bt(t){this.cn.Wt(t)}xt(t){this.cn.Yt(t)}Mt(t){this.cn.Xt(t)}vt(){this.cn.rn()}}class MD{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class nu{constructor(){this.cn=new OD,this.ln=new xD(this.cn),this.hn=new MD(this.cn)}seed(t){this.cn.seed(t)}Pn(t){return t===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Zs{constructor(t,n,r,o){this.Tn=t,this.In=n,this.En=r,this.dn=o}An(){const t=this.dn.length,n=t===0||this.dn[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.dn,0),n!==t?r.set([0],this.dn.length):++r[r.length-1],new Zs(this.Tn,this.In,this.En,r)}Rn(t,n,r){return{indexId:this.Tn,uid:t,arrayValue:Qh(this.En),directionalValue:Qh(this.dn),orderedDocumentKey:Qh(n),documentKey:r.path.toArray()}}Vn(t,n,r){const o=this.Rn(t,n,r);return[o.indexId,o.uid,o.arrayValue,o.directionalValue,o.orderedDocumentKey,o.documentKey]}}function Yr(s,t){let n=s.Tn-t.Tn;return n!==0?n:(n=ME(s.En,t.En),n!==0?n:(n=ME(s.dn,t.dn),n!==0?n:rt.comparator(s.In,t.In)))}function ME(s,t){for(let n=0;n<s.length&&n<t.length;++n){const r=s[n]-t[n];if(r!==0)return r}return s.length-t.length}function Qh(s){return C0()?(function(n){let r="";for(let o=0;o<n.length;o++)r+=String.fromCharCode(n[o]);return r})(s):s}function PE(s){return typeof s!="string"?s:(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(s)}class kE{constructor(t){this.mn=new Zt(((n,r)=>me.comparator(n.field,r.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.fn=t.orderBy,this.gn=[];for(const n of t.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(t){if(mt(t.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Eg(t);if(n!==void 0&&!this.wn(n))return!1;const r=Qs(t);let o=new Set,u=0,c=0;for(;u<r.length&&this.wn(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(this.mn.size>0){const m=this.mn.getIterator().getNext();if(!o.has(m.field.canonicalString())){const g=r[u];if(!this.Sn(m,g)||!this.bn(this.fn[c++],g))return!1}++u}for(;u<r.length;++u){const m=r[u];if(c>=this.fn.length||!this.bn(this.fn[c++],m))return!1}return!0}Dn(){if(this.pn)return null;let t=new Zt(me.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new zh(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),n.push(new zh(r.field,0))}for(const r of this.fn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),n.push(new zh(r.field,r.dir==="asc"?0:1)));return new sf(sf.UNKNOWN_ID,this.collectionId,n,Iu.empty())}wn(t){for(const n of this.gn)if(this.Sn(n,t))return!0;return!1}Sn(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===r}bn(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}function DS(s){if(mt(s instanceof jt||s instanceof re,20012),s instanceof jt){if(s instanceof ZA){const n=s.value.arrayValue?.values?.map((r=>jt.create(s.field,"==",r)))||[];return re.create(n,"or")}return s}const t=s.filters.map((n=>DS(n)));return re.create(t,s.op)}function PD(s){if(s.getFilters().length===0)return[];const t=Lg(DS(s));return mt(NS(t),7391),kg(t)||Ug(t)?[t]:t.getFilters()}function kg(s){return s instanceof jt}function Ug(s){return s instanceof re&&yp(s)}function NS(s){return kg(s)||Ug(s)||(function(n){if(n instanceof re&&Cg(n)){for(const r of n.getFilters())if(!kg(r)&&!Ug(r))return!1;return!0}return!1})(s)}function Lg(s){if(mt(s instanceof jt||s instanceof re,34018),s instanceof jt)return s;if(s.filters.length===1)return Lg(s.filters[0]);const t=s.filters.map((r=>Lg(r)));let n=re.create(t,s.op);return n=pf(n),NS(n)?n:(mt(n instanceof re,64498),mt(Lo(n),40251),mt(n.filters.length>1,57927),n.filters.reduce(((r,o)=>Ip(r,o))))}function Ip(s,t){let n;return mt(s instanceof jt||s instanceof re,38388),mt(t instanceof jt||t instanceof re,25473),n=s instanceof jt?t instanceof jt?(function(o,u){return re.create([o,u],"and")})(s,t):UE(s,t):t instanceof jt?UE(t,s):(function(o,u){if(mt(o.filters.length>0&&u.filters.length>0,48005),Lo(o)&&Lo(u))return XA(o,u.getFilters());const c=Cg(o)?o:u,m=Cg(o)?u:o,g=c.filters.map((y=>Ip(y,m)));return re.create(g,"or")})(s,t),pf(n)}function UE(s,t){if(Lo(t))return XA(t,s.getFilters());{const n=t.filters.map((r=>Ip(s,r)));return re.create(n,"or")}}function pf(s){if(mt(s instanceof jt||s instanceof re,11850),s instanceof jt)return s;const t=s.getFilters();if(t.length===1)return pf(t[0]);if(QA(s))return s;const n=t.map((o=>pf(o))),r=[];return n.forEach((o=>{o instanceof jt?r.push(o):o instanceof re&&(o.op===s.op?r.push(...o.filters):r.push(o))})),r.length===1?r[0]:re.create(r,s.op)}class kD{constructor(){this.Cn=new wp}addToCollectionParentIndex(t,n){return this.Cn.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Dn.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Dn.min())}updateCollectionGroup(t,n,r){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class wp{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Zt(ie.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Zt(ie.comparator)).toArray()}}const LE="IndexedDbIndexManager",Nh=new Uint8Array(0);class UD{constructor(t,n){this.databaseId=n,this.vn=new wp,this.Fn=new dr((r=>da(r)),((r,o)=>Gu(r,o))),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.vn.has(n)){const r=n.lastSegment(),o=n.popLast();t.addOnCommittedListener((()=>{this.vn.add(n)}));const u={collectionId:r,parent:en(o)};return zE(t).put(u)}return k.resolve()}getCollectionParents(t,n){const r=[],o=IDBKeyRange.bound([n,""],[TA(n),""],!1,!0);return zE(t).J(o).next((u=>{for(const c of u){if(c.collectionId!==n)break;r.push(Oi(c.parent))}return r}))}addFieldIndex(t,n){const r=iu(t),o=(function(m){return{indexId:m.indexId,collectionGroup:m.collectionGroup,fields:m.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(n);delete o.indexId;const u=r.add(o);if(n.indexState){const c=po(t);return u.next((m=>{c.put(NE(m,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return u.next()}deleteFieldIndex(t,n){const r=iu(t),o=po(t),u=go(t);return r.delete(n.indexId).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const n=iu(t),r=go(t),o=po(t);return n.Z().next((()=>r.Z())).next((()=>o.Z()))}createTargetIndexes(t,n){return k.forEach(this.Mn(n),(r=>this.getIndexType(t,r).next((o=>{if(o===0||o===1){const u=new kE(r).Dn();if(u!=null)return this.addFieldIndex(t,u)}}))))}getDocumentsMatchingTarget(t,n){const r=go(t);let o=!0;const u=new Map;return k.forEach(this.Mn(n),(c=>this.xn(t,c).next((m=>{o&&(o=!!m),u.set(c,m)})))).next((()=>{if(o){let c=Ot();const m=[];return k.forEach(u,((g,y)=>{tt(LE,`Using index ${(function(st){return`id=${st.indexId}|cg=${st.collectionGroup}|f=${st.fields.map((Rt=>`${Rt.fieldPath}:${Rt.kind}`)).join(",")}`})(g)} to execute ${da(n)}`);const T=(function(st,Rt){const It=Eg(Rt);if(It===void 0)return null;for(const _t of ff(st,It.fieldPath))switch(_t.op){case"array-contains-any":return _t.value.arrayValue.values||[];case"array-contains":return[_t.value]}return null})(y,g),A=(function(st,Rt){const It=new Map;for(const _t of Qs(Rt))for(const C of ff(st,_t.fieldPath))switch(C.op){case"==":case"in":It.set(_t.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return It.set(_t.fieldPath.canonicalString(),C.value),Array.from(It.values())}return null})(y,g),R=(function(st,Rt){const It=[];let _t=!0;for(const C of Qs(Rt)){const w=C.kind===0?pE(st,C.fieldPath,st.startAt):yE(st,C.fieldPath,st.startAt);It.push(w.value),_t&&(_t=w.inclusive)}return new Uo(It,_t)})(y,g),j=(function(st,Rt){const It=[];let _t=!0;for(const C of Qs(Rt)){const w=C.kind===0?yE(st,C.fieldPath,st.endAt):pE(st,C.fieldPath,st.endAt);It.push(w.value),_t&&(_t=w.inclusive)}return new Uo(It,_t)})(y,g),J=this.On(g,y,R),W=this.On(g,y,j),Z=this.Nn(g,y,A),ht=this.Bn(g.indexId,T,J,R.inclusive,W,j.inclusive,Z);return k.forEach(ht,(ft=>r.Y(ft,n.limit).next((st=>{st.forEach((Rt=>{const It=rt.fromSegments(Rt.documentKey);c.has(It)||(c=c.add(It),m.push(It))}))}))))})).next((()=>m))}return k.resolve(null)}))}Mn(t){let n=this.Fn.get(t);return n||(t.filters.length===0?n=[t]:n=PD(re.create(t.filters,"and")).map((r=>Ng(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt))),this.Fn.set(t,n),n)}Bn(t,n,r,o,u,c,m){const g=(n!=null?n.length:1)*Math.max(r.length,u.length),y=g/(n!=null?n.length:1),T=[];for(let A=0;A<g;++A){const R=n?this.Ln(n[A/y]):Nh,j=this.kn(t,R,r[A%y],o),J=this.qn(t,R,u[A%y],c),W=m.map((Z=>this.kn(t,R,Z,!0)));T.push(...this.createRange(j,J,W))}return T}kn(t,n,r,o){const u=new Zs(t,rt.empty(),n,r);return o?u:u.An()}qn(t,n,r,o){const u=new Zs(t,rt.empty(),n,r);return o?u.An():u}xn(t,n){const r=new kE(n),o=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,o).next((u=>{let c=null;for(const m of u)r.yn(m)&&(!c||m.fields.length>c.fields.length)&&(c=m);return c}))}getIndexType(t,n){let r=2;const o=this.Mn(n);return k.forEach(o,(u=>this.xn(t,u).next((c=>{c?r!==0&&c.fields.length<(function(g){let y=new Zt(me.comparator),T=!1;for(const A of g.filters)for(const R of A.getFlattenedFilters())R.field.isKeyField()||(R.op==="array-contains"||R.op==="array-contains-any"?T=!0:y=y.add(R.field));for(const A of g.orderBy)A.field.isKeyField()||(y=y.add(A.field));return y.size+(T?1:0)})(u)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&o.length>1&&r===2?1:r))}Qn(t,n){const r=new nu;for(const o of Qs(t)){const u=n.data.field(o.fieldPath);if(u==null)return null;const c=r.Pn(o.kind);$s.Kt.Dt(u,c)}return r.un()}Ln(t){const n=new nu;return $s.Kt.Dt(t,n.Pn(0)),n.un()}$n(t,n){const r=new nu;return $s.Kt.Dt(pp(this.databaseId,n),r.Pn((function(u){const c=Qs(u);return c.length===0?0:c[c.length-1].kind})(t))),r.un()}Nn(t,n,r){if(r===null)return[];let o=[];o.push(new nu);let u=0;for(const c of Qs(t)){const m=r[u++];for(const g of o)if(this.Un(n,c.fieldPath)&&Ou(m))o=this.Kn(o,c,m);else{const y=g.Pn(c.kind);$s.Kt.Dt(m,y)}}return this.Wn(o)}On(t,n,r){return this.Nn(t,n,r.position)}Wn(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].un();return n}Kn(t,n,r){const o=[...t],u=[];for(const c of r.arrayValue.values||[])for(const m of o){const g=new nu;g.seed(m.un()),$s.Kt.Dt(c,g.Pn(n.kind)),u.push(g)}return u}Un(t,n){return!!t.filters.find((r=>r instanceof jt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(t,n){const r=iu(t),o=po(t);return(n?r.J(Sg,IDBKeyRange.bound(n,n)):r.J()).next((u=>{const c=[];return k.forEach(u,(m=>o.get([m.indexId,this.uid]).next((g=>{c.push((function(T,A){const R=A?new Iu(A.sequenceNumber,new Dn(ga(A.readTime),new rt(Oi(A.documentKey)),A.largestBatchId)):Iu.empty(),j=T.fields.map((([J,W])=>new zh(me.fromServerFormat(J),W)));return new sf(T.indexId,T.collectionGroup,j,R)})(m,g))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((n=>n.length===0?null:(n.sort(((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return u!==0?u:St(r.collectionGroup,o.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(t,n,r){const o=iu(t),u=po(t);return this.Gn(t).next((c=>o.J(Sg,IDBKeyRange.bound(n,n)).next((m=>k.forEach(m,(g=>u.put(NE(g.indexId,this.uid,c,r))))))))}updateIndexEntries(t,n){const r=new Map;return k.forEach(n,((o,u)=>{const c=r.get(o.collectionGroup);return(c?k.resolve(c):this.getFieldIndexes(t,o.collectionGroup)).next((m=>(r.set(o.collectionGroup,m),k.forEach(m,(g=>this.zn(t,o,g).next((y=>{const T=this.jn(u,g);return y.isEqual(T)?k.resolve():this.Jn(t,u,g,y,T)})))))))}))}Hn(t,n,r,o){return go(t).put(o.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(t,n,r,o){return go(t).delete(o.Vn(this.uid,this.$n(r,n.key),n.key))}zn(t,n,r){const o=go(t);let u=new Zt(Yr);return o.ee({index:NA,range:IDBKeyRange.only([r.indexId,this.uid,Qh(this.$n(r,n))])},((c,m)=>{u=u.add(new Zs(r.indexId,n,PE(m.arrayValue),PE(m.directionalValue)))})).next((()=>u))}jn(t,n){let r=new Zt(Yr);const o=this.Qn(n,t);if(o==null)return r;const u=Eg(n);if(u!=null){const c=t.data.field(u.fieldPath);if(Ou(c))for(const m of c.arrayValue.values||[])r=r.add(new Zs(n.indexId,t.key,this.Ln(m),o))}else r=r.add(new Zs(n.indexId,t.key,Nh,o));return r}Jn(t,n,r,o,u){tt(LE,"Updating index entries for document '%s'",n.key);const c=[];return(function(g,y,T,A,R){const j=g.getIterator(),J=y.getIterator();let W=fo(j),Z=fo(J);for(;W||Z;){let ht=!1,ft=!1;if(W&&Z){const st=T(W,Z);st<0?ft=!0:st>0&&(ht=!0)}else W!=null?ft=!0:ht=!0;ht?(A(Z),Z=fo(J)):ft?(R(W),W=fo(j)):(W=fo(j),Z=fo(J))}})(o,u,Yr,(m=>{c.push(this.Hn(t,n,r,m))}),(m=>{c.push(this.Yn(t,n,r,m))})),k.waitFor(c)}Gn(t){let n=1;return po(t).ee({index:DA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,o,u)=>{u.done(),n=o.sequenceNumber+1})).next((()=>n))}createRange(t,n,r){r=r.sort(((c,m)=>Yr(c,m))).filter(((c,m,g)=>!m||Yr(c,g[m-1])!==0));const o=[];o.push(t);for(const c of r){const m=Yr(c,t),g=Yr(c,n);if(m===0)o[0]=t.An();else if(m>0&&g<0)o.push(c),o.push(c.An());else if(g>0)break}o.push(n);const u=[];for(let c=0;c<o.length;c+=2){if(this.Zn(o[c],o[c+1]))return[];const m=o[c].Vn(this.uid,Nh,rt.empty()),g=o[c+1].Vn(this.uid,Nh,rt.empty());u.push(IDBKeyRange.bound(m,g))}return u}Zn(t,n){return Yr(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(BE)}getMinOffset(t,n){return k.mapArray(this.Mn(n),(r=>this.xn(t,r).next((o=>o||ut(44426))))).next(BE)}}function zE(s){return Le(s,Du)}function go(s){return Le(s,yu)}function iu(s){return Le(s,cp)}function po(s){return Le(s,pu)}function BE(s){mt(s.length!==0,28825);let t=s[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<s.length;r++){const o=s[r].indexState.offset;op(o,t)<0&&(t=o),n<o.largestBatchId&&(n=o.largestBatchId)}return new Dn(t.readTime,t.documentKey,n)}const jE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VS=41943040;class tn{static withCacheSize(t){return new tn(t,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function OS(s,t,n){const r=s.store(si),o=s.store(Vo),u=[],c=IDBKeyRange.only(n.batchId);let m=0;const g=r.ee({range:c},((T,A,R)=>(m++,R.delete())));u.push(g.next((()=>{mt(m===1,47070,{batchId:n.batchId})})));const y=[];for(const T of n.mutations){const A=wA(t,T.key.path,n.batchId);u.push(o.delete(A)),y.push(T.key)}return k.waitFor(u).next((()=>y))}function yf(s){if(!s)return 0;let t;if(s.document)t=s.document;else if(s.unknownDocument)t=s.unknownDocument;else{if(!s.noDocument)throw ut(14731);t=s.noDocument}return JSON.stringify(t).length}tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(VS,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);class Bf{constructor(t,n,r,o){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=o,this.Xn={}}static wt(t,n,r,o){mt(t.uid!=="",64387);const u=t.isAuthenticated()?t.uid:"";return new Bf(u,n,r,o)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xr(t).ee({index:ta,range:r},((o,u,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(t,n,r,o){const u=Ao(t),c=Xr(t);return c.add({}).next((m=>{mt(typeof m=="number",49019);const g=new Tp(m,n,r,o),y=(function(j,J,W){const Z=W.baseMutations.map((ft=>mf(j.yt,ft))),ht=W.mutations.map((ft=>mf(j.yt,ft)));return{userId:J,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:Z,mutations:ht}})(this.serializer,this.userId,g),T=[];let A=new Zt(((R,j)=>St(R.canonicalString(),j.canonicalString())));for(const R of o){const j=wA(this.userId,R.key.path,m);A=A.add(R.key.path.popLast()),T.push(c.put(y)),T.push(u.put(j,c2))}return A.forEach((R=>{T.push(this.indexManager.addToCollectionParentIndex(t,R))})),t.addOnCommittedListener((()=>{this.Xn[m]=g.keys()})),k.waitFor(T).next((()=>g))}))}lookupMutationBatch(t,n){return Xr(t).get(n).next((r=>r?(mt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Js(this.serializer,r)):null))}er(t,n){return this.Xn[n]?k.resolve(this.Xn[n]):this.lookupMutationBatch(t,n).next((r=>{if(r){const o=r.keys();return this.Xn[n]=o,o}return null}))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Xr(t).ee({index:ta,range:o},((c,m,g)=>{m.userId===this.userId&&(mt(m.batchId>=r,47524,{tr:r}),u=Js(this.serializer,m)),g.done()})).next((()=>u))}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ia;return Xr(t).ee({index:ta,range:n,reverse:!0},((o,u,c)=>{r=u.batchId,c.done()})).next((()=>r))}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,ia],[this.userId,Number.POSITIVE_INFINITY]);return Xr(t).J(ta,n).next((r=>r.map((o=>Js(this.serializer,o)))))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=Bh(this.userId,n.path),o=IDBKeyRange.lowerBound(r),u=[];return Ao(t).ee({range:o},((c,m,g)=>{const[y,T,A]=c,R=Oi(T);if(y===this.userId&&n.path.isEqual(R))return Xr(t).get(A).next((j=>{if(!j)throw ut(61480,{nr:c,batchId:A});mt(j.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:j.userId,batchId:A}),u.push(Js(this.serializer,j))}));g.done()})).next((()=>u))}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Zt(St);const o=[];return n.forEach((u=>{const c=Bh(this.userId,u.path),m=IDBKeyRange.lowerBound(c),g=Ao(t).ee({range:m},((y,T,A)=>{const[R,j,J]=y,W=Oi(j);R===this.userId&&u.path.isEqual(W)?r=r.add(J):A.done()}));o.push(g)})),k.waitFor(o).next((()=>this.rr(t,r)))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1,u=Bh(this.userId,r),c=IDBKeyRange.lowerBound(u);let m=new Zt(St);return Ao(t).ee({range:c},((g,y,T)=>{const[A,R,j]=g,J=Oi(R);A===this.userId&&r.isPrefixOf(J)?J.length===o&&(m=m.add(j)):T.done()})).next((()=>this.rr(t,m)))}rr(t,n){const r=[],o=[];return n.forEach((u=>{o.push(Xr(t).get(u).next((c=>{if(c===null)throw ut(35274,{batchId:u});mt(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:u}),r.push(Js(this.serializer,c))})))})),k.waitFor(o).next((()=>r))}removeMutationBatch(t,n){return OS(t.le,this.userId,n).next((r=>(t.addOnCommittedListener((()=>{this.ir(n.batchId)})),k.forEach(r,(o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))))}ir(t){delete this.Xn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((n=>{if(!n)return k.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),o=[];return Ao(t).ee({range:r},((u,c,m)=>{if(u[0]===this.userId){const g=Oi(u[1]);o.push(g)}else m.done()})).next((()=>{mt(o.length===0,56720,{sr:o.map((u=>u.canonicalString()))})}))}))}containsKey(t,n){return xS(t,this.userId,n)}_r(t){return MS(t).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:ia,lastStreamToken:""}))}}function xS(s,t,n){const r=Bh(t,n.path),o=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Ao(s).ee({range:u,X:!0},((m,g,y)=>{const[T,A,R]=m;T===t&&A===o&&(c=!0),y.done()})).next((()=>c))}function Xr(s){return Le(s,si)}function Ao(s){return Le(s,Vo)}function MS(s){return Le(s,Ru)}class pa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new pa(0)}static cr(){return new pa(-1)}}class LD{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.lr(t).next((n=>{const r=new pa(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(t,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.lr(t).next((n=>yt.fromTimestamp(new $t(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.lr(t).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(t,n,r){return this.lr(t).next((o=>(o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.hr(t,o))))}addTargetData(t,n){return this.Pr(t,n).next((()=>this.lr(t).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(t,r))))))}updateTargetData(t,n){return this.Pr(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next((()=>yo(t).delete(n.targetId))).next((()=>this.lr(t))).next((r=>(mt(r.targetCount>0,8065),r.targetCount-=1,this.hr(t,r))))}removeTargets(t,n,r){let o=0;const u=[];return yo(t).ee(((c,m)=>{const g=cu(m);g.sequenceNumber<=n&&r.get(g.targetId)===null&&(o++,u.push(this.removeTargetData(t,g)))})).next((()=>k.waitFor(u))).next((()=>o))}forEachTarget(t,n){return yo(t).ee(((r,o)=>{const u=cu(o);n(u)}))}lr(t){return qE(t).get(lf).next((n=>(mt(n!==null,2888),n)))}hr(t,n){return qE(t).put(lf,n)}Pr(t,n){return yo(t).put(RS(this.serializer,n))}Tr(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.lr(t).next((n=>n.targetCount))}getTargetData(t,n){const r=da(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return yo(t).ee({range:o,index:CA},((c,m,g)=>{const y=cu(m);Gu(n,y.target)&&(u=y,g.done())})).next((()=>u))}addMatchingKeys(t,n,r){const o=[],u=ts(t);return n.forEach((c=>{const m=en(c.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(t,r,c))})),k.waitFor(o)}removeMatchingKeys(t,n,r){const o=ts(t);return k.forEach(n,(u=>{const c=en(u.path);return k.waitFor([o.delete([r,c]),this.referenceDelegate.removeReference(t,r,u)])}))}removeMatchingKeysForTargetId(t,n){const r=ts(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),o=ts(t);let u=Ot();return o.ee({range:r,X:!0},((c,m,g)=>{const y=Oi(c[1]),T=new rt(y);u=u.add(T)})).next((()=>u))}containsKey(t,n){const r=en(n.path),o=IDBKeyRange.bound([r],[TA(r)],!1,!0);let u=0;return ts(t).ee({index:up,X:!0,range:o},(([c,m],g,y)=>{c!==0&&(u++,y.done())})).next((()=>u>0))}At(t,n){return yo(t).get(n).next((r=>r?cu(r):null))}}function yo(s){return Le(s,Oo)}function qE(s){return Le(s,ra)}function ts(s){return Le(s,xo)}const FE="LruGarbageCollector",zD=1048576;function HE([s,t],[n,r]){const o=St(s,n);return o===0?St(t,r):o}class BD{constructor(t){this.Ir=t,this.buffer=new Zt(HE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();HE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PS{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){tt(FE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fs(n)?tt(FE,"Ignoring IndexedDB error during garbage collection: ",n):await _a(n)}await this.Vr(3e5)}))}}class jD{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return k.resolve(Hn.ce);const r=new BD(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(jE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,c,m,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,c=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(r=A,m=Date.now(),this.removeTargets(t,r,n)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(y=Date.now(),_o()<=Lt.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-T}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function kS(s,t){return new jD(s,t)}class qD{constructor(t,n){this.db=t,this.garbageCollector=kS(this,n)}gr(t){const n=this.wr(t);return this.db.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}pr(t,n){return this.Sr(t,((r,o)=>n(o)))}addReference(t,n,r){return Vh(t,r)}removeReference(t,n,r){return Vh(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return Vh(t,n)}br(t,n){return(function(o,u){let c=!1;return MS(o).te((m=>xS(o,m,u).next((g=>(g&&(c=!0),k.resolve(!g)))))).next((()=>c))})(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Sr(t,((c,m)=>{if(m<=n){const g=this.br(t,c).next((y=>{if(!y)return u++,r.getEntry(t,c).next((()=>(r.removeEntry(c,yt.min()),ts(t).delete((function(A){return[0,en(A.path)]})(c)))))}));o.push(g)}})).next((()=>k.waitFor(o))).next((()=>r.apply(t))).next((()=>u))}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return Vh(t,n)}Sr(t,n){const r=ts(t);let o,u=Hn.ce;return r.ee({index:up},(([c,m],{path:g,sequenceNumber:y})=>{c===0?(u!==Hn.ce&&n(new rt(Oi(o)),u),u=y,o=g):u=Hn.ce})).next((()=>{u!==Hn.ce&&n(new rt(Oi(o)),u)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Vh(s,t){return ts(s).put((function(r,o){return{targetId:0,path:en(r.path),sequenceNumber:o}})(t,s.currentSequenceNumber))}class US{constructor(){this.changes=new dr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class FD{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return Gs(t).put(r)}removeEntry(t,n,r){return Gs(t).delete((function(u,c){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],gf(c),m[m.length-1]]})(n,r))}updateMetadata(t,n){return this.getMetadata(t).next((r=>(r.byteSize+=n,this.Dr(t,r))))}getEntry(t,n){let r=ye.newInvalidDocument(n);return Gs(t).ee({index:jh,range:IDBKeyRange.only(ru(n))},((o,u)=>{r=this.Cr(n,u)})).next((()=>r))}vr(t,n){let r={size:0,document:ye.newInvalidDocument(n)};return Gs(t).ee({index:jh,range:IDBKeyRange.only(ru(n))},((o,u)=>{r={document:this.Cr(n,u),size:yf(u)}})).next((()=>r))}getEntries(t,n){let r=wn();return this.Fr(t,n,((o,u)=>{const c=this.Cr(o,u);r=r.insert(o,c)})).next((()=>r))}Mr(t,n){let r=wn(),o=new fe(rt.comparator);return this.Fr(t,n,((u,c)=>{const m=this.Cr(u,c);r=r.insert(u,m),o=o.insert(u,yf(c))})).next((()=>({documents:r,Or:o})))}Fr(t,n,r){if(n.isEmpty())return k.resolve();let o=new Zt(QE);n.forEach((g=>o=o.add(g)));const u=IDBKeyRange.bound(ru(o.first()),ru(o.last())),c=o.getIterator();let m=c.getNext();return Gs(t).ee({index:jh,range:u},((g,y,T)=>{const A=rt.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;m&&QE(m,A)<0;)r(m,null),m=c.getNext();m&&m.isEqual(A)&&(r(m,y),m=c.hasNext()?c.getNext():null),m?T.j(ru(m)):T.done()})).next((()=>{for(;m;)r(m,null),m=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(t,n,r,o,u){const c=n.path,m=[c.popLast().toArray(),c.lastSegment(),gf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gs(t).J(IDBKeyRange.bound(m,g,!0)).next((y=>{u?.incrementDocumentReadCount(y.length);let T=wn();for(const A of y){const R=this.Cr(rt.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);R.isFoundDocument()&&(Ku(n,R)||o.has(R.key))&&(T=T.insert(R.key,R))}return T}))}getAllFromCollectionGroup(t,n,r,o){let u=wn();const c=KE(n,r),m=KE(n,Dn.max());return Gs(t).ee({index:RA,range:IDBKeyRange.bound(c,m,!0)},((g,y,T)=>{const A=this.Cr(rt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);u=u.insert(A.key,A),u.size===o&&T.done()})).next((()=>u))}newChangeBuffer(t){return new HD(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((n=>n.byteSize))}getMetadata(t){return GE(t).get(Ag).next((n=>(mt(!!n,20021),n)))}Dr(t,n){return GE(t).put(Ag,n)}Cr(t,n){if(n){const r=CD(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(yt.min())))return r}return ye.newInvalidDocument(t)}}function LS(s){return new FD(s)}class HD extends US{constructor(t,n){super(),this.Nr=t,this.trackRemovals=n,this.Br=new dr((r=>r.toString()),((r,o)=>r.isEqual(o)))}applyChanges(t){const n=[];let r=0,o=new Zt(((u,c)=>St(u.canonicalString(),c.canonicalString())));return this.changes.forEach(((u,c)=>{const m=this.Br.get(u);if(n.push(this.Nr.removeEntry(t,u,m.readTime)),c.isValidDocument()){const g=CE(this.Nr.serializer,c);o=o.add(u.path.popLast());const y=yf(g);r+=y-m.size,n.push(this.Nr.addEntry(t,u,g))}else if(r-=m.size,this.trackRemovals){const g=CE(this.Nr.serializer,c.convertToNoDocument(yt.min()));n.push(this.Nr.addEntry(t,u,g))}})),o.forEach((u=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(t,u))})),n.push(this.Nr.updateMetadata(t,r)),k.waitFor(n)}getFromCache(t,n){return this.Nr.vr(t,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(t,n){return this.Nr.Mr(t,n).next((({documents:r,Or:o})=>(o.forEach(((u,c)=>{this.Br.set(u,{size:c,readTime:r.get(u).readTime})})),r)))}}function GE(s){return Le(s,Cu)}function Gs(s){return Le(s,of)}function ru(s){const t=s.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function KE(s,t){const n=t.documentKey.path.toArray();return[s,gf(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function QE(s,t){const n=s.path.toArray(),r=t.path.toArray();let o=0;for(let u=0;u<n.length-2&&u<r.length-2;++u)if(o=St(n[u],r[u]),o)return o;return o=St(n.length,r.length),o||(o=St(n[n.length-2],r[r.length-2]),o||St(n[n.length-1],r[r.length-1]))}class GD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class zS{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&Eu(r.mutation,o,Gn.empty(),$t.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Ot()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Ot()){const o=xi();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let c=lu();return u.forEach(((m,g)=>{c=c.insert(m,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=xi();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Ot())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(t,n,r,o){let u=wn();const c=Tu(),m=(function(){return Tu()})();return n.forEach(((g,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof ds)?u=u.insert(y.key,y):T!==void 0?(c.set(y.key,T.mutation.getFieldMask()),Eu(T.mutation,y,T.mutation.getFieldMask(),$t.now())):c.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,T)=>c.set(y,T))),n.forEach(((y,T)=>m.set(y,new GD(T,c.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=Tu();let o=new fe(((c,m)=>c-m)),u=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const m of c)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||Gn.empty();T=m.applyToLocalView(y,T),r.set(g,T);const A=(o.get(m.batchId)||Ot()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,T=g.value,A=iS();T.forEach((R=>{if(!u.has(R)){const j=uS(n.get(R),r.get(R));j!==null&&A.set(R,j),u=u.add(R)}})),c.push(this.documentOverlayCache.saveOverlays(t,y,A))}return k.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(c){return rt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Q2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):k.resolve(xi());let m=bu,g=u;return c.next((y=>k.forEach(y,((T,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(T)?k.resolve():this.remoteDocumentCache.getEntry(t,T).next((R=>{g=g.insert(T,R)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Ot()))).next((T=>({batchId:m,changes:nS(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new rt(n)).next((r=>{let o=lu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(t,u).next((m=>k.forEach(m,(g=>{const y=(function(A,R){return new xf(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((T=>{T.forEach(((A,R)=>{c=c.insert(A,R)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((c=>{u.forEach(((g,y)=>{const T=y.getKey();c.get(T)===null&&(c=c.insert(T,ye.newInvalidDocument(T)))}));let m=lu();return c.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&Eu(T.mutation,y,Gn.empty(),$t.now()),Ku(n,y)&&(m=m.insert(g,y))})),m}))}}class KD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return k.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:on(o.createTime)}})(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:CS(o.bundledQuery),readTime:on(o.readTime)}})(n)),k.resolve()}}class QD{constructor(){this.overlays=new fe(rt.comparator),this.qr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const r=xi();return k.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),k.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),k.resolve()}getOverlaysForCollection(t,n,r){const o=xi(),u=n.length+1,c=new rt(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return k.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new fe(((y,T)=>y-T));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=xi(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=xi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>m.set(y,T))),!(m.size()>=o)););return k.resolve(m)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Ap(n,r));let u=this.qr.get(n);u===void 0&&(u=Ot(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class YD{constructor(){this.sessionToken=xe.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,k.resolve()}}class Rp{constructor(){this.Qr=new Zt(qe.$r),this.Ur=new Zt(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new qe(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new qe(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new rt(new ie([])),r=new qe(n,t),o=new qe(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new rt(new ie([])),r=new qe(n,t),o=new qe(n,t+1);let u=Ot();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new qe(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return rt.comparator(t.key,n.key)||St(t.Yr,n.Yr)}static Kr(t,n){return St(t.Yr,n.Yr)||rt.comparator(t.key,n.key)}}class XD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(qe.$r)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Tp(u,n,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return k.resolve(c)}lookupMutationBatch(t,n){return k.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return k.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?ia:this.tr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new qe(n,0),o=new qe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),k.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Zt(St);return n.forEach((o=>{const u=new qe(o,0),c=new qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),k.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;rt.isDocumentKey(u)||(u=u.child(""));const c=new qe(new rt(u),0);let m=new Zt(St);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),c),k.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return k.forEach(n.mutations,(o=>{const u=new qe(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new qe(n,0),o=this.Zr.firstAfterOrEqual(r);return k.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class JD{constructor(t){this.ri=t,this.docs=(function(){return new fe(rt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():ye.newInvalidDocument(n))}getEntries(t,n){let r=wn();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():ye.newInvalidDocument(o))})),k.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=wn();const c=n.path,m=new rt(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||op(AA(T),r)<=0||(o.has(T.key)||Ku(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return k.resolve(u)}getAllFromCollectionGroup(t,n,r,o){ut(9500)}ii(t,n){return k.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new $D(this)}getSize(t){return k.resolve(this.size)}}class $D extends US{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),k.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class ZD{constructor(t){this.persistence=t,this.si=new dr((n=>da(n)),Gu),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Rp,this.targetCount=0,this.ai=pa.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),k.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new pa(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.Pr(n),k.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),k.waitFor(u).next((()=>o))}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return k.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),k.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),k.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return k.resolve(r)}containsKey(t,n){return k.resolve(this._i.containsKey(n))}}class Cp{constructor(t,n){this.ui={},this.overlays={},this.ci=new Hn(0),this.li=!1,this.li=!0,this.hi=new YD,this.referenceDelegate=t(this),this.Pi=new ZD(this),this.indexManager=new kD,this.remoteDocumentCache=(function(o){return new JD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new wS(n),this.Ii=new KD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new QD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new XD(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){tt("MemoryPersistence","Starting transaction:",t);const o=new WD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return k.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class WD extends bA{constructor(t){super(),this.currentSequenceNumber=t}}class jf{constructor(t){this.persistence=t,this.Ri=new Rp,this.Vi=null}static mi(t){return new jf(t)}get fi(){if(this.Vi)return this.Vi;throw ut(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),k.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),k.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.fi,(r=>{const o=rt.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,yt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return k.or([()=>k.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class _f{constructor(t,n){this.persistence=t,this.pi=new dr((r=>en(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=kS(this,n)}static mi(t,n){return new _f(t,n)}Ei(){}di(t){return k.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return k.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?k.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((m=>{m||(r++,u.removeEntry(c,yt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),k.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),k.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),k.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Fh(t.data.value)),n}br(t,n,r){return k.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return k.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class tN{constructor(t){this.serializer=t}k(t,n,r,o){const u=new wf("createOrUpgrade",n);r<1&&o>=1&&((function(g){g.createObjectStore(Hu)})(t),(function(g){g.createObjectStore(Ru,{keyPath:u2}),g.createObjectStore(si,{keyPath:rE,autoIncrement:!0}).createIndex(ta,sE,{unique:!0}),g.createObjectStore(Vo)})(t),YE(t),(function(g){g.createObjectStore(Ys)})(t));let c=k.resolve();return r<3&&o>=3&&(r!==0&&((function(g){g.deleteObjectStore(xo),g.deleteObjectStore(Oo),g.deleteObjectStore(ra)})(t),YE(t)),c=c.next((()=>(function(g){const y=g.store(ra),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yt.min().toTimestamp(),targetCount:0};return y.put(lf,T)})(u)))),r<4&&o>=4&&(r!==0&&(c=c.next((()=>(function(g,y){return y.store(si).J().next((A=>{g.deleteObjectStore(si),g.createObjectStore(si,{keyPath:rE,autoIncrement:!0}).createIndex(ta,sE,{unique:!0});const R=y.store(si),j=A.map((J=>R.put(J)));return k.waitFor(j)}))})(t,u)))),c=c.next((()=>{(function(g){g.createObjectStore(Mo,{keyPath:_2})})(t)}))),r<5&&o>=5&&(c=c.next((()=>this.yi(u)))),r<6&&o>=6&&(c=c.next((()=>((function(g){g.createObjectStore(Cu)})(t),this.wi(u))))),r<7&&o>=7&&(c=c.next((()=>this.Si(u)))),r<8&&o>=8&&(c=c.next((()=>this.bi(t,u)))),r<9&&o>=9&&(c=c.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(t)}))),r<10&&o>=10&&(c=c.next((()=>this.Di(u)))),r<11&&o>=11&&(c=c.next((()=>{(function(g){g.createObjectStore(Cf,{keyPath:v2})})(t),(function(g){g.createObjectStore(Df,{keyPath:T2})})(t)}))),r<12&&o>=12&&(c=c.next((()=>{(function(g){const y=g.createObjectStore(Nf,{keyPath:R2});y.createIndex(bg,C2,{unique:!1}),y.createIndex(VA,D2,{unique:!1})})(t)}))),r<13&&o>=13&&(c=c.next((()=>(function(g){const y=g.createObjectStore(of,{keyPath:h2});y.createIndex(jh,f2),y.createIndex(RA,d2)})(t))).next((()=>this.Ci(t,u))).next((()=>t.deleteObjectStore(Ys)))),r<14&&o>=14&&(c=c.next((()=>this.Fi(t,u)))),r<15&&o>=15&&(c=c.next((()=>(function(g){g.createObjectStore(cp,{keyPath:E2,autoIncrement:!0}).createIndex(Sg,A2,{unique:!1}),g.createObjectStore(pu,{keyPath:S2}).createIndex(DA,b2,{unique:!1}),g.createObjectStore(yu,{keyPath:I2}).createIndex(NA,w2,{unique:!1})})(t)))),r<16&&o>=16&&(c=c.next((()=>{n.objectStore(pu).clear()})).next((()=>{n.objectStore(yu).clear()}))),r<17&&o>=17&&(c=c.next((()=>{(function(g){g.createObjectStore(hp,{keyPath:N2})})(t)}))),r<18&&o>=18&&C0()&&(c=c.next((()=>{n.objectStore(pu).clear()})).next((()=>{n.objectStore(yu).clear()}))),c}wi(t){let n=0;return t.store(Ys).ee(((r,o)=>{n+=yf(o)})).next((()=>{const r={byteSize:n};return t.store(Cu).put(Ag,r)}))}yi(t){const n=t.store(Ru),r=t.store(si);return n.J().next((o=>k.forEach(o,(u=>{const c=IDBKeyRange.bound([u.userId,ia],[u.userId,u.lastAcknowledgedBatchId]);return r.J(ta,c).next((m=>k.forEach(m,(g=>{mt(g.userId===u.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const y=Js(this.serializer,g);return OS(t,u.userId,y).next((()=>{}))}))))}))))}Si(t){const n=t.store(xo),r=t.store(Ys);return t.store(ra).get(lf).next((o=>{const u=[];return r.ee(((c,m)=>{const g=new ie(c),y=(function(A){return[0,en(A)]})(g);u.push(n.get(y).next((T=>T?k.resolve():(A=>n.put({targetId:0,path:en(A),sequenceNumber:o.highestListenSequenceNumber}))(g))))})).next((()=>k.waitFor(u)))}))}bi(t,n){t.createObjectStore(Du,{keyPath:y2});const r=n.store(Du),o=new wp,u=c=>{if(o.add(c)){const m=c.lastSegment(),g=c.popLast();return r.put({collectionId:m,parent:en(g)})}};return n.store(Ys).ee({X:!0},((c,m)=>{const g=new ie(c);return u(g.popLast())})).next((()=>n.store(Vo).ee({X:!0},(([c,m,g],y)=>{const T=Oi(m);return u(T.popLast())}))))}Di(t){const n=t.store(Oo);return n.ee(((r,o)=>{const u=cu(o),c=RS(this.serializer,u);return n.put(c)}))}Ci(t,n){const r=n.store(Ys),o=[];return r.ee(((u,c)=>{const m=n.store(of),g=(function(A){return A.document?new rt(ie.fromString(A.document.name).popFirst(5)):A.noDocument?rt.fromSegments(A.noDocument.path):A.unknownDocument?rt.fromSegments(A.unknownDocument.path):ut(36783)})(c).path.toArray(),y={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(m.put(y))})).next((()=>k.waitFor(o)))}Fi(t,n){const r=n.store(si),o=LS(this.serializer),u=new Cp(jf.mi,this.serializer.yt);return r.J().next((c=>{const m=new Map;return c.forEach((g=>{let y=m.get(g.userId)??Ot();Js(this.serializer,g).keys().forEach((T=>y=y.add(T))),m.set(g.userId,y)})),k.forEach(m,((g,y)=>{const T=new Je(y),A=zf.wt(this.serializer,T),R=u.getIndexManager(T),j=Bf.wt(T,this.serializer,R,u.referenceDelegate);return new zS(o,j,A,R).recalculateAndSaveOverlaysForDocumentKeys(new Ig(n,Hn.ce),g).next()}))}))}}function YE(s){s.createObjectStore(xo,{keyPath:g2}).createIndex(up,p2,{unique:!0}),s.createObjectStore(Oo,{keyPath:"targetId"}).createIndex(CA,m2,{unique:!0}),s.createObjectStore(ra)}const Jr="IndexedDbPersistence",rg=18e5,sg=5e3,ag="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eN="main";class Dp{constructor(t,n,r,o,u,c,m,g,y,T,A=18){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Mi=u,this.window=c,this.document=m,this.xi=y,this.Oi=T,this.Ni=A,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=R=>Promise.resolve(),!Dp.v())throw new ot(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qD(this,o),this.$i=n+eN,this.serializer=new wS(g),this.Ui=new os(this.$i,this.Ni,new tN(this.serializer)),this.hi=new ND,this.Pi=new LD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=LS(this.serializer),this.Ii=new DD,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,T===!1&&an(Jr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ot(X.FAILED_PRECONDITION,ag);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Pi.getHighestSequenceNumber(t)))})).then((t=>{this.ci=new Hn(t,this.xi)})).then((()=>{this.li=!0})).catch((t=>(this.Ui&&this.Ui.close(),Promise.reject(t))))}Ji(t){return this.Qi=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ui.$((async n=>{n.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>Oh(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(t).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(t))).next((n=>this.isPrimary&&!n?this.Zi(t).next((()=>!1)):!!n&&this.Xi(t).next((()=>!0)))))).catch((t=>{if(fs(t))return tt(Jr,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return tt(Jr,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Mi.enqueueRetryable((()=>this.Qi(t))),this.isPrimary=t}))}Hi(t){return su(t).get(ho).next((n=>k.resolve(this.es(n))))}ts(t){return Oh(t).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,rg)){this.qi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Le(n,Mo);return r.J().next((o=>{const u=this.ss(o,rg),c=o.filter((m=>u.indexOf(m)===-1));return k.forEach(c,(m=>r.delete(m.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const n of t)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(t){return!!t&&t.ownerId===this.clientId}Yi(t){return this.Oi?k.resolve(!0):su(t).get(ho).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,sg)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ot(X.FAILED_PRECONDITION,ag);return!1}}return!(!this.networkEnabled||!this.inForeground)||Oh(t).J().next((r=>this.ss(r,sg).find((o=>{if(this.clientId!==o.clientId){const u=!this.networkEnabled&&o.networkEnabled,c=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(u||c&&m)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&tt(Jr,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Hu,Mo],(t=>{const n=new Ig(t,Hn.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(t,n){return t.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(t=>Oh(t).J().next((n=>this.ss(n,rg).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(t,n){return Bf.wt(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new UD(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return zf.wt(this.serializer,t)}getBundleCache(){return this.Ii}runTransaction(t,n,r){tt(Jr,"Starting transaction:",t);const o=n==="readonly"?"readonly":"readwrite",u=(function(g){return g===18?x2:g===17?PA:g===16?O2:g===15?fp:g===14?MA:g===13?xA:g===12?V2:g===11?OA:void ut(60245)})(this.Ni);let c;return this.Ui.runTransaction(t,o,u,(m=>(c=new Ig(m,this.ci?this.ci.next():Hn.ce),n==="readwrite-primary"?this.Hi(c).next((g=>!!g||this.Yi(c))).next((g=>{if(!g)throw an(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ot(X.FAILED_PRECONDITION,SA);return r(c)})).next((g=>this.Xi(c).next((()=>g)))):this.Is(c).next((()=>r(c)))))).then((m=>(c.raiseOnCommittedEvent(),m)))}Is(t){return su(t).get(ho).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,sg)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ot(X.FAILED_PRECONDITION,ag)}))}Xi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return su(t).put(ho,n)}static v(){return os.v()}Zi(t){const n=su(t);return n.get(ho).next((r=>this.es(r)?(tt(Jr,"Releasing primary lease."),n.delete(ho)):k.resolve()))}rs(t,n){const r=Date.now();return!(t<r-n)&&(!(t>r)||(an(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;R0()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(t){try{const n=this.Ki?.getItem(this._s(t))!==null;return tt(Jr,`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return an(Jr,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(t){an("Failed to set zombie client id.",t)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function su(s){return Le(s,Hu)}function Oh(s){return Le(s,Mo)}function nN(s,t){let n=s.projectId;return s.isDefaultDatabase||(n+="."+s.database),"firestore/"+t+"/"+n+"/"}class Np{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=Ot(),o=Ot();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Np(t,n.fromCache,r,o)}}class iN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class BS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return R0()?8:IA(Ue())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new iN;return this.Ss(t,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,c,m.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(_o()<=Lt.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),k.resolve()):(_o()<=Lt.DEBUG&&tt("QueryEngine","Query:",vo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(_o()<=Lt.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Kn(n))):k.resolve())}ys(t,n){if(_E(n))return k.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Vg(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ot(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,c,g.readTime)?this.ys(t,Vg(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,r,o){return _E(n)||o.isEqual(yt.min())?k.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,r,o)?k.resolve(null):(_o()<=Lt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(n)),this.vs(t,c,n,n2(o,bu)).next((m=>m)))}))}Ds(t,n){let r=new Zt(tS(t));return n.forEach(((o,u)=>{Ku(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return _o()<=Lt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",vo(n)),this.ps.getDocumentsMatchingQuery(t,n,Dn.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Vp="LocalStore",rN=3e8;class sN{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new fe(St),this.xs=new dr((u=>da(u)),Gu),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function jS(s,t,n,r){return new sN(s,t,n,r)}async function qS(s,t){const n=bt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let g=Ot();for(const y of o){c.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:m})))}))}))}function aN(s,t){const n=bt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,T){const A=y.batch,R=A.keys();let j=k.resolve();return R.forEach((J=>{j=j.next((()=>T.getEntry(g,J))).next((W=>{const Z=y.docVersions.get(J);mt(Z!==null,48541),W.version.compareTo(Z)<0&&(A.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Ot();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function FS(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function oN(s,t){const n=bt(s),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((T,A)=>{const R=o.get(A);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,A))));let j=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?j=j.withResumeToken(xe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,r)),o=o.insert(A,j),(function(W,Z,ht){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=rN?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(R,j,T)&&m.push(n.Pi.updateTargetData(u,j))}));let g=wn(),y=Ot();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(lN(u,c,t.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(yt.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(T)}return k.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function lN(s,t,n){let r=Ot(),o=Ot();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let c=wn();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(yt.min())?(t.removeEntry(m,g.readTime),c=c.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),c=c.insert(m,g)):tt(Vp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function uN(s,t){const n=bt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ia),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function cN(s,t){const n=bt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,k.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new or(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function zg(s,t,n){const r=bt(s),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!fs(c))throw c;tt(Vp,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function XE(s,t,n){const r=bt(s);let o=yt.min(),u=Ot();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,y,T){const A=bt(g),R=A.xs.get(T);return R!==void 0?k.resolve(A.Ms.get(R)):A.Pi.getTargetData(y,T)})(r,c,Kn(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,n?o:yt.min(),n?u:Ot()))).next((m=>(hN(r,X2(t),m),{documents:m,Qs:u})))))}function hN(s,t,n){let r=s.Os.get(t)||yt.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class JE{constructor(){this.activeTargetIds=eD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HS{constructor(){this.Mo=new JE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new JE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class fN{Oo(t){}shutdown(){}}const $E="ConnectivityMonitor";class ZE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){tt($E,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){tt($E,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xh=null;function Bg(){return xh===null?xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():xh++,"0x"+xh.toString(16)}const og="RestConnection",dN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===uf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const c=Bg(),m=this.zo(t,n.toUriEncodedString());tt(og,`Sending RPC '${t}' ${c}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),T=Fo(y);return this.Jo(t,m,g,r,T).then((A=>(tt(og,`Received RPC '${t}' ${c}: `,A),A)),(A=>{throw ha(og,`RPC '${t}' ${c} failed with error: `,A,"url: ",m,"request:",r),A}))}Ho(t,n,r,o,u,c){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=dN[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class gN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const We="WebChannelConnection";class pN extends mN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const c=Bg();return new Promise(((m,g)=>{const y=new dA;y.setWithCredentials(!0),y.listenOnce(mA.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Lh.NO_ERROR:const A=y.getResponseJson();tt(We,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),m(A);break;case Lh.TIMEOUT:tt(We,`RPC '${t}' ${c} timed out`),g(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const R=y.getStatus();if(tt(We,`RPC '${t}' ${c} failed with status:`,R,"response text:",y.getResponseText()),R>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const J=j?.error;if(J&&J.status&&J.message){const W=(function(ht){const ft=ht.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ft)>=0?ft:X.UNKNOWN})(J.status);g(new ot(W,J.message))}else g(new ot(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ot(X.UNAVAILABLE,"Connection failed."));break;default:ut(9055,{l_:t,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{tt(We,`RPC '${t}' ${c} completed.`)}}));const T=JSON.stringify(o);tt(We,`RPC '${t}' ${c} sending request:`,o),y.send(n,"POST",T,r,15)}))}T_(t,n,r){const o=Bg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=yA(),m=pA(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=u.join("");tt(We,`Creating RPC '${t}' stream ${o}: ${T}`,g);const A=c.createWebChannel(T,g);this.I_(A);let R=!1,j=!1;const J=new gN({Yo:Z=>{j?tt(We,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(R||(tt(We,`Opening RPC '${t}' stream ${o} transport.`),A.open(),R=!0),tt(We,`RPC '${t}' stream ${o} sending:`,Z),A.send(Z))},Zo:()=>A.close()}),W=(Z,ht,ft)=>{Z.listen(ht,(st=>{try{ft(st)}catch(Rt){setTimeout((()=>{throw Rt}),0)}}))};return W(A,ou.EventType.OPEN,(()=>{j||(tt(We,`RPC '${t}' stream ${o} transport opened.`),J.o_())})),W(A,ou.EventType.CLOSE,(()=>{j||(j=!0,tt(We,`RPC '${t}' stream ${o} transport closed`),J.a_(),this.E_(A))})),W(A,ou.EventType.ERROR,(Z=>{j||(j=!0,ha(We,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new ot(X.UNAVAILABLE,"The operation could not be completed")))})),W(A,ou.EventType.MESSAGE,(Z=>{if(!j){const ht=Z.data[0];mt(!!ht,16349);const ft=ht,st=ft?.error||ft[0]?.error;if(st){tt(We,`RPC '${t}' stream ${o} received error:`,st);const Rt=st.status;let It=(function(w){const D=Ve[w];if(D!==void 0)return fS(D)})(Rt),_t=st.message;It===void 0&&(It=X.INTERNAL,_t="Unknown error status: "+Rt+" with message "+st.message),j=!0,J.a_(new ot(It,_t)),A.close()}else tt(We,`RPC '${t}' stream ${o} received:`,ht),J.u_(ht)}})),W(m,gA.STAT_EVENT,(Z=>{Z.stat===vg.PROXY?tt(We,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===vg.NOPROXY&&tt(We,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function yN(){return typeof window<"u"?window:null}function Yh(){return typeof document<"u"?document:null}function qf(s){return new _D(s,!0)}class GS{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&tt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const WE="PersistentStream";class KS{constructor(t,n,r,o,u,c,m,g){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(an(n.toString()),an("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new ot(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return tt(WE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(tt(WE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _N extends KS{constructor(t,n,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=ED(this.serializer,t),r=(function(u){if(!("targetChange"in u))return yt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?yt.min():c.readTime?on(c.readTime):yt.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Mg(this.serializer),n.addTarget=(function(u,c){let m;const g=c.target;if(m=hf(g)?{documents:TS(u,g)}:{query:ES(u,g).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=gS(u,c.resumeToken);const y=Og(u,c.expectedCount);y!==null&&(m.expectedCount=y)}else if(c.snapshotVersion.compareTo(yt.min())>0){m.readTime=jo(u,c.snapshotVersion.toTimestamp());const y=Og(u,c.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const r=SD(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Mg(this.serializer),n.removeTarget=t,this.q_(n)}}class vN extends KS{constructor(t,n,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return mt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,mt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){mt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=AD(t.writeResults,t.commitTime),r=on(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Mg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>mf(this.serializer,r)))};this.q_(n)}}class TN{}class EN extends TN{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,xg(n,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(X.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,xg(n,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(X.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(an(n),this.aa=!1):tt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class SN{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ta(this)&&(tt(ya,"Restarting streams for network reachability change."),await(async function(g){const y=bt(g);y.Ea.add(4),await Yu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ff(y)})(this))}))})),this.Ra=new AN(r,o)}}async function Ff(s){if(Ta(s))for(const t of s.da)await t(!0)}async function Yu(s){for(const t of s.da)await t(!1)}function QS(s,t){const n=bt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Pp(n)?Mp(n):Yo(n).O_()&&xp(n,t))}function Op(s,t){const n=bt(s),r=Yo(n);n.Ia.delete(t),r.O_()&&YS(n,t),n.Ia.size===0&&(r.O_()?r.L_():Ta(n)&&n.Ra.set("Unknown"))}function xp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Yo(s).Y_(t)}function YS(s,t){s.Va.Ue(t),Yo(s).Z_(t)}function Mp(s){s.Va=new mD({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Yo(s).start(),s.Ra.ua()}function Pp(s){return Ta(s)&&!Yo(s).x_()&&s.Ia.size>0}function Ta(s){return bt(s).Ea.size===0}function XS(s){s.Va=void 0}async function bN(s){s.Ra.set("Online")}async function IN(s){s.Ia.forEach(((t,n)=>{xp(s,t)}))}async function wN(s,t){XS(s),Pp(s)?(s.Ra.ha(t),Mp(s)):s.Ra.set("Unknown")}async function RN(s,t,n){if(s.Ra.set("Online"),t instanceof mS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(s,t)}catch(r){tt(ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await vf(s,r)}else if(t instanceof Kh?s.Va.Ze(t):t instanceof dS?s.Va.st(t):s.Va.tt(t),!n.isEqual(yt.min()))try{const r=await FS(s.localStore);n.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,c))}})),m.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(xe.EMPTY_BYTE_STRING,T.snapshotVersion)),YS(u,g);const A=new or(T.target,g,y,T.sequenceNumber);xp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){tt(ya,"Failed to raise snapshot:",r),await vf(s,r)}}async function vf(s,t,n){if(!fs(t))throw t;s.Ea.add(1),await Yu(s),s.Ra.set("Offline"),n||(n=()=>FS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{tt(ya,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Ff(s)}))}function JS(s,t){return t().catch((n=>vf(s,n,t)))}async function Xu(s){const t=bt(s),n=cs(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ia;for(;CN(t);)try{const o=await uN(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,DN(t,o)}catch(o){await vf(t,o)}$S(t)&&ZS(t)}function CN(s){return Ta(s)&&s.Ta.length<10}function DN(s,t){s.Ta.push(t);const n=cs(s);n.O_()&&n.X_&&n.ea(t.mutations)}function $S(s){return Ta(s)&&!cs(s).x_()&&s.Ta.length>0}function ZS(s){cs(s).start()}async function NN(s){cs(s).ra()}async function VN(s){const t=cs(s);for(const n of s.Ta)t.ea(n.mutations)}async function ON(s,t,n){const r=s.Ta.shift(),o=Ep.from(r,t,n);await JS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Xu(s)}async function xN(s,t){t&&cs(s).X_&&await(async function(r,o){if((function(c){return hD(c)&&c!==X.ABORTED})(o.code)){const u=r.Ta.shift();cs(r).B_(),await JS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Xu(r)}})(s,t),$S(s)&&ZS(s)}async function t0(s,t){const n=bt(s);n.asyncQueue.verifyOperationInProgress(),tt(ya,"RemoteStore received new credentials");const r=Ta(n);n.Ea.add(3),await Yu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ff(n)}async function MN(s,t){const n=bt(s);t?(n.Ea.delete(2),await Ff(n)):t||(n.Ea.add(2),await Yu(n),n.Ra.set("Unknown"))}function Yo(s){return s.ma||(s.ma=(function(n,r,o){const u=bt(n);return u.sa(),new _N(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:bN.bind(null,s),t_:IN.bind(null,s),r_:wN.bind(null,s),H_:RN.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Pp(s)?Mp(s):s.Ra.set("Unknown")):(await s.ma.stop(),XS(s))}))),s.ma}function cs(s){return s.fa||(s.fa=(function(n,r,o){const u=bt(n);return u.sa(),new vN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:NN.bind(null,s),r_:xN.bind(null,s),ta:VN.bind(null,s),na:ON.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Xu(s)):(await s.fa.stop(),s.Ta.length>0&&(tt(ya,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class kp{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const c=Date.now()+r,m=new kp(t,n,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(s,t){if(an("AsyncQueue",`${t}: ${s}`),fs(s))return new ot(X.UNAVAILABLE,`${t}: ${s}`);throw s}class wo{static emptySet(t){return new wo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=lu(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof wo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new wo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class e0{constructor(){this.ga=new fe(rt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):ut(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class qo{constructor(t,n,r,o,u,c,m,g,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new qo(t,n,wo.emptySet(n),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class PN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class kN{constructor(){this.queries=n0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=bt(n),u=o.queries;o.queries=n0(),u.forEach(((c,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function n0(){return new dr((s=>WA(s)),Pf)}async function UN(s,t){const n=bt(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new PN,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=Up(c,`Initialization of query '${vo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Lp(n)}async function LN(s,t){const n=bt(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zN(s,t){const n=bt(s);let r=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&Lp(n)}function BN(s,t,n){const r=bt(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function Lp(s){s.Ca.forEach((t=>{t.next()}))}var jg,i0;(i0=jg||(jg={})).Ma="default",i0.Cache="cache";class jN{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new qo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=qo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==jg.Cache}}class WS{constructor(t){this.key=t}}class tb{constructor(t){this.key=t}}class qN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=tS(t),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new e0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,A)=>{const R=o.get(T),j=Ku(this.query,A)?A:null,J=!!R&&this.mutatedKeys.has(R.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;R&&j?R.data.isEqual(j.data)?J!==W&&(r.track({type:3,doc:j}),Z=!0):this.su(R,j)||(r.track({type:2,doc:j}),Z=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(m=!0)):!R&&j?(r.track({type:0,doc:j}),Z=!0):R&&!j&&(r.track({type:1,doc:R}),Z=!0,(g||y)&&(m=!0)),Z&&(j?(c=c.add(j),u=W?u.add(T):u.delete(T)):(c=c.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const T=this.query.limitType==="F"?c.last():c.first();c=c.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((T,A)=>(function(j,J){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut(20277,{Rt:Z})}};return W(j)-W(J)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,c.length!==0||y?{snapshot:new qo(this.query,t.tu,u,c,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new tb(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new WS(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ot();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zp="SyncEngine";class FN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class HN{constructor(t){this.key=t,this.hu=!1}}class GN{constructor(t,n,r,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new dr((m=>WA(m)),Pf),this.Iu=new Map,this.Eu=new Set,this.du=new fe(rt.comparator),this.Au=new Map,this.Ru=new Rp,this.Vu={},this.mu=new Map,this.fu=pa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KN(s,t,n=!0){const r=ab(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await eb(r,t,n,!0),o}async function QN(s,t){const n=ab(s);await eb(n,t,!0,!1)}async function eb(s,t,n,r){const o=await cN(s.localStore,Kn(t)),u=o.targetId,c=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await YN(s,t,u,c==="current",o.resumeToken)),s.isPrimaryClient&&n&&QS(s.remoteStore,o),m}async function YN(s,t,n,r,o){s.pu=(A,R,j)=>(async function(W,Z,ht,ft){let st=Z.view.ru(ht);st.Cs&&(st=await XE(W.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,st))));const Rt=ft&&ft.targetChanges.get(Z.targetId),It=ft&&ft.targetMismatches.get(Z.targetId)!=null,_t=Z.view.applyChanges(st,W.isPrimaryClient,Rt,It);return s0(W,Z.targetId,_t.au),_t.snapshot})(s,A,R,j);const u=await XE(s.localStore,t,!0),c=new qN(t,u.Qs),m=c.ru(u.documents),g=Qu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=c.applyChanges(m,s.isPrimaryClient,g);s0(s,n,y.au);const T=new FN(t,n,c);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),y.snapshot}async function XN(s,t,n){const r=bt(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Pf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await zg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Op(r.remoteStore,o.targetId),qg(r,o.targetId)})).catch(_a)):(qg(r,o.targetId),await zg(r.localStore,o.targetId,!0))}async function JN(s,t){const n=bt(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Op(n.remoteStore,r.targetId))}async function $N(s,t,n){const r=ob(s);try{const o=await(function(c,m){const g=bt(c),y=$t.now(),T=m.reduce(((j,J)=>j.add(J.key)),Ot());let A,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let J=wn(),W=Ot();return g.Ns.getEntries(j,T).next((Z=>{J=Z,J.forEach(((ht,ft)=>{ft.isValidDocument()||(W=W.add(ht))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,J))).next((Z=>{A=Z;const ht=[];for(const ft of m){const st=uD(ft,A.get(ft.key).overlayedDocument);st!=null&&ht.push(new ds(ft.key,st,GA(st.value.mapValue),Rn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,ht,m)})).next((Z=>{R=Z;const ht=Z.applyToLocalDocumentSet(A,W);return g.documentOverlayCache.saveOverlays(j,Z.batchId,ht)}))})).then((()=>({batchId:R.batchId,changes:nS(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,g){let y=c.Vu[c.currentUser.toKey()];y||(y=new fe(St)),y=y.insert(m,g),c.Vu[c.currentUser.toKey()]=y})(r,o.batchId,n),await Ju(r,o.changes),await Xu(r.remoteStore)}catch(o){const u=Up(o,"Failed to persist write");n.reject(u)}}async function nb(s,t){const n=bt(s);try{const r=await oN(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?mt(c.hu,14607):o.removedDocuments.size>0&&(mt(c.hu,42227),c.hu=!1))})),await Ju(n,r,t)}catch(r){await _a(r)}}function r0(s,t,n){const r=bt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const g=bt(c);g.onlineState=m;let y=!1;g.queries.forEach(((T,A)=>{for(const R of A.Sa)R.va(m)&&(y=!0)})),y&&Lp(g)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ZN(s,t,n){const r=bt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new fe(rt.comparator);c=c.insert(u,ye.newNoDocument(u,yt.min()));const m=Ot().add(u),g=new Lf(yt.min(),new Map,new fe(St),c,m);await nb(r,g),r.du=r.du.remove(u),r.Au.delete(t),Bp(r)}else await zg(r.localStore,t,!1).then((()=>qg(r,t,n))).catch(_a)}async function WN(s,t){const n=bt(s),r=t.batch.batchId;try{const o=await aN(n.localStore,t);rb(n,r,null),ib(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ju(n,o)}catch(o){await _a(o)}}async function tV(s,t,n){const r=bt(s);try{const o=await(function(c,m){const g=bt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,m).next((A=>(mt(A!==null,37113),T=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,t);rb(r,t,n),ib(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ju(r,o)}catch(o){await _a(o)}}function ib(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function rb(s,t,n){const r=bt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function qg(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||sb(s,r)}))}function sb(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(Op(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Bp(s))}function s0(s,t,n){for(const r of n)r instanceof WS?(s.Ru.addReference(r.key,t),eV(s,r)):r instanceof tb?(tt(zp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||sb(s,r.key)):ut(19791,{wu:r})}function eV(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(tt(zp,"New document in limbo: "+n),s.Eu.add(r),Bp(s))}function Bp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new rt(ie.fromString(t)),r=s.fu.next();s.Au.set(r,new HN(n)),s.du=s.du.insert(n,r),QS(s.remoteStore,new or(Kn(Mf(n.path)),r,"TargetPurposeLimboResolution",Hn.ce))}}async function Ju(s,t,n){const r=bt(s),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{c.push(r.pu(g,t,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Np.As(g.targetId,y);u.push(T)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(g,y){const T=bt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>k.forEach(y,(R=>k.forEach(R.Es,(j=>T.persistence.referenceDelegate.addReference(A,R.targetId,j))).next((()=>k.forEach(R.ds,(j=>T.persistence.referenceDelegate.removeReference(A,R.targetId,j)))))))))}catch(A){if(!fs(A))throw A;tt(Vp,"Failed to update sequence numbers: "+A)}for(const A of y){const R=A.targetId;if(!A.fromCache){const j=T.Ms.get(R),J=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion(J);T.Ms=T.Ms.insert(R,W)}}})(r.localStore,u))}async function nV(s,t){const n=bt(s);if(!n.currentUser.isEqual(t)){tt(zp,"User change. New user:",t.toKey());const r=await qS(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ot(X.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ju(n,r.Ls)}}function iV(s,t){const n=bt(s),r=n.Au.get(t);if(r&&r.hu)return Ot().add(r.key);{let o=Ot();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function ab(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=nb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZN.bind(null,t),t.Pu.H_=zN.bind(null,t.eventManager),t.Pu.yu=BN.bind(null,t.eventManager),t}function ob(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tV.bind(null,t),t}class Pu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return jS(this.persistence,new BS,t.initialUser,this.serializer)}Cu(t){return new Cp(jf.mi,this.serializer)}Du(t){return new HS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pu.provider={build:()=>new Pu};class rV extends Pu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){mt(this.persistence.referenceDelegate instanceof _f,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PS(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Cp((r=>_f.mi(r,n)),this.serializer)}}class sV extends Pu{constructor(t,n,r){super(),this.xu=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await ob(this.xu.syncEngine),await Xu(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return jS(this.persistence,new BS,t.initialUser,this.serializer)}Fu(t,n){const r=this.persistence.referenceDelegate.garbageCollector;return new PS(r,t.asyncQueue,n)}Mu(t,n){const r=new a2(n,this.persistence);return new s2(t.asyncQueue,r)}Cu(t){const n=nN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Dp(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,yN(),Yh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new HS}}class Tf{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nV.bind(null,this.syncEngine),await MN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kN})()}createDatastore(t){const n=qf(t.databaseInfo.databaseId),r=(function(u){return new pN(u)})(t.databaseInfo);return(function(u,c,m,g){return new EN(u,c,m,g)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,c,m){return new SN(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>r0(this.syncEngine,n,0)),(function(){return ZE.v()?new ZE:new fN})())}createSyncEngine(t,n){return(function(o,u,c,m,g,y,T){const A=new GN(o,u,c,m,g,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=bt(n);tt(ya,"RemoteStore shutting down."),r.Ea.add(5),await Yu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tf.provider={build:()=>new Tf};class aV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):an("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const hs="FirestoreClient";class oV{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{tt(hs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(tt(hs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Up(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function lg(s,t){s.asyncQueue.verifyOperationInProgress(),tt(hs,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await qS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function a0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await lV(s);tt(hs,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>t0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>t0(t.remoteStore,o))),s._onlineComponents=t}async function lV(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){tt(hs,"Using user provided OfflineComponentProvider");try{await lg(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ha("Error using user provided cache. Falling back to memory cache: "+n),await lg(s,new Pu)}}else tt(hs,"Using default OfflineComponentProvider"),await lg(s,new rV(void 0));return s._offlineComponents}async function lb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(tt(hs,"Using user provided OnlineComponentProvider"),await a0(s,s._uninitializedComponentsProvider._online)):(tt(hs,"Using default OnlineComponentProvider"),await a0(s,new Tf))),s._onlineComponents}function uV(s){return lb(s).then((t=>t.syncEngine))}async function o0(s){const t=await lb(s),n=t.eventManager;return n.onListen=KN.bind(null,t.syncEngine),n.onUnlisten=XN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=QN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=JN.bind(null,t.syncEngine),n}function ub(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const l0=new Map;const cb="firestore.googleapis.com",u0=!0;class c0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cb,this.ssl=u0}else this.host=t.host,this.ssl=t.ssl??u0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zD)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}e2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ub(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jp{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HC;switch(r.type){case"firstParty":return new YC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=l0.get(n);r&&(tt("ComponentProvider","Removing Datastore"),l0.delete(n),r.terminate())})(this),Promise.resolve()}}function cV(s,t,n,r={}){s=na(s,jp);const o=Fo(t),u=s._getSettings(),c={...u,emulatorOptions:s._getEmulatorOptions()},m=`${t}:${n}`;o&&(b0(`https://${m}`),I0("Firestore",!0)),u.host!==cb&&u.host!==m&&ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:r};if(!oa(g,c)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Je.MOCK_USER;else{y=vI(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(A)}s._authCredentials=new GC(new vA(y,T))}}class Hf{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Hf(this.firestore,t,this._query)}}class Fe{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Fu(n,Fe._jsonSchema))return new Fe(t,r||null,new rt(ie.fromString(n.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:Oe("string",Fe._jsonSchemaVersion),referencePath:Oe("string")};class ku extends Hf{constructor(t,n,r){super(t,n,Mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new rt(t))}withConverter(t){return new ku(this.firestore,t,this._path)}}function h0(s,t,...n){if(s=Cn(s),arguments.length===1&&(t=sp.newId()),t2("doc","path",t),s instanceof jp){const r=ie.fromString(t,...n);return WT(r),new Fe(s,null,new rt(r))}{if(!(s instanceof Fe||s instanceof ku))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ie.fromString(t,...n));return WT(r),new Fe(s.firestore,s instanceof ku?s.converter:null,new rt(r))}}const f0="AsyncQueue";class d0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GS(this,"async_queue_retry"),this._c=()=>{const r=Yh();r&&tt(f0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Yh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Yh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fs(t))throw t;tt(f0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,an("INTERNAL UNHANDLED ERROR: ",m0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=kp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ut(47125,{Pc:m0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function m0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function g0(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Uu extends jp{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new d0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new d0(t),this._firestoreClient=void 0,await t}}}function hV(s,t){const n=typeof s=="object"?s:x0(),r=typeof s=="string"?s:uf,o=Qg(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=yI("firestore");u&&cV(o,...u)}return o}function hb(s){if(s._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||fb(s),s._firestoreClient}function fb(s){const t=s._freezeSettings(),n=(function(o,u,c,m){return new P2(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ub(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new oV(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}function fV(s,t){ha("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=s._freezeSettings();return dV(s,Tf.provider,{build:r=>new sV(r,n.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function dV(s,t,n){if((s=na(s,Uu))._firestoreClient||s._terminated)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(s._componentsProvider||s._getSettings().localCache)throw new ot(X.FAILED_PRECONDITION,"SDK cache is already specified.");s._componentsProvider={_online:t,_offline:n},fb(s)}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(xe.fromBase64String(t))}catch(n){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fn(xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fu(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Oe("string",Fn._jsonSchemaVersion),bytes:Oe("string")};class qp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new me(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class db{constructor(t){this._methodName=t}}class Pi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return St(this._lat,t._lat)||St(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(t){if(Fu(t,Pi._jsonSchema))return new Pi(t.latitude,t.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Oe("string",Pi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class ki{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fu(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ki(t.vectorValues);throw new ot(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Oe("string",ki._jsonSchemaVersion),vectorValues:Oe("object")};const mV=/^__.*__$/;class gV{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ds(t,this.data,this.fieldMask,n,this.fieldTransforms):new Qo(t,this.data,n,this.fieldTransforms)}}function mb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut(40011,{Ac:s})}}class Fp{constructor(t,n,r,o,u,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Fp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ef(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(mb(this.Ac)&&mV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class pV{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||qf(t)}Cc(t,n,r,o=!1){return new Fp({Ac:t,methodName:n,Dc:r,path:me.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yV(s){const t=s._freezeSettings(),n=qf(s._databaseId);return new pV(s._databaseId,!!t.ignoreUndefinedProperties,n)}function _V(s,t,n,r,o,u={}){const c=s.Cc(u.merge||u.mergeFields?2:0,t,n,o);_b("Data must be an object, but it was:",c,r);const m=pb(r,c);let g,y;if(u.merge)g=new Gn(c.fieldMask),y=c.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const R=vV(t,A,n);if(!c.contains(R))throw new ot(X.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);EV(T,R)||T.push(R)}g=new Gn(T),y=c.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=c.fieldTransforms;return new gV(new gn(m),g,y)}function gb(s,t){if(yb(s=Cn(s)))return _b("Unsupported field value:",t,s),pb(s,t);if(s instanceof db)return(function(r,o){if(!mb(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let g=gb(m,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=$t.fromDate(r);return{timestampValue:jo(o.serializer,u)}}if(r instanceof $t){const u=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jo(o.serializer,u)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:gS(o.serializer,r._byteString)};if(r instanceof Fe){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return(function(c,m){return{mapValue:{fields:{[mp]:{stringValue:gp},[Po]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return _p(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${ap(r)}`)})(s,t)}function pb(s,t){const n={};return kA(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):va(s,((r,o)=>{const u=gb(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function yb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof $t||s instanceof Pi||s instanceof Fn||s instanceof Fe||s instanceof db||s instanceof ki)}function _b(s,t,n){if(!yb(n)||!EA(n)){const r=ap(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function vV(s,t,n){if((t=Cn(t))instanceof qp)return t._internalPath;if(typeof t=="string")return vb(s,t);throw Ef("Field path arguments must be of type string or ",s,!1,void 0,n)}const TV=new RegExp("[~\\*/\\[\\]]");function vb(s,t,n){if(t.search(TV)>=0)throw Ef(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new qp(...t.split("."))._internalPath}catch{throw Ef(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Ef(s,t,n,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new ot(X.INVALID_ARGUMENT,m+s+g)}function EV(s,t){return s.some((n=>n.isEqual(t)))}class Tb{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Eb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AV extends Tb{data(){return super.data()}}function Eb(s,t){return typeof t=="string"?vb(s,t):t instanceof qp?t._internalPath:t._delegate._internalPath}function SV(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bV{convertValue(t,n="none"){switch(ls(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw ut(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return va(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[Po].arrayValue?.values?.map((r=>he(r.doubleValue)));return new ki(n)}convertGeoPoint(t){return new Pi(he(t.latitude),he(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Vf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nu(t));default:return null}}convertTimestamp(t){const n=cr(t);return new $t(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ie.fromString(t);mt(IS(r),9688,{name:t});const o=new fa(r.get(1),r.get(3)),u=new rt(r.popFirst(5));return o.isEqual(n)||an(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function IV(s,t,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,r}class hu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class aa extends Tb{constructor(t,n,r,o,u,c){super(t,n,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Eb("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Oe("string",aa._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Xh extends aa{data(t={}){return super.data(t)}}class Ro{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new hu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Xh(this._firestore,this._userDataWriter,r.key,r,new hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const g=new Xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new hu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new hu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),T=c.indexOf(m.doc.key)),{type:wV(m.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ro._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function wV(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut(61501,{type:s})}}Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:Oe("string",Ro._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Ab extends bV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,n)}}function p0(s,t,n){s=na(s,Fe);const r=na(s.firestore,Uu),o=IV(s.converter,t,n);return CV(r,[_V(yV(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Rn.none())])}function RV(s,...t){s=Cn(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||g0(t[r])||(n=t[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(g0(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,m;if(s instanceof Fe)c=na(s.firestore,Uu),m=Mf(s._key.path),u={next:g=>{t[r]&&t[r](DV(c,s,g))},error:t[r+1],complete:t[r+2]};else{const g=na(s,Hf);c=na(g.firestore,Uu),m=g._query;const y=new Ab(c);u={next:T=>{t[r]&&t[r](new Ro(c,y,g,T))},error:t[r+1],complete:t[r+2]},SV(s._query)}return(function(y,T,A,R){const j=new aV(R),J=new jN(T,j,A);return y.asyncQueue.enqueueAndForget((async()=>UN(await o0(y),J))),()=>{j.Nu(),y.asyncQueue.enqueueAndForget((async()=>LN(await o0(y),J)))}})(hb(c),m,o,u)}function CV(s,t){return(function(r,o){const u=new as;return r.asyncQueue.enqueueAndForget((async()=>$N(await uV(r),o,u))),u.promise})(hb(s),t)}function DV(s,t,n){const r=n.docs.get(t._key),o=new Ab(s);return new aa(s,o,t._key,r,new hu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Ko=o})(Ho),Co(new la("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Uu(new KC(r.getProvider("auth-internal")),new XC(c,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(y.options.projectId,T)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),rs(XT,JT,t),rs(XT,JT,"esm2020")})();var NV="firebase",VV="12.6.0";rs(NV,VV,"app");const OV={apiKey:"AIzaSyDA7JElzU6qiRo7JInsyFOyCwV584gZ5Ag",authDomain:"track-my-reps.firebaseapp.com",projectId:"track-my-reps",storageBucket:"track-my-reps.firebasestorage.app",messagingSenderId:"164703762100",appId:"1:164703762100:web:1d75ecf0d08a101135c9e1",measurementId:"G-1RHC65C2N3"},Sb=O0(OV),ug=qC(Sb),xV=new rr,Fg=hV(Sb);fV(Fg).catch(s=>{s.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):s.code==="unimplemented"&&console.warn("The current browser does not support persistence.")});const MV=()=>{const[s,t]=de.useState(null),[n,r]=de.useState(!0);return de.useEffect(()=>NR(ug,m=>{t(m),r(!1)}),[]),{user:s,loading:n,signInWithGoogle:async()=>{try{await $R(ug,xV)}catch(c){console.error("Error signing in:",c),alert("Failed to sign in. Please try again.")}},signOut:async()=>{try{await VR(ug)}catch(c){console.error("Error signing out:",c)}}}},cg=(s,t,n)=>{const[r,o]=de.useState(t),[u,c]=de.useState(!1),m=de.useRef(!1),g=de.useRef(!1),y=de.useRef(null),T=de.useRef(0),A=de.useRef(null);return de.useEffect(()=>{if(!s){A.current!==null&&(o(t),m.current=!1,A.current=null);return}A.current!==s.uid&&(m.current=!1,A.current=s.uid);const R=h0(Fg,"users",s.uid);return RV(R,J=>{if(g.current){console.log("Skipping snapshot update - currently saving");return}const W=Date.now()-T.current;if(m.current&&W<1e3){console.log("Skipping snapshot update - recent local change");return}if(J.exists()){const Z=J.data()[n];Z!==void 0&&(console.log(`Loading ${n} from Firebase:`,Z),o(Z),m.current=!0)}else console.log(`First time - saving initial ${n} to Firebase`),p0(R,{[n]:t},{merge:!0}),m.current=!0})},[s,n,t]),de.useEffect(()=>{if(!s||u||!m.current)return;y.current&&clearTimeout(y.current),T.current=Date.now();const R=async()=>{try{console.log(`Saving ${n} to Firebase:`,r),c(!0),g.current=!0;const j=h0(Fg,"users",s.uid);await p0(j,{[n]:r},{merge:!0}),console.log(` ${n} saved successfully`)}catch(j){console.error(`Error syncing ${n}:`,j)}finally{c(!1),setTimeout(()=>{g.current=!1},500)}};return y.current=setTimeout(R,500),()=>{y.current&&clearTimeout(y.current)}},[s,r,n,u]),[r,o,u]},au=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],PV={Monday:{isRest:!1,exercises:[{name:"Bench Press",sets:3,reps:8,weight:null},{name:"Incline Dumbbell Press",sets:3,reps:10,weight:null},{name:"Cable Flyes",sets:3,reps:12,weight:null}]},Tuesday:{isRest:!1,exercises:[{name:"Pull-ups",sets:3,reps:8,weight:null},{name:"Barbell Rows",sets:3,reps:10,weight:null},{name:"Lat Pulldown",sets:3,reps:12,weight:null}]},Wednesday:{isRest:!0,exercises:[]},Thursday:{isRest:!1,exercises:[{name:"Squats",sets:4,reps:10,weight:null},{name:"Leg Press",sets:3,reps:12,weight:null},{name:"Leg Curls",sets:3,reps:12,weight:null}]},Friday:{isRest:!1,exercises:[{name:"Overhead Press",sets:3,reps:10,weight:null},{name:"Lateral Raises",sets:3,reps:12,weight:null},{name:"Barbell Curls",sets:3,reps:10,weight:null},{name:"Tricep Dips",sets:3,reps:10,weight:null}]},Saturday:{isRest:!0,exercises:[]},Sunday:{isRest:!0,exercises:[]}};function kV(){const{user:s,loading:t,signInWithGoogle:n,signOut:r}=MV(),[o,u]=de.useState("tracker"),c=de.useRef(!1),m=de.useRef(new Set),g=de.useRef({}),y=de.useRef(null),[T,A]=cg(s,PV,"weeklyPlan"),[R,j]=de.useState(()=>{const b=new Date().getDay();return au[b===0?6:b-1]}),[J,W]=cg(s,{},"completedSets"),[Z,ht]=cg(s,{},"workoutNotes");de.useEffect(()=>{g.current=J},[J]),de.useEffect(()=>{if(!s){y.current=null,c.current=!1,m.current.clear();return}y.current!==s.uid&&(y.current=s.uid,c.current=!1,m.current.clear())},[s]),de.useEffect(()=>{if(!T||c.current||!s)return;let b=!1;const V={};au.forEach(vt=>{if(!T[vt]){V[vt]={isRest:!0,exercises:[]},b=!0;return}V[vt]={...T[vt]},V[vt].categories&&!V[vt].exercises&&(b=!0,V[vt].exercises=V[vt].categories.flatMap(q=>q.exercises||[]),delete V[vt].categories),V[vt].exercises||(b=!0,V[vt].exercises=[])}),b?(console.log("Migrating data structure from categories to exercises"),c.current=!0,A(V)):c.current=!0;const I={...J};let pt=!1;au.forEach(vt=>{const q=I[vt];if(Array.isArray(q)){pt=!0;const et={};q.forEach((dt,xt)=>{Array.isArray(dt)&&dt.forEach((zt,x)=>{et[`${xt}-${x}`]=zt})}),I[vt]=et}}),pt&&(console.log("Migrating completedSets from nested arrays to flat structure"),W(I))},[T,A,J]),de.useEffect(()=>{if(!c.current||m.current.has(R))return;const b=T[R];if(!(!b||b.isRest||!b.exercises)){if(!g.current[R]){console.log("Initializing completedSets for",R);const V={};b.exercises.forEach((I,pt)=>{for(let vt=0;vt<I.sets;vt++)V[`${pt}-${vt}`]=!1}),W(I=>({...I,[R]:V}))}m.current.add(R)}},[R,T]);const ft=(b,V)=>{W(I=>{const pt=I[R]||{},vt=`${b}-${V}`;if(Object.keys(pt).length===0){const q=T[R];if(!q.exercises)return I;const et={};return q.exercises.forEach((dt,xt)=>{for(let zt=0;zt<dt.sets;zt++)et[`${xt}-${zt}`]=!1}),et[vt]=!0,{...I,[R]:et}}if(V>0){const q=`${b}-${V-1}`;if(!pt[q])return I}return{...I,[R]:{...pt,[vt]:!pt[vt]}}})},st=()=>{if(window.confirm("Reset all checkboxes for today?")){const b=T[R];if(!b.exercises)return;const V={};b.exercises.forEach((I,pt)=>{for(let vt=0;vt<I.sets;vt++)V[`${pt}-${vt}`]=!1}),W(I=>({...I,[R]:V}))}},Rt=()=>{const b=T[R];if(!b.exercises||b.exercises.length===0)return{completed:0,total:0,percentage:0};const V=J[R]||{};let I=0,pt=0;return b.exercises.forEach((vt,q)=>{for(let et=0;et<vt.sets;et++)pt++,V[`${q}-${et}`]&&I++}),{completed:I,total:pt,percentage:pt>0?Math.round(I/pt*100):0}},It=b=>{A(V=>({...V,[b]:{...V[b],isRest:!V[b].isRest,exercises:V[b].isRest?V[b].exercises:[]}}))},_t=b=>{const V=prompt("Exercise name:");if(!V)return;const I=parseInt(prompt("Number of sets:","3")),pt=prompt("Reps (e.g., 8-12 or 15):","8-12");!V||!I||!pt||A(vt=>{const q={...vt};return q[b]={...q[b],exercises:[...q[b].exercises||[],{name:V,sets:I,reps:pt}]},q})},C=(b,V)=>{A(I=>{const pt={...I};return pt[b]={...pt[b],exercises:(pt[b].exercises||[]).filter((vt,q)=>q!==V)},pt})},w=b=>{ht(V=>({...V,[R]:b}))},D=Rt(),M=T[R];return t?$.jsx("div",{className:"app",children:$.jsxs("div",{className:"loading-screen",children:[$.jsx("div",{className:"loading-spinner"}),$.jsx("p",{children:"Loading..."})]})}):s?o==="planner"?$.jsxs("div",{className:"app",children:[$.jsxs("header",{className:"header",children:[$.jsx("h1",{children:" Weekly Planner"}),$.jsxs("div",{className:"header-buttons",children:[$.jsx("button",{className:"nav-button",onClick:()=>u("tracker"),children:"Back to Tracker"}),$.jsxs("div",{className:"user-info",children:[$.jsx("img",{src:s.photoURL,alt:s.displayName,className:"user-avatar"}),$.jsx("button",{className:"sign-out-btn",onClick:r,children:"Sign Out"})]})]})]}),$.jsx("div",{className:"planner-container",children:au.map(b=>$.jsxs("div",{className:"day-planner",children:[$.jsxs("div",{className:"day-header",children:[$.jsx("h2",{children:b}),$.jsx("div",{className:"day-controls",children:$.jsxs("label",{className:"rest-toggle",children:[$.jsx("input",{type:"checkbox",checked:T[b].isRest,onChange:()=>It(b)}),$.jsx("span",{children:"Rest Day"})]})})]}),T[b].isRest?$.jsx("div",{className:"rest-day-message",children:" Rest & Recovery"}):$.jsxs($.Fragment,{children:[$.jsx("div",{className:"exercises-list",children:(T[b].exercises||[]).map((V,I)=>$.jsxs("div",{className:"exercise-edit",children:[$.jsxs("div",{className:"exercise-info",children:[$.jsx("span",{className:"exercise-name-small",children:V.name}),$.jsxs("span",{className:"exercise-details",children:[V.sets,"  ",V.reps]})]}),$.jsx("button",{className:"remove-btn-small",onClick:()=>C(b,I),children:""})]},I))}),$.jsx("button",{className:"add-exercise-btn",onClick:()=>_t(b),children:"+ Add Exercise"})]})]},b))})]}):$.jsxs("div",{className:"app",children:[$.jsxs("header",{className:"header",children:[$.jsxs("div",{className:"header-top",children:[$.jsx("h1",{children:" Workout Tracker"}),$.jsxs("div",{className:"user-info",children:[$.jsx("img",{src:s.photoURL,alt:s.displayName,className:"user-avatar"}),$.jsx("button",{className:"sign-out-btn",onClick:r,children:"Sign Out"})]})]}),$.jsx("div",{className:"day-selector",children:au.map(b=>$.jsx("button",{className:`day-btn ${R===b?"active":""} ${T[b].isRest?"rest":""}`,onClick:()=>j(b),children:b.slice(0,3)},b))}),$.jsx("p",{className:"date",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),M.isRest?$.jsx("div",{className:"rest-day-view",children:$.jsxs("div",{className:"rest-card",children:[$.jsx("div",{className:"rest-icon",children:""}),$.jsx("h2",{children:"Rest Day"}),$.jsx("p",{children:"Take it easy and let your muscles recover!"}),$.jsx("button",{className:"edit-plan-btn",onClick:()=>u("planner"),children:"Edit Weekly Plan"})]})}):$.jsxs($.Fragment,{children:[$.jsxs("div",{className:"progress-section",children:[$.jsx("div",{className:"progress-bar-container",children:$.jsx("div",{className:"progress-bar",style:{width:`${D.percentage}%`}})}),$.jsxs("p",{className:"progress-text",children:[D.completed," / ",D.total," sets completed (",D.percentage,"%)"]})]}),$.jsx("div",{className:"workout-container",children:(M.exercises||[]).map((b,V)=>$.jsxs("div",{className:"exercise-card",children:[$.jsxs("div",{className:"exercise-header",children:[$.jsx("h3",{className:"exercise-name",children:b.name}),$.jsxs("span",{className:"exercise-reps",children:[b.sets,"  ",b.reps]})]}),$.jsx("div",{className:"sets-container",children:Array.from({length:b.sets},(I,pt)=>$.jsxs("label",{className:"set-checkbox",children:[$.jsx("input",{type:"checkbox",checked:J[R]?.[`${V}-${pt}`]||!1,onChange:()=>ft(V,pt)}),$.jsxs("span",{className:"checkbox-label",children:["Set ",pt+1]})]},pt))})]},V))}),$.jsxs("div",{className:"workout-notes-section",children:[$.jsx("label",{className:"notes-label",children:" Workout Notes"}),$.jsx("textarea",{className:"workout-notes-input",placeholder:"Track your weights, reps, and how you felt today...",value:Z[R]||"",onChange:b=>w(b.target.value),rows:4})]}),$.jsxs("div",{className:"footer",children:[$.jsx("button",{className:"edit-plan-btn",onClick:()=>u("planner"),children:" Weekly Plan"}),$.jsx("button",{className:"reset-button",onClick:st,children:" Reset Today"})]})]}),$.jsxs("nav",{className:"bottom-nav",children:[$.jsxs("button",{className:`nav-item ${o==="tracker"?"active":""}`,onClick:()=>u("tracker"),children:[$.jsx("div",{className:"nav-icon",children:""}),$.jsx("span",{children:"Tracker"})]}),$.jsxs("button",{className:`nav-item ${o==="planner"?"active":""}`,onClick:()=>u("planner"),children:[$.jsx("div",{className:"nav-icon",children:""}),$.jsx("span",{children:"Plan"})]}),$.jsxs("button",{className:"nav-item",onClick:st,children:[$.jsx("div",{className:"nav-icon",children:""}),$.jsx("span",{children:"Reset"})]})]})]}):$.jsx("div",{className:"app",children:$.jsx("div",{className:"sign-in-screen",children:$.jsxs("div",{className:"sign-in-card",children:[$.jsx("h1",{children:" Workout Tracker"}),$.jsx("p",{className:"sign-in-subtitle",children:"Track your workouts across all devices"}),$.jsxs("div",{className:"features-list",children:[$.jsxs("div",{className:"feature-item",children:[$.jsx("span",{className:"feature-icon",children:""}),$.jsx("span",{children:"Custom weekly workout plans"})]}),$.jsxs("div",{className:"feature-item",children:[$.jsx("span",{className:"feature-icon",children:""}),$.jsx("span",{children:"Track your progress daily"})]}),$.jsxs("div",{className:"feature-item",children:[$.jsx("span",{className:"feature-icon",children:""}),$.jsx("span",{children:"Sync across all devices"})]}),$.jsxs("div",{className:"feature-item",children:[$.jsx("span",{className:"feature-icon",children:""}),$.jsx("span",{children:"Mobile-friendly interface"})]})]}),$.jsxs("button",{className:"google-sign-in-btn",onClick:n,children:[$.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[$.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),$.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),$.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),$.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),$.jsx("p",{className:"privacy-note",children:"Your data is private and synced securely to your Google account"})]})})})}uI.createRoot(document.getElementById("root")).render($.jsx(de.StrictMode,{children:$.jsx(kV,{})}));
