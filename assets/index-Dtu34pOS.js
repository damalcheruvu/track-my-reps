(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var yd={exports:{}},ll={};var y_;function ZS(){if(y_)return ll;y_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var p in l)p!=="key"&&(h[p]=l[p])}else h=l;return l=h.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:h}}return ll.Fragment=t,ll.jsx=i,ll.jsxs=i,ll}var __;function JS(){return __||(__=1,yd.exports=ZS()),yd.exports}var Z=JS(),_d={exports:{}},Et={};var v_;function $S(){if(v_)return Et;v_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,$={};function ht(M,Y,nt){this.props=M,this.context=Y,this.refs=$,this.updater=nt||J}ht.prototype.isReactComponent={},ht.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ht.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function vt(){}vt.prototype=ht.prototype;function mt(M,Y,nt){this.props=M,this.context=Y,this.refs=$,this.updater=nt||J}var Gt=mt.prototype=new vt;Gt.constructor=mt,et(Gt,ht.prototype),Gt.isPureReactComponent=!0;var Wt=Array.isArray;function Ut(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(M,Y,nt){var st=nt.ref;return{$$typeof:a,type:M,key:Y,ref:st!==void 0?st:null,props:nt}}function C(M,Y){return D(M.type,Y,M.props)}function b(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function V(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return Y[nt]})}var A=/\/+/g;function ct(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):Y.toString(36)}function wt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ut,Ut):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function q(M,Y,nt,st,yt){var bt=typeof M;(bt==="undefined"||bt==="boolean")&&(M=null);var kt=!1;if(M===null)kt=!0;else switch(bt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(M.$$typeof){case a:case t:kt=!0;break;case S:return kt=M._init,q(kt(M._payload),Y,nt,st,yt)}}if(kt)return yt=yt(M),kt=st===""?"."+ct(M,0):st,Wt(yt)?(nt="",kt!=null&&(nt=kt.replace(A,"$&/")+"/"),q(yt,Y,nt,"",function($s){return $s})):yt!=null&&(b(yt)&&(yt=C(yt,nt+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(A,"$&/")+"/")+kt)),Y.push(yt)),1;kt=0;var Ie=st===""?".":st+":";if(Wt(M))for(var re=0;re<M.length;re++)st=M[re],bt=Ie+ct(st,re),kt+=q(st,Y,nt,bt,yt);else if(re=G(M),typeof re=="function")for(M=re.call(M),re=0;!(st=M.next()).done;)st=st.value,bt=Ie+ct(st,re++),kt+=q(st,Y,nt,bt,yt);else if(bt==="object"){if(typeof M.then=="function")return q(wt(M),Y,nt,st,yt);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return kt}function W(M,Y,nt){if(M==null)return M;var st=[],yt=0;return q(M,st,"","",function(bt){return Y.call(nt,bt,yt++)}),st}function ot(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Ct=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},zt={map:W,forEach:function(M,Y,nt){W(M,function(){Y.apply(this,arguments)},nt)},count:function(M){var Y=0;return W(M,function(){Y++}),Y},toArray:function(M){return W(M,function(Y){return Y})||[]},only:function(M){if(!b(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=R,Et.Children=zt,Et.Component=ht,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=mt,Et.StrictMode=r,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,Y,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=et({},M.props),yt=M.key;if(Y!=null)for(bt in Y.key!==void 0&&(yt=""+Y.key),Y)!w.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(st[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)st.children=nt;else if(1<bt){for(var kt=Array(bt),Ie=0;Ie<bt;Ie++)kt[Ie]=arguments[Ie+2];st.children=kt}return D(M.type,yt,st)},Et.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Et.createElement=function(M,Y,nt){var st,yt={},bt=null;if(Y!=null)for(st in Y.key!==void 0&&(bt=""+Y.key),Y)w.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Y[st]);var kt=arguments.length-2;if(kt===1)yt.children=nt;else if(1<kt){for(var Ie=Array(kt),re=0;re<kt;re++)Ie[re]=arguments[re+2];yt.children=Ie}if(M&&M.defaultProps)for(st in kt=M.defaultProps,kt)yt[st]===void 0&&(yt[st]=kt[st]);return D(M,bt,yt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:p,render:M}},Et.isValidElement=b,Et.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:ot}},Et.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},Et.startTransition=function(M){var Y=N.T,nt={};N.T=nt;try{var st=M(),yt=N.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ut,Ct)}catch(bt){Ct(bt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),N.T=Y}},Et.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Et.use=function(M){return N.H.use(M)},Et.useActionState=function(M,Y,nt){return N.H.useActionState(M,Y,nt)},Et.useCallback=function(M,Y){return N.H.useCallback(M,Y)},Et.useContext=function(M){return N.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,Y){return N.H.useDeferredValue(M,Y)},Et.useEffect=function(M,Y){return N.H.useEffect(M,Y)},Et.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Et.useId=function(){return N.H.useId()},Et.useImperativeHandle=function(M,Y,nt){return N.H.useImperativeHandle(M,Y,nt)},Et.useInsertionEffect=function(M,Y){return N.H.useInsertionEffect(M,Y)},Et.useLayoutEffect=function(M,Y){return N.H.useLayoutEffect(M,Y)},Et.useMemo=function(M,Y){return N.H.useMemo(M,Y)},Et.useOptimistic=function(M,Y){return N.H.useOptimistic(M,Y)},Et.useReducer=function(M,Y,nt){return N.H.useReducer(M,Y,nt)},Et.useRef=function(M){return N.H.useRef(M)},Et.useState=function(M){return N.H.useState(M)},Et.useSyncExternalStore=function(M,Y,nt){return N.H.useSyncExternalStore(M,Y,nt)},Et.useTransition=function(){return N.H.useTransition()},Et.version="19.2.1",Et}var E_;function lm(){return E_||(E_=1,_d.exports=$S()),_d.exports}var ee=lm(),vd={exports:{}},ul={},Ed={exports:{}},Td={};var T_;function WS(){return T_||(T_=1,(function(a){function t(q,W){var ot=q.length;q.push(W);t:for(;0<ot;){var Ct=ot-1>>>1,zt=q[Ct];if(0<l(zt,W))q[Ct]=W,q[ot]=zt,ot=Ct;else break t}}function i(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var W=q[0],ot=q.pop();if(ot!==W){q[0]=ot;t:for(var Ct=0,zt=q.length,M=zt>>>1;Ct<M;){var Y=2*(Ct+1)-1,nt=q[Y],st=Y+1,yt=q[st];if(0>l(nt,ot))st<zt&&0>l(yt,nt)?(q[Ct]=yt,q[st]=ot,Ct=st):(q[Ct]=nt,q[Y]=ot,Ct=Y);else if(st<zt&&0>l(yt,ot))q[Ct]=yt,q[st]=ot,Ct=st;else break t}}return W}function l(q,W){var ot=q.sortIndex-W.sortIndex;return ot!==0?ot:q.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var v=[],y=[],S=1,R=null,x=3,G=!1,J=!1,et=!1,$=!1,ht=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Gt(q){for(var W=i(y);W!==null;){if(W.callback===null)r(y);else if(W.startTime<=q)r(y),W.sortIndex=W.expirationTime,t(v,W);else break;W=i(y)}}function Wt(q){if(et=!1,Gt(q),!J)if(i(v)!==null)J=!0,Ut||(Ut=!0,V());else{var W=i(y);W!==null&&wt(Wt,W.startTime-q)}}var Ut=!1,N=-1,w=5,D=-1;function C(){return $?!0:!(a.unstable_now()-D<w)}function b(){if($=!1,Ut){var q=a.unstable_now();D=q;var W=!0;try{t:{J=!1,et&&(et=!1,vt(N),N=-1),G=!0;var ot=x;try{e:{for(Gt(q),R=i(v);R!==null&&!(R.expirationTime>q&&C());){var Ct=R.callback;if(typeof Ct=="function"){R.callback=null,x=R.priorityLevel;var zt=Ct(R.expirationTime<=q);if(q=a.unstable_now(),typeof zt=="function"){R.callback=zt,Gt(q),W=!0;break e}R===i(v)&&r(v),Gt(q)}else r(v);R=i(v)}if(R!==null)W=!0;else{var M=i(y);M!==null&&wt(Wt,M.startTime-q),W=!1}}break t}finally{R=null,x=ot,G=!1}W=void 0}}finally{W?V():Ut=!1}}}var V;if(typeof mt=="function")V=function(){mt(b)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,ct=A.port2;A.port1.onmessage=b,V=function(){ct.postMessage(null)}}else V=function(){ht(b,0)};function wt(q,W){N=ht(function(){q(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(q){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var ot=x;x=W;try{return q()}finally{x=ot}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ot=x;x=q;try{return W()}finally{x=ot}},a.unstable_scheduleCallback=function(q,W,ot){var Ct=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ct+ot:Ct):ot=Ct,q){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=ot+zt,q={id:S++,callback:W,priorityLevel:q,startTime:ot,expirationTime:zt,sortIndex:-1},ot>Ct?(q.sortIndex=ot,t(y,q),i(v)===null&&q===i(y)&&(et?(vt(N),N=-1):et=!0,wt(Wt,ot-Ct))):(q.sortIndex=zt,t(v,q),J||G||(J=!0,Ut||(Ut=!0,V()))),q},a.unstable_shouldYield=C,a.unstable_wrapCallback=function(q){var W=x;return function(){var ot=x;x=W;try{return q.apply(this,arguments)}finally{x=ot}}}})(Td)),Td}var S_;function tA(){return S_||(S_=1,Ed.exports=WS()),Ed.exports}var Sd={exports:{}},Ye={};var A_;function eA(){if(A_)return Ye;A_=1;var a=lm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,y,S){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:v,containerInfo:y,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return h(v,y,null,S)},Ye.flushSync=function(v){var y=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=y,r.p=S,r.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,R=p(S,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:x,fetchPriority:G}):S==="script"&&r.d.X(v,{crossOrigin:R,integrity:x,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=p(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,R=p(S,y.crossOrigin);r.d.L(v,S,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=p(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},Ye.requestFormReset=function(v){r.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,S){return d.H.useFormState(v,y,S)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.1",Ye}var b_;function nA(){if(b_)return Sd.exports;b_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Sd.exports=eA(),Sd.exports}var R_;function iA(){if(R_)return ul;R_=1;var a=tA(),t=lm(),i=nA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),e;if(f===o)return v(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=c,o=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,o=f;break}if(E===o){g=!0,o=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=c;break}if(E===o){g=!0,o=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Gt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),b=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=b&&e[b]||e["@@iterator"],typeof e=="function"?e:null)}var A=Symbol.for("react.client.reference");function ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===A?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ht:return"Profiler";case $:return"StrictMode";case Wt:return"Suspense";case Ut:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case mt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Gt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ct(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ct(e(n))}catch{}}return null}var wt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Ct=[],zt=-1;function M(e){return{current:e}}function Y(e){0>zt||(e.current=Ct[zt],Ct[zt]=null,zt--)}function nt(e,n){zt++,Ct[zt]=e.current,e.current=n}var st=M(null),yt=M(null),bt=M(null),kt=M(null);function Ie(e,n){switch(nt(bt,n),nt(yt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?By(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=By(n),e=jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),nt(st,e)}function re(){Y(st),Y(yt),Y(bt)}function $s(e){e.memoizedState!==null&&nt(kt,e);var n=st.current,s=jy(n,e.type);n!==s&&(nt(yt,e),nt(st,s))}function Hr(e){yt.current===e&&(Y(st),Y(yt)),kt.current===e&&(Y(kt),sl._currentValue=ot)}var Gr,Fr;function Jn(e){if(Gr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Gr=n&&n[1]||"",Fr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+e+Fr}var io=!1;function Ws(e,n){if(!e||io)return"";io=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var z=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){z=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){z=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),P=E.split(`
`);for(c=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===I.length||c===P.length)for(o=I.length-1,c=P.length-1;1<=o&&0<=c&&I[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(I[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||I[o]!==P[c]){var H=`
`+I[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=c);break}}}finally{io=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Jn(s):""}function so(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Ws(e.type,!1);case 11:return Ws(e.type.render,!1);case 1:return Ws(e.type,!0);case 31:return Jn("Activity");default:return""}}function ro(e){try{var n="",s=null;do n+=so(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,ns=a.unstable_cancelCallback,_h=a.unstable_shouldYield,jl=a.unstable_requestPaint,$e=a.unstable_now,tr=a.unstable_getCurrentPriorityLevel,ao=a.unstable_ImmediatePriority,oo=a.unstable_UserBlockingPriority,is=a.unstable_NormalPriority,vh=a.unstable_LowPriority,ql=a.unstable_IdlePriority,Hl=a.log,Gl=a.unstable_setDisableYieldValue,Un=null,Pe=null;function En(e){if(typeof Hl=="function"&&Gl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Un,e)}catch{}}var fe=Math.clz32?Math.clz32:Ql,Fl=Math.log,Qr=Math.LN2;function Ql(e){return e>>>=0,e===0?32:31-(Fl(e)/Qr|0)|0}var $n=256,er=262144,_e=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Wn(o):(g&=E,g!==0?c=Wn(g):s||(s=E&~e,s!==0&&(c=Wn(s))))):(E=o&~f,E!==0?c=Wn(E):g!==0?c=Wn(g):s||(s=o&~e,s!==0&&(c=Wn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Eh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function nr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Th(e,n,s,o,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-fe(s),Q=1<<H;E[H]=0,I[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var j=z[H];j!==null&&(j.lane&=-536870913)}s&=~Q}o!==0&&ir(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ir(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function lo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-fe(s),c=1<<o;c&n|e[o]&n&&(e[o]|=n),s&=~c}}function uo(e,n){var s=n&-n;return s=(s&42)!==0?1:sr(s),(s&(e.suspendedLanes|n))!==0?0:s}function sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kl(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function kn(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var Pn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Pn,xe="__reactProps$"+Pn,ni="__reactContainer$"+Pn,Yr="__reactEvents$"+Pn,Sh="__reactListeners$"+Pn,Xl="__reactHandles$"+Pn,Zl="__reactResources$"+Pn,ii="__reactMarker$"+Pn;function Kr(e){delete e[ve],delete e[xe],delete e[Yr],delete e[Sh],delete e[Xl]}function si(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Ky(e);e!==null;){if(s=e[ve])return s;e=Ky(e)}return n}e=s,s=e.parentNode}return null}function Tn(e){if(e=e[ve]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ri(e){var n=e[Zl];return n||(n=e[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ii]=!0}var co=new Set,ho={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(ho[e]=n,e=0;e<n.length;e++)co.add(n[e])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mo={},go={};function Jl(e){return ye.call(go,e)?!0:ye.call(mo,e)?!1:fo.test(e)?go[e]=!0:(mo[e]=!0,!1)}function Xr(e,n,s){if(Jl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function hn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function po(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=ss(e)?"checked":"value";e._valueTracker=po(e,n,""+e[n])}}function rr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ss(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ar=/[\n"\\]/g;function en(e){return e.replace(ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zr(e,n,s,o,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?yo(e,g,Ue(n)):s!=null?yo(e,g,Ue(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function $l(e,n,s,o,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function yo(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function rs(e,n,s,o){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Wl(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function as(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(wt(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Qt(e)}function nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _o(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||tu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function vo(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&_o(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&_o(e,f,n[f])}function Jr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $r(e){return os.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var Eo=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,ui=null;function or(e){var n=Tn(e);if(n&&(e=n.stateNode)){var s=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Zr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var c=o[xe]||null;if(!c)throw Error(r(90));Zr(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&rr(o)}break t;case"textarea":Wl(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&rs(e,!!s.multiple,n,!1)}}}var Wr=!1;function us(e,n,s){if(Wr)return e(n,s);Wr=!0;try{var o=e(n);return o}finally{if(Wr=!1,(ls!==null||ui!==null)&&(Ku(),ls&&(n=ls,e=ui,ui=ls=null,or(n),e)))for(n=0;n<e.length;n++)or(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[xe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(An)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{lr=!1}var ci=null,To=null,ur=null;function So(){if(ur)return ur;var e,n=To,s=n.length,o,c="value"in ci?ci.value:ci.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===c[f-o];o++);return ur=c.slice(e,1<o?1-o:void 0)}function cr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function jn(){return!1}function ze(e){function n(s,o,c,f,g){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:jn,this.isPropagationStopped=jn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ze(Ni),cs=R({},Ni,{view:0,detail:0}),Ao=ze(cs),hs,ta,fi,ea=R({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(hs=e.screenX-fi.screenX,ta=e.screenY-fi.screenY):ta=hs=0,fi=e),hs)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),bo=ze(ea),hr=R({},ea,{dataTransfer:0}),nu=ze(hr),iu=R({},cs,{relatedTarget:0}),fr=ze(iu),Ro=R({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),su=ze(Ro),na=R({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ru=ze(na),au=R({},Ni,{data:0}),di=ze(au),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function fs(){return cu}var We=R({},cs,{key:function(e){if(e.key){var n=ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hu=ze(We),fu=R({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=ze(fu),u=R({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),m=ze(u),_=R({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(_),L=R({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),tt=R({},Ni,{newState:0,oldState:0}),St=ze(tt),de=[9,13,27,32],qt=An&&"CompositionEvent"in window,ae=null;An&&"documentMode"in document&&(ae=document.documentMode);var bn=An&&"TextEvent"in window&&!ae,mi=An&&(!qt||ae&&8<ae&&11>=ae),qn=" ",Hn=!1;function dr(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ia(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function E0(e,n){switch(e){case"compositionend":return ia(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function T0(e,n){if(sa)return e==="compositionend"||!qt&&dr(e,n)?(e=So(),ur=To=ci=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var S0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!S0[e.type]:n==="textarea"}function $m(e,n,s,o){ls?ui?ui.push(o):ui=[o]:ls=o,n=ec(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var wo=null,Co=null;function A0(e){xy(e,0)}function du(e){var n=cn(e);if(rr(n))return e}function Wm(e,n){if(e==="change")return n}var tg=!1;if(An){var Ah;if(An){var bh="oninput"in document;if(!bh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),bh=typeof eg.oninput=="function"}Ah=bh}else Ah=!1;tg=Ah&&(!document.documentMode||9<document.documentMode)}function ng(){wo&&(wo.detachEvent("onpropertychange",ig),Co=wo=null)}function ig(e){if(e.propertyName==="value"&&du(Co)){var n=[];$m(n,Co,e,Sn(e)),us(A0,n)}}function b0(e,n,s){e==="focusin"?(ng(),wo=n,Co=s,wo.attachEvent("onpropertychange",ig)):e==="focusout"&&ng()}function R0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(Co)}function w0(e,n){if(e==="click")return du(n)}function C0(e,n){if(e==="input"||e==="change")return du(n)}function I0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:I0;function Io(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!ye.call(n,c)||!fn(e[c],n[c]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rg(e,n){var s=sg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=sg(s)}}function ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var D0=An&&"documentMode"in document&&11>=document.documentMode,ra=null,wh=null,Do=null,Ch=!1;function lg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ch||ra==null||ra!==li(o)||(o=ra,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Do&&Io(Do,o)||(Do=o,o=ec(wh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ra)))}function mr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var aa={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},Ih={},ug={};An&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function gr(e){if(Ih[e])return Ih[e];if(!aa[e])return e;var n=aa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ug)return Ih[e]=n[s];return e}var cg=gr("animationend"),hg=gr("animationiteration"),fg=gr("animationstart"),N0=gr("transitionrun"),O0=gr("transitionstart"),V0=gr("transitioncancel"),dg=gr("transitionend"),mg=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function Gn(e,n){mg.set(e,n),ai(n,[e])}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],oa=0,Nh=0;function gu(){for(var e=oa,n=Nh=oa=0;n<e;){var s=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var c=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&gg(s,c,f)}}function pu(e,n,s,o){Rn[oa++]=e,Rn[oa++]=n,Rn[oa++]=s,Rn[oa++]=o,Nh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Oh(e,n,s,o){return pu(e,n,s,o),yu(e)}function pr(e,n){return pu(e,null,null,n),yu(e)}function gg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-fe(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function yu(e){if(50<Jo)throw Jo=0,jf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var la={};function M0(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,s,o){return new M0(e,n,s,o)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var s=e.alternate;return s===null?(s=dn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function pg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,s,o,c,f){var g=0;if(o=e,typeof e=="function")Vh(e)&&(g=1);else if(typeof e=="string")g=PS(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=dn(31,s,n,c),e.elementType=D,e.lanes=f,e;case et:return yr(s.children,c,f,n);case $:g=8,c|=24;break;case ht:return e=dn(12,s,n,c|2),e.elementType=ht,e.lanes=f,e;case Wt:return e=dn(13,s,n,c),e.elementType=Wt,e.lanes=f,e;case Ut:return e=dn(19,s,n,c),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case vt:g=9;break t;case Gt:g=11;break t;case N:g=14;break t;case w:g=16,o=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=dn(g,s,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function yr(e,n,s,o){return e=dn(7,e,o,n),e.lanes=s,e}function Mh(e,n,s){return e=dn(6,e,null,n),e.lanes=s,e}function yg(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function xh(e,n,s){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var _g=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var s=_g.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ro(n)},_g.set(e,n),n)}return{value:e,source:n,stack:ro(n)}}var ua=[],ca=0,vu=null,No=0,Cn=[],In=0,ds=null,gi=1,pi="";function Mi(e,n){ua[ca++]=No,ua[ca++]=vu,vu=e,No=n}function vg(e,n,s){Cn[In++]=gi,Cn[In++]=pi,Cn[In++]=ds,ds=e;var o=gi;e=pi;var c=32-fe(o)-1;o&=~(1<<c),s+=1;var f=32-fe(n)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,gi=1<<32-fe(n)+c|s<<c|o,pi=f+e}else gi=1<<f|s<<c|o,pi=e}function Uh(e){e.return!==null&&(Mi(e,1),vg(e,1,0))}function Lh(e){for(;e===vu;)vu=ua[--ca],ua[ca]=null,No=ua[--ca],ua[ca]=null;for(;e===ds;)ds=Cn[--In],Cn[In]=null,pi=Cn[--In],Cn[In]=null,gi=Cn[--In],Cn[In]=null}function Eg(e,n){Cn[In++]=gi,Cn[In++]=pi,Cn[In++]=ds,gi=n.id,pi=n.overflow,ds=e}var Be=null,ne=null,Lt=!1,ms=null,Dn=!1,kh=Error(r(519));function gs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oo(wn(n,e)),kh}function Tg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ve]=e,n[xe]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<Wo.length;s++)Dt(Wo[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),$l(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),as(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Py(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||gs(e,!0)}function Sg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Be=Be.return}}function ha(e){if(e!==Be)return!1;if(!Lt)return Sg(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||nd(e.type,e.memoizedProps)),s=!s),s&&ne&&gs(e),Sg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=Yy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=Yy(e)}else n===27?(n=ne,Ds(e.type)?(e=od,od=null,ne=e):ne=n):ne=Be?On(e.stateNode.nextSibling):null;return!0}function _r(){ne=Be=null,Lt=!1}function Ph(){var e=ms;return e!==null&&(on===null?on=e:on.push.apply(on,e),ms=null),e}function Oo(e){ms===null?ms=[e]:ms.push(e)}var zh=M(null),vr=null,xi=null;function ps(e,n,s){nt(zh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=zh.current,Y(zh)}function Bh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function jh(e,n,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Bh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Bh(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function fa(e,n,s,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===kt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}c=c.return}e!==null&&jh(n,e,s,o),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){vr=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return Ag(vr,e)}function Tu(e,n){return vr===null&&Er(e),Ag(e,n)}function Ag(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},xi===null){if(e===null)throw Error(r(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return s}var x0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},U0=a.unstable_scheduleCallback,L0=a.unstable_NormalPriority,Se={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new x0,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&U0(L0,function(){e.controller.abort()})}var Mo=null,Hh=0,da=0,ma=null;function k0(e,n){if(Mo===null){var s=Mo=[];Hh=0,da=Yf(),ma={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Hh++,n.then(bg,bg),n}function bg(){if(--Hh===0&&Mo!==null){ma!==null&&(ma.status="fulfilled");var e=Mo;Mo=null,da=0,ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function P0(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var Rg=q.S;q.S=function(e,n){ly=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&k0(e,n),Rg!==null&&Rg(e,n)};var Tr=M(null);function Gh(){var e=Tr.current;return e!==null?e:te.pooledCache}function Su(e,n){n===null?nt(Tr,Tr.current):nt(Tr,n.pool)}function wg(){var e=Gh();return e===null?null:{parent:Se._currentValue,pool:e}}var ga=Error(r(460)),Fh=Error(r(474)),Au=Error(r(542)),bu={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ig(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(zn,zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ng(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ng(e),e}throw Ar=n,ga}}function Sr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ar=s,ga):s}}var Ar=null;function Dg(){if(Ar===null)throw Error(r(459));var e=Ar;return Ar=null,e}function Ng(e){if(e===ga||e===Au)throw Error(r(483))}var pa=null,xo=0;function Ru(e){var n=xo;return xo+=1,pa===null&&(pa=[]),Ig(pa,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function wu(e,n){throw n.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Og(e){function n(U,O){if(e){var k=U.deletions;k===null?(U.deletions=[O],U.flags|=16):k.push(O)}}function s(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function c(U,O){return U=Vi(U,O),U.index=0,U.sibling=null,U}function f(U,O,k){return U.index=k,e?(k=U.alternate,k!==null?(k=k.index,k<O?(U.flags|=67108866,O):k):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,k,F){return O===null||O.tag!==6?(O=Mh(k,U.mode,F),O.return=U,O):(O=c(O,k),O.return=U,O)}function I(U,O,k,F){var ut=k.type;return ut===et?H(U,O,k.props.children,F,k.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&Sr(ut)===O.type)?(O=c(O,k.props),Uo(O,k),O.return=U,O):(O=_u(k.type,k.key,k.props,null,U.mode,F),Uo(O,k),O.return=U,O)}function P(U,O,k,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=xh(k,U.mode,F),O.return=U,O):(O=c(O,k.children||[]),O.return=U,O)}function H(U,O,k,F,ut){return O===null||O.tag!==7?(O=yr(k,U.mode,F,ut),O.return=U,O):(O=c(O,k),O.return=U,O)}function Q(U,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Mh(""+O,U.mode,k),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return k=_u(O.type,O.key,O.props,null,U.mode,k),Uo(k,O),k.return=U,k;case J:return O=xh(O,U.mode,k),O.return=U,O;case w:return O=Sr(O),Q(U,O,k)}if(wt(O)||V(O))return O=yr(O,U.mode,k,null),O.return=U,O;if(typeof O.then=="function")return Q(U,Ru(O),k);if(O.$$typeof===mt)return Q(U,Tu(U,O),k);wu(U,O)}return null}function z(U,O,k,F){var ut=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ut!==null?null:E(U,O,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case G:return k.key===ut?I(U,O,k,F):null;case J:return k.key===ut?P(U,O,k,F):null;case w:return k=Sr(k),z(U,O,k,F)}if(wt(k)||V(k))return ut!==null?null:H(U,O,k,F,null);if(typeof k.then=="function")return z(U,O,Ru(k),F);if(k.$$typeof===mt)return z(U,O,Tu(U,k),F);wu(U,k)}return null}function j(U,O,k,F,ut){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(k)||null,E(O,U,""+F,ut);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return U=U.get(F.key===null?k:F.key)||null,I(O,U,F,ut);case J:return U=U.get(F.key===null?k:F.key)||null,P(O,U,F,ut);case w:return F=Sr(F),j(U,O,k,F,ut)}if(wt(F)||V(F))return U=U.get(k)||null,H(O,U,F,ut,null);if(typeof F.then=="function")return j(U,O,k,Ru(F),ut);if(F.$$typeof===mt)return j(U,O,k,Tu(O,F),ut);wu(O,F)}return null}function rt(U,O,k,F){for(var ut=null,Bt=null,at=O,Rt=O=0,Ot=null;at!==null&&Rt<k.length;Rt++){at.index>Rt?(Ot=at,at=null):Ot=at.sibling;var jt=z(U,at,k[Rt],F);if(jt===null){at===null&&(at=Ot);break}e&&at&&jt.alternate===null&&n(U,at),O=f(jt,O,Rt),Bt===null?ut=jt:Bt.sibling=jt,Bt=jt,at=Ot}if(Rt===k.length)return s(U,at),Lt&&Mi(U,Rt),ut;if(at===null){for(;Rt<k.length;Rt++)at=Q(U,k[Rt],F),at!==null&&(O=f(at,O,Rt),Bt===null?ut=at:Bt.sibling=at,Bt=at);return Lt&&Mi(U,Rt),ut}for(at=o(at);Rt<k.length;Rt++)Ot=j(at,U,Rt,k[Rt],F),Ot!==null&&(e&&Ot.alternate!==null&&at.delete(Ot.key===null?Rt:Ot.key),O=f(Ot,O,Rt),Bt===null?ut=Ot:Bt.sibling=Ot,Bt=Ot);return e&&at.forEach(function(xs){return n(U,xs)}),Lt&&Mi(U,Rt),ut}function dt(U,O,k,F){if(k==null)throw Error(r(151));for(var ut=null,Bt=null,at=O,Rt=O=0,Ot=null,jt=k.next();at!==null&&!jt.done;Rt++,jt=k.next()){at.index>Rt?(Ot=at,at=null):Ot=at.sibling;var xs=z(U,at,jt.value,F);if(xs===null){at===null&&(at=Ot);break}e&&at&&xs.alternate===null&&n(U,at),O=f(xs,O,Rt),Bt===null?ut=xs:Bt.sibling=xs,Bt=xs,at=Ot}if(jt.done)return s(U,at),Lt&&Mi(U,Rt),ut;if(at===null){for(;!jt.done;Rt++,jt=k.next())jt=Q(U,jt.value,F),jt!==null&&(O=f(jt,O,Rt),Bt===null?ut=jt:Bt.sibling=jt,Bt=jt);return Lt&&Mi(U,Rt),ut}for(at=o(at);!jt.done;Rt++,jt=k.next())jt=j(at,U,Rt,jt.value,F),jt!==null&&(e&&jt.alternate!==null&&at.delete(jt.key===null?Rt:jt.key),O=f(jt,O,Rt),Bt===null?ut=jt:Bt.sibling=jt,Bt=jt);return e&&at.forEach(function(XS){return n(U,XS)}),Lt&&Mi(U,Rt),ut}function $t(U,O,k,F){if(typeof k=="object"&&k!==null&&k.type===et&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case G:t:{for(var ut=k.key;O!==null;){if(O.key===ut){if(ut=k.type,ut===et){if(O.tag===7){s(U,O.sibling),F=c(O,k.props.children),F.return=U,U=F;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&Sr(ut)===O.type){s(U,O.sibling),F=c(O,k.props),Uo(F,k),F.return=U,U=F;break t}s(U,O);break}else n(U,O);O=O.sibling}k.type===et?(F=yr(k.props.children,U.mode,F,k.key),F.return=U,U=F):(F=_u(k.type,k.key,k.props,null,U.mode,F),Uo(F,k),F.return=U,U=F)}return g(U);case J:t:{for(ut=k.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){s(U,O.sibling),F=c(O,k.children||[]),F.return=U,U=F;break t}else{s(U,O);break}else n(U,O);O=O.sibling}F=xh(k,U.mode,F),F.return=U,U=F}return g(U);case w:return k=Sr(k),$t(U,O,k,F)}if(wt(k))return rt(U,O,k,F);if(V(k)){if(ut=V(k),typeof ut!="function")throw Error(r(150));return k=ut.call(k),dt(U,O,k,F)}if(typeof k.then=="function")return $t(U,O,Ru(k),F);if(k.$$typeof===mt)return $t(U,O,Tu(U,k),F);wu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(s(U,O.sibling),F=c(O,k),F.return=U,U=F):(s(U,O),F=Mh(k,U.mode,F),F.return=U,U=F),g(U)):s(U,O)}return function(U,O,k,F){try{xo=0;var ut=$t(U,O,k,F);return pa=null,ut}catch(at){if(at===ga||at===Au)throw at;var Bt=dn(29,at,null,U.mode);return Bt.lanes=F,Bt.return=U,Bt}finally{}}}var br=Og(!0),Vg=Og(!1),ys=!1;function Qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=yu(e),gg(e,null,s),n}return pu(e,o,n,s),yu(e)}function Lo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,lo(e,s)}}function Kh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Xh=!1;function ko(){if(Xh){var e=ma;if(e!==null)throw e}}function Po(e,n,s,o){Xh=!1;var c=e.updateQueue;ys=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var I=E,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=I))}if(f!==null){var Q=c.baseState;g=0,H=P=I=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Nt&z)===z:(o&z)===z){z!==0&&z===da&&(Xh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,dt=E;z=n;var $t=s;switch(dt.tag){case 1:if(rt=dt.payload,typeof rt=="function"){Q=rt.call($t,Q,z);break t}Q=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=dt.payload,z=typeof rt=="function"?rt.call($t,Q,z):rt,z==null)break t;Q=R({},Q,z);break t;case 2:ys=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=j,I=Q):H=H.next=j,g|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);H===null&&(I=Q),c.baseState=I,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),bs|=g,e.lanes=g,e.memoizedState=Q}}function Mg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function xg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Mg(s[e],n)}var ya=M(null),Cu=M(0);function Ug(e,n){e=Gi,nt(Cu,e),nt(ya,n),Gi=e|n.baseLanes}function Zh(){nt(Cu,Gi),nt(ya,ya.current)}function Jh(){Gi=Cu.current,Y(ya),Y(Cu)}var mn=M(null),Nn=null;function Es(e){var n=e.alternate;nt(me,me.current&1),nt(mn,e),Nn===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(Nn=e)}function $h(e){nt(me,me.current),nt(mn,e),Nn===null&&(Nn=e)}function Lg(e){e.tag===22?(nt(me,me.current),nt(mn,e),Nn===null&&(Nn=e)):Ts()}function Ts(){nt(me,me.current),nt(mn,mn.current)}function gn(e){Y(mn),Nn===e&&(Nn=null),Y(me)}var me=M(0);function Iu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||rd(s)||ad(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,At=null,Zt=null,Ae=null,Du=!1,_a=!1,Rr=!1,Nu=0,zo=0,va=null,z0=0;function ce(){throw Error(r(321))}function Wh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!fn(e[s],n[s]))return!1;return!0}function tf(e,n,s,o,c,f){return Li=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?vp:pf,Rr=!1,f=s(o,c),Rr=!1,_a&&(f=Pg(n,s,o,c)),kg(e),f}function kg(e){q.H=qo;var n=Zt!==null&&Zt.next!==null;if(Li=0,Ae=Zt=At=null,Du=!1,zo=0,va=null,n)throw Error(r(300));e===null||be||(e=e.dependencies,e!==null&&Eu(e)&&(be=!0))}function Pg(e,n,s,o){At=e;var c=0;do{if(_a&&(va=null),zo=0,_a=!1,25<=c)throw Error(r(301));if(c+=1,Ae=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Ep,f=n(s,o)}while(_a);return f}function B0(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Bo(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(At.flags|=1024),n}function ef(){var e=Nu!==0;return Nu=0,e}function nf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function sf(e){if(Du){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Du=!1}Li=0,Ae=Zt=At=null,_a=!1,zo=Nu=0,va=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Zt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(e){var n=zo;return zo+=1,va===null&&(va=[]),e=Ig(va,e,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?vp:pf),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===mt)return je(e)}throw Error(r(438,String(e)))}function rf(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ou(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=C;return n.index++,s}function ki(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=ge();return af(n,Zt,e)}function af(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,I=null,P=n,H=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Nt&Q)===Q:(Li&Q)===Q){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===da&&(H=!0);else if((Li&z)===z){P=P.next,z===da&&(H=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Q,g=f):I=I.next=Q,At.lanes|=z,bs|=z;Q=P.action,Rr&&s(f,Q),f=P.hasEagerState?P.eagerState:s(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,At.lanes|=Q,bs|=Q;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=E,!fn(f,e.memoizedState)&&(be=!0,H&&(s=ma,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function of(e){var n=ge(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function zg(e,n,s){var o=At,c=ge(),f=Lt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!fn((Zt||c).memoizedState,s);if(g&&(c.memoizedState=s,be=!0),c=c.queue,cf(qg.bind(null,o,c,e),[e]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ea(9,{destroy:void 0},jg.bind(null,o,c,s,n),null),te===null)throw Error(r(349));f||(Li&127)!==0||Bg(o,n,s)}return s}function Bg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=Ou(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function jg(e,n,s,o){n.value=s,n.getSnapshot=o,Hg(n)&&Gg(e)}function qg(e,n,s){return s(function(){Hg(n)&&Gg(e)})}function Hg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!fn(e,s)}catch{return!0}}function Gg(e){var n=pr(e,2);n!==null&&ln(n,e,2)}function lf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Rr){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function Fg(e,n,s,o){return e.baseState=s,af(e,Zt,typeof o=="function"?o:ki)}function j0(e,n,s,o,c){if(Lu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Qg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Qg(e,n){var s=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=s(c,o),I=q.S;I!==null&&I(g,E),Yg(e,n,E)}catch(P){uf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(c,o),Yg(e,n,f)}catch(P){uf(e,n,P)}}function Yg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Kg(e,n,o)},function(o){return uf(e,n,o)}):Kg(e,n,s)}function Kg(e,n,s){n.status="fulfilled",n.value=s,Xg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Qg(e,s)))}function uf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Xg(n),n=n.next;while(n!==o)}e.action=null}function Xg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Zg(e,n){return n}function Jg(e,n){if(Lt){var s=te.formState;if(s!==null){t:{var o=At;if(Lt){if(ne){e:{for(var c=ne,f=Dn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ne=On(c.nextSibling),o=c.data==="F!";break t}}gs(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:n},s.queue=o,s=pp.bind(null,At,o),o.dispatch=s,o=lf(!1),f=gf.bind(null,At,!1,o.queue),o=tn(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,s=j0.bind(null,At,c,f,s),c.dispatch=s,o.memoizedState=e,[n,s,!1]}function $g(e){var n=ge();return Wg(n,Zt,e)}function Wg(e,n,s){if(n=af(e,n,Zg)[0],e=Mu(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Bo(n)}catch(g){throw g===ga?Au:g}else o=n;n=ge();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(At.flags|=2048,Ea(9,{destroy:void 0},q0.bind(null,c,s),null)),[o,f,e]}function q0(e,n){e.action=n}function tp(e){var n=ge(),s=Zt;if(s!==null)return Wg(n,s,e);ge(),n=n.memoizedState,s=ge();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ea(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Ou(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function ep(){return ge().memoizedState}function xu(e,n,s,o){var c=tn();At.flags|=e,c.memoizedState=Ea(1|n,{destroy:void 0},s,o===void 0?null:o)}function Uu(e,n,s,o){var c=ge();o=o===void 0?null:o;var f=c.memoizedState.inst;Zt!==null&&o!==null&&Wh(o,Zt.memoizedState.deps)?c.memoizedState=Ea(n,f,s,o):(At.flags|=e,c.memoizedState=Ea(1|n,f,s,o))}function np(e,n){xu(8390656,8,e,n)}function cf(e,n){Uu(2048,8,e,n)}function H0(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Ou(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ip(e){var n=ge().memoizedState;return H0({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function sp(e,n){return Uu(4,2,e,n)}function rp(e,n){return Uu(4,4,e,n)}function ap(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function op(e,n,s){s=s!=null?s.concat([e]):null,Uu(4,4,ap.bind(null,n,e),s)}function hf(){}function lp(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Wh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function up(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Wh(n,o[1]))return o[0];if(o=e(),Rr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o}function ff(e,n,s){return s===void 0||(Li&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=cy(),At.lanes|=e,bs|=e,s)}function cp(e,n,s,o){return fn(s,n)?s:ya.current!==null?(e=ff(e,s,o),fn(e,n)||(be=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Nt&261930)===0?(be=!0,e.memoizedState=s):(e=cy(),At.lanes|=e,bs|=e,n)}function hp(e,n,s,o,c){var f=W.p;W.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,gf(e,!1,n,s);try{var I=c(),P=q.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var H=P0(I,o);jo(e,n,H,_n(e))}else jo(e,n,o,_n(e))}catch(Q){jo(e,n,{then:function(){},status:"rejected",reason:Q},_n())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function G0(){}function df(e,n,s,o){if(e.tag!==5)throw Error(r(476));var c=fp(e).queue;hp(e,c,n,ot,s===null?G0:function(){return dp(e),s(o)})}function fp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ot},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function dp(e){var n=fp(e);n.next===null&&(n=e.alternate.memoizedState),jo(e,n.next.queue,{},_n())}function mf(){return je(sl)}function mp(){return ge().memoizedState}function gp(){return ge().memoizedState}function F0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();e=_s(s);var o=vs(n,e,s);o!==null&&(ln(o,n,s),Lo(o,n,s)),n={cache:qh()},e.payload=n;return}n=n.return}}function Q0(e,n,s){var o=_n();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lu(e)?yp(n,s):(s=Oh(e,n,s,o),s!==null&&(ln(s,e,o),_p(s,n,o)))}function pp(e,n,s){var o=_n();jo(e,n,s,o)}function jo(e,n,s,o){var c={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))yp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return pu(e,n,c,0),te===null&&gu(),!1}catch{}finally{}if(s=Oh(e,n,c,o),s!==null)return ln(s,e,o),_p(s,n,o),!0}return!1}function gf(e,n,s,o){if(o={lane:2,revertLane:Yf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(n)throw Error(r(479))}else n=Oh(e,s,o,2),n!==null&&ln(n,e,2)}function Lu(e){var n=e.alternate;return e===At||n!==null&&n===At}function yp(e,n){_a=Du=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function _p(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,lo(e,s)}}var qo={readContext:je,use:Vu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};qo.useEffectEvent=ce;var vp={readContext:je,use:Vu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:np,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,xu(4194308,4,ap.bind(null,n,e),s)},useLayoutEffect:function(e,n){return xu(4194308,4,e,n)},useInsertionEffect:function(e,n){xu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Rr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var c=s(n);if(Rr){En(!0);try{s(n)}finally{En(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=Q0.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=lf(e);var n=e.queue,s=pp.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:hf,useDeferredValue:function(e,n){var s=tn();return ff(s,e,n)},useTransition:function(){var e=lf(!1);return e=hp.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,c=tn();if(Lt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),te===null)throw Error(r(349));(Nt&127)!==0||Bg(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,np(qg.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,{destroy:void 0},jg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=te.identifierPrefix;if(Lt){var s=pi,o=gi;s=(o&~(1<<32-fe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Nu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=z0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:mf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=gf.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:rf,useCacheRefresh:function(){return tn().memoizedState=F0.bind(null,At)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((Ht&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},pf={readContext:je,use:Vu,useCallback:lp,useContext:je,useEffect:cf,useImperativeHandle:op,useInsertionEffect:sp,useLayoutEffect:rp,useMemo:up,useReducer:Mu,useRef:ep,useState:function(){return Mu(ki)},useDebugValue:hf,useDeferredValue:function(e,n){var s=ge();return cp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Mu(ki)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Bo(e),n]},useSyncExternalStore:zg,useId:mp,useHostTransitionStatus:mf,useFormState:$g,useActionState:$g,useOptimistic:function(e,n){var s=ge();return Fg(s,Zt,e,n)},useMemoCache:rf,useCacheRefresh:gp};pf.useEffectEvent=ip;var Ep={readContext:je,use:Vu,useCallback:lp,useContext:je,useEffect:cf,useImperativeHandle:op,useInsertionEffect:sp,useLayoutEffect:rp,useMemo:up,useReducer:of,useRef:ep,useState:function(){return of(ki)},useDebugValue:hf,useDeferredValue:function(e,n){var s=ge();return Zt===null?ff(s,e,n):cp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=of(ki)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Bo(e),n]},useSyncExternalStore:zg,useId:mp,useHostTransitionStatus:mf,useFormState:tp,useActionState:tp,useOptimistic:function(e,n){var s=ge();return Zt!==null?Fg(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:rf,useCacheRefresh:gp};Ep.useEffectEvent=ip;function yf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:R({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var _f={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=_n(),c=_s(o);c.payload=n,s!=null&&(c.callback=s),n=vs(e,c,o),n!==null&&(ln(n,e,o),Lo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=_n(),c=_s(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=vs(e,c,o),n!==null&&(ln(n,e,o),Lo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=_n(),o=_s(s);o.tag=2,n!=null&&(o.callback=n),n=vs(e,o,s),n!==null&&(ln(n,e,s),Lo(n,e,s))}};function Tp(e,n,s,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Io(s,o)||!Io(c,f):!0}function Sp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&_f.enqueueReplaceState(n,n.state,null)}function wr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=R({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Ap(e){mu(e)}function bp(e){console.error(e)}function Rp(e){mu(e)}function ku(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function wp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vf(e,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){ku(e,n)},s}function Cp(e){return e=_s(e),e.tag=3,e}function Ip(e,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){wp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){wp(n,s,o),typeof c!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Y0(e,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&fa(n,s,c,!0),s=mn.current,s!==null){switch(s.tag){case 31:case 13:return Nn===null?Xu():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===bu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Gf(e,o,c)),!1;case 22:return s.flags|=65536,o===bu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Gf(e,o,c)),!1}throw Error(r(435,s.tag))}return Gf(e,o,c),Xu(),!1}if(Lt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==kh&&(e=Error(r(422),{cause:o}),Oo(wn(e,s)))):(o!==kh&&(n=Error(r(423),{cause:o}),Oo(wn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=wn(o,s),c=vf(e.stateNode,o,c),Kh(e,c),he!==4&&(he=2)),!1;var f=Error(r(520),{cause:o});if(f=wn(f,s),Zo===null?Zo=[f]:Zo.push(f),he!==4&&(he=2),n===null)return!0;o=wn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=vf(s.stateNode,o,e),Kh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Cp(c),Ip(c,e,s,o),Kh(s,c),!1}s=s.return}while(s!==null);return!1}var Ef=Error(r(461)),be=!1;function qe(e,n,s,o){n.child=e===null?Vg(n,null,s,o):br(n,e.child,s,o)}function Dp(e,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Er(n),o=tf(e,n,s,g,f,c),E=ef(),e!==null&&!be?(nf(e,n,c),Pi(e,n,c)):(Lt&&E&&Uh(n),n.flags|=1,qe(e,n,o,c),n.child)}function Np(e,n,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!Vh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Op(e,n,f,o,c)):(e=_u(s.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!If(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Io,s(g,o)&&e.ref===n.ref)return Pi(e,n,c)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Op(e,n,s,o,c){if(e!==null){var f=e.memoizedProps;if(Io(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,If(e,c))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Pi(e,n,c)}return Tf(e,n,s,o,c)}function Vp(e,n,s,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return Mp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Su(n,f!==null?f.cachePool:null),f!==null?Ug(n,f):Zh(),Lg(n);else return o=n.lanes=536870912,Mp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Su(n,f.cachePool),Ug(n,f),Ts(),n.memoizedState=null):(e!==null&&Su(n,null),Zh(),Ts());return qe(e,n,c,s),n.child}function Ho(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Mp(e,n,s,o,c){var f=Gh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Su(n,null),Zh(),Lg(n),e!==null&&fa(e,n,o,!0),n.childLanes=c,null}function Pu(e,n){return n=Bu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function xp(e,n,s){return br(n,e.child,null,s),e=Pu(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function K0(e,n,s){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Pu(n,o),n.lanes=536870912,Ho(null,e);if($h(n),(e=ne)?(e=Qy(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return Pu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if($h(n),c)if(n.flags&256)n.flags&=-257,n=xp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||fa(e,n,s,!1),c=(s&e.childLanes)!==0,be||c){if(o=te,o!==null&&(g=uo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,pr(e,g),ln(o,e,g),Ef;Xu(),n=xp(e,n,s)}else e=f.treeContext,ne=On(g.nextSibling),Be=n,Lt=!0,ms=null,Dn=!1,e!==null&&Eg(n,e),n=Pu(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Tf(e,n,s,o,c){return Er(n),s=tf(e,n,s,o,void 0,c),o=ef(),e!==null&&!be?(nf(e,n,c),Pi(e,n,c)):(Lt&&o&&Uh(n),n.flags|=1,qe(e,n,s,c),n.child)}function Up(e,n,s,o,c,f){return Er(n),n.updateQueue=null,s=Pg(n,o,s,c),kg(e),o=ef(),e!==null&&!be?(nf(e,n,f),Pi(e,n,f)):(Lt&&o&&Uh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Lp(e,n,s,o,c){if(Er(n),n.stateNode===null){var f=la,g=s.contextType;typeof g=="object"&&g!==null&&(f=je(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_f,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Qh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?je(g):la,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(yf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&_f.enqueueReplaceState(f,f.state,null),Po(n,o,f,c),ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=wr(s,E);f.props=I;var P=f.context,H=s.contextType;g=la,typeof H=="object"&&H!==null&&(g=je(H));var Q=s.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Sp(n,f,o,g),ys=!1;var z=n.memoizedState;f.state=z,Po(n,o,f,c),ko(),P=n.memoizedState,E||z!==P||ys?(typeof Q=="function"&&(yf(n,s,Q,o),P=n.memoizedState),(I=ys||Tp(n,s,I,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Yh(e,n),g=n.memoizedProps,H=wr(s,g),f.props=H,Q=n.pendingProps,z=f.context,P=s.contextType,I=la,typeof P=="object"&&P!==null&&(I=je(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==I)&&Sp(n,f,o,I),ys=!1,z=n.memoizedState,f.state=z,Po(n,o,f,c),ko();var j=n.memoizedState;g!==Q||z!==j||ys||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof E=="function"&&(yf(n,s,E,o),j=n.memoizedState),(H=ys||Tp(n,s,H,o,z,j,I)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=I,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=br(n,e.child,null,c),n.child=br(n,null,s,c)):qe(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Pi(e,n,c),e}function kp(e,n,s,o){return _r(),n.flags|=256,qe(e,n,s,o),n.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(e){return{baseLanes:e,cachePool:wg()}}function bf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=yn),e}function Pp(e,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(c?Es(n):Ts(),(e=ne)?(e=Qy(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw gs(n);return ad(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(Ts(),c=n.mode,E=Bu({mode:"hidden",children:E},c),o=yr(o,c,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Af(s),o.childLanes=bf(e,g,s),n.memoizedState=Sf,Ho(null,o)):(Es(n),Rf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Es(n),n.flags&=-257,n=wf(e,n,s)):n.memoizedState!==null?(Ts(),n.child=e.child,n.flags|=128,n=null):(Ts(),E=o.fallback,c=n.mode,o=Bu({mode:"visible",children:o.children},c),E=yr(E,c,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,br(n,e.child,null,s),o=n.child,o.memoizedState=Af(s),o.childLanes=bf(e,g,s),n.memoizedState=Sf,n=Ho(null,o));else if(Es(n),ad(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(r(419)),o.stack="",o.digest=g,Oo({value:o,source:null,stack:null}),n=wf(e,n,s)}else if(be||fa(e,n,s,!1),g=(s&e.childLanes)!==0,be||g){if(g=te,g!==null&&(o=uo(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,pr(e,o),ln(g,e,o),Ef;rd(E)||Xu(),n=wf(e,n,s)}else rd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=On(E.nextSibling),Be=n,Lt=!0,ms=null,Dn=!1,e!==null&&Eg(n,e),n=Rf(n,o.children),n.flags|=4096);return n}return c?(Ts(),E=o.fallback,c=n.mode,I=e.child,P=I.sibling,o=Vi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Vi(P,E):(E=yr(E,c,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Ho(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Af(s):(c=E.cachePool,c!==null?(I=Se._currentValue,c=c.parent!==I?{parent:I,pool:I}:c):c=wg(),E={baseLanes:E.baseLanes|s,cachePool:c}),o.memoizedState=E,o.childLanes=bf(e,g,s),n.memoizedState=Sf,Ho(e.child,o)):(Es(n),s=e.child,e=s.sibling,s=Vi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Rf(e,n){return n=Bu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function wf(e,n,s){return br(n,e.child,null,s),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,s)}function Cf(e,n,s,o,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Bp(e,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(me,g),qe(e,n,o,s),o=Lt?No:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,s,n);else if(e.tag===19)zp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Iu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Cf(n,!1,c,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Iu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Cf(n,!0,s,null,f,o);break;case"together":Cf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),bs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(fa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Vi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Vi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function If(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function X0(e,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ps(n,Se,e.memoizedState.cache),_r();break;case 27:case 5:$s(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,$h(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Es(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Pp(e,n,s):(Es(n),e=Pi(e,n,s),e!==null?e.sibling:null);Es(n);break;case 19:var c=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(fa(e,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return Bp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return n.lanes=0,Vp(e,n,s,n.pendingProps);case 24:ps(n,Se,e.memoizedState.cache)}return Pi(e,n,s)}function jp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!If(e,s)&&(n.flags&128)===0)return be=!1,X0(e,n,s);be=(e.flags&131072)!==0}else be=!1,Lt&&(n.flags&1048576)!==0&&vg(n,No,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Sr(n.elementType),n.type=e,typeof e=="function")Vh(e)?(o=wr(e,o),n.tag=1,n=Lp(null,n,e,o,s)):(n.tag=0,n=Tf(null,n,e,o,s));else{if(e!=null){var c=e.$$typeof;if(c===Gt){n.tag=11,n=Dp(null,n,e,o,s);break t}else if(c===N){n.tag=14,n=Np(null,n,e,o,s);break t}}throw n=ct(e)||e,Error(r(306,n,""))}}return n;case 0:return Tf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=wr(o,n.pendingProps),Lp(e,n,o,c,s);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Yh(e,n),Po(n,o,null,s);var g=n.memoizedState;if(o=g.cache,ps(n,Se,o),o!==f.cache&&jh(n,[Se],s,!0),ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kp(e,n,o,s);break t}else if(o!==c){c=wn(Error(r(424)),n),Oo(c),n=kp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=On(e.firstChild),Be=n,Lt=!0,ms=null,Dn=!0,s=Vg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(_r(),o===c){n=Pi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return zu(e,n),e===null?(s=$y(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,o=nc(bt.current).createElement(s),o[ve]=n,o[xe]=e,He(o,s,e),Ee(o),n.stateNode=o):n.memoizedState=$y(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $s(n),e===null&&Lt&&(o=n.stateNode=Xy(n.type,n.pendingProps,bt.current),Be=n,Dn=!0,c=ne,Ds(n.type)?(od=c,ne=On(o.firstChild)):ne=c),qe(e,n,n.pendingProps.children,s),zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((c=o=ne)&&(o=RS(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,Be=n,ne=On(o.firstChild),Dn=!1,c=!0):c=!1),c||gs(n)),$s(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,nd(c,f)?o=null:g!==null&&nd(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=tf(e,n,B0,null,null,s),sl._currentValue=c),zu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Lt&&((e=s=ne)&&(s=wS(s,n.pendingProps,Dn),s!==null?(n.stateNode=s,Be=n,ne=null,e=!0):e=!1),e||gs(n)),null;case 13:return Pp(e,n,s);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=br(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Dp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ps(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Er(n),c=je(c),o=o(c),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Np(e,n,n.type,n.pendingProps,s);case 15:return Op(e,n,n.type,n.pendingProps,s);case 19:return Bp(e,n,s);case 31:return K0(e,n,s);case 22:return Vp(e,n,s,n.pendingProps);case 24:return Er(n),o=je(Se),e===null?(c=Gh(),c===null&&(c=te,f=qh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},Qh(n),ps(n,Se,c)):((e.lanes&s)!==0&&(Yh(e,n),Po(n,null,null,s),ko()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ps(n,Se,o)):(o=f.cache,ps(n,Se,o),o!==c.cache&&jh(n,[Se],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function zi(e){e.flags|=4}function Df(e,n,s,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(my())e.flags|=8192;else throw Ar=bu,Fh}else e.flags&=-16777217}function qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!i_(n))if(my())e.flags|=8192;else throw Ar=bu,Fh}function ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yl():536870912,e.lanes|=n,ba|=n)}function Go(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function Z0(e,n,s){var o=n.pendingProps;switch(Lh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Se),re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ha(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ph())),ie(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(ie(n),qp(n,f)):(ie(n),Df(n,c,null,o,s))):f?f!==e.memoizedState?(zi(n),ie(n),qp(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),ie(n),Df(n,c,e,o,s)),null;case 27:if(Hr(n),s=bt.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}e=st.current,ha(n)?Tg(n):(e=Xy(c,o,s),n.stateNode=e,zi(n))}return ie(n),null;case 5:if(Hr(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}if(f=st.current,ha(n))Tg(n);else{var g=nc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[ve]=n,f[xe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return ie(n),Df(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,ha(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,c=Be,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Py(e.nodeValue,s)),e||gs(n,!0)}else e=nc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ie(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ha(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ve]=n}else _r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else s=Ph(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ha(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ve]=n}else _r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=Ph(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ju(n,n.updateQueue),ie(n),null);case 4:return re(),e===null&&Jf(n.stateNode.containerInfo),ie(n),null;case 10:return Ui(n.type),ie(n),null;case 19:if(Y(me),o=n.memoizedState,o===null)return ie(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Go(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Iu(e),f!==null){for(n.flags|=128,Go(o,!1),e=f.updateQueue,n.updateQueue=e,ju(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)pg(s,e),s=s.sibling;return nt(me,me.current&1|2),Lt&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Qu&&(n.flags|=128,c=!0,Go(o,!1),n.lanes=4194304)}else{if(!c)if(e=Iu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,ju(n,e),Go(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return ie(n),null}else 2*$e()-o.renderingStartTime>Qu&&s!==536870912&&(n.flags|=128,c=!0,Go(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=me.current,nt(me,c?s&1|2:s&1),Lt&&Mi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return gn(n),Jh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&ju(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Tr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function J0(e,n){switch(Lh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Se),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Hr(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(r(340));_r()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));_r()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(me),null;case 4:return re(),null;case 10:return Ui(n.type),null;case 22:case 23:return gn(n),Jh(),e!==null&&Y(Tr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Se),null;case 25:return null;default:return null}}function Hp(e,n){switch(Lh(n),n.tag){case 3:Ui(Se),re();break;case 26:case 27:case 5:Hr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Y(me);break;case 10:Ui(n.type);break;case 22:case 23:gn(n),Jh(),e!==null&&Y(Tr);break;case 24:Ui(Se)}}function Fo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==c)}}catch(E){Kt(n,n.return,E)}}function Ss(e,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var I=s,P=E;try{P()}catch(H){Kt(c,I,H)}}}o=o.next}while(o!==f)}}catch(H){Kt(n,n.return,H)}}function Gp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{xg(n,s)}catch(o){Kt(e,e.return,o)}}}function Fp(e,n,s){s.props=wr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Qo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){Kt(e,n,c)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Kt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Kt(e,n,c)}else s.current=null}function Qp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Kt(e,e.return,c)}}function Nf(e,n,s){try{var o=e.stateNode;vS(o,e.type,s,n),o[xe]=n}catch(c){Kt(e,e.return,c)}}function Yp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function Of(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Vf(e,n,s),e=e.sibling;e!==null;)Vf(e,n,s),e=e.sibling}function qu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(qu(e,n,s),e=e.sibling;e!==null;)qu(e,n,s),e=e.sibling}function Kp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,o,s),n[ve]=e,n[xe]=s}catch(f){Kt(e,e.return,f)}}var Bi=!1,Re=!1,Mf=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,Le=null;function $0(e,n){if(e=e.containerInfo,td=uc,e=og(e),Rh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,P=0,H=0,Q=e,z=null;e:for(;;){for(var j;Q!==s||c!==0&&Q.nodeType!==3||(E=g+c),Q!==f||o!==0&&Q.nodeType!==3||(I=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(j=Q.firstChild)!==null;)z=Q,Q=j;for(;;){if(Q===e)break e;if(z===s&&++P===c&&(E=g),z===f&&++H===o&&(I=g),(j=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=j}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(ed={focusedElem:e,selectionRange:s},uc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=wr(s.type,c);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Kt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)sd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function Zp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qi(e,s),o&4&&Fo(5,s);break;case 1:if(qi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var c=wr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}o&64&&Gp(s),o&512&&Qo(s,s.return);break;case 3:if(qi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{xg(e,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&o&4&&Kp(s);case 26:case 5:qi(e,s),n===null&&o&4&&Qp(s),o&512&&Qo(s,s.return);break;case 12:qi(e,s);break;case 31:qi(e,s),o&4&&Wp(e,s);break;case 13:qi(e,s),o&4&&ty(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=oS.bind(null,s),CS(e,s))));break;case 22:if(o=s.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||Re,c=Bi;var f=Re;Bi=o,(Re=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):qi(e,s),Bi=c,Re=f}break;case 30:break;default:qi(e,s)}}function Jp(e){var n=e.alternate;n!==null&&(e.alternate=null,Jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Kr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,sn=!1;function ji(e,n,s){for(s=s.child;s!==null;)$p(e,n,s),s=s.sibling}function $p(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:Re||yi(s,n),ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||yi(s,n);var o=oe,c=sn;Ds(s.type)&&(oe=s.stateNode,sn=!1),ji(e,n,s),el(s.stateNode),oe=o,sn=c;break;case 5:Re||yi(s,n);case 6:if(o=oe,c=sn,oe=null,ji(e,n,s),oe=o,sn=c,oe!==null)if(sn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:oe!==null&&(sn?(e=oe,Gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Va(e)):Gy(oe,s.stateNode));break;case 4:o=oe,c=sn,oe=s.stateNode.containerInfo,sn=!0,ji(e,n,s),oe=o,sn=c;break;case 0:case 11:case 14:case 15:Ss(2,s,n),Re||Ss(4,s,n),ji(e,n,s);break;case 1:Re||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Fp(s,n,o)),ji(e,n,s);break;case 21:ji(e,n,s);break;case 22:Re=(o=Re)||s.memoizedState!==null,ji(e,n,s),Re=o;break;default:ji(e,n,s)}}function Wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Va(e)}catch(s){Kt(n,n.return,s)}}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Va(e)}catch(s){Kt(n,n.return,s)}}function W0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xp),n;default:throw Error(r(435,e.tag))}}function Hu(e,n){var s=W0(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var c=lS.bind(null,e,o);o.then(c,c)}})}function rn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){oe=E.stateNode,sn=!1;break t}break;case 5:oe=E.stateNode,sn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(oe===null)throw Error(r(160));$p(f,g,c),oe=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ey(n,e),n=n.sibling}var Fn=null;function ey(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),an(e),o&4&&(Ss(3,e,e.return),Fo(3,e),Ss(5,e,e.return));break;case 1:rn(n,e),an(e),o&512&&(Re||s===null||yi(s,s.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=Fn;if(rn(n,e),an(e),o&512&&(Re||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ii]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,o,s),f[ve]=e,Ee(f),o=f;break t;case"link":var g=e_("link","href",c).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(o),He(f,o,s),c.head.appendChild(f);break;case"meta":if(g=e_("meta","content",c).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(o),He(f,o,s),c.head.appendChild(f);break;default:throw Error(r(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else n_(c,e.type,e.stateNode);else e.stateNode=t_(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?n_(c,e.type,e.stateNode):t_(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Nf(e,e.memoizedProps,s.memoizedProps)}break;case 27:rn(n,e),an(e),o&512&&(Re||s===null||yi(s,s.return)),s!==null&&o&4&&Nf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(rn(n,e),an(e),o&512&&(Re||s===null||yi(s,s.return)),e.flags&32){c=e.stateNode;try{nn(c,"")}catch(rt){Kt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Nf(e,c,s!==null?s.memoizedProps:c)),o&1024&&(Mf=!0);break;case 6:if(rn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){Kt(e,e.return,rt)}}break;case 3:if(rc=null,c=Fn,Fn=ic(n.containerInfo),rn(n,e),Fn=c,an(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Va(n.containerInfo)}catch(rt){Kt(e,e.return,rt)}Mf&&(Mf=!1,ny(e));break;case 4:o=Fn,Fn=ic(e.stateNode.containerInfo),rn(n,e),an(e),Fn=o;break;case 12:rn(n,e),an(e);break;case 31:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 13:rn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 22:c=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,P=Bi,H=Re;if(Bi=P||c,Re=H||I,rn(n,e),Re=H,Bi=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||I||Bi||Re||Cr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Q=I.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Kt(I,I.return,rt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=c?"":I.memoizedProps}catch(rt){Kt(I,I.return,rt)}}}else if(n.tag===18){if(s===null){I=n;try{var j=I.stateNode;c?Fy(j,!0):Fy(I.stateNode,!1)}catch(rt){Kt(I,I.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Hu(e,s))));break;case 19:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 30:break;case 21:break;default:rn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Yp(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Of(e);qu(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(nn(g,""),s.flags&=-33);var E=Of(e);qu(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,P=Of(e);Vf(e,P,I);break;default:throw Error(r(161))}}catch(H){Kt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zp(e,n.alternate,n),n=n.sibling}function Cr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Cr(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fp(n,n.return,s),Cr(n);break;case 27:el(n.stateNode);case 26:case 5:yi(n,n.return),Cr(n);break;case 22:n.memoizedState===null&&Cr(n);break;case 30:Cr(n);break;default:Cr(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(c,f,s),Fo(4,f);break;case 1:if(Hi(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var I=c.shared.hiddenCallbacks;if(I!==null)for(c.shared.hiddenCallbacks=null,c=0;c<I.length;c++)Mg(I[c],E)}catch(P){Kt(o,o.return,P)}}s&&g&64&&Gp(f),Qo(f,f.return);break;case 27:Kp(f);case 26:case 5:Hi(c,f,s),s&&o===null&&g&4&&Qp(f),Qo(f,f.return);break;case 12:Hi(c,f,s);break;case 31:Hi(c,f,s),s&&g&4&&Wp(c,f);break;case 13:Hi(c,f,s),s&&g&4&&ty(c,f);break;case 22:f.memoizedState===null&&Hi(c,f,s),Qo(f,f.return);break;case 30:break;default:Hi(c,f,s)}n=n.sibling}}function xf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Vo(s))}function Uf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e))}function Qn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)iy(e,n,s,o),n=n.sibling}function iy(e,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,s,o),c&2048&&Fo(9,n);break;case 1:Qn(e,n,s,o);break;case 3:Qn(e,n,s,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e)));break;case 12:if(c&2048){Qn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Kt(n,n.return,I)}}else Qn(e,n,s,o);break;case 31:Qn(e,n,s,o);break;case 13:Qn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,s,o):Yo(e,n):f._visibility&2?Qn(e,n,s,o):(f._visibility|=2,Ta(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&xf(g,n);break;case 24:Qn(e,n,s,o),c&2048&&Uf(n.alternate,n);break;default:Qn(e,n,s,o)}}function Ta(e,n,s,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ta(f,g,E,I,c),Fo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Ta(f,g,E,I,c):Yo(f,g):(H._visibility|=2,Ta(f,g,E,I,c)),c&&P&2048&&xf(g.alternate,g);break;case 24:Ta(f,g,E,I,c),c&&P&2048&&Uf(g.alternate,g);break;default:Ta(f,g,E,I,c)}n=n.sibling}}function Yo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,c=o.flags;switch(o.tag){case 22:Yo(s,o),c&2048&&xf(o.alternate,o);break;case 24:Yo(s,o),c&2048&&Uf(o.alternate,o);break;default:Yo(s,o)}n=n.sibling}}var Ko=8192;function Sa(e,n,s){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)sy(e,n,s),e=e.sibling}function sy(e,n,s){switch(e.tag){case 26:Sa(e,n,s),e.flags&Ko&&e.memoizedState!==null&&zS(s,Fn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,s);break;case 3:case 4:var o=Fn;Fn=ic(e.stateNode.containerInfo),Sa(e,n,s),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Ko,Ko=16777216,Sa(e,n,s),Ko=o):Sa(e,n,s));break;default:Sa(e,n,s)}}function ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,oy(o,e)}ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ay(e),e=e.sibling}function ay(e){switch(e.tag){case 0:case 11:case 15:Xo(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:Xo(e);break;case 12:Xo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Gu(e)):Xo(e);break;default:Xo(e)}}function Gu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,oy(o,e)}ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),Gu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Gu(n));break;default:Gu(n)}e=e.sibling}}function oy(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Le=o;else t:for(s=e;Le!==null;){o=Le;var c=o.sibling,f=o.return;if(Jp(o),o===s){Le=null;break t}if(c!==null){c.return=f,Le=c;break t}Le=f}}}var tS={getCacheForType:function(e){var n=je(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return je(Se).controller.signal}},eS=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,It=null,Nt=0,Yt=0,pn=null,As=!1,Aa=!1,Lf=!1,Gi=0,he=0,bs=0,Ir=0,kf=0,yn=0,ba=0,Zo=null,on=null,Pf=!1,Fu=0,ly=0,Qu=1/0,Yu=null,Rs=null,Ne=0,ws=null,Ra=null,Fi=0,zf=0,Bf=null,uy=null,Jo=0,jf=null;function _n(){return(Ht&2)!==0&&Nt!==0?Nt&-Nt:q.T!==null?Yf():Kl()}function cy(){if(yn===0)if((Nt&536870912)===0||Lt){var e=er;er<<=1,(er&3932160)===0&&(er=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,s){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(wa(e,0),Cs(e,Nt,yn,!1)),nr(e,s),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(Ir|=s),he===4&&Cs(e,Nt,yn,!1)),_i(e))}function hy(e,n,s){if((Ht&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),c=o?sS(e,n):Hf(e,n,!0),f=o;do{if(c===0){Aa&&!o&&Cs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!nS(s)){c=Hf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=Zo;var I=E.current.memoizedState.isDehydrated;if(I&&(wa(E,g).flags|=256),g=Hf(E,g,!1),g!==2){if(Lf&&!I){E.errorRecoveryDisabledLanes|=f,Ir|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){wa(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,yn,!As);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Fu+300-$e(),10<c)){if(Cs(o,n,yn,!As),ti(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=qy(fy.bind(null,o,s,on,Yu,Pf,n,yn,Ir,ba,As,f,"Throttled",-0,0),c);break t}fy(o,s,on,Yu,Pf,n,yn,Ir,ba,As,f,null,-0,0)}}break}while(!0);_i(e)}function fy(e,n,s,o,c,f,g,E,I,P,H,Q,z,j){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},sy(n,f,Q);var rt=(f&62914560)===f?Fu-$e():(f&4194048)===f?ly-$e():0;if(rt=BS(Q,rt),rt!==null){Fi=f,e.cancelPendingCommit=rt(Ey.bind(null,e,n,f,s,o,c,g,E,I,H,Q,null,z,j)),Cs(e,f,g,!P);return}}Ey(e,n,f,s,o,c,g,E,I)}function nS(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,s,o){n&=~kf,n&=~Ir,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-fe(c),g=1<<f;o[f]=-1,c&=~g}s!==0&&ir(e,s,n)}function Ku(){return(Ht&6)===0?($o(0),!1):!0}function qf(){if(It!==null){if(Yt===0)var e=It.return;else e=It,xi=vr=null,sf(e),pa=null,xo=0,e=It;for(;e!==null;)Hp(e.alternate,e),e=e.return;It=null}}function wa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,SS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Fi=0,qf(),te=e,It=s=Vi(e.current,null),Nt=n,Yt=0,pn=null,As=!1,Aa=Ln(e,n),Lf=!1,ba=yn=kf=Ir=bs=he=0,on=Zo=null,Pf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-fe(o),f=1<<c;n|=e[c],o&=~f}return Gi=n,gu(),s}function dy(e,n){At=null,q.H=qo,n===ga||n===Au?(n=Dg(),Yt=3):n===Fh?(n=Dg(),Yt=4):Yt=n===Ef?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,It===null&&(he=1,ku(e,wn(n,e.current)))}function my(){var e=mn.current;return e===null?!0:(Nt&4194048)===Nt?Nn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Nn:!1}function gy(){var e=q.H;return q.H=qo,e===null?qo:e}function py(){var e=q.A;return q.A=tS,e}function Xu(){he=4,As||(Nt&4194048)!==Nt&&mn.current!==null||(Aa=!0),(bs&134217727)===0&&(Ir&134217727)===0||te===null||Cs(te,Nt,yn,!1)}function Hf(e,n,s){var o=Ht;Ht|=2;var c=gy(),f=py();(te!==e||Nt!==n)&&(Yu=null,wa(e,n)),n=!1;var g=he;t:do try{if(Yt!==0&&It!==null){var E=It,I=pn;switch(Yt){case 8:qf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var P=Yt;if(Yt=0,pn=null,Ca(e,E,I,P),s&&Aa){g=0;break t}break;default:P=Yt,Yt=0,pn=null,Ca(e,E,I,P)}}iS(),g=he;break}catch(H){dy(e,H)}while(!0);return n&&e.shellSuspendCounter++,xi=vr=null,Ht=o,q.H=c,q.A=f,It===null&&(te=null,Nt=0,gu()),g}function iS(){for(;It!==null;)yy(It)}function sS(e,n){var s=Ht;Ht|=2;var o=gy(),c=py();te!==e||Nt!==n?(Yu=null,Qu=$e()+500,wa(e,n)):Aa=Ln(e,n);t:do try{if(Yt!==0&&It!==null){n=It;var f=pn;e:switch(Yt){case 1:Yt=0,pn=null,Ca(e,n,f,1);break;case 2:case 9:if(Cg(f)){Yt=0,pn=null,_y(n);break}n=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),_i(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Cg(f)?(Yt=0,pn=null,_y(n)):(Yt=0,pn=null,Ca(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?i_(g):E.stateNode.complete){Yt=0,pn=null;var I=E.sibling;if(I!==null)It=I;else{var P=E.return;P!==null?(It=P,Zu(P)):It=null}break e}}Yt=0,pn=null,Ca(e,n,f,5);break;case 6:Yt=0,pn=null,Ca(e,n,f,6);break;case 8:qf(),he=6;break t;default:throw Error(r(462))}}rS();break}catch(H){dy(e,H)}while(!0);return xi=vr=null,q.H=o,q.A=c,Ht=s,It!==null?0:(te=null,Nt=0,gu(),he)}function rS(){for(;It!==null&&!_h();)yy(It)}function yy(e){var n=jp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?Zu(e):It=n}function _y(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Up(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Up(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:sf(n);default:Hp(s,n),n=It=pg(n,Gi),n=jp(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?Zu(e):It=n}function Ca(e,n,s,o){xi=vr=null,sf(n),pa=null,xo=0;var c=n.return;try{if(Y0(e,c,n,s,Nt)){he=1,ku(e,wn(s,e.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;he=1,ku(e,wn(s,e.current)),It=null;return}n.flags&32768?(Lt||o===1?e=!0:Aa||(Nt&536870912)!==0?e=!1:(As=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),vy(n,e)):Zu(n)}function Zu(e){var n=e;do{if((n.flags&32768)!==0){vy(n,As);return}e=n.return;var s=Z0(n.alternate,n,Gi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);he===0&&(he=5)}function vy(e,n){do{var s=J0(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);he=6,It=null}function Ey(e,n,s,o,c,f,g,E,I){e.cancelPendingCommit=null;do Ju();while(Ne!==0);if((Ht&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Nh,Th(e,s,f,g,E,I),e===te&&(It=te=null,Nt=0),Ra=n,ws=e,Fi=s,zf=f,Bf=c,uy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uS(is,function(){return Ry(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,c=W.p,W.p=2,g=Ht,Ht|=4;try{$0(e,n,s)}finally{Ht=g,W.p=c,q.T=o}}Ne=1,Ty(),Sy(),Ay()}}function Ty(){if(Ne===1){Ne=0;var e=ws,n=Ra,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=W.p;W.p=2;var c=Ht;Ht|=4;try{ey(n,e);var f=ed,g=og(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&ag(E.ownerDocument.documentElement,E)){if(I!==null&&Rh(E)){var P=I.start,H=I.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var j=z.getSelection(),rt=E.textContent.length,dt=Math.min(I.start,rt),$t=I.end===void 0?dt:Math.min(I.end,rt);!j.extend&&dt>$t&&(g=$t,$t=dt,dt=g);var U=rg(E,dt),O=rg(E,$t);if(U&&O&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var k=Q.createRange();k.setStart(U.node,U.offset),j.removeAllRanges(),dt>$t?(j.addRange(k),j.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),j.addRange(k))}}}}for(Q=[],j=E;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}uc=!!td,ed=td=null}finally{Ht=c,W.p=o,q.T=s}}e.current=n,Ne=2}}function Sy(){if(Ne===2){Ne=0;var e=ws,n=Ra,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=W.p;W.p=2;var c=Ht;Ht|=4;try{Zp(e,n.alternate,n)}finally{Ht=c,W.p=o,q.T=s}}Ne=3}}function Ay(){if(Ne===4||Ne===3){Ne=0,jl();var e=ws,n=Ra,s=Fi,o=uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Ra=ws=null,by(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Rs=null),Ii(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,c=W.p,W.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,W.p=c}}(Fi&3)!==0&&Ju(),_i(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===jf?Jo++:(Jo=0,jf=e):Jo=0,$o(0)}}function by(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vo(n)))}function Ju(){return Ty(),Sy(),Ay(),Ry()}function Ry(){if(Ne!==5)return!1;var e=ws,n=zf;zf=0;var s=Ii(Fi),o=q.T,c=W.p;try{W.p=32>s?32:s,q.T=null,s=Bf,Bf=null;var f=ws,g=Fi;if(Ne=0,Ra=ws=null,Fi=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,ay(f.current),iy(f,f.current,g,s),Ht=E,$o(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{W.p=c,q.T=o,by(e,n)}}function wy(e,n,s){n=wn(s,n),n=vf(e.stateNode,n,2),e=vs(e,n,2),e!==null&&(nr(e,2),_i(e))}function Kt(e,n,s){if(e.tag===3)wy(e,e,s);else for(;n!==null;){if(n.tag===3){wy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=wn(s,e),s=Cp(2),o=vs(n,s,2),o!==null&&(Ip(s,o,n,e),nr(o,2),_i(o));break}}n=n.return}}function Gf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new eS;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(Lf=!0,c.add(s),e=aS.bind(null,e,n,s),n.then(e,e))}function aS(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Nt&s)===s&&(he===4||he===3&&(Nt&62914560)===Nt&&300>$e()-Fu?(Ht&2)===0&&wa(e,0):kf|=s,ba===Nt&&(ba=0)),_i(e)}function Cy(e,n){n===0&&(n=Yl()),e=pr(e,n),e!==null&&(nr(e,n),_i(e))}function oS(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Cy(e,s)}function lS(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Cy(e,s)}function uS(e,n){return De(e,n)}var $u=null,Ia=null,Ff=!1,Wu=!1,Qf=!1,Is=0;function _i(e){e!==Ia&&e.next===null&&(Ia===null?$u=Ia=e:Ia=Ia.next=e),Wu=!0,Ff||(Ff=!0,hS())}function $o(e,n){if(!Qf&&Wu){Qf=!0;do for(var s=!1,o=$u;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Oy(o,f))}else f=Nt,f=ti(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,Oy(o,f));o=o.next}while(s);Qf=!1}}function cS(){Iy()}function Iy(){Wu=Ff=!1;var e=0;Is!==0&&TS()&&(e=Is);for(var n=$e(),s=null,o=$u;o!==null;){var c=o.next,f=Dy(o,n);f===0?(o.next=null,s===null?$u=c:s.next=c,c===null&&(Ia=s)):(s=o,(e!==0||(f&3)!==0)&&(Wu=!0)),o=c}Ne!==0&&Ne!==5||$o(e),Is!==0&&(Is=0)}function Dy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,I=c[g];I===-1?((E&s)===0||(E&o)!==0)&&(c[g]=Eh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=Nt,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ns(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ns(o),Ii(s)){case 2:case 8:s=oo;break;case 32:s=is;break;case 268435456:s=ql;break;default:s=is}return o=Ny.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ns(o),e.callbackPriority=2,e.callbackNode=null,2}function Ny(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ju()&&e.callbackNode!==s)return null;var o=Nt;return o=ti(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(hy(e,o,n),Dy(e,$e()),e.callbackNode!=null&&e.callbackNode===s?Ny.bind(null,e):null)}function Oy(e,n){if(Ju())return null;hy(e,n,!0)}function hS(){AS(function(){(Ht&6)!==0?De(ao,cS):Iy()})}function Yf(){if(Is===0){var e=da;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),Is=e}return Is}function Vy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$r(""+e)}function My(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function fS(e,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=Vy((c[xe]||null).action),g=o.submitter;g&&(n=(n=g[xe]||null)?Vy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Is!==0){var I=g?My(c,g):new FormData(c);df(s,{pending:!0,data:I,method:c.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?My(c,g):new FormData(c),df(s,{pending:!0,data:I,method:c.method,action:f},f,I))},currentTarget:c}]})}}for(var Kf=0;Kf<Dh.length;Kf++){var Xf=Dh[Kf],dS=Xf.toLowerCase(),mS=Xf[0].toUpperCase()+Xf.slice(1);Gn(dS,"on"+mS)}Gn(cg,"onAnimationEnd"),Gn(hg,"onAnimationIteration"),Gn(fg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(N0,"onTransitionRun"),Gn(O0,"onTransitionStart"),Gn(V0,"onTransitionCancel"),Gn(dg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function xy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){mu(H)}c.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){mu(H)}c.currentTarget=null,f=I}}}}function Dt(e,n){var s=n[Yr];s===void 0&&(s=n[Yr]=new Set);var o=e+"__bubble";s.has(o)||(Uy(n,e,2,!1),s.add(o))}function Zf(e,n,s){var o=0;n&&(o|=4),Uy(s,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[tc]){e[tc]=!0,co.forEach(function(s){s!=="selectionchange"&&(gS.has(s)||Zf(s,!1,e),Zf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,Zf("selectionchange",!1,n))}}function Uy(e,n,s,o){switch(c_(n)){case 2:var c=HS;break;case 8:c=GS;break;default:c=fd}s=c.bind(null,n,s,e),c=void 0,!lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function $f(e,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}us(function(){var P=f,H=Sn(s),Q=[];t:{var z=mg.get(e);if(z!==void 0){var j=hi,rt=e;switch(e){case"keypress":if(cr(s)===0)break t;case"keydown":case"keyup":j=hu;break;case"focusin":rt="focus",j=fr;break;case"focusout":rt="blur",j=fr;break;case"beforeblur":case"afterblur":j=fr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case cg:case hg:case fg:j=su;break;case dg:j=T;break;case"scroll":case"scrollend":j=Ao;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Oi;break;case"toggle":case"beforetoggle":j=St}var dt=(n&4)!==0,$t=!dt&&(e==="scroll"||e==="scrollend"),U=dt?z!==null?z+"Capture":null:z;dt=[];for(var O=P,k;O!==null;){var F=O;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||U===null||(F=Bn(O,U),F!=null&&dt.push(tl(O,F,k))),$t)break;O=O.return}0<dt.length&&(z=new j(z,rt,null,s,H),Q.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&s!==Eo&&(rt=s.relatedTarget||s.fromElement)&&(si(rt)||rt[ni]))break t;if((j||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,j?(rt=s.relatedTarget||s.toElement,j=P,rt=rt?si(rt):null,rt!==null&&($t=h(rt),dt=rt.tag,rt!==$t||dt!==5&&dt!==27&&dt!==6)&&(rt=null)):(j=null,rt=P),j!==rt)){if(dt=bo,F="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Oi,F="onPointerLeave",U="onPointerEnter",O="pointer"),$t=j==null?z:cn(j),k=rt==null?z:cn(rt),z=new dt(F,O+"leave",j,s,H),z.target=$t,z.relatedTarget=k,F=null,si(H)===P&&(dt=new dt(U,O+"enter",rt,s,H),dt.target=k,dt.relatedTarget=$t,F=dt),$t=F,j&&rt)e:{for(dt=pS,U=j,O=rt,k=0,F=U;F;F=dt(F))k++;F=0;for(var ut=O;ut;ut=dt(ut))F++;for(;0<k-F;)U=dt(U),k--;for(;0<F-k;)O=dt(O),F--;for(;k--;){if(U===O||O!==null&&U===O.alternate){dt=U;break e}U=dt(U),O=dt(O)}dt=null}else dt=null;j!==null&&Ly(Q,z,j,dt,!1),rt!==null&&$t!==null&&Ly(Q,$t,rt,dt,!0)}}t:{if(z=P?cn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Bt=Wm;else if(Jm(z))if(tg)Bt=C0;else{Bt=R0;var at=b0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Jr(P.elementType)&&(Bt=Wm):Bt=w0;if(Bt&&(Bt=Bt(e,P))){$m(Q,Bt,s,H);break t}at&&at(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&yo(z,"number",z.value)}switch(at=P?cn(P):window,e){case"focusin":(Jm(at)||at.contentEditable==="true")&&(ra=at,wh=P,Do=null);break;case"focusout":Do=wh=ra=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,lg(Q,s,H);break;case"selectionchange":if(D0)break;case"keydown":case"keyup":lg(Q,s,H)}var Rt;if(qt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else sa?dr(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(mi&&s.locale!=="ko"&&(sa||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&sa&&(Rt=So()):(ci=H,To="value"in ci?ci.value:ci.textContent,sa=!0)),at=ec(P,Ot),0<at.length&&(Ot=new di(Ot,e,null,s,H),Q.push({event:Ot,listeners:at}),Rt?Ot.data=Rt:(Rt=ia(s),Rt!==null&&(Ot.data=Rt)))),(Rt=bn?E0(e,s):T0(e,s))&&(Ot=ec(P,"onBeforeInput"),0<Ot.length&&(at=new di("onBeforeInput","beforeinput",null,s,H),Q.push({event:at,listeners:Ot}),at.data=Rt)),fS(Q,e,P,s,H)}xy(Q,n)})}function tl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ec(e,n){for(var s=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bn(e,s),c!=null&&o.unshift(tl(e,c,f)),c=Bn(e,n),c!=null&&o.push(tl(e,c,f))),e.tag===3)return o;e=e.return}return[]}function pS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ly(e,n,s,o,c){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,c?(P=Bn(s,f),P!=null&&g.unshift(tl(s,P,I))):c||(P=Bn(s,f),P!=null&&g.push(tl(s,P,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var yS=/\r\n?/g,_S=/\u0000|\uFFFD/g;function ky(e){return(typeof e=="string"?e:""+e).replace(yS,`
`).replace(_S,"")}function Py(e,n){return n=ky(n),ky(e)===n}function Jt(e,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,s,o);break;case"style":vo(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=$r(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",c.name,c,null),Jt(e,n,"formEncType",c.formEncType,c,null),Jt(e,n,"formMethod",c.formMethod,c,null),Jt(e,n,"formTarget",c.formTarget,c,null)):(Jt(e,n,"encType",c.encType,c,null),Jt(e,n,"method",c.method,c,null),Jt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=$r(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=$r(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Xr(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=eu.get(s)||s,Xr(e,s,o))}}function Wf(e,n,s,o,c,f){switch(s){case"style":vo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,c);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Xr(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,f,g,s,null)}}c&&Jt(e,n,"srcSet",s.srcSet,s,null),o&&Jt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=g=c=null,I=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":c=H;break;case"type":g=H;break;case"checked":I=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Jt(e,n,o,H,s,null)}}$l(e,f,E,I,P,g,c,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,c,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?rs(e,!!o,n,!1):s!=null&&rs(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=c=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Jt(e,n,g,E,s,null)}as(e,o,c,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,I,o,s,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<Wo.length;o++)Dt(Wo[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,P,o,s,null)}return;default:if(Jr(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&Wf(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Jt(e,n,E,o,s,null))}function vS(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,I=null,P=null,H=null;for(j in s){var Q=s[j];if(s.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":I=Q;default:o.hasOwnProperty(j)||Jt(e,n,j,null,o,Q)}}for(var z in o){var j=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(j!=null||Q!=null))switch(z){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":H=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:j!==Q&&Jt(e,n,z,j,o,Q)}}Zr(e,g,E,I,P,H,f,c);return;case"select":j=g=E=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":j=I;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,I)}for(c in o)if(f=o[c],I=s[c],o.hasOwnProperty(c)&&(f!=null||I!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Jt(e,n,c,f,o,I)}n=E,s=g,o=j,z!=null?rs(e,!!s,z,!1):!!o!=!!s&&(n!=null?rs(e,!!s,n,!0):rs(e,!!s,s?[]:"",!1));return;case"textarea":j=z=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,c)}for(g in o)if(c=o[g],f=s[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Jt(e,n,g,c,o,f)}Wl(e,z,j);return;case"option":for(var rt in s)if(z=s[rt],s.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Jt(e,n,rt,null,o,z)}for(I in o)if(z=o[I],j=s[I],o.hasOwnProperty(I)&&z!==j&&(z!=null||j!=null))switch(I){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Jt(e,n,I,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)z=s[dt],s.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Jt(e,n,dt,null,o,z);for(P in o)if(z=o[P],j=s[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Jt(e,n,P,z,o,j)}return;default:if(Jr(n)){for(var $t in s)z=s[$t],s.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&Wf(e,n,$t,void 0,o,z);for(H in o)z=o[H],j=s[H],!o.hasOwnProperty(H)||z===j||z===void 0&&j===void 0||Wf(e,n,H,z,o,j);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Jt(e,n,U,null,o,z);for(Q in o)z=o[Q],j=s[Q],!o.hasOwnProperty(Q)||z===j||z==null&&j==null||Jt(e,n,Q,z,o,j)}function zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ES(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var c=s[o],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&zy(g)){for(g=0,E=c.responseEnd,o+=1;o<s.length;o++){var I=s[o],P=I.startTime;if(P>E)break;var H=I.transferSize,Q=I.initiatorType;H&&zy(Q)&&(I=I.responseEnd,g+=H*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var td=null,ed=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function By(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var id=null;function TS(){var e=window.event;return e&&e.type==="popstate"?e===id?!1:(id=e,!0):(id=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,SS=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,AS=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(e){return Hy.resolve(null).then(e).catch(bS)}:qy;function bS(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function Gy(e,n){var s=n,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(c),Va(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")el(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,el(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&el(e.ownerDocument.body);s=c}while(s);Va(n)}function Fy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sd(s),Kr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function RS(e,n,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function wS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=On(e.nextSibling),e===null))return null;return e}function Qy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function rd(e){return e.data==="$?"||e.data==="$~"}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function CS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var od=null;function Yy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return On(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Ky(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Xy(e,n,s){switch(n=nc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function el(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Kr(e)}var Vn=new Map,Zy=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=W.d;W.d={f:IS,r:DS,D:NS,C:OS,L:VS,m:MS,X:US,S:xS,M:LS};function IS(){var e=Qi.f(),n=Ku();return e||n}function DS(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?dp(n):Qi.r(e)}var Da=typeof document>"u"?null:document;function Jy(e,n,s){var o=Da;if(o&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Zy.has(c)||(Zy.add(c),e={rel:e,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function NS(e){Qi.D(e),Jy("dns-prefetch",e,null)}function OS(e,n){Qi.C(e,n),Jy("preconnect",e,n)}function VS(e,n,s){Qi.L(e,n,s);var o=Da;if(o&&e&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+en(s.imageSizes)+'"]')):c+='[href="'+en(e)+'"]';var f=c;switch(n){case"style":f=Na(e);break;case"script":f=Oa(e)}Vn.has(f)||(e=R({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Vn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(nl(f))||n==="script"&&o.querySelector(il(f))||(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function MS(e,n){Qi.m(e,n);var s=Da;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!Vn.has(f)&&(e=R({rel:"modulepreload",href:e},n),Vn.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(il(f)))return}o=s.createElement("link"),He(o,"link",e),Ee(o),s.head.appendChild(o)}}}function xS(e,n,s){Qi.S(e,n,s);var o=Da;if(o&&e){var c=ri(o).hoistableStyles,f=Na(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(nl(f)))E.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Vn.get(f))&&ld(e,s);var I=g=o.createElement("link");Ee(I),He(I,"link",e),I._p=new Promise(function(P,H){I.onload=P,I.onerror=H}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function US(e,n){Qi.X(e,n);var s=Da;if(s&&e){var o=ri(s).hoistableScripts,c=Oa(e),f=o.get(c);f||(f=s.querySelector(il(c)),f||(e=R({src:e,async:!0},n),(n=Vn.get(c))&&ud(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function LS(e,n){Qi.M(e,n);var s=Da;if(s&&e){var o=ri(s).hoistableScripts,c=Oa(e),f=o.get(c);f||(f=s.querySelector(il(c)),f||(e=R({src:e,async:!0,type:"module"},n),(n=Vn.get(c))&&ud(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function $y(e,n,s,o){var c=(c=bt.current)?ic(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Na(s.href),s=ri(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Na(s.href);var f=ri(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(nl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(e,s),f||kS(c,e,s,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(s),s=ri(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Na(e){return'href="'+en(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function Wy(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function kS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),Ee(n),e.head.appendChild(n))}function Oa(e){return'[src="'+en(e)+'"]'}function il(e){return"script[async]"+e}function t_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(s.href)+'"]');if(o)return n.instance=o,Ee(o),o;var c=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),He(o,"style",c),sc(o,s.precedence,e),n.instance=o;case"stylesheet":c=Na(s.href);var f=e.querySelector(nl(c));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=Wy(s),(c=Vn.get(c))&&ld(o,c),f=(e.ownerDocument||e).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),n.state.loading|=4,sc(f,s.precedence,e),n.instance=f;case"script":return f=Oa(s.src),(c=e.querySelector(il(f)))?(n.instance=c,Ee(c),c):(o=s,(c=Vn.get(f))&&(o=R({},s),ud(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ee(c),He(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sc(o,s.precedence,e));return n.instance}function sc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rc=null;function e_(e,n,s){if(rc===null){var o=new Map,c=rc=new Map;c.set(s,o)}else c=rc,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[ii]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function n_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function PS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function i_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function zS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Na(o.href),f=n.querySelector(nl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ac.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,o=Wy(o),(c=Vn.get(c))&&ld(o,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ac.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var cd=0;function BS(e,n){return e.stylesheets&&e.count===0&&lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&cd===0&&(cd=62500*ES());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>cd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function lc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,n.forEach(jS,e),oc=null,ac.call(e))}function jS(e,n){if(!(n.state.loading&4)){var s=oc.get(e);if(s)var o=s.get(null);else{s=new Map,oc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,c),s.set(g,c),this.count++,o=ac.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var sl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function qS(e,n,s,o,c,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function s_(e,n,s,o,c,f,g,E,I,P,H,Q){return e=new qS(e,n,s,g,I,P,H,Q,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=qh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Qh(f),e}function r_(e){return e?(e=la,e):la}function a_(e,n,s,o,c,f){c=r_(c),o.context===null?o.context=c:o.pendingContext=c,o=_s(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=vs(e,o,n),s!==null&&(ln(s,e,n),Lo(s,e,n))}function o_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function hd(e,n){o_(e,n),(e=e.alternate)&&o_(e,n)}function l_(e){if(e.tag===13||e.tag===31){var n=pr(e,67108864);n!==null&&ln(n,e,67108864),hd(e,67108864)}}function u_(e){if(e.tag===13||e.tag===31){var n=_n();n=sr(n);var s=pr(e,n);s!==null&&ln(s,e,n),hd(e,n)}}var uc=!0;function HS(e,n,s,o){var c=q.T;q.T=null;var f=W.p;try{W.p=2,fd(e,n,s,o)}finally{W.p=f,q.T=c}}function GS(e,n,s,o){var c=q.T;q.T=null;var f=W.p;try{W.p=8,fd(e,n,s,o)}finally{W.p=f,q.T=c}}function fd(e,n,s,o){if(uc){var c=dd(o);if(c===null)$f(e,n,o,cc,s),h_(e,o);else if(QS(c,e,n,s,o))o.stopPropagation();else if(h_(e,o),n&4&&-1<FS.indexOf(e)){for(;c!==null;){var f=Tn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-fe(g);E.entanglements[1]|=I,g&=~I}_i(f),(Ht&6)===0&&(Qu=$e()+500,$o(0))}}break;case 31:case 13:E=pr(f,2),E!==null&&ln(E,f,2),Ku(),hd(f,2)}if(f=dd(o),f===null&&$f(e,n,o,cc,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else $f(e,n,o,null,s)}}function dd(e){return e=Sn(e),md(e)}var cc=null;function md(e){if(cc=null,e=si(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tr()){case ao:return 2;case oo:return 8;case is:case vh:return 32;case ql:return 268435456;default:return 32}default:return 32}}var gd=!1,Ns=null,Os=null,Vs=null,rl=new Map,al=new Map,Ms=[],FS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,n){switch(e){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(n.pointerId)}}function ol(e,n,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Tn(n),n!==null&&l_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function QS(e,n,s,o,c){switch(n){case"focusin":return Ns=ol(Ns,e,n,s,o,c),!0;case"dragenter":return Os=ol(Os,e,n,s,o,c),!0;case"mouseover":return Vs=ol(Vs,e,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return rl.set(f,ol(rl.get(f)||null,e,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,al.set(f,ol(al.get(f)||null,e,n,s,o,c)),!0}return!1}function f_(e){var n=si(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,kn(e.priority,function(){u_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,kn(e.priority,function(){u_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=dd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Eo=o,s.target.dispatchEvent(o),Eo=null}else return n=Tn(s),n!==null&&l_(n),e.blockedOn=s,!1;n.shift()}return!0}function d_(e,n,s){hc(e)&&s.delete(n)}function YS(){gd=!1,Ns!==null&&hc(Ns)&&(Ns=null),Os!==null&&hc(Os)&&(Os=null),Vs!==null&&hc(Vs)&&(Vs=null),rl.forEach(d_),al.forEach(d_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,YS)))}var dc=null;function m_(e){dc!==e&&(dc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(md(o||s)===null)continue;break}var f=Tn(s);f!==null&&(e.splice(n,3),n-=3,df(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function Va(e){function n(I){return fc(I,e)}Ns!==null&&fc(Ns,e),Os!==null&&fc(Os,e),Vs!==null&&fc(Vs,e),rl.forEach(n),al.forEach(n);for(var s=0;s<Ms.length;s++){var o=Ms[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ms.length&&(s=Ms[0],s.blockedOn===null);)f_(s),s.blockedOn===null&&Ms.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],g=c[xe]||null;if(typeof f=="function")g||m_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[xe]||null)E=g.formAction;else if(md(c)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),m_(s)}}}function g_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function pd(e){this._internalRoot=e}mc.prototype.render=pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=_n();a_(s,o,e,n,null,null)},mc.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;a_(e.current,2,null,e,null,null),Ku(),n[ni]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Kl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ms.length&&n!==0&&n<Ms[s].priority;s++);Ms.splice(s,0,e),s===0&&f_(e)}};var p_=t.version;if(p_!=="19.2.1")throw Error(r(527,p_,"19.2.1"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var KS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Un=gc.inject(KS),Pe=gc}catch{}}return ul.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",c=Ap,f=bp,g=Rp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=s_(e,1,!1,null,null,s,o,null,c,f,g,g_),e[ni]=n.current,Jf(e),new pd(n)},ul.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,c="",f=Ap,g=bp,E=Rp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=s_(e,1,!0,n,s??null,o,c,I,f,g,E,g_),n.context=r_(null),s=n.current,o=_n(),o=sr(o),c=_s(o),c.callback=null,vs(s,c,o),s=o,n.current.lanes=s,nr(n,s),_i(n),e[ni]=n.current,Jf(e),new mc(n)},ul.version="19.2.1",ul}var w_;function sA(){if(w_)return vd.exports;w_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),vd.exports=iA(),vd.exports}var rA=sA();const aA=()=>{};var C_={};const Jv=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},oA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=a[i++];t[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=a[i++],d=a[i++],p=a[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const h=a[l],d=l+1<a.length,p=d?a[l+1]:0,v=l+2<a.length,y=v?a[l+2]:0,S=h>>2,R=(h&3)<<4|p>>4;let x=(p&15)<<2|y>>6,G=y&63;v||(G=64,d||(x=64)),r.push(i[S],i[R],i[x],i[G])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Jv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):oA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const h=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const R=l<a.length?i[a.charAt(l)]:64;if(++l,h==null||p==null||y==null||R==null)throw new lA;const x=h<<2|p>>4;if(r.push(x),y!==64){const G=p<<4&240|y>>2;if(r.push(G),R!==64){const J=y<<6&192|R;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class lA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(a){const t=Jv(a);return $v.encodeByteArray(t,!0)},Vc=function(a){return uA(a).replace(/\./g,"")},Wv=function(a){try{return $v.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hA=()=>cA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof C_>"u")return;const a=C_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},dA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Wv(a[1]);return t&&JSON.parse(t)},th=()=>{try{return aA()||hA()||fA()||dA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},tE=a=>th()?.emulatorHosts?.[a],mA=a=>{const t=tE(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},eE=()=>th()?.config,nE=a=>th()?.[`_${a}`];class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Za(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iE(a){return(await fetch(a,{credentials:"include"})).ok}function pA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Vc(JSON.stringify(i)),Vc(JSON.stringify(d)),""].join(".")}const gl={};function yA(){const a={prod:[],emulator:[]};for(const t of Object.keys(gl))gl[t]?a.emulator.push(t):a.prod.push(t);return a}function _A(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let I_=!1;function sE(a,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||gl[a]===t||gl[a]||I_)return;gl[a]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",h=yA().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{I_=!0,d()},x}function S(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function R(){const x=_A(r),G=i("text"),J=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),$=document.getElementById(et)||document.createElement("a"),ht=i("preprendIcon"),vt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const mt=x.element;p(mt),S($,et);const Gt=y();v(vt,ht),mt.append(vt,J,$,Gt),document.body.appendChild(mt)}h?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function EA(){const a=th()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function AA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bA(){const a=Je();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function RA(){return!EA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wA(){try{return typeof indexedDB=="object"}catch{return!1}}function CA(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const IA="FirebaseError";class es extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=IA,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?DA(h,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new es(l,p,r)}}function DA(a,t){return a.replace(NA,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const NA=/\{\$([^}]+)}/g;function OA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function xr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const h=a[l],d=t[l];if(D_(h)&&D_(d)){if(!xr(h,d))return!1}else if(h!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function D_(a){return a!==null&&typeof a=="object"}function Vl(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function VA(a,t){const i=new MA(a,t);return i.subscribe.bind(i)}class MA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");xA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Ad),l.error===void 0&&(l.error=Ad),l.complete===void 0&&(l.complete=Ad);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Ad(){}function vn(a){return a&&a._delegate?a._delegate:a}class Ur{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Dr="[DEFAULT]";class UA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new gA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kA(t))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(t=Dr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Dr){return this.instances.has(t)}getOptions(t=Dr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const h=this.instances.get(r);return h&&t(h,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Dr){return this.component?this.component.multipleInstances?t:Dr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LA(a){return a===Dr?void 0:a}function kA(a){return a.instantiationMode==="EAGER"}class PA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new UA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Vt||(Vt={}));const zA={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},BA=Vt.INFO,jA={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},qA=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=jA[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class um{constructor(t){this.name=t,this._logLevel=BA,this._logHandler=qA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const HA=(a,t)=>t.some(i=>a instanceof i);let N_,O_;function GA(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,Ld=new WeakMap,aE=new WeakMap,bd=new WeakMap,cm=new WeakMap;function QA(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Bs(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&rE.set(i,a)}).catch(()=>{}),cm.set(t,a),t}function YA(a){if(Ld.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Ld.set(a,t)}let kd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Ld.get(a);if(t==="objectStoreNames")return a.objectStoreNames||aE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Bs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function KA(a){kd=a(kd)}function XA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Rd(this),t,...i);return aE.set(r,t.sort?t.sort():[t]),Bs(r)}:FA().includes(a)?function(...t){return a.apply(Rd(this),t),Bs(rE.get(this))}:function(...t){return Bs(a.apply(Rd(this),t))}}function ZA(a){return typeof a=="function"?XA(a):(a instanceof IDBTransaction&&YA(a),HA(a,GA())?new Proxy(a,kd):a)}function Bs(a){if(a instanceof IDBRequest)return QA(a);if(bd.has(a))return bd.get(a);const t=ZA(a);return t!==a&&(bd.set(a,t),cm.set(t,a)),t}const Rd=a=>cm.get(a);function JA(a,t,{blocked:i,upgrade:r,blocking:l,terminated:h}={}){const d=indexedDB.open(a,t),p=Bs(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Bs(d.result),v.oldVersion,v.newVersion,Bs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const $A=["get","getKey","getAll","getAllKeys","count"],WA=["put","add","delete","clear"],wd=new Map;function V_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(wd.get(t))return wd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=WA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||$A.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return wd.set(t,h),h}KA(a=>({...a,get:(t,i,r)=>V_(t,i)||a.get(t,i,r),has:(t,i)=>!!V_(t,i)||a.has(t,i)}));class t1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(e1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function e1(a){return a.getComponent()?.type==="VERSION"}const Pd="@firebase/app",M_="0.14.6";const Ji=new um("@firebase/app"),n1="@firebase/app-compat",i1="@firebase/analytics-compat",s1="@firebase/analytics",r1="@firebase/app-check-compat",a1="@firebase/app-check",o1="@firebase/auth",l1="@firebase/auth-compat",u1="@firebase/database",c1="@firebase/data-connect",h1="@firebase/database-compat",f1="@firebase/functions",d1="@firebase/functions-compat",m1="@firebase/installations",g1="@firebase/installations-compat",p1="@firebase/messaging",y1="@firebase/messaging-compat",_1="@firebase/performance",v1="@firebase/performance-compat",E1="@firebase/remote-config",T1="@firebase/remote-config-compat",S1="@firebase/storage",A1="@firebase/storage-compat",b1="@firebase/firestore",R1="@firebase/ai",w1="@firebase/firestore-compat",C1="firebase",I1="12.6.0";const zd="[DEFAULT]",D1={[Pd]:"fire-core",[n1]:"fire-core-compat",[s1]:"fire-analytics",[i1]:"fire-analytics-compat",[a1]:"fire-app-check",[r1]:"fire-app-check-compat",[o1]:"fire-auth",[l1]:"fire-auth-compat",[u1]:"fire-rtdb",[c1]:"fire-data-connect",[h1]:"fire-rtdb-compat",[f1]:"fire-fn",[d1]:"fire-fn-compat",[m1]:"fire-iid",[g1]:"fire-iid-compat",[p1]:"fire-fcm",[y1]:"fire-fcm-compat",[_1]:"fire-perf",[v1]:"fire-perf-compat",[E1]:"fire-rc",[T1]:"fire-rc-compat",[S1]:"fire-gcs",[A1]:"fire-gcs-compat",[b1]:"fire-fst",[w1]:"fire-fst-compat",[R1]:"fire-vertex","fire-js":"fire-js",[C1]:"fire-js-all"};const Mc=new Map,N1=new Map,Bd=new Map;function x_(a,t){try{a.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function qa(a){const t=a.name;if(Bd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Bd.set(t,a);for(const i of Mc.values())x_(i,a);for(const i of N1.values())x_(i,a);return!0}function hm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Yn(a){return a==null?!1:a.settings!==void 0}const O1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new Ol("app","Firebase",O1);class V1{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}const Ja=I1;function oE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:zd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw js.create("bad-app-name",{appName:String(l)});if(i||(i=eE()),!i)throw js.create("no-options");const h=Mc.get(l);if(h){if(xr(i,h.options)&&xr(r,h.config))return h;throw js.create("duplicate-app",{appName:l})}const d=new PA(l);for(const v of Bd.values())d.addComponent(v);const p=new V1(i,r,d);return Mc.set(l,p),p}function lE(a=zd){const t=Mc.get(a);if(!t&&a===zd&&eE())return oE();if(!t)throw js.create("no-app",{appName:a});return t}function qs(a,t,i){let r=D1[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}qa(new Ur(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const M1="firebase-heartbeat-database",x1=1,Tl="firebase-heartbeat-store";let Cd=null;function uE(){return Cd||(Cd=JA(M1,x1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Tl)}catch(i){console.warn(i)}}}}).catch(a=>{throw js.create("idb-open",{originalErrorMessage:a.message})})),Cd}async function U1(a){try{const i=(await uE()).transaction(Tl),r=await i.objectStore(Tl).get(cE(a));return await i.done,r}catch(t){if(t instanceof es)Ji.warn(t.message);else{const i=js.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function U_(a,t){try{const r=(await uE()).transaction(Tl,"readwrite");await r.objectStore(Tl).put(t,cE(a)),await r.done}catch(i){if(i instanceof es)Ji.warn(i.message);else{const r=js.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(r.message)}}}function cE(a){return`${a.name}!${a.options.appId}`}const L1=1024,k1=30;class P1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new B1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>k1){const l=j1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L_(),{heartbeatsToSend:i,unsentEntries:r}=z1(this._heartbeatsCache.heartbeats),l=Vc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function L_(){return new Date().toISOString().substring(0,10)}function z1(a,t=L1){const i=[];let r=a.slice();for(const l of a){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),k_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),k_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class B1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wA()?CA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await U1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function k_(a){return Vc(JSON.stringify({version:2,heartbeats:a})).length}function j1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function q1(a){qa(new Ur("platform-logger",t=>new t1(t),"PRIVATE")),qa(new Ur("heartbeat",t=>new P1(t),"PRIVATE")),qs(Pd,M_,a),qs(Pd,M_,"esm2020"),qs("fire-js","")}q1("");function hE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H1=hE,fE=new Ol("auth","Firebase",hE());const xc=new um("@firebase/auth");function G1(a,...t){xc.logLevel<=Vt.WARN&&xc.warn(`Auth (${Ja}): ${a}`,...t)}function Sc(a,...t){xc.logLevel<=Vt.ERROR&&xc.error(`Auth (${Ja}): ${a}`,...t)}function Ri(a,...t){throw dm(a,...t)}function Zn(a,...t){return dm(a,...t)}function fm(a,t,i){const r={...H1(),[t]:i};return new Ol("auth","Firebase",r).create(t,{appName:a.name})}function Vr(a){return fm(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function F1(a,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ri(a,"argument-error"),fm(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return fE.create(a,...t)}function pt(a,t,...i){if(!a)throw dm(t,...i)}function Ki(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Sc(t),new Error(t)}function $i(a,t){a||Ki(t)}function jd(){return typeof self<"u"&&self.location?.href||""}function Q1(){return P_()==="http:"||P_()==="https:"}function P_(){return typeof self<"u"&&self.location?.protocol||null}function Y1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q1()||SA()||"connection"in navigator)?navigator.onLine:!0}function K1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Ml{constructor(t,i){this.shortDelay=t,this.longDelay=i,$i(i>t,"Short delay should be less than long delay!"),this.isMobile=vA()||AA()}get(){return Y1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mm(a,t){$i(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class dE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Z1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J1=new Ml(3e4,6e4);function gm(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function $a(a,t,i,r,l={}){return mE(a,l,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const p=Vl({key:a.config.apiKey,...d}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const y={method:t,headers:v,...h};return TA()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&Za(a.emulatorConfig.host)&&(y.credentials="include"),dE.fetch()(await gE(a,a.config.apiHost,i,p),y)})}async function mE(a,t,i){a._canInitEmulator=!1;const r={...X1,...t};try{const l=new W1(a),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw pc(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(a,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw pc(a,"email-already-in-use",d);if(v==="USER_DISABLED")throw pc(a,"user-disabled",d);const S=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw fm(a,S,y);Ri(a,S)}}catch(l){if(l instanceof es)throw l;Ri(a,"network-request-failed",{message:String(l)})}}async function $1(a,t,i,r,l={}){const h=await $a(a,t,i,r,l);return"mfaPendingCredential"in h&&Ri(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function gE(a,t,i,r){const l=`${t}${i}?${r}`,h=a,d=h.config.emulator?mm(a.config,l):`${a.config.apiScheme}://${l}`;return Z1.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class W1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),J1.get())})}}function pc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Zn(a,t,r);return l.customData._tokenResponse=i,l}async function tb(a,t){return $a(a,"POST","/v1/accounts:delete",t)}async function Uc(a,t){return $a(a,"POST","/v1/accounts:lookup",t)}function pl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eb(a,t=!1){const i=vn(a),r=await i.getIdToken(t),l=pm(r);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:r,authTime:pl(Id(l.auth_time)),issuedAtTime:pl(Id(l.iat)),expirationTime:pl(Id(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Id(a){return Number(a)*1e3}function pm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Wv(i);return l?JSON.parse(l):(Sc("Failed to decode base64 JWT payload"),null)}catch(l){return Sc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function z_(a){const t=pm(a);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Sl(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof es&&nb(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function nb({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class ib{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lc(a){const t=a.auth,i=await a.getIdToken(),r=await Sl(a,Uc(t,{idToken:i}));pt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const h=l.providerUserInfo?.length?pE(l.providerUserInfo):[],d=rb(a.providerData,h),p=a.isAnonymous,v=!(a.email&&l.passwordHash)&&!d?.length,y=p?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new qd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,S)}async function sb(a){const t=vn(a);await Lc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rb(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function pE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function ab(a,t){const i=await mE(a,{},async()=>{const r=Vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=a.config,d=await gE(a,l,"/v1/token",`key=${h}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:r};return a.emulatorConfig&&Za(a.emulatorConfig.host)&&(v.credentials="include"),dE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ob(a,t){return $a(a,"POST","/v2/accounts:revokeToken",gm(a,t))}class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:h}=await ab(t,i);this.updateTokensAndExpiration(r,l,Number(h))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:h}=i,d=new ka;return r&&(pt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(pt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function Us(a,t){pt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Kn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new ib(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new qd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Sl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return eb(this,t)}reload(){return sb(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Kn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Lc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Vr(this.auth));const t=await this.getIdToken();return await Sl(this,tb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:R,emailVerified:x,isAnonymous:G,providerData:J,stsTokenManager:et}=i;pt(R&&et,t,"internal-error");const $=ka.fromJSON(this.name,et);pt(typeof R=="string",t,"internal-error"),Us(r,t.name),Us(l,t.name),pt(typeof x=="boolean",t,"internal-error"),pt(typeof G=="boolean",t,"internal-error"),Us(h,t.name),Us(d,t.name),Us(p,t.name),Us(v,t.name),Us(y,t.name),Us(S,t.name);const ht=new Kn({uid:R,auth:t,email:l,emailVerified:x,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:$,createdAt:y,lastLoginAt:S});return J&&Array.isArray(J)&&(ht.providerData=J.map(vt=>({...vt}))),v&&(ht._redirectEventId=v),ht}static async _fromIdTokenResponse(t,i,r=!1){const l=new ka;l.updateFromServerResponse(i);const h=new Kn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Lc(h),h}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?pE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,p=new ka;p.updateFromIdToken(r);const v=new Kn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new qd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,y),v}}const B_=new Map;function Xi(a){$i(a instanceof Function,"Expected a class definition");let t=B_.get(a);return t?($i(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,B_.set(a,t),t)}class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}yE.type="NONE";const j_=yE;function Ac(a,t,i){return`firebase:${a}:${t}:${i}`}class Pa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:h}=this.auth;this.fullUserKey=Ac(this.userKey,l.apiKey,h),this.fullPersistenceKey=Ac("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Uc(this.auth,{idToken:t}).catch(()=>{});return i?Kn._fromGetAccountInfoResponse(this.auth,i,t):null}return Kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Pa(Xi(j_),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let h=l[0]||Xi(j_);const d=Ac(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const S=await y._get(d);if(S){let R;if(typeof S=="string"){const x=await Uc(t,{idToken:S}).catch(()=>{});if(!x)break;R=await Kn._fromGetAccountInfoResponse(t,x,S)}else R=Kn._fromJSON(t,S);y!==h&&(p=R),h=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Pa(h,t,r):(h=v[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==h)try{await y._remove(d)}catch{}})),new Pa(h,t,r))}}function q_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(TE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_E(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AE(t))return"Blackberry";if(bE(t))return"Webos";if(vE(t))return"Safari";if((t.includes("chrome/")||EE(t))&&!t.includes("edge/"))return"Chrome";if(SE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function _E(a=Je()){return/firefox\//i.test(a)}function vE(a=Je()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function EE(a=Je()){return/crios\//i.test(a)}function TE(a=Je()){return/iemobile/i.test(a)}function SE(a=Je()){return/android/i.test(a)}function AE(a=Je()){return/blackberry/i.test(a)}function bE(a=Je()){return/webos/i.test(a)}function ym(a=Je()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function lb(a=Je()){return ym(a)&&!!window.navigator?.standalone}function ub(){return bA()&&document.documentMode===10}function RE(a=Je()){return ym(a)||SE(a)||bE(a)||AE(a)||/windows phone/i.test(a)||TE(a)}function wE(a,t=[]){let i;switch(a){case"Browser":i=q_(Je());break;case"Worker":i=`${q_(Je())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ja}/${r}`}class cb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=h=>new Promise((d,p)=>{try{const v=t(h);d(v)}catch(v){p(v)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function hb(a,t={}){return $a(a,"GET","/v2/passwordPolicy",gm(a,t))}const fb=6;class db{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??fb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class mb{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new cb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Uc(this,{idToken:t}),r=await Kn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Lc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=K1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Vr(this));const i=t?vn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hb(this),i=new db(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await ob(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,r,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&G1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function eh(a){return vn(a)}class H_{constructor(t){this.auth=t,this.observer=null,this.addObserver=VA(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gb(a){_m=a}function pb(a){return _m.loadJS(a)}function yb(){return _m.gapiScript}function _b(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function vb(a,t){const i=hm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(xr(h,t??{}))return l;Ri(l,"already-initialized")}return i.initialize({options:t})}function Eb(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function Tb(a,t,i){const r=eh(a);pt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,h=CE(t),{host:d,port:p}=Sb(t),v=p===null?"":`:${p}`,y={url:`${h}//${d}${v}/`},S=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(xr(y,r.config.emulator)&&xr(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,Za(d)?(iE(`${h}//${d}${v}`),sE("Auth",!0)):Ab()}function CE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function Sb(a){const t=CE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const h=l[1];return{host:h,port:G_(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:G_(d)}}}function G_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function Ab(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class IE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}async function za(a,t){return $1(a,"POST","/v1/accounts:signInWithIdp",gm(a,t))}const bb="http://localhost";class Lr extends IE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Lr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...h}=i;if(!r||!l)return null;const d=new Lr(r,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return za(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,za(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,za(t,i)}buildRequest(){const t={requestUri:bb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Vl(i)}return t}}class vm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class xl extends vm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ls extends xl{constructor(){super("facebook.com")}static credential(t){return Lr._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";class Yi extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Lr._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Yi.credential(i,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class ks extends xl{constructor(){super("github.com")}static credential(t){return Lr._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ks.credential(t.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";class Ps extends xl{constructor(){super("twitter.com")}static credential(t,i){return Lr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Ps.credential(i,r)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";class Ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const h=await Kn._fromIdTokenResponse(t,r,l),d=F_(r);return new Ha({user:h,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=F_(r);return new Ha({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function F_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class kc extends es{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new kc(t,i,r,l)}}function DE(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?kc._fromErrorAndOperation(a,h,t,r):h})}async function Rb(a,t,i=!1){const r=await Sl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ha._forOperation(a,"link",r)}async function wb(a,t,i=!1){const{auth:r}=a;if(Yn(r.app))return Promise.reject(Vr(r));const l="reauthenticate";try{const h=await Sl(a,DE(r,l,t,a),i);pt(h.idToken,r,"internal-error");const d=pm(h.idToken);pt(d,r,"internal-error");const{sub:p}=d;return pt(a.uid===p,r,"user-mismatch"),Ha._forOperation(a,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ri(r,"user-mismatch"),h}}async function Cb(a,t,i=!1){if(Yn(a.app))return Promise.reject(Vr(a));const r="signIn",l=await DE(a,r,t),h=await Ha._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(h.user),h}function Ib(a,t,i,r){return vn(a).onIdTokenChanged(t,i,r)}function Db(a,t,i){return vn(a).beforeAuthStateChanged(t,i)}function Nb(a,t,i,r){return vn(a).onAuthStateChanged(t,i,r)}function Ob(a){return vn(a).signOut()}const Pc="__sak";class NE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vb=1e3,Mb=10;class OE extends NE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);ub()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Mb):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Vb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}OE.type="LOCAL";const xb=OE;class VE extends NE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}VE.type="SESSION";const ME=VE;function Ub(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new nh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,h)),v=await Ub(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];function Em(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class Lb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((p,v)=>{const y=Em("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(R){const x=R;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(x.data.response);break;default:clearTimeout(S),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ei(){return window}function kb(a){Ei().location.href=a}function xE(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function Pb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zb(){return navigator?.serviceWorker?.controller||null}function Bb(){return xE()?self:null}const UE="firebaseLocalStorageDb",jb=1,zc="firebaseLocalStorage",LE="fbase_key";class Ul{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ih(a,t){return a.transaction([zc],t?"readwrite":"readonly").objectStore(zc)}function qb(){const a=indexedDB.deleteDatabase(UE);return new Ul(a).toPromise()}function Hd(){const a=indexedDB.open(UE,jb);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(zc,{keyPath:LE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(zc)?t(r):(r.close(),await qb(),t(await Hd()))})})}async function Q_(a,t,i){const r=ih(a,!0).put({[LE]:t,value:i});return new Ul(r).toPromise()}async function Hb(a,t){const i=ih(a,!1).get(t),r=await new Ul(i).toPromise();return r===void 0?null:r.value}function Y_(a,t){const i=ih(a,!0).delete(t);return new Ul(i).toPromise()}const Gb=800,Fb=3;class kE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>Fb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(Bb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Pb(),!this.activeServiceWorker)return;this.sender=new Lb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hd();return await Q_(t,Pc,"1"),await Y_(t,Pc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q_(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>Hb(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Y_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=ih(l,!1).getAll();return new Ul(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kE.type="LOCAL";const Qb=kE;new Ml(3e4,6e4);function PE(a,t){return t?Xi(t):(pt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Tm extends IE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Yb(a){return Cb(a.auth,new Tm(a),a.bypassAuthState)}function Kb(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),wb(i,new Tm(a),a.bypassAuthState)}async function Xb(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),Rb(i,new Tm(a),a.bypassAuthState)}class zE{constructor(t,i,r,l,h=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Yb;case"linkViaPopup":case"linkViaRedirect":return Xb;case"reauthViaPopup":case"reauthViaRedirect":return Kb;default:Ri(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zb=new Ml(2e3,1e4);async function Jb(a,t,i){if(Yn(a.app))return Promise.reject(Zn(a,"operation-not-supported-in-this-environment"));const r=eh(a);F1(a,t,vm);const l=PE(r,i);return new Nr(r,"signInViaPopup",t,l).executeNotNull()}class Nr extends zE{constructor(t,i,r,l,h){super(t,i,l,h),this.provider=r,this.authWindow=null,this.pollId=null,Nr.currentPopupAction&&Nr.currentPopupAction.cancel(),Nr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Zb.get())};t()}}Nr.currentPopupAction=null;const $b="pendingRedirect",bc=new Map;class Wb extends zE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=bc.get(this.auth._key());if(!t){try{const r=await tR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}bc.set(this.auth._key(),t)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tR(a,t){const i=iR(t),r=nR(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function eR(a,t){bc.set(a._key(),t)}function nR(a){return Xi(a._redirectPersistence)}function iR(a){return Ac($b,a.config.apiKey,a.name)}async function sR(a,t,i=!1){if(Yn(a.app))return Promise.reject(Vr(a));const r=eh(a),l=PE(r,t),d=await new Wb(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const rR=600*1e3;class aR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!oR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!BE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Zn(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rR&&this.cachedEventUids.clear(),this.cachedEventUids.has(K_(t))}saveEventToCache(t){this.cachedEventUids.add(K_(t)),this.lastProcessedEventTime=Date.now()}}function K_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function BE({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function oR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BE(a);default:return!1}}async function lR(a,t={}){return $a(a,"GET","/v1/projects",t)}const uR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cR=/^https?/;async function hR(a){if(a.config.emulator)return;const{authorizedDomains:t}=await lR(a);for(const i of t)try{if(fR(i))return}catch{}Ri(a,"unauthorized-domain")}function fR(a){const t=jd(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!cR.test(i))return!1;if(uR.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const dR=new Ml(3e4,6e4);function X_(){const a=Ei().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function mR(a){return new Promise((t,i)=>{function r(){X_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{X_(),i(Zn(a,"network-request-failed"))},timeout:dR.get()})}if(Ei().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ei().gapi?.load)r();else{const l=_b("iframefcb");return Ei()[l]=()=>{gapi.load?r():i(Zn(a,"network-request-failed"))},pb(`${yb()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Rc=null,t})}let Rc=null;function gR(a){return Rc=Rc||mR(a),Rc}const pR=new Ml(5e3,15e3),yR="__/auth/iframe",_R="emulator/auth/iframe",vR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ER=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TR(a){const t=a.config;pt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?mm(t,_R):`https://${a.config.authDomain}/${yR}`,r={apiKey:t.apiKey,appName:a.name,v:Ja},l=ER.get(a.config.apiHost);l&&(r.eid=l);const h=a._getFrameworks();return h.length&&(r.fw=h.join(",")),`${i}?${Vl(r).slice(1)}`}async function SR(a){const t=await gR(a),i=Ei().gapi;return pt(i,a,"internal-error"),t.open({where:document.body,url:TR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vR,dontclear:!0},r=>new Promise(async(l,h)=>{await r.restyle({setHideOnLeave:!1});const d=Zn(a,"network-request-failed"),p=Ei().setTimeout(()=>{h(d)},pR.get());function v(){Ei().clearTimeout(p),l(r)}r.ping(v).then(v,()=>{h(d)})}))}const AR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bR=500,RR=600,wR="_blank",CR="http://localhost";class Z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IR(a,t,i,r=bR,l=RR){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const v={...AR,width:r.toString(),height:l.toString(),top:h,left:d},y=Je().toLowerCase();i&&(p=EE(y)?wR:i),_E(y)&&(t=t||CR,v.scrollbars="yes");const S=Object.entries(v).reduce((x,[G,J])=>`${x}${G}=${J},`,"");if(lb(y)&&p!=="_self")return DR(t||"",p),new Z_(null);const R=window.open(t||"",p,S);pt(R,a,"popup-blocked");try{R.focus()}catch{}return new Z_(R)}function DR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const NR="__/auth/handler",OR="emulator/auth/handler",VR=encodeURIComponent("fac");async function J_(a,t,i,r,l,h){pt(a.config.authDomain,a,"auth-domain-config-required"),pt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:Ja,eventId:l};if(t instanceof vm){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",OA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,R]of Object.entries({}))d[S]=R}if(t instanceof xl){const S=t.getScopes().filter(R=>R!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const v=await a._getAppCheckToken(),y=v?`#${VR}=${encodeURIComponent(v)}`:"";return`${MR(a)}?${Vl(p).slice(1)}${y}`}function MR({config:a}){return a.emulator?mm(a,OR):`https://${a.authDomain}/${NR}`}const Dd="webStorageSupport";class xR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ME,this._completeRedirectFn=sR,this._overrideRedirectResult=eR}async _openPopup(t,i,r,l){$i(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await J_(t,i,r,jd(),l);return IR(t,h,Em())}async _openRedirect(t,i,r,l){await this._originValidation(t);const h=await J_(t,i,r,jd(),l);return kb(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):($i(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await SR(t),r=new aR(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Dd,{type:Dd},l=>{const h=l?.[0]?.[Dd];h!==void 0&&i(!!h),Ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=hR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return RE()||vE()||ym()}}const UR=xR;var $_="@firebase/auth",W_="1.11.1";class LR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PR(a){qa(new Ur("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(a)},y=new mb(r,l,h,v);return Eb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),qa(new Ur("auth-internal",t=>{const i=eh(t.getProvider("auth").getImmediate());return(r=>new LR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qs($_,W_,kR(a)),qs($_,W_,"esm2020")}const zR=300,BR=nE("authIdTokenMaxAge")||zR;let tv=null;const jR=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>BR)return;const l=i?.token;tv!==l&&(tv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function qR(a=lE()){const t=hm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=vb(a,{popupRedirectResolver:UR,persistence:[Qb,xb,ME]}),r=nE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=jR(h.toString());Db(i,d,()=>d(i.currentUser)),Ib(i,p=>d(p))}}const l=tE("auth");return l&&Tb(i,`http://${l}`),i}function HR(){return document.getElementsByTagName("head")?.[0]??document}gb({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const h=Zn("internal-error");h.customData=l,i(h)},r.type="text/javascript",r.charset="UTF-8",HR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PR("Browser");var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hs,jE;(function(){var a;function t(N,w){function D(){}D.prototype=w.prototype,N.F=w.prototype,N.prototype=new D,N.prototype.constructor=N,N.D=function(C,b,V){for(var A=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)A[ct-2]=arguments[ct];return w.prototype[b].apply(C,A)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,D){D||(D=0);const C=Array(16);if(typeof w=="string")for(var b=0;b<16;++b)C[b]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(b=0;b<16;++b)C[b]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=N.g[0],D=N.g[1],b=N.g[2];let V=N.g[3],A;A=w+(V^D&(b^V))+C[0]+3614090360&4294967295,w=D+(A<<7&4294967295|A>>>25),A=V+(b^w&(D^b))+C[1]+3905402710&4294967295,V=w+(A<<12&4294967295|A>>>20),A=b+(D^V&(w^D))+C[2]+606105819&4294967295,b=V+(A<<17&4294967295|A>>>15),A=D+(w^b&(V^w))+C[3]+3250441966&4294967295,D=b+(A<<22&4294967295|A>>>10),A=w+(V^D&(b^V))+C[4]+4118548399&4294967295,w=D+(A<<7&4294967295|A>>>25),A=V+(b^w&(D^b))+C[5]+1200080426&4294967295,V=w+(A<<12&4294967295|A>>>20),A=b+(D^V&(w^D))+C[6]+2821735955&4294967295,b=V+(A<<17&4294967295|A>>>15),A=D+(w^b&(V^w))+C[7]+4249261313&4294967295,D=b+(A<<22&4294967295|A>>>10),A=w+(V^D&(b^V))+C[8]+1770035416&4294967295,w=D+(A<<7&4294967295|A>>>25),A=V+(b^w&(D^b))+C[9]+2336552879&4294967295,V=w+(A<<12&4294967295|A>>>20),A=b+(D^V&(w^D))+C[10]+4294925233&4294967295,b=V+(A<<17&4294967295|A>>>15),A=D+(w^b&(V^w))+C[11]+2304563134&4294967295,D=b+(A<<22&4294967295|A>>>10),A=w+(V^D&(b^V))+C[12]+1804603682&4294967295,w=D+(A<<7&4294967295|A>>>25),A=V+(b^w&(D^b))+C[13]+4254626195&4294967295,V=w+(A<<12&4294967295|A>>>20),A=b+(D^V&(w^D))+C[14]+2792965006&4294967295,b=V+(A<<17&4294967295|A>>>15),A=D+(w^b&(V^w))+C[15]+1236535329&4294967295,D=b+(A<<22&4294967295|A>>>10),A=w+(b^V&(D^b))+C[1]+4129170786&4294967295,w=D+(A<<5&4294967295|A>>>27),A=V+(D^b&(w^D))+C[6]+3225465664&4294967295,V=w+(A<<9&4294967295|A>>>23),A=b+(w^D&(V^w))+C[11]+643717713&4294967295,b=V+(A<<14&4294967295|A>>>18),A=D+(V^w&(b^V))+C[0]+3921069994&4294967295,D=b+(A<<20&4294967295|A>>>12),A=w+(b^V&(D^b))+C[5]+3593408605&4294967295,w=D+(A<<5&4294967295|A>>>27),A=V+(D^b&(w^D))+C[10]+38016083&4294967295,V=w+(A<<9&4294967295|A>>>23),A=b+(w^D&(V^w))+C[15]+3634488961&4294967295,b=V+(A<<14&4294967295|A>>>18),A=D+(V^w&(b^V))+C[4]+3889429448&4294967295,D=b+(A<<20&4294967295|A>>>12),A=w+(b^V&(D^b))+C[9]+568446438&4294967295,w=D+(A<<5&4294967295|A>>>27),A=V+(D^b&(w^D))+C[14]+3275163606&4294967295,V=w+(A<<9&4294967295|A>>>23),A=b+(w^D&(V^w))+C[3]+4107603335&4294967295,b=V+(A<<14&4294967295|A>>>18),A=D+(V^w&(b^V))+C[8]+1163531501&4294967295,D=b+(A<<20&4294967295|A>>>12),A=w+(b^V&(D^b))+C[13]+2850285829&4294967295,w=D+(A<<5&4294967295|A>>>27),A=V+(D^b&(w^D))+C[2]+4243563512&4294967295,V=w+(A<<9&4294967295|A>>>23),A=b+(w^D&(V^w))+C[7]+1735328473&4294967295,b=V+(A<<14&4294967295|A>>>18),A=D+(V^w&(b^V))+C[12]+2368359562&4294967295,D=b+(A<<20&4294967295|A>>>12),A=w+(D^b^V)+C[5]+4294588738&4294967295,w=D+(A<<4&4294967295|A>>>28),A=V+(w^D^b)+C[8]+2272392833&4294967295,V=w+(A<<11&4294967295|A>>>21),A=b+(V^w^D)+C[11]+1839030562&4294967295,b=V+(A<<16&4294967295|A>>>16),A=D+(b^V^w)+C[14]+4259657740&4294967295,D=b+(A<<23&4294967295|A>>>9),A=w+(D^b^V)+C[1]+2763975236&4294967295,w=D+(A<<4&4294967295|A>>>28),A=V+(w^D^b)+C[4]+1272893353&4294967295,V=w+(A<<11&4294967295|A>>>21),A=b+(V^w^D)+C[7]+4139469664&4294967295,b=V+(A<<16&4294967295|A>>>16),A=D+(b^V^w)+C[10]+3200236656&4294967295,D=b+(A<<23&4294967295|A>>>9),A=w+(D^b^V)+C[13]+681279174&4294967295,w=D+(A<<4&4294967295|A>>>28),A=V+(w^D^b)+C[0]+3936430074&4294967295,V=w+(A<<11&4294967295|A>>>21),A=b+(V^w^D)+C[3]+3572445317&4294967295,b=V+(A<<16&4294967295|A>>>16),A=D+(b^V^w)+C[6]+76029189&4294967295,D=b+(A<<23&4294967295|A>>>9),A=w+(D^b^V)+C[9]+3654602809&4294967295,w=D+(A<<4&4294967295|A>>>28),A=V+(w^D^b)+C[12]+3873151461&4294967295,V=w+(A<<11&4294967295|A>>>21),A=b+(V^w^D)+C[15]+530742520&4294967295,b=V+(A<<16&4294967295|A>>>16),A=D+(b^V^w)+C[2]+3299628645&4294967295,D=b+(A<<23&4294967295|A>>>9),A=w+(b^(D|~V))+C[0]+4096336452&4294967295,w=D+(A<<6&4294967295|A>>>26),A=V+(D^(w|~b))+C[7]+1126891415&4294967295,V=w+(A<<10&4294967295|A>>>22),A=b+(w^(V|~D))+C[14]+2878612391&4294967295,b=V+(A<<15&4294967295|A>>>17),A=D+(V^(b|~w))+C[5]+4237533241&4294967295,D=b+(A<<21&4294967295|A>>>11),A=w+(b^(D|~V))+C[12]+1700485571&4294967295,w=D+(A<<6&4294967295|A>>>26),A=V+(D^(w|~b))+C[3]+2399980690&4294967295,V=w+(A<<10&4294967295|A>>>22),A=b+(w^(V|~D))+C[10]+4293915773&4294967295,b=V+(A<<15&4294967295|A>>>17),A=D+(V^(b|~w))+C[1]+2240044497&4294967295,D=b+(A<<21&4294967295|A>>>11),A=w+(b^(D|~V))+C[8]+1873313359&4294967295,w=D+(A<<6&4294967295|A>>>26),A=V+(D^(w|~b))+C[15]+4264355552&4294967295,V=w+(A<<10&4294967295|A>>>22),A=b+(w^(V|~D))+C[6]+2734768916&4294967295,b=V+(A<<15&4294967295|A>>>17),A=D+(V^(b|~w))+C[13]+1309151649&4294967295,D=b+(A<<21&4294967295|A>>>11),A=w+(b^(D|~V))+C[4]+4149444226&4294967295,w=D+(A<<6&4294967295|A>>>26),A=V+(D^(w|~b))+C[11]+3174756917&4294967295,V=w+(A<<10&4294967295|A>>>22),A=b+(w^(V|~D))+C[2]+718787259&4294967295,b=V+(A<<15&4294967295|A>>>17),A=D+(V^(b|~w))+C[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(b+(A<<21&4294967295|A>>>11))&4294967295,N.g[2]=N.g[2]+b&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const D=w-this.blockSize,C=this.C;let b=this.h,V=0;for(;V<w;){if(b==0)for(;V<=D;)l(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<w;)if(C[b++]=N.charCodeAt(V++),b==this.blockSize){l(this,C),b=0;break}}else for(;V<w;)if(C[b++]=N[V++],b==this.blockSize){l(this,C),b=0;break}}this.h=b,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var D=N.length-8;D<N.length;++D)N[D]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,D=0;D<4;++D)for(let C=0;C<32;C+=8)N[w++]=this.g[D]>>>C&255;return N};function h(N,w){var D=p;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=w(N)}function d(N,w){this.h=w;const D=[];let C=!0;for(let b=N.length-1;b>=0;b--){const V=N[b]|0;C&&V==w||(D[b]=V,C=!1)}this.g=D}var p={};function v(N){return-128<=N&&N<128?h(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return R;if(N<0)return $(y(-N));const w=[];let D=1;for(let C=0;N>=D;C++)w[C]=N/D|0,D*=4294967296;return new d(w,0)}function S(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return $(S(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(w,8));let C=R;for(let V=0;V<N.length;V+=8){var b=Math.min(8,N.length-V);const A=parseInt(N.substring(V,V+b),w);b<8?(b=y(Math.pow(w,b)),C=C.j(b).add(y(A))):(C=C.j(D),C=C.add(y(A)))}return C}var R=v(0),x=v(1),G=v(16777216);a=d.prototype,a.m=function(){if(et(this))return-$(this).m();let N=0,w=1;for(let D=0;D<this.g.length;D++){const C=this.i(D);N+=(C>=0?C:4294967296+C)*w,w*=4294967296}return N},a.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(et(this))return"-"+$(this).toString(N);const w=y(Math.pow(N,6));var D=this;let C="";for(;;){const b=Gt(D,w).g;D=ht(D,b.j(w));let V=((D.g.length>0?D.g[0]:D.h)>>>0).toString(N);if(D=b,J(D))return V+C;for(;V.length<6;)V="0"+V;C=V+C}},a.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function et(N){return N.h==-1}a.l=function(N){return N=ht(this,N),et(N)?-1:J(N)?0:1};function $(N){const w=N.g.length,D=[];for(let C=0;C<w;C++)D[C]=~N.g[C];return new d(D,~N.h).add(x)}a.abs=function(){return et(this)?$(this):this},a.add=function(N){const w=Math.max(this.g.length,N.g.length),D=[];let C=0;for(let b=0;b<=w;b++){let V=C+(this.i(b)&65535)+(N.i(b)&65535),A=(V>>>16)+(this.i(b)>>>16)+(N.i(b)>>>16);C=A>>>16,V&=65535,A&=65535,D[b]=A<<16|V}return new d(D,D[D.length-1]&-2147483648?-1:0)};function ht(N,w){return N.add($(w))}a.j=function(N){if(J(this)||J(N))return R;if(et(this))return et(N)?$(this).j($(N)):$($(this).j(N));if(et(N))return $(this.j($(N)));if(this.l(G)<0&&N.l(G)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,D=[];for(var C=0;C<2*w;C++)D[C]=0;for(C=0;C<this.g.length;C++)for(let b=0;b<N.g.length;b++){const V=this.i(C)>>>16,A=this.i(C)&65535,ct=N.i(b)>>>16,wt=N.i(b)&65535;D[2*C+2*b]+=A*wt,vt(D,2*C+2*b),D[2*C+2*b+1]+=V*wt,vt(D,2*C+2*b+1),D[2*C+2*b+1]+=A*ct,vt(D,2*C+2*b+1),D[2*C+2*b+2]+=V*ct,vt(D,2*C+2*b+2)}for(N=0;N<w;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=w;N<2*w;N++)D[N]=0;return new d(D,0)};function vt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function mt(N,w){this.g=N,this.h=w}function Gt(N,w){if(J(w))throw Error("division by zero");if(J(N))return new mt(R,R);if(et(N))return w=Gt($(N),w),new mt($(w.g),$(w.h));if(et(w))return w=Gt(N,$(w)),new mt($(w.g),w.h);if(N.g.length>30){if(et(N)||et(w))throw Error("slowDivide_ only works with positive integers.");for(var D=x,C=w;C.l(N)<=0;)D=Wt(D),C=Wt(C);var b=Ut(D,1),V=Ut(C,1);for(C=Ut(C,2),D=Ut(D,2);!J(C);){var A=V.add(C);A.l(N)<=0&&(b=b.add(D),V=A),C=Ut(C,1),D=Ut(D,1)}return w=ht(N,b.j(w)),new mt(b,w)}for(b=R;N.l(w)>=0;){for(D=Math.max(1,Math.floor(N.m()/w.m())),C=Math.ceil(Math.log(D)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),V=y(D),A=V.j(w);et(A)||A.l(N)>0;)D-=C,V=y(D),A=V.j(w);J(V)&&(V=x),b=b.add(V),N=ht(N,A)}return new mt(b,N)}a.B=function(N){return Gt(this,N).h},a.and=function(N){const w=Math.max(this.g.length,N.g.length),D=[];for(let C=0;C<w;C++)D[C]=this.i(C)&N.i(C);return new d(D,this.h&N.h)},a.or=function(N){const w=Math.max(this.g.length,N.g.length),D=[];for(let C=0;C<w;C++)D[C]=this.i(C)|N.i(C);return new d(D,this.h|N.h)},a.xor=function(N){const w=Math.max(this.g.length,N.g.length),D=[];for(let C=0;C<w;C++)D[C]=this.i(C)^N.i(C);return new d(D,this.h^N.h)};function Wt(N){const w=N.g.length+1,D=[];for(let C=0;C<w;C++)D[C]=N.i(C)<<1|N.i(C-1)>>>31;return new d(D,N.h)}function Ut(N,w){const D=w>>5;w%=32;const C=N.g.length-D,b=[];for(let V=0;V<C;V++)b[V]=w>0?N.i(V+D)>>>w|N.i(V+D+1)<<32-w:N.i(V+D);return new d(b,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Hs=d}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qE,hl,HE,wc,Gd,GE,FE,QE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var _=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function S(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function R(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),St=2;St<arguments.length;St++)tt[St-2]=arguments[St];return m.prototype[L].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let tt=0;tt<B;tt++)u[_+tt]=L[tt]}else u.push(L)}}class et{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,_){const T=mt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new et(()=>new Gt,u=>u.reset());class Gt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Ut=!1,N=new vt,w=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(D)}};function D(){for(var u;u=ht();){try{u.h.call(u.g)}catch(_){$(_)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function ct(u,m){b.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R(ct,b),ct.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ct.Z.h.call(this)},ct.prototype.h=function(){ct.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),q=0;function W(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++q,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ct(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function zt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function M(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=bt(u,m,T,L);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new W(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function yt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ot(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function bt(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ie={};function re(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],_,T,L);return null}return _=ro(_),u&&u[wt]?u.J(m,_,p(T)?!!T.capture:!1,L):$s(u,m,_,!1,T,L)}function $s(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let St=Ws(u);if(St||(u[kt]=St=new st(u)),_=St.add(m,_,T,tt,B),_.proxy)return _;if(T=Hr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)V||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Hr(){function u(_){return m.call(u.src,u.listener,_)}const m=io;return u}function Gr(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Gr(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=ro(_),u&&u[wt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=bt(m,_,T,L),_>-1&&(ot(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Ws(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,_,T,L)),(_=u>-1?m[u]:null)&&Fr(_))}function Fr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[wt])yt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Jn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Ws(m))?(yt(_,u),_.h==0&&(_.src=null,m[kt]=null)):ot(u)}}}function Jn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function io(u,m){if(u.da)u=!0;else{m=new ct(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Fr(u),u=_.call(T,m)}return u}function Ws(u){return u=u[kt],u instanceof st?u:null}var so="__closure_events_fn_"+(Math.random()*1e9>>>0);function ro(u){return typeof u=="function"?u:(u[so]||(u[so]=function(m){return u.handleEvent(m)}),u[so])}function ye(){C.call(this),this.i=new st(this),this.M=this,this.G=null}R(ye,C),ye.prototype[wt]=!0,ye.prototype.removeEventListener=function(u,m,_,T){Gr(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new b(m,u);else if(m instanceof b)m.target=m.target||u;else{var L=m;m=new b(T,u),nt(m,L)}L=!0;let B,tt;if(_)for(tt=_.length-1;tt>=0;tt--)B=m.g=_[tt],L=ns(B,T,!0,m)&&L;if(B=m.g=u,L=ns(B,T,!0,m)&&L,L=ns(B,T,!1,m)&&L,_)for(tt=0;tt<_.length;tt++)B=m.g=_[tt],L=ns(B,T,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ot(_[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ye.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ns(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==_){const St=tt.listener,de=tt.ha||tt.src;tt.fa&&yt(u.i,tt),L=St.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function _h(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function jl(u){u.g=_h(()=>{u.g=null,u.i&&(u.i=!1,jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends C{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(u){C.call(this),this.h=u,this.g={}}R(tr,C);var ao=[];function oo(u){Ct(u.g,function(m,_){this.g.hasOwnProperty(_)&&Fr(m)},u),u.g={}}tr.prototype.N=function(){tr.Z.N.call(this),oo(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=d.JSON.stringify,vh=d.JSON.parse,ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Hl(){}function Gl(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){b.call(this,"d")}R(Pe,b);function En(){b.call(this,"c")}R(En,b);var fe={},Fl=null;function Qr(){return Fl=Fl||new ye}fe.Ia="serverreachability";function Ql(u){b.call(this,fe.Ia,u)}R(Ql,b);function $n(u){const m=Qr();De(m,new Ql(m))}fe.STAT_EVENT="statevent";function er(u,m){b.call(this,fe.STAT_EVENT,u),this.stat=m}R(er,b);function _e(u){const m=Qr();De(m,new er(m,u))}fe.Ja="timingevent";function Wn(u,m){b.call(this,fe.Ja,u),this.size=m}R(Wn,b);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Eh(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var tt="",St=B.split("&");for(let qt=0;qt<St.length;qt++){var de=St[qt].split("=");if(de.length>1){const ae=de[0];de=de[1];const bn=ae.split("_");tt=bn.length>=2&&bn[1]=="type"?tt+(ae+"="+de+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+tt})}function Yl(u,m,_,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+tt})}function ei(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Th(u,_)+(T?" "+T:"")})}function nr(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Th(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return is(B)}catch{return m}}var ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},uo;function sr(){}R(sr,Hl),sr.prototype.g=function(){return new XMLHttpRequest},uo=new sr;function Ii(u){return encodeURIComponent(String(u))}function Kl(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function kn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var ve={},xe={};function ni(u,m,_){u.M=1,u.A=rr(Te(m)),u.u=_,u.R=!0,Yr(u,null)}function Yr(u,m){u.F=Date.now(),ii(u),u.B=Te(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Jr(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Pn,u.g=uu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new $e(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ao[0]=L.toString()),L=ao);for(let B=0;B<L.length;B++){const tt=re(_,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Eh(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const St=jn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||St!=4||de==7||(de==8||qt<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var _=Sh(this);if(this.o=m==200,Yl(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(T)){var B=T;break e}}B=null}if(u=B)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,_e(12),cn(this),Tn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<_.length;)if(ae=Zl(this,_),ae==xe){St==4&&(this.m=4,_e(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ei(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,ae,null),ri(this,ae);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,_,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Ro(tt),tt.P=!0,_e(11))}}else ei(this.i,this.l,_,null),ri(this,_);St==4&&cn(this),this.o&&!this.K&&(St==4?ru(this.j,this):(this.o=!1,ii(this)))}else Ni(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),cn(this),Tn(this)}}}catch{}finally{}};function Sh(u){if(!Xl(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let _="";const T=m.length,L=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Xl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Zl(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?xe:(_=Number(m.substring(_,T)),isNaN(_)?ve:(T+=1,T+_>m.length?xe:(m=m.slice(T,T+_),u.C=T+_,m)))}kn.prototype.cancel=function(){this.K=!0,cn(this)};function ii(u){u.T=Date.now()+u.H,Kr(u,u.H)}function Kr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(nr(this.i,this.B),this.M!=2&&($n(),_e(17)),cn(this),this.m=2,Tn(this)):Kr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||ru(u.j,u)}function cn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,oo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||oi(_.h,u))){if(!u.L&&oi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)na(_),hs(_);else break t;fr(_),_e(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ti(y(_.Va,_),6e3));ai(_.h)<=1&&_.ta&&(_.ta=void 0)}else di(_,11)}else if((u.L||_.g==u)&&na(_),!A(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ae=qt[0];if(!(ae<=_.K))if(_.K=ae,qt=qt[1],_.I==2)if(qt[0]=="c"){_.M=qt[1],_.ba=qt[2];const bn=qt[3];bn!=null&&(_.ka=bn,_.j.info("VER="+_.ka));const mi=qt[4];mi!=null&&(_.za=mi,_.j.info("SVER="+_.za));const qn=qt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Hn=u.g;if(Hn){const dr=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var B=T.h;B.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(fo(B,B.h),B.h=null))}if(T.G){const ia=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(T.wa=ia,Qt(T.J,T.G,ia))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var tt=u;if(T.na=lu(T,T.L?T.ba:null,T.W),tt.L){mo(T.h,tt);var St=tt,de=T.O;de&&(St.H=de),St.D&&(si(St),ii(St)),T.g=tt}else iu(T);_.i.length>0&&fi(_)}else qt[0]!="stop"&&qt[0]!="close"||di(_,7);else _.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?di(_,7):Ao(_):qt[0]!="noop"&&_.l&&_.l.qa(qt),_.A=0)}}$n(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ho(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fo(u,m){u.g?u.g.add(m):u.h=m}function mo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}co.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function go(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var Jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,po(this,eu(u.i)),this.m=u.m):u&&(m=String(u).match(Jl))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),ss(this,m[4]),this.h=li(m[5]||"",!0),po(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new as(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ar(m,Zr,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ar(m,Zr,!0),"@"),u.push(Ii(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ar(_,_.charAt(0)=="/"?yo:$l,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ar(_,Wl)),u.join("")},hn.prototype.resolve=function(u){const m=Te(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ss(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const St=L[tt++];St=="."?T&&tt==L.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?po(m,eu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Te(u){return new hn(u)}function Ue(u,m,_){u.j=_?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function po(u,m,_){m instanceof as?(u.i=m,$r(u.i,u.l)):(_||(m=ar(m,rs)),u.i=new as(m,u.l))}function Qt(u,m,_){u.i.set(m,_)}function rr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ar(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,en),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zr=/[#\/\?@]/g,$l=/[#\?:]/g,yo=/[#\?]/g,rs=/[#\?@]/g,Wl=/#/g;function as(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Xr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=as.prototype,a.add=function(u,m){nn(this),this.i=null,u=os(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function tu(u,m){nn(u),m=os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _o(u,m){return nn(u),m=os(u,m),u.g.has(m)}a.forEach=function(u,m){nn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function vo(u,m){nn(u);let _=[];if(typeof m=="string")_o(u,m)&&(_=_.concat(u.g.get(os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return nn(this),this.i=null,u=os(this,u),_o(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=vo(this,u),u.length>0?String(u[0]):m):m};function Jr(u,m,_){tu(u,m),_.length>0&&(u.i=null,u.g.set(os(u,m),G(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Ii(_);_=vo(this,_);for(let B=0;B<_.length;B++){let tt=L;_[B]!==""&&(tt+="="+Ii(_[B])),u.push(tt)}}return this.i=u.join("&")};function eu(u){const m=new as;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function $r(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(tu(this,T),Jr(this,L,_))},u)),u.j=m}function zn(u,m){const _=new Ln;if(d.Image){const T=new Image;T.onload=S(Sn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Sn,_,"TestLoadImage: error",!1,m,T),T.onabort=S(Sn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Sn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Eo(u,m){const _=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function ls(){this.g=new ql}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}R(ui,Hl),ui.prototype.g=function(){return new or(this.i,this.h)};function or(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(or,ye),a=or.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?us(this):Bn(this),this.readyState==3&&Wr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},a.Na=function(u){this.g&&(this.response=u,us(this))},a.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Ct(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function lr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=An(_),typeof u=="string"?_!=null&&Ii(_):Qt(u,m,_))}function Xt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(Xt,ye);var ci=/^https?$/i,To=["POST","PUT"];a=Xt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():uo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ur(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(To,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of _)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ur(this,B)}};function ur(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,So(u),Di(u)}function So(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Di(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Xt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?cr(this):this.Xa())},a.Xa=function(){cr(this)};function cr(u){if(u.h&&typeof h<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let tt=String(u.D).match(Jl)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!ci.test(tt?tt.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",So(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),vh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(A(u[T]))continue;var _=Kl(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}zt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function cs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new co(u&&u.concurrentRequestLimit),this.Ba=new ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=cs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,T){_e(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=lu(this,null,this.W),fi(this)};function Ao(u){if(ta(u),u.I==3){var m=u.V++,_=Te(u.J);if(Qt(_,"SID",u.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),hr(u,_),m=new kn(u,u.j,m),m.M=2,m.A=rr(Te(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=uu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}ou(u)}function hs(u){u.g&&(Ro(u),u.g.cancel(),u.g=null)}function ta(u){hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!ho(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||w(),Ut||(Wt(),Ut=!0),N.add(m,u),u.D=0}}function ea(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(y(u.Ea,u,m),au(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=nu(this,L,m),_=Te(this.J),Qt(_,"RID",u),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),hr(this,_),B&&(this.R?m="headers="+Ii(An(B))+"&"+m:this.u&&lr(_,this.u,B)),fo(this.h,L),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),L.U=!0,ni(L,_,null)):ni(L,_,m),this.I=2}}else this.I==3&&(u?bo(this,u):this.i.length==0||ho(this.h)||bo(this))};function bo(u,m){var _;m?_=m.l:_=u.V++;const T=Te(u.J);Qt(T,"SID",u.M),Qt(T,"RID",_),Qt(T,"AID",u.K),hr(u,T),u.u&&u.o&&lr(T,u.u,u.o),_=new kn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=nu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),fo(u.h,_),ni(_,T,m)}function hr(u,m){u.H&&Ct(u.H,function(_,T){Qt(m,T,_)}),u.l&&Ct({},function(_,T){Qt(m,T,_)})}function nu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const de=["count="+_];St==-1?_>0?(St=L[0].g,de.push("ofs="+St)):St=0:de.push("ofs="+St);let qt=!0;for(let ae=0;ae<_;ae++){var B=L[ae].g;const bn=L[ae].map;if(B-=St,B<0)St=Math.max(0,L[ae].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var tt=bn instanceof Map?bn:Object.entries(bn);for(const[mi,qn]of tt){let Hn=qn;p(qn)&&(Hn=is(qn)),de.push(B+mi+"="+encodeURIComponent(Hn))}}catch(mi){throw de.push(B+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(bn)}}if(qt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||w(),Ut||(Wt(),Ut=!0),N.add(m,u),u.A=0}}function fr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(y(u.Da,u),au(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),hs(this),su(this))};function Ro(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function su(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),hr(u,m),u.u&&u.o&&lr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=rr(Te(m)),_.u=null,_.R=!0,Yr(_,u)}a.Va=function(){this.C!=null&&(this.C=null,hs(this),fr(this),_e(19))};function na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ru(u,m){var _=null;if(u.g==m){na(u),Ro(u),u.g=null;var T=2}else if(oi(u.h,m))_=m.G,mo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Qr(),De(T,new Wn(T,_)),fi(u)}else iu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ea(u,m)||T==2&&fr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function au(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),rr(T),L?zn(T.toString(),_):Eo(T.toString(),_)}else _e(2);u.I=0,u.l&&u.l.pa(m),ou(u),ta(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function ou(u){if(u.I=0,u.ja=[],u.l){const m=go(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function lu(u,m,_){var T=_ instanceof hn?Te(_):new hn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ss(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new hn(null);T&&Ue(B,T),m&&(B.g=m),L&&ss(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Qt(T,_,m),Qt(T,"VER",u.ka),hr(u,T),T}function uu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new ui({ab:_})):new Xt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}a=cu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function fs(){}fs.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ye.call(this),this.g=new cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!A(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}R(We,ye),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Ao(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=is(u),u=_);m.i.push(new Ee(m.Ya++,u)),m.I==3&&fi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,We.Z.N.call(this)};function hu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(hu,Pe);function fu(){En.call(this),this.status=1}R(fu,En);function Oi(u){this.g=u}R(Oi,cu),Oi.prototype.ra=function(){De(this.g,"a")},Oi.prototype.qa=function(u){De(this.g,new hu(u))},Oi.prototype.pa=function(u){De(this.g,new fu)},Oi.prototype.oa=function(){De(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,QE=function(){return new fs},FE=function(){return Qr()},GE=fe,Gd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,wc=ir,lo.COMPLETE="complete",HE=lo,Gl.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ye.prototype.listen=ye.prototype.J,hl=Gl,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,qE=Xt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const nv="@firebase/firestore",iv="4.9.2";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let Wa="12.3.0";const kr=new um("@firebase/firestore");function Ma(){return kr.logLevel}function it(a,...t){if(kr.logLevel<=Vt.DEBUG){const i=t.map(Sm);kr.debug(`Firestore (${Wa}): ${a}`,...i)}}function Wi(a,...t){if(kr.logLevel<=Vt.ERROR){const i=t.map(Sm);kr.error(`Firestore (${Wa}): ${a}`,...i)}}function Ga(a,...t){if(kr.logLevel<=Vt.WARN){const i=t.map(Sm);kr.warn(`Firestore (${Wa}): ${a}`,...i)}}function Sm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function gt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,YE(a,r,i)}function YE(a,t,i){let r=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Wi(r),new Error(r)}function Ft(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||YE(t,l,r)}function Tt(a,t){return a}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends es{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class KE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class FR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class QR{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let r=this.i;const l=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Gs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Gs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new KE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class YR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new YR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const r=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const l=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new sv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ZR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Am{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=ZR(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<i&&(r+=t.charAt(l[h]%62))}return r}}function Mt(a,t){return a<t?-1:a>t?1:0}function Fd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),h=t.charAt(r);if(l!==h)return Nd(l)===Nd(h)?Mt(l,h):Nd(l)?1:-1}return Mt(a.length,t.length)}const JR=55296,$R=57343;function Nd(a){const t=a.charCodeAt(0);return t>=JR&&t<=$R}function Fa(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const rv="__name__";class vi{constructor(t,i,r){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&gt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const h=vi.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Mt(t.length,i.length)}static compareSegments(t,i){const r=vi.isNumericId(t),l=vi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Fd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hs.fromString(t.substring(4,t.length-2))}}class le extends vi{construct(t,i,r){return new le(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const WR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends vi{construct(t,i,r){return new Fe(t,i,r)}static isValidIdentifier(t){return WR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rv}static keyField(){return new Fe([rv])}static fromServerFormat(t){const i=[];let r="",l=0;const h=()=>{if(r.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(h(),l++)}if(h(),d)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(le.fromString(t))}static fromName(t){return new ft(le.fromString(t).popFirst(5))}static empty(){return new ft(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new le(t.slice()))}}function tw(a,t,i){if(!i)throw new lt(X.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function ew(a,t,i,r){if(t===!0&&r===!0)throw new lt(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function av(a){if(!ft.isDocumentKey(a))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function XE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function bm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":gt(12329,{type:typeof a})}function Fs(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bm(a);throw new lt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Ce(a,t){const i={typeString:a};return t&&(i.value=t),i}function Ll(a,t){if(!XE(a))throw new lt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new lt(X.INVALID_ARGUMENT,i);return!0}const ov=-62135596800,lv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*lv);return new se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<ov)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ll(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ov;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new se(0,0))}static max(){return new _t(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Al=-1;function nw(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new Qs(l,ft.empty(),t)}function iw(a){return new Qs(a.readTime,a.key,Al)}class Qs{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Qs(_t.min(),ft.empty(),Al)}static max(){return new Qs(_t.max(),ft.empty(),Al)}}function sw(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(a.documentKey,t.documentKey),i!==0?i:Mt(a.largestBatchId,t.largestBatchId))}const rw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function to(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==rw)throw a;it("LocalStore","Unexpectedly lost primary lease")}class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K(((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):K.reject(i)}static resolve(t){return new K(((i,r)=>{i(t)}))}static reject(t){return new K(((i,r)=>{r(t)}))}static waitFor(t){return new K(((i,r)=>{let l=0,h=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++h,d&&h===l&&i()}),(v=>r(v)))})),d=!0,h===l&&i()}))}static or(t){let i=K.resolve(!1);for(const r of t)i=i.next((l=>l?K.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,h)=>{r.push(i.call(this,l,h))})),this.waitFor(r)}static mapArray(t,i){return new K(((r,l)=>{const h=t.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const y=v;i(t[y]).next((S=>{d[y]=S,++p,p===h&&r(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new K(((r,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):r()};h()}))}}function ow(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function eo(a){return a.name==="IndexedDbTransactionError"}class sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sh.ce=-1;const Rm=-1;function rh(a){return a==null}function Bc(a){return a===0&&1/a==-1/0}function lw(a){return typeof a=="number"&&Number.isInteger(a)&&!Bc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const ZE="";function uw(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=uv(t)),t=cw(a.get(i),t);return uv(t)}function cw(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const h=a.charAt(l);switch(h){case"\0":i+="";break;case ZE:i+="";break;default:i+=h}}return i}function uv(a){return a+ZE+""}function cv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function zr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function JE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,l,h){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,h){return new Ge(t??this.key,i??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const h=r(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,r),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,r,l,h){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(t){return new hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Me(Fe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class $E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new $E("Invalid base64 string: "+h):h}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const hw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(a){if(Ft(!!a,39018),typeof a=="string"){let t=0;const i=hw.exec(a);if(Ft(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pe(a.seconds),nanos:pe(a.nanos)}}function pe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ks(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}const WE="server_timestamp",tT="__type__",eT="__previous_value__",nT="__local_write_time__";function wm(a){return(a?.mapValue?.fields||{})[tT]?.stringValue===WE}function ah(a){const t=a.mapValue.fields[eT];return wm(t)?ah(t):t}function bl(a){const t=Ys(a.mapValue.fields[nT].timestampValue);return new se(t.seconds,t.nanos)}class fw{constructor(t,i,r,l,h,d,p,v,y,S){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S}}const jc="(default)";class Rl{constructor(t,i){this.projectId=t,this.database=i||jc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===jc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}const iT="__type__",dw="__max__",vc={mapValue:{}},sT="__vector__",qc="value";function Xs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?wm(a)?4:gw(a)?9007199254740991:mw(a)?10:11:gt(28295,{value:a})}function wi(a,t){if(a===t)return!0;const i=Xs(a);if(i!==Xs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return bl(a).isEqual(bl(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Ys(l.timestampValue),p=Ys(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,h){return Ks(l.bytesValue).isEqual(Ks(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,h){return pe(l.geoPointValue.latitude)===pe(h.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(h.geoPointValue.longitude)})(a,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return pe(l.integerValue)===pe(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=pe(l.doubleValue),p=pe(h.doubleValue);return d===p?Bc(d)===Bc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Fa(a.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},p=h.mapValue.fields||{};if(cv(d)!==cv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!wi(d[v],p[v])))return!1;return!0})(a,t);default:return gt(52216,{left:a})}}function wl(a,t){return(a.values||[]).find((i=>wi(i,t)))!==void 0}function Qa(a,t){if(a===t)return 0;const i=Xs(a),r=Xs(t);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(a.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=pe(h.integerValue||h.doubleValue),v=pe(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(a,t);case 3:return fv(a.timestampValue,t.timestampValue);case 4:return fv(bl(a),bl(t));case 5:return Fd(a.stringValue,t.stringValue);case 6:return(function(h,d){const p=Ks(h),v=Ks(d);return p.compareTo(v)})(a.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const S=Mt(p[y],v[y]);if(S!==0)return S}return Mt(p.length,v.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=Mt(pe(h.latitude),pe(d.latitude));return p!==0?p:Mt(pe(h.longitude),pe(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return dv(a.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},y=p[qc]?.arrayValue,S=v[qc]?.arrayValue,R=Mt(y?.values?.length||0,S?.values?.length||0);return R!==0?R:dv(y,S)})(a.mapValue,t.mapValue);case 11:return(function(h,d){if(h===vc.mapValue&&d===vc.mapValue)return 0;if(h===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),y=d.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let R=0;R<v.length&&R<S.length;++R){const x=Fd(v[R],S[R]);if(x!==0)return x;const G=Qa(p[v[R]],y[S[R]]);if(G!==0)return G}return Mt(v.length,S.length)})(a.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function fv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Mt(a,t);const i=Ys(a),r=Ys(t),l=Mt(i.seconds,r.seconds);return l!==0?l:Mt(i.nanos,r.nanos)}function dv(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const h=Qa(i[l],r[l]);if(h)return h}return Mt(i.length,r.length)}function Ya(a){return Qd(a)}function Qd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ys(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Ks(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ft.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const h of i.values||[])l?l=!1:r+=",",r+=Qd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of r)h?h=!1:l+=",",l+=`${d}:${Qd(i.fields[d])}`;return l+"}"})(a.mapValue):gt(61005,{value:a})}function Cc(a){switch(Xs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ah(a);return t?16+Cc(t):16;case 5:return 2*a.stringValue.length;case 6:return Ks(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,h)=>l+Cc(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return zr(r.fields,((h,d)=>{l+=h.length+Cc(d)})),l})(a.mapValue);default:throw gt(13486,{value:a})}}function Yd(a){return!!a&&"integerValue"in a}function Cm(a){return!!a&&"arrayValue"in a}function mv(a){return!!a&&"nullValue"in a}function gv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ic(a){return!!a&&"mapValue"in a}function mw(a){return(a?.mapValue?.fields||{})[iT]?.stringValue===sT}function yl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return zr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=yl(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=yl(a.arrayValue.values[i]);return t}return{...a}}function gw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===dw}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Ic(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=yl(i)}setAll(t){let i=Fe.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=yl(d):l.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,l)}delete(t){const i=this.field(t.popLast());Ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Ic(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){zr(i,((l,h)=>t[l]=h));for(const l of r)delete t[l]}clone(){return new Mn(yl(this.value))}}function rT(a){const t=[];return zr(a.fields,((i,r)=>{const l=new Fe([i]);if(Ic(r)){const h=rT(r.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Ze{constructor(t,i,r,l,h,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,_t.min(),_t.min(),_t.min(),Mn.empty(),0)}static newFoundDocument(t,i,r,l){return new Ze(t,1,i,_t.min(),r,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,_t.min(),_t.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,_t.min(),_t.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(t,i){this.position=t,this.inclusive=i}}function pv(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const h=t[l],d=a.position[l];if(h.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=Qa(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function yv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!wi(a.position[i],t.position[i]))return!1;return!0}class Gc{constructor(t,i="asc"){this.field=t,this.dir=i}}function pw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class aT{}class Oe extends aT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new _w(t,i,r):i==="array-contains"?new Tw(t,r):i==="in"?new Sw(t,r):i==="not-in"?new Aw(t,r):i==="array-contains-any"?new bw(t,r):new Oe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new vw(t,r):new Ew(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&Xs(this.value)===Xs(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends aT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return oT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oT(a){return a.op==="and"}function lT(a){return yw(a)&&oT(a)}function yw(a){for(const t of a.filters)if(t instanceof Ci)return!1;return!0}function Kd(a){if(a instanceof Oe)return a.field.canonicalString()+a.op.toString()+Ya(a.value);if(lT(a))return a.filters.map((t=>Kd(t))).join(",");{const t=a.filters.map((i=>Kd(i))).join(",");return`${a.op}(${t})`}}function uT(a,t){return a instanceof Oe?(function(r,l){return l instanceof Oe&&r.op===l.op&&r.field.isEqual(l.field)&&wi(r.value,l.value)})(a,t):a instanceof Ci?(function(r,l){return l instanceof Ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((h,d,p)=>h&&uT(d,l.filters[p])),!0):!1})(a,t):void gt(19439)}function cT(a){return a instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(a):a instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(cT).join(" ,")+"}"})(a):"Filter"}class _w extends Oe{constructor(t,i,r){super(t,i,r),this.key=ft.fromName(r.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class vw extends Oe{constructor(t,i){super(t,"in",i),this.keys=hT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Ew extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=hT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function hT(a,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class Tw extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Cm(i)&&wl(i.arrayValue,this.value)}}class Sw extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&wl(this.value.arrayValue,i)}}class Aw extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wl(this.value.arrayValue,i)}}class bw extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>wl(this.value.arrayValue,r)))}}class Rw{constructor(t,i=null,r=[],l=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function _v(a,t=null,i=[],r=[],l=null,h=null,d=null){return new Rw(a,t,i,r,l,h,d)}function Im(a){const t=Tt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Kd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),rh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ya(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ya(r))).join(",")),t.Te=i}return t.Te}function Dm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!pw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!uT(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!yv(a.startAt,t.startAt)&&yv(a.endAt,t.endAt)}function Xd(a){return ft.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class oh{constructor(t,i=null,r=[],l=[],h=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ww(a,t,i,r,l,h,d,p){return new oh(a,t,i,r,l,h,d,p)}function lh(a){return new oh(a)}function vv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Cw(a){return a.collectionGroup!==null}function _l(a){const t=Tt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Gc(h,r))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Gc(Fe.keyField(),r))}return t.Ie}function Ti(a){const t=Tt(a);return t.Ee||(t.Ee=Iw(t,_l(a))),t.Ee}function Iw(a,t){if(a.limitType==="F")return _v(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Gc(l.field,h)}));const i=a.endAt?new Hc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Hc(a.startAt.position,a.startAt.inclusive):null;return _v(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Zd(a,t,i){return new oh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function uh(a,t){return Dm(Ti(a),Ti(t))&&a.limitType===t.limitType}function fT(a){return`${Im(Ti(a))}|lt:${a.limitType}`}function xa(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>cT(l))).join(", ")}]`),rh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${r})`})(Ti(a))}; limitType=${a.limitType})`}function ch(a,t){return t.isFoundDocument()&&(function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ft.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,t)&&(function(r,l){for(const h of _l(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,v){const y=pv(d,p,v);return d.inclusive?y<=0:y<0})(r.startAt,_l(r),l)||r.endAt&&!(function(d,p,v){const y=pv(d,p,v);return d.inclusive?y>=0:y>0})(r.endAt,_l(r),l))})(a,t)}function Dw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function dT(a){return(t,i)=>{let r=!1;for(const l of _l(a)){const h=Nw(l,t,i);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function Nw(a,t,i){const r=a.field.isKeyField()?ft.comparator(t.key,i.key):(function(h,d,p){const v=d.data.field(h),y=p.data.field(h);return v!==null&&y!==null?Qa(v,y):gt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:a.dir})}}class Br{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){zr(this.inner,((i,r)=>{for(const[l,h]of r)t(l,h)}))}isEmpty(){return JE(this.inner)}size(){return this.innerSize}}const Ow=new ue(ft.comparator);function ts(){return Ow}const mT=new ue(ft.comparator);function fl(...a){let t=mT;for(const i of a)t=t.insert(i.key,i);return t}function gT(a){let t=mT;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Or(){return vl()}function pT(){return vl()}function vl(){return new Br((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Vw=new ue(ft.comparator),Mw=new Me(ft.comparator);function xt(...a){let t=Mw;for(const i of a)t=t.add(i);return t}const xw=new Me(Mt);function Uw(){return xw}function Nm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(t)?"-0":t}}function yT(a){return{integerValue:""+a}}function Lw(a,t){return lw(t)?yT(t):Nm(a,t)}class hh{constructor(){this._=void 0}}function kw(a,t,i){return a instanceof Fc?(function(l,h){const d={fields:{[tT]:{stringValue:WE},[nT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&wm(h)&&(h=ah(h)),h&&(d.fields[eT]=h),{mapValue:d}})(i,t):a instanceof Cl?vT(a,t):a instanceof Il?ET(a,t):(function(l,h){const d=_T(l,h),p=Ev(d)+Ev(l.Ae);return Yd(d)&&Yd(l.Ae)?yT(p):Nm(l.serializer,p)})(a,t)}function Pw(a,t,i){return a instanceof Cl?vT(a,t):a instanceof Il?ET(a,t):i}function _T(a,t){return a instanceof Qc?(function(r){return Yd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class Fc extends hh{}class Cl extends hh{constructor(t){super(),this.elements=t}}function vT(a,t){const i=TT(t);for(const r of a.elements)i.some((l=>wi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Il extends hh{constructor(t){super(),this.elements=t}}function ET(a,t){let i=TT(t);for(const r of a.elements)i=i.filter((l=>!wi(l,r)));return{arrayValue:{values:i}}}class Qc extends hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ev(a){return pe(a.integerValue||a.doubleValue)}function TT(a){return Cm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function zw(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof Cl&&l instanceof Cl||r instanceof Il&&l instanceof Il?Fa(r.elements,l.elements,wi):r instanceof Qc&&l instanceof Qc?wi(r.Ae,l.Ae):r instanceof Fc&&l instanceof Fc})(a.transform,t.transform)}class Bw{constructor(t,i){this.version=t,this.transformResults=i}}class Zi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Dc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class fh{}function ST(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new bT(a.key,Zi.none()):new kl(a.key,a.data,Zi.none());{const i=a.data,r=Mn.empty();let l=new Me(Fe.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),l=l.add(h)}return new jr(a.key,r,new Xn(l.toArray()),Zi.none())}}function jw(a,t,i){a instanceof kl?(function(l,h,d){const p=l.value.clone(),v=Sv(l.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof jr?(function(l,h,d){if(!Dc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Sv(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(AT(l)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function El(a,t,i,r){return a instanceof kl?(function(h,d,p,v){if(!Dc(h.precondition,d))return p;const y=h.value.clone(),S=Av(h.fieldTransforms,v,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,t,i,r):a instanceof jr?(function(h,d,p,v){if(!Dc(h.precondition,d))return p;const y=Av(h.fieldTransforms,v,d),S=d.data;return S.setAll(AT(h)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((R=>R.field)))})(a,t,i,r):(function(h,d,p){return Dc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function qw(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),h=_T(r.transform,l||null);h!=null&&(i===null&&(i=Mn.empty()),i.set(r.field,h))}return i||null}function Tv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Fa(r,l,((h,d)=>zw(h,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class kl extends fh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class jr extends fh{constructor(t,i,r,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function AT(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function Sv(a,t,i){const r=new Map;Ft(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const h=a[l],d=h.transform,p=t.data.field(h.field);r.set(h.field,Pw(d,p,i[l]))}return r}function Av(a,t,i){const r=new Map;for(const l of a){const h=l.transform,d=i.data.field(l.field);r.set(l.field,kw(h,d,t))}return r}class bT extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hw extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&jw(h,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=El(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=El(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=pT();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(l.key)?null:p;const v=ST(d,p);v!==null&&r.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),xt())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,((i,r)=>Tv(i,r)))&&Fa(this.baseMutations,t.baseMutations,((i,r)=>Tv(i,r)))}}class Om{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Ft(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Vw})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,r[d].version);return new Om(t,i,r,l)}}class Fw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Qw{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Pt;function Yw(a){switch(a){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:a})}}function RT(a){if(a===void 0)return Wi("GRPC error has no .code"),X.UNKNOWN;switch(a){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:a})}}(Pt=we||(we={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function Kw(){return new TextEncoder}const Xw=new Hs([4294967295,4294967295],0);function bv(a){const t=Kw().encode(a),i=new jE;return i.update(t),new Uint8Array(i.digest())}function Rv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Hs([i,r],0),new Hs([l,h],0)]}class Vm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new dl(`Invalid padding: ${i}`);if(r<0)throw new dl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Hs.fromNumber(r)));return l.compare(Xw)===1&&(l=new Hs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=bv(t),[r,l]=Rv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Vm(h,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=bv(t),[r,l]=Rv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(t,i,r,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Pl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new dh(_t.min(),l,new ue(Mt),ts(),xt())}}class Pl{constructor(t,i,r,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Pl(r,i,xt(),xt(),xt())}}class Nc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class wT{constructor(t,i){this.targetId=t,this.Ce=i}}class CT{constructor(t,i,r=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class wv{constructor(){this.ve=0,this.Fe=Cv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),i=xt(),r=xt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:gt(38017,{changeType:h})}})),new Pl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Cv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Zw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=Ec(),this.He=Ec(),this.Ye=new ue(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Xd(h))if(r===0){const d=new ft(h.path);this.et(i,d,Ze.newNoDocument(d,_t.min()))}else Ft(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=i;let d,p;try{d=Ks(r).toUint8Array()}catch(v){if(v instanceof $E)return Ga("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Vm(d,l,h)}catch(v){return Ga(v instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Xd(p.target)){const v=new ft(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ze.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=xt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new dh(t,i,this.Ye,this.je,r);return this.je=ts(),this.Je=Ec(),this.He=Ec(),this.Ye=new ue(Mt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new wv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new wv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new ue(ft.comparator)}function Cv(){return new ue(ft.comparator)}const Jw={asc:"ASCENDING",desc:"DESCENDING"},$w={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ww={and:"AND",or:"OR"};class t2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Jd(a,t){return a.useProto3Json||rh(t)?t:{value:t}}function Yc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function IT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function e2(a,t){return Yc(a,t.toTimestamp())}function Si(a){return Ft(!!a,49232),_t.fromTimestamp((function(i){const r=Ys(i);return new se(r.seconds,r.nanos)})(a))}function Mm(a,t){return $d(a,t).canonicalString()}function $d(a,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function DT(a){const t=le.fromString(a);return Ft(xT(t),10190,{key:t.toString()}),t}function Wd(a,t){return Mm(a.databaseId,t.path)}function Od(a,t){const i=DT(t);if(i.get(1)!==a.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ft(OT(i))}function NT(a,t){return Mm(a.databaseId,t)}function n2(a){const t=DT(a);return t.length===4?le.emptyPath():OT(t)}function tm(a){return new le(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function OT(a){return Ft(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Iv(a,t,i){return{name:Wd(a,t),fields:i.value.mapValue.fields}}function i2(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(y,S){return y.useProto3Json?(Ft(S===void 0||typeof S=="string",58123),Qe.fromBase64String(S||"")):(Ft(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Qe.fromUint8Array(S||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const S=y.code===void 0?X.UNKNOWN:RT(y.code);return new lt(S,y.message||"")})(d);i=new CT(r,l,h,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Od(a,r.document.name),h=Si(r.document.updateTime),d=r.document.createTime?Si(r.document.createTime):_t.min(),p=new Mn({mapValue:{fields:r.document.fields}}),v=Ze.newFoundDocument(l,h,d,p),y=r.targetIds||[],S=r.removedTargetIds||[];i=new Nc(y,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Od(a,r.document),h=r.readTime?Si(r.readTime):_t.min(),d=Ze.newNoDocument(l,h),p=r.removedTargetIds||[];i=new Nc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Od(a,r.document),h=r.removedTargetIds||[];i=new Nc([],h,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,d=new Qw(l,h),p=r.targetId;i=new wT(p,d)}}return i}function s2(a,t){let i;if(t instanceof kl)i={update:Iv(a,t.key,t.value)};else if(t instanceof bT)i={delete:Wd(a,t.key)};else if(t instanceof jr)i={update:Iv(a,t.key,t.data),updateMask:d2(t.fieldMask)};else{if(!(t instanceof Hw))return gt(16599,{Vt:t.type});i={verify:Wd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof Fc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Cl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Il)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Qc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:e2(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)})(a,t.precondition)),i}function r2(a,t){return a&&a.length>0?(Ft(t!==void 0,14353),a.map((i=>(function(l,h){let d=l.updateTime?Si(l.updateTime):Si(h);return d.isEqual(_t.min())&&(d=Si(h)),new Bw(d,l.transformResults||[])})(i,t)))):[]}function a2(a,t){return{documents:[NT(a,t.path)]}}function o2(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=NT(a,l);const h=(function(y){if(y.length!==0)return MT(Ci.create(y,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((S=>(function(x){return{field:Ua(x.field),direction:c2(x.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Jd(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function l2(a){let t=n2(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ft(r===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let h=[];i.where&&(h=(function(R){const x=VT(R);return x instanceof Ci&&lT(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((x=>(function(J){return new Gc(La(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(R){let x;return x=typeof R=="object"?R.value:R,rh(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(R){const x=!!R.before,G=R.values||[];return new Hc(G,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(R){const x=!R.before,G=R.values||[];return new Hc(G,x)})(i.endAt)),ww(t,l,d,h,p,"F",v,y)}function u2(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function VT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=La(i.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=La(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=La(i.unaryFilter.field);return Oe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=La(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Oe.create(La(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>VT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(a):gt(30097,{filter:a})}function c2(a){return Jw[a]}function h2(a){return $w[a]}function f2(a){return Ww[a]}function Ua(a){return{fieldPath:a.canonicalString()}}function La(a){return Fe.fromServerFormat(a.fieldPath)}function MT(a){return a instanceof Oe?(function(i){if(i.op==="=="){if(gv(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NAN"}};if(mv(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(gv(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NAN"}};if(mv(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(i.field),op:h2(i.op),value:i.value}}})(a):a instanceof Ci?(function(i){const r=i.getFilters().map((l=>MT(l)));return r.length===1?r[0]:{compositeFilter:{op:f2(i.op),filters:r}}})(a):gt(54877,{filter:a})}function d2(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function xT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class zs{constructor(t,i,r,l,h=_t.min(),d=_t.min(),p=Qe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class m2{constructor(t){this.yt=t}}function g2(a){const t=l2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Zd(t,t.limit,"L"):t}class p2{constructor(){this.Cn=new y2}addToCollectionParentIndex(t,i){return this.Cn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Qs.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Qs.min())}updateCollectionGroup(t,i,r){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class y2{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Me(le.comparator),h=!l.has(r);return this.index[i]=l.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Me(le.comparator)).toArray()}}const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(UT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Ka{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ka(0)}static cr(){return new Ka(-1)}}const Nv="LruGarbageCollector",_2=1048576;function Ov([a,t],[i,r]){const l=Mt(a,i);return l===0?Mt(t,r):l}class v2{constructor(t){this.Ir=t,this.buffer=new Me(Ov),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Ov(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class E2{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(Nv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){eo(i)?it(Nv,"Ignoring IndexedDB error during garbage collection: ",i):await to(i)}await this.Vr(3e5)}))}}class T2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return K.resolve(sh.ce);const r=new v2(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Dv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,h,d,p,v,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(t,l)))).next((R=>(r=R,p=Date.now(),this.removeTargets(t,r,i)))).next((R=>(h=R,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((R=>(y=Date.now(),Ma()<=Vt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${R} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:R}))))}}function S2(a,t){return new T2(a,t)}class A2{constructor(){this.changes=new Br((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?K.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class b2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class R2{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&El(r.mutation,l,Xn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,xt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=xt()){const l=Or();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((h=>{let d=fl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Or();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,xt())))}populateOverlays(t,i,r){const l=[];return r.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let h=ts();const d=vl(),p=(function(){return vl()})();return i.forEach(((v,y)=>{const S=r.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof jr)?h=h.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),El(S.mutation,y,S.mutation.getFieldMask(),se.now())):d.set(y.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>p.set(y,new b2(S,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=vl();let l=new ue(((d,p)=>d-p)),h=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let S=r.get(v)||Xn.empty();S=p.applyToLocalView(y,S),r.set(v,S);const R=(l.get(p.batchId)||xt()).add(v);l=l.insert(p.batchId,R)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,S=v.value,R=pT();S.forEach((x=>{if(!h.has(x)){const G=ST(i.get(x),r.get(x));G!==null&&R.set(x,G),h=h.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,R))}return K.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Cw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-h.size):K.resolve(Or());let p=Al,v=h;return d.next((y=>K.forEach(y,((S,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),h.get(S)?K.resolve():this.remoteDocumentCache.getEntry(t,S).next((x=>{v=v.insert(S,x)}))))).next((()=>this.populateOverlays(t,y,h))).next((()=>this.computeViews(t,v,y,xt()))).next((S=>({batchId:p,changes:gT(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((r=>{let l=fl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const h=i.collectionGroup;let d=fl();return this.indexManager.getCollectionParents(t,h).next((p=>K.forEach(p,(v=>{const y=(function(R,x){return new oh(x,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((S=>{S.forEach(((R,x)=>{d=d.insert(R,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,l)))).next((d=>{h.forEach(((v,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,Ze.newInvalidDocument(S)))}));let p=fl();return d.forEach(((v,y)=>{const S=h.get(v);S!==void 0&&El(S.mutation,y,Xn.empty(),se.now()),ch(i,y)&&(p=p.insert(v,y))})),p}))}}class w2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:g2(l.bundledQuery),readTime:Si(l.readTime)}})(i)),K.resolve()}}class C2{constructor(){this.overlays=new ue(ft.comparator),this.qr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Or();return K.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&r.set(l,h)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,h)=>{this.St(t,i,h)})),K.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(t,i,r){const l=Or(),h=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&v.largestBatchId>r&&l.set(v.getKey(),v)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let h=new ue(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let S=h.get(y.largestBatchId);S===null&&(S=Or(),h=h.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const p=Or(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>p.set(y,S))),!(p.size()>=l)););return K.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Fw(i,r));let h=this.qr.get(i);h===void 0&&(h=xt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}class I2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}class xm{constructor(){this.Qr=new Me(ke.$r),this.Ur=new Me(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new ke(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new ke(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ft(new le([])),r=new ke(i,t),l=new ke(i,t+1),h=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new le([])),r=new ke(i,t),l=new ke(i,t+1);let h=xt();return this.Ur.forEachInRange([r,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new ke(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class D2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(ke.$r)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Gw(h,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new ke(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),h=l<0?0:l;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Rm:this.tr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);h.push(p)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Me(Mt);return i.forEach((l=>{const h=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{r=r.add(p.Yr)}))})),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let h=r;ft.isDocumentKey(h)||(h=h.child(""));const d=new ke(new ft(h),0);let p=new Me(Mt);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Yr)),!0)}),d),K.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(i.mutations,(l=>{const h=new ke(l.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new ke(i,0),l=this.Zr.firstAfterOrEqual(r);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class N2{constructor(t){this.ri=t,this.docs=(function(){return new ue(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return K.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let r=ts();return i.forEach((l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():Ze.newInvalidDocument(l))})),K.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let h=ts();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||sw(iw(S),r)<=0||(l.has(S.key)||ch(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(t,i,r,l){gt(9500)}ii(t,i){return K.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new O2(this)}getSize(t){return K.resolve(this.size)}}class O2 extends A2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),K.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class V2{constructor(t){this.persistence=t,this.si=new Br((i=>Im(i)),Dm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new xm,this.targetCount=0,this.ai=Ka.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),K.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ka(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.Pr(i),K.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,r){let l=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),K.waitFor(h).next((()=>l))}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return K.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),K.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return K.resolve(r)}containsKey(t,i){return K.resolve(this._i.containsKey(i))}}class LT{constructor(t,i){this.ui={},this.overlays={},this.ci=new sh(0),this.li=!1,this.li=!0,this.hi=new I2,this.referenceDelegate=t(this),this.Pi=new V2(this),this.indexManager=new p2,this.remoteDocumentCache=(function(l){return new N2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new m2(i),this.Ii=new w2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new C2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new D2(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const l=new M2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,i){return K.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class M2 extends aw{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.Ri=new xm,this.Vi=null}static mi(t){return new Um(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),K.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(r=>{const l=ft.fromPath(r);return this.gi(t,l).next((h=>{h||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Kc{constructor(t,i){this.persistence=t,this.pi=new Br((r=>uw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=S2(this,i)}static mi(t,i){return new Kc(t,i)}Ei(){}di(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return K.forEach(this.pi,((r,l)=>this.br(t,r,l).next((h=>h?K.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),K.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Cc(t.data.value)),i}br(t,i,r){return K.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return K.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Lm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=xt(),l=xt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Lm(t,i.fromCache,r,l)}}class x2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class U2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RA()?8:ow(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,l,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new x2;return this.Ss(t,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>h.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ma()<=Vt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Ma()<=Vt.DEBUG&&it("QueryEngine","Query:",xa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ma()<=Vt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):K.resolve())}ys(t,i){if(vv(i))return K.resolve(null);let r=Ti(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Zd(i,null,"F"),r=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=xt(...h);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((v=>{const y=this.Ds(i,p);return this.Cs(i,y,d,v.readTime)?this.ys(t,Zd(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,r,l){return vv(i)||l.isEqual(_t.min())?K.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,l)?K.resolve(null):(Ma()<=Vt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(i)),this.vs(t,d,i,nw(l,Al)).next((p=>p)))}))}Ds(t,i){let r=new Me(dT(t));return i.forEach(((l,h)=>{ch(t,h)&&(r=r.add(h))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,r){return Ma()<=Vt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",xa(i)),this.ps.getDocumentsMatchingQuery(t,i,Qs.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const km="LocalStore",L2=3e8;class k2{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Mt),this.xs=new Br((h=>Im(h)),Dm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new R2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function P2(a,t,i,r){return new k2(a,t,i,r)}async function kT(a,t){const i=Tt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let v=xt();for(const y of l){d.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of h){p.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function z2(a,t){const i=Tt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,S){const R=y.batch,x=R.keys();let G=K.resolve();return x.forEach((J=>{G=G.next((()=>S.getEntry(v,J))).next((et=>{const $=y.docVersions.get(J);Ft($!==null,48541),et.version.compareTo($)<0&&(R.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),S.addEntry(et)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,R)))})(i,r,t,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=xt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function PT(a){const t=Tt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function B2(a,t){const i=Tt(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((S,R)=>{const x=l.get(R);if(!x)return;p.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,R))));let G=x.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(R)!==null?G=G.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,r)),l=l.insert(R,G),(function(et,$,ht){return et.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=L2?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(x,G,S)&&p.push(i.Pi.updateTargetData(h,G))}));let v=ts(),y=xt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),p.push(j2(h,d,t.documentUpdates).next((S=>{v=S.ks,y=S.qs}))),!r.isEqual(_t.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((R=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(S)}return K.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,y))).next((()=>v))})).then((h=>(i.Ms=l,h)))}function j2(a,t,i){let r=xt(),l=xt();return i.forEach((h=>r=r.add(h))),t.getEntries(a,r).next((h=>{let d=ts();return i.forEach(((p,v)=>{const y=h.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(_t.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):it(km,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function q2(a,t){const i=Tt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Rm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function H2(a,t){const i=Tt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((h=>h?(l=h,K.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new zs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function em(a,t,i){const r=Tt(a),l=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!eo(d))throw d;it(km,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Vv(a,t,i){const r=Tt(a);let l=_t.min(),h=xt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,S){const R=Tt(v),x=R.xs.get(S);return x!==void 0?K.resolve(R.Ms.get(x)):R.Pi.getTargetData(y,S)})(r,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?h:xt()))).next((p=>(G2(r,Dw(t),p),{documents:p,Qs:h})))))}function G2(a,t,i){let r=a.Os.get(t)||_t.min();i.forEach(((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(t,r)}class Mv{constructor(){this.activeTargetIds=Uw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class F2{constructor(){this.Mo=new Mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Mv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Q2{Oo(t){}shutdown(){}}const xv="ConnectivityMonitor";class Uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(xv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(xv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tc=null;function nm(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}const Vd="RestConnection",Y2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===jc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,h){const d=nm(),p=this.zo(t,i.toUriEncodedString());it(Vd,`Sending RPC '${t}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:y}=new URL(p),S=Za(y);return this.Jo(t,p,v,r,S).then((R=>(it(Vd,`Received RPC '${t}' ${d}: `,R),R)),(R=>{throw Ga(Vd,`RPC '${t}' ${d} failed with error: `,R,"url: ",p,"request:",r),R}))}Ho(t,i,r,l,h,d){return this.Go(t,i,r,l,h)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wa})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),r&&r.headers.forEach(((l,h)=>t[h]=l))}zo(t,i){const r=Y2[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class X2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ke="WebChannelConnection";class Z2 extends K2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,h){const d=nm();return new Promise(((p,v)=>{const y=new qE;y.setWithCredentials(!0),y.listenOnce(HE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case wc.NO_ERROR:const R=y.getResponseJson();it(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(R)),p(R);break;case wc.TIMEOUT:it(Ke,`RPC '${t}' ${d} timed out`),v(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const x=y.getStatus();if(it(Ke,`RPC '${t}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const et=(function(ht){const vt=ht.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(vt)>=0?vt:X.UNKNOWN})(J.status);v(new lt(et,J.message))}else v(new lt(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new lt(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ke,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);it(Ke,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,r,15)}))}T_(t,i,r){const l=nm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=QE(),p=FE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const S=h.join("");it(Ke,`Creating RPC '${t}' stream ${l}: ${S}`,v);const R=d.createWebChannel(S,v);this.I_(R);let x=!1,G=!1;const J=new X2({Yo:$=>{G?it(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(x||(it(Ke,`Opening RPC '${t}' stream ${l} transport.`),R.open(),x=!0),it(Ke,`RPC '${t}' stream ${l} sending:`,$),R.send($))},Zo:()=>R.close()}),et=($,ht,vt)=>{$.listen(ht,(mt=>{try{vt(mt)}catch(Gt){setTimeout((()=>{throw Gt}),0)}}))};return et(R,hl.EventType.OPEN,(()=>{G||(it(Ke,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),et(R,hl.EventType.CLOSE,(()=>{G||(G=!0,it(Ke,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(R))})),et(R,hl.EventType.ERROR,($=>{G||(G=!0,Ga(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new lt(X.UNAVAILABLE,"The operation could not be completed")))})),et(R,hl.EventType.MESSAGE,($=>{if(!G){const ht=$.data[0];Ft(!!ht,16349);const vt=ht,mt=vt?.error||vt[0]?.error;if(mt){it(Ke,`RPC '${t}' stream ${l} received error:`,mt);const Gt=mt.status;let Wt=(function(w){const D=we[w];if(D!==void 0)return RT(D)})(Gt),Ut=mt.message;Wt===void 0&&(Wt=X.INTERNAL,Ut="Unknown error status: "+Gt+" with message "+mt.message),G=!0,J.a_(new lt(Wt,Ut)),R.close()}else it(Ke,`RPC '${t}' stream ${l} received:`,ht),J.u_(ht)}})),et(p,GE.STAT_EVENT,($=>{$.stat===Gd.PROXY?it(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Gd.NOPROXY&&it(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Md(){return typeof document<"u"?document:null}function mh(a){return new t2(a,!0)}class zT{constructor(t,i,r=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Lv="PersistentStream";class BT{constructor(t,i,r,l,h,d,p,v){this.Mi=t,this.S_=r,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new lt(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Lv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(Lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class J2 extends BT{constructor(t,i,r,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=i2(this.serializer,t),r=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Si(d.readTime):_t.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=tm(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=Xd(v)?{documents:a2(h,v)}:{query:o2(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=IT(h,d.resumeToken);const y=Jd(h,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Yc(h,d.snapshotVersion.toTimestamp());const y=Jd(h,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=u2(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=tm(this.serializer),i.removeTarget=t,this.q_(i)}}class $2 extends BT{constructor(t,i,r,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=r2(t.writeResults,t.commitTime),r=Si(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=tm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>s2(this.serializer,r)))};this.q_(i)}}class W2{}class tC extends W2{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,$d(i,r),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(X.UNKNOWN,h.toString())}))}Ho(t,i,r,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,$d(i,r),l,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pr="RemoteStore";class nC{constructor(t,i,r,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{qr(this)&&(it(Pr,"Restarting streams for network reachability change."),await(async function(v){const y=Tt(v);y.Ea.add(4),await zl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await gh(y)})(this))}))})),this.Ra=new eC(r,l)}}async function gh(a){if(qr(a))for(const t of a.da)await t(!0)}async function zl(a){for(const t of a.da)await t(!1)}function jT(a,t){const i=Tt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),jm(i)?Bm(i):no(i).O_()&&zm(i,t))}function Pm(a,t){const i=Tt(a),r=no(i);i.Ia.delete(t),r.O_()&&qT(i,t),i.Ia.size===0&&(r.O_()?r.L_():qr(i)&&i.Ra.set("Unknown"))}function zm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}no(a).Y_(t)}function qT(a,t){a.Va.Ue(t),no(a).Z_(t)}function Bm(a){a.Va=new Zw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),no(a).start(),a.Ra.ua()}function jm(a){return qr(a)&&!no(a).x_()&&a.Ia.size>0}function qr(a){return Tt(a).Ea.size===0}function HT(a){a.Va=void 0}async function iC(a){a.Ra.set("Online")}async function sC(a){a.Ia.forEach(((t,i)=>{zm(a,t)}))}async function rC(a,t){HT(a),jm(a)?(a.Ra.ha(t),Bm(a)):a.Ra.set("Unknown")}async function aC(a,t,i){if(a.Ra.set("Online"),t instanceof CT&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const p of h.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(r){it(Pr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Xc(a,r)}else if(t instanceof Nc?a.Va.Ze(t):t instanceof wT?a.Va.st(t):a.Va.tt(t),!i.isEqual(_t.min()))try{const r=await PT(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(y);S&&h.Ia.set(y,S.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(Qe.EMPTY_BYTE_STRING,S.snapshotVersion)),qT(h,v);const R=new zs(S.target,v,y,S.sequenceNumber);zm(h,R)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){it(Pr,"Failed to raise snapshot:",r),await Xc(a,r)}}async function Xc(a,t,i){if(!eo(t))throw t;a.Ea.add(1),await zl(a),a.Ra.set("Offline"),i||(i=()=>PT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(Pr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await gh(a)}))}function GT(a,t){return t().catch((i=>Xc(a,i,t)))}async function ph(a){const t=Tt(a),i=Zs(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rm;for(;oC(t);)try{const l=await q2(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,lC(t,l)}catch(l){await Xc(t,l)}FT(t)&&QT(t)}function oC(a){return qr(a)&&a.Ta.length<10}function lC(a,t){a.Ta.push(t);const i=Zs(a);i.O_()&&i.X_&&i.ea(t.mutations)}function FT(a){return qr(a)&&!Zs(a).x_()&&a.Ta.length>0}function QT(a){Zs(a).start()}async function uC(a){Zs(a).ra()}async function cC(a){const t=Zs(a);for(const i of a.Ta)t.ea(i.mutations)}async function hC(a,t,i){const r=a.Ta.shift(),l=Om.from(r,t,i);await GT(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await ph(a)}async function fC(a,t){t&&Zs(a).X_&&await(async function(r,l){if((function(d){return Yw(d)&&d!==X.ABORTED})(l.code)){const h=r.Ta.shift();Zs(r).B_(),await GT(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,l))),await ph(r)}})(a,t),FT(a)&&QT(a)}async function kv(a,t){const i=Tt(a);i.asyncQueue.verifyOperationInProgress(),it(Pr,"RemoteStore received new credentials");const r=qr(i);i.Ea.add(3),await zl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function dC(a,t){const i=Tt(a);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await zl(i),i.Ra.set("Unknown"))}function no(a){return a.ma||(a.ma=(function(i,r,l){const h=Tt(i);return h.sa(),new J2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:iC.bind(null,a),t_:sC.bind(null,a),r_:rC.bind(null,a),H_:aC.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),jm(a)?Bm(a):a.Ra.set("Unknown")):(await a.ma.stop(),HT(a))}))),a.ma}function Zs(a){return a.fa||(a.fa=(function(i,r,l){const h=Tt(i);return h.sa(),new $2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:uC.bind(null,a),r_:fC.bind(null,a),ta:cC.bind(null,a),na:hC.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await ph(a)):(await a.fa.stop(),a.Ta.length>0&&(it(Pr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class qm{constructor(t,i,r,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,h){const d=Date.now()+r,p=new qm(t,i,d,l,h);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(a,t){if(Wi("AsyncQueue",`${t}: ${a}`),eo(a))return new lt(X.UNAVAILABLE,`${t}: ${a}`);throw a}class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=fl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class Pv{constructor(){this.ga=new ue(ft.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Xa{constructor(t,i,r,l,h,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Xa(t,i,Ba.emptySet(i),d,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class mC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class gC{constructor(){this.queries=zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Tt(i),h=l.queries;l.queries=zv(),h.forEach(((d,p)=>{for(const v of p.Sa)v.onError(r)}))})(this,new lt(X.ABORTED,"Firestore shutting down"))}}function zv(){return new Br((a=>fT(a)),uh)}async function YT(a,t){const i=Tt(a);let r=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(r=2):(h=new mC,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Hm(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Gm(i)}async function KT(a,t){const i=Tt(a),r=t.query;let l=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function pC(a,t){const i=Tt(a);let r=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Gm(i)}function yC(a,t,i){const r=Tt(a),l=r.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);r.queries.delete(t)}function Gm(a){a.Ca.forEach((t=>{t.next()}))}var im,Bv;(Bv=im||(im={})).Ma="default",Bv.Cache="cache";class XT{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Xa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==im.Cache}}class ZT{constructor(t){this.key=t}}class JT{constructor(t){this.key=t}}class _C{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=dT(t),this.tu=new Ba(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new Pv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,R)=>{const x=l.get(S),G=ch(this.query,R)?R:null,J=!!x&&this.mutatedKeys.has(x.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;x&&G?x.data.isEqual(G.data)?J!==et&&(r.track({type:3,doc:G}),$=!0):this.su(x,G)||(r.track({type:2,doc:G}),$=!0,(v&&this.eu(G,v)>0||y&&this.eu(G,y)<0)&&(p=!0)):!x&&G?(r.track({type:0,doc:G}),$=!0):x&&!G&&(r.track({type:1,doc:x}),$=!0,(v||y)&&(p=!0)),$&&(G?(d=d.add(G),h=et?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,R)=>(function(G,J){const et=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:$})}};return et(G)-et(J)})(S.type,R.type)||this.eu(S.doc,R.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new Xa(this.query,t.tu,h,d,t.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Pv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new JT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new ZT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=xt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fm="SyncEngine";class vC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class EC{constructor(t){this.key=t,this.hu=!1}}class TC{constructor(t,i,r,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Br((p=>fT(p)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(ft.comparator),this.Au=new Map,this.Ru=new xm,this.Vu={},this.mu=new Map,this.fu=Ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SC(a,t,i=!0){const r=i0(a);let l;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await $T(r,t,i,!0),l}async function AC(a,t){const i=i0(a);await $T(i,t,!0,!1)}async function $T(a,t,i,r){const l=await H2(a.localStore,Ti(t)),h=l.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await bC(a,t,h,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&jT(a.remoteStore,l),p}async function bC(a,t,i,r,l){a.pu=(R,x,G)=>(async function(et,$,ht,vt){let mt=$.view.ru(ht);mt.Cs&&(mt=await Vv(et.localStore,$.query,!1).then((({documents:N})=>$.view.ru(N,mt))));const Gt=vt&&vt.targetChanges.get($.targetId),Wt=vt&&vt.targetMismatches.get($.targetId)!=null,Ut=$.view.applyChanges(mt,et.isPrimaryClient,Gt,Wt);return qv(et,$.targetId,Ut.au),Ut.snapshot})(a,R,x,G);const h=await Vv(a.localStore,t,!0),d=new _C(t,h.Qs),p=d.ru(h.documents),v=Pl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),y=d.applyChanges(p,a.isPrimaryClient,v);qv(a,i,y.au);const S=new vC(t,i,d);return a.Tu.set(t,S),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),y.snapshot}async function RC(a,t,i){const r=Tt(a),l=r.Tu.get(t),h=r.Iu.get(l.targetId);if(h.length>1)return r.Iu.set(l.targetId,h.filter((d=>!uh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await em(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Pm(r.remoteStore,l.targetId),sm(r,l.targetId)})).catch(to)):(sm(r,l.targetId),await em(r.localStore,l.targetId,!0))}async function wC(a,t){const i=Tt(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Pm(i.remoteStore,r.targetId))}async function CC(a,t,i){const r=xC(a);try{const l=await(function(d,p){const v=Tt(d),y=se.now(),S=p.reduce(((G,J)=>G.add(J.key)),xt());let R,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=ts(),et=xt();return v.Ns.getEntries(G,S).next(($=>{J=$,J.forEach(((ht,vt)=>{vt.isValidDocument()||(et=et.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,J))).next(($=>{R=$;const ht=[];for(const vt of p){const mt=qw(vt,R.get(vt.key).overlayedDocument);mt!=null&&ht.push(new jr(vt.key,mt,rT(mt.value.mapValue),Zi.exists(!0)))}return v.mutationQueue.addMutationBatch(G,y,ht,p)})).next(($=>{x=$;const ht=$.applyToLocalDocumentSet(R,et);return v.documentOverlayCache.saveOverlays(G,$.batchId,ht)}))})).then((()=>({batchId:x.batchId,changes:gT(R)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new ue(Mt)),y=y.insert(p,v),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await Bl(r,l.changes),await ph(r.remoteStore)}catch(l){const h=Hm(l,"Failed to persist write");i.reject(h)}}async function WT(a,t){const i=Tt(a);try{const r=await B2(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Bl(i,r,t)}catch(r){await to(r)}}function jv(a,t,i){const r=Tt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=Tt(d);v.onlineState=p;let y=!1;v.queries.forEach(((S,R)=>{for(const x of R.Sa)x.va(p)&&(y=!0)})),y&&Gm(v)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function IC(a,t,i){const r=Tt(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),h=l&&l.key;if(h){let d=new ue(ft.comparator);d=d.insert(h,Ze.newNoDocument(h,_t.min()));const p=xt().add(h),v=new dh(_t.min(),new Map,new ue(Mt),d,p);await WT(r,v),r.du=r.du.remove(h),r.Au.delete(t),Qm(r)}else await em(r.localStore,t,!1).then((()=>sm(r,t,i))).catch(to)}async function DC(a,t){const i=Tt(a),r=t.batch.batchId;try{const l=await z2(i.localStore,t);e0(i,r,null),t0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Bl(i,l)}catch(l){await to(l)}}async function NC(a,t,i){const r=Tt(a);try{const l=await(function(d,p){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return v.mutationQueue.lookupMutationBatch(y,p).next((R=>(Ft(R!==null,37113),S=R.keys(),v.mutationQueue.removeMutationBatch(y,R)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,S,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>v.localDocuments.getDocuments(y,S)))}))})(r.localStore,t);e0(r,t,i),t0(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Bl(r,l)}catch(l){await to(l)}}function t0(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function e0(a,t,i){const r=Tt(a);let l=r.Vu[r.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function sm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||n0(a,r)}))}function n0(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Pm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Qm(a))}function qv(a,t,i){for(const r of i)r instanceof ZT?(a.Ru.addReference(r.key,t),OC(a,r)):r instanceof JT?(it(Fm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||n0(a,r.key)):gt(19791,{wu:r})}function OC(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(it(Fm,"New document in limbo: "+i),a.Eu.add(r),Qm(a))}function Qm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ft(le.fromString(t)),r=a.fu.next();a.Au.set(r,new EC(i)),a.du=a.du.insert(i,r),jT(a.remoteStore,new zs(Ti(lh(i.path)),r,"TargetPurposeLimboResolution",sh.ce))}}async function Bl(a,t,i){const r=Tt(a),l=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{d.push(r.pu(v,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(y){l.push(y);const S=Lm.As(v.targetId,y);h.push(S)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(v,y){const S=Tt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>K.forEach(y,(x=>K.forEach(x.Es,(G=>S.persistence.referenceDelegate.addReference(R,x.targetId,G))).next((()=>K.forEach(x.ds,(G=>S.persistence.referenceDelegate.removeReference(R,x.targetId,G)))))))))}catch(R){if(!eo(R))throw R;it(km,"Failed to update sequence numbers: "+R)}for(const R of y){const x=R.targetId;if(!R.fromCache){const G=S.Ms.get(x),J=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(J);S.Ms=S.Ms.insert(x,et)}}})(r.localStore,h))}async function VC(a,t){const i=Tt(a);if(!i.currentUser.isEqual(t)){it(Fm,"User change. New user:",t.toKey());const r=await kT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new lt(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Bl(i,r.Ls)}}function MC(a,t){const i=Tt(a),r=i.Au.get(t);if(r&&r.hu)return xt().add(r.key);{let l=xt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function i0(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IC.bind(null,t),t.Pu.H_=pC.bind(null,t.eventManager),t.Pu.yu=yC.bind(null,t.eventManager),t}function xC(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,t),t}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return P2(this.persistence,new U2,t.initialUser,this.serializer)}Cu(t){return new LT(Um.mi,this.serializer)}Du(t){return new F2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class UC extends Zc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof Kc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new E2(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new LT((r=>Kc.mi(r,i)),this.serializer)}}class rm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VC.bind(null,this.syncEngine),await dC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gC})()}createDatastore(t){const i=mh(t.databaseInfo.databaseId),r=(function(h){return new Z2(h)})(t.databaseInfo);return(function(h,d,p,v){return new tC(h,d,p,v)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,h,d,p){return new nC(r,l,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>jv(this.syncEngine,i,0)),(function(){return Uv.v()?new Uv:new Q2})())}createSyncEngine(t,i){return(function(l,h,d,p,v,y,S){const R=new TC(l,h,d,p,v,y);return S&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Tt(i);it(Pr,"RemoteStore shutting down."),r.Ea.add(5),await zl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rm.provider={build:()=>new rm};class s0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Js="FirestoreClient";class LC{constructor(t,i,r,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{it(Js,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it(Js,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Hm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function xd(a,t){a.asyncQueue.verifyOperationInProgress(),it(Js,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await kT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Hv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await kC(a);it(Js,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>kv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>kv(t.remoteStore,l))),a._onlineComponents=t}async function kC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(Js,"Using user provided OfflineComponentProvider");try{await xd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ga("Error using user provided cache. Falling back to memory cache: "+i),await xd(a,new Zc)}}else it(Js,"Using default OfflineComponentProvider"),await xd(a,new UC(void 0));return a._offlineComponents}async function r0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(Js,"Using user provided OnlineComponentProvider"),await Hv(a,a._uninitializedComponentsProvider._online)):(it(Js,"Using default OnlineComponentProvider"),await Hv(a,new rm))),a._onlineComponents}function PC(a){return r0(a).then((t=>t.syncEngine))}async function am(a){const t=await r0(a),i=t.eventManager;return i.onListen=SC.bind(null,t.syncEngine),i.onUnlisten=RC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=AC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=wC.bind(null,t.syncEngine),i}function zC(a,t,i={}){const r=new Gs;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,y){const S=new s0({next:x=>{S.Nu(),d.enqueueAndForget((()=>KT(h,R)));const G=x.docs.has(p);!G&&x.fromCache?y.reject(new lt(X.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&x.fromCache&&v&&v.source==="server"?y.reject(new lt(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),R=new XT(lh(p.path),S,{includeMetadataChanges:!0,qa:!0});return YT(h,R)})(await am(a),a.asyncQueue,t,i,r))),r.promise}function a0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Gv=new Map;const o0="firestore.googleapis.com",Fv=!0;class Qv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o0,this.ssl=Fv}else this.host=t.host,this.ssl=t.ssl??Fv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_2)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ew("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ym{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new GR;switch(r.type){case"firstParty":return new KR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Gv.get(i);r&&(it("ComponentProvider","Removing Datastore"),Gv.delete(i),r.terminate())})(this),Promise.resolve()}}function BC(a,t,i,r={}){a=Fs(a,Ym);const l=Za(t),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(iE(`https://${p}`),sE("Firestore",!0)),h.host!==o0&&h.host!==p&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:l,emulatorOptions:r};if(!xr(v,d)&&(a._setSettings(v),r.mockUserToken)){let y,S;if(typeof r.mockUserToken=="string")y=r.mockUserToken,S=Xe.MOCK_USER;else{y=pA(r.mockUserToken,a._app?.options.projectId);const R=r.mockUserToken.sub||r.mockUserToken.user_id;if(!R)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xe(R)}a._authCredentials=new FR(new KE(y,S))}}class yh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new yh(this.firestore,t,this._query)}}class Ve{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Ll(i,Ve._jsonSchema))return new Ve(t,r||null,new ft(le.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Ce("string",Ve._jsonSchemaVersion),referencePath:Ce("string")};class Dl extends yh{constructor(t,i,r){super(t,i,lh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new ft(t))}withConverter(t){return new Dl(this.firestore,t,this._path)}}function Jc(a,t,...i){if(a=vn(a),arguments.length===1&&(t=Am.newId()),tw("doc","path",t),a instanceof Ym){const r=le.fromString(t,...i);return av(r),new Ve(a,null,new ft(r))}{if(!(a instanceof Ve||a instanceof Dl))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(le.fromString(t,...i));return av(r),new Ve(a.firestore,a instanceof Dl?a.converter:null,new ft(r))}}const Yv="AsyncQueue";class Kv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zT(this,"async_queue_retry"),this._c=()=>{const r=Md();r&&it(Yv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!eo(t))throw t;it(Yv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Xv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=qm.createAndSchedule(this,t,i,r,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Xv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function Zv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of r)if(h in l&&typeof l[h]=="function")return!0;return!1})(a,["next","error","complete"])}class Nl extends Ym{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Kv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kv(t),this._firestoreClient=void 0,await t}}}function jC(a,t){const i=typeof a=="object"?a:lE(),r=typeof a=="string"?a:jc,l=hm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const h=mA("firestore");h&&BC(l,...h)}return l}function Km(a){if(a._terminated)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||qC(a),a._firestoreClient}function qC(a){const t=a._freezeSettings(),i=(function(l,h,d,p){return new fw(l,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,a0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new LC(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(a._componentsProvider))}class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Qe.fromBase64String(t))}catch(i){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ll(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Ce("string",xn._jsonSchemaVersion),bytes:Ce("string")};class Xm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class l0{constructor(t){this._methodName=t}}class Ai{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(t){if(Ll(t,Ai._jsonSchema))return new Ai(t.latitude,t.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:Ce("string",Ai._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ll(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new bi(t.vectorValues);throw new lt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Ce("string",bi._jsonSchemaVersion),vectorValues:Ce("object")};const HC=/^__.*__$/;class GC{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new jr(t,this.data,this.fieldMask,i,this.fieldTransforms):new kl(t,this.data,i,this.fieldTransforms)}}function u0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:a})}}class Zm{constructor(t,i,r,l,h,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Zm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return $c(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(u0(this.Ac)&&HC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class FC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||mh(t)}Cc(t,i,r,l=!1){return new Zm({Ac:t,methodName:i,Dc:r,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QC(a){const t=a._freezeSettings(),i=mh(a._databaseId);return new FC(a._databaseId,!!t.ignoreUndefinedProperties,i)}function YC(a,t,i,r,l,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,t,i,l);d0("Data must be an object, but it was:",d,r);const p=h0(r,d);let v,y;if(h.merge)v=new Xn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const R of h.mergeFields){const x=KC(t,R,i);if(!d.contains(x))throw new lt(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ZC(S,x)||S.push(x)}v=new Xn(S),y=d.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,y=d.fieldTransforms;return new GC(new Mn(p),v,y)}function c0(a,t){if(f0(a=vn(a)))return d0("Unsupported field value:",t,a),h0(a,t);if(a instanceof l0)return(function(r,l){if(!u0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const h=[];let d=0;for(const p of r){let v=c0(p,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(a,t)}return(function(r,l){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Lw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=se.fromDate(r);return{timestampValue:Yc(l.serializer,h)}}if(r instanceof se){const h=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(l.serializer,h)}}if(r instanceof Ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xn)return{bytesValue:IT(l.serializer,r._byteString)};if(r instanceof Ve){const h=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Mm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof bi)return(function(d,p){return{mapValue:{fields:{[iT]:{stringValue:sT},[qc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Nm(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${bm(r)}`)})(a,t)}function h0(a,t){const i={};return JE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zr(a,((r,l)=>{const h=c0(l,t.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function f0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof se||a instanceof Ai||a instanceof xn||a instanceof Ve||a instanceof l0||a instanceof bi)}function d0(a,t,i){if(!f0(i)||!XE(i)){const r=bm(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function KC(a,t,i){if((t=vn(t))instanceof Xm)return t._internalPath;if(typeof t=="string")return m0(a,t);throw $c("Field path arguments must be of type string or ",a,!1,void 0,i)}const XC=new RegExp("[~\\*/\\[\\]]");function m0(a,t,i){if(t.search(XC)>=0)throw $c(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Xm(...t.split("."))._internalPath}catch{throw $c(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function $c(a,t,i,r,l){const h=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${l}`),v+=")"),new lt(X.INVALID_ARGUMENT,p+a+v)}function ZC(a,t){return a.some((i=>i.isEqual(t)))}class g0{constructor(t,i,r,l,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(p0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class JC extends g0{data(){return super.data()}}function p0(a,t){return typeof t=="string"?m0(a,t):t instanceof Xm?t._internalPath:t._delegate._internalPath}function $C(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WC{convertValue(t,i="none"){switch(Xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ks(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return zr(t,((l,h)=>{r[l]=this.convertValue(h,i)})),r}convertVectorValue(t){const i=t.fields?.[qc].arrayValue?.values?.map((r=>pe(r.doubleValue)));return new bi(i)}convertGeoPoint(t){return new Ai(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=ah(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(bl(t));default:return null}}convertTimestamp(t){const i=Ys(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=le.fromString(t);Ft(xT(r),9688,{name:t});const l=new Rl(r.get(1),r.get(3)),h=new ft(r.popFirst(5));return l.isEqual(i)||Wi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function tI(a,t,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,r}class ml{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Mr extends g0{constructor(t,i,r,l,h,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(p0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Mr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Mr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mr._jsonSchema={type:Ce("string",Mr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Oc extends Mr{data(t={}){return super.data(t)}}class ja{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ml(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Oc(this._firestore,this._userDataWriter,r.key,r,new ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Oc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Oc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:eI(p.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function eI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:a})}}function nI(a){a=Fs(a,Ve);const t=Fs(a.firestore,Nl);return zC(Km(t),a._key).then((i=>_0(t,a,i)))}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:Ce("string",ja._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class y0 extends WC{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function om(a,t,i){a=Fs(a,Ve);const r=Fs(a.firestore,Nl),l=tI(a.converter,t,i);return sI(r,[YC(QC(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Zi.none())])}function iI(a,...t){a=vn(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Zv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Zv(t[r])){const v=t[r];t[r]=v.next?.bind(v),t[r+1]=v.error?.bind(v),t[r+2]=v.complete?.bind(v)}let h,d,p;if(a instanceof Ve)d=Fs(a.firestore,Nl),p=lh(a._key.path),h={next:v=>{t[r]&&t[r](_0(d,a,v))},error:t[r+1],complete:t[r+2]};else{const v=Fs(a,yh);d=Fs(v.firestore,Nl),p=v._query;const y=new y0(d);h={next:S=>{t[r]&&t[r](new ja(d,y,v,S))},error:t[r+1],complete:t[r+2]},$C(a._query)}return(function(y,S,R,x){const G=new s0(x),J=new XT(S,G,R);return y.asyncQueue.enqueueAndForget((async()=>YT(await am(y),J))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>KT(await am(y),J)))}})(Km(d),p,l,h)}function sI(a,t){return(function(r,l){const h=new Gs;return r.asyncQueue.enqueueAndForget((async()=>CC(await PC(r),l,h))),h.promise})(Km(a),t)}function _0(a,t,i){const r=i.docs.get(t._key),l=new y0(a);return new Mr(a,l,t._key,r,new ml(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Wa=l})(Ja),qa(new Ur("firestore",((r,{instanceIdentifier:l,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new Nl(new QR(r.getProvider("auth-internal")),new XR(d,r.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(y.options.projectId,S)})(d,l),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),qs(nv,iv,t),qs(nv,iv,"esm2020")})();var rI="firebase",aI="12.6.0";qs(rI,aI,"app");const oI={apiKey:"AIzaSyDA7JElzU6qiRo7JInsyFOyCwV584gZ5Ag",authDomain:"track-my-reps.firebaseapp.com",projectId:"track-my-reps",storageBucket:"track-my-reps.firebasestorage.app",messagingSenderId:"164703762100",appId:"1:164703762100:web:1d75ecf0d08a101135c9e1",measurementId:"G-1RHC65C2N3"},v0=oE(oI),Ud=qR(v0),lI=new Yi,Wc=jC(v0),uI=()=>{const[a,t]=ee.useState(null),[i,r]=ee.useState(!0);return ee.useEffect(()=>Nb(Ud,p=>{t(p),r(!1)}),[]),{user:a,loading:i,signInWithGoogle:async()=>{try{await Jb(Ud,lI)}catch(d){console.error("Error signing in:",d),alert("Failed to sign in. Please try again.")}},signOut:async()=>{try{await Ob(Ud)}catch(d){console.error("Error signing out:",d)}}}},cI=(a,t,i)=>{const[r,l]=ee.useState(t),[h,d]=ee.useState(!1),p=ee.useRef(!1),v=ee.useRef(!1),y=ee.useRef(null),S=ee.useRef(0),R=ee.useRef(null);return ee.useEffect(()=>{if(!a){R.current!==null&&(l(t),p.current=!1,R.current=null);return}R.current!==a.uid&&(p.current=!1,R.current=a.uid);const x=Jc(Wc,"users",a.uid);return iI(x,J=>{if(v.current){console.log("Skipping snapshot update - currently saving");return}const et=Date.now()-S.current;if(p.current&&et<1e3){console.log("Skipping snapshot update - recent local change");return}if(J.exists()){const $=J.data()[i];$!==void 0&&(console.log(`Loading ${i} from Firebase:`,$),l($),p.current=!0)}else console.log(`First time - saving initial ${i} to Firebase`),om(x,{[i]:t},{merge:!0}),p.current=!0})},[a,i,t]),ee.useEffect(()=>{if(!a||h||!p.current)return;y.current&&clearTimeout(y.current),S.current=Date.now();const x=async()=>{try{console.log(`Saving ${i} to Firebase:`,r),d(!0),v.current=!0;const G=Jc(Wc,"users",a.uid);await om(G,{[i]:r},{merge:!0}),console.log(` ${i} saved successfully`)}catch(G){console.error(`Error syncing ${i}:`,G)}finally{d(!1),setTimeout(()=>{v.current=!1},500)}};return y.current=setTimeout(x,500),()=>{y.current&&clearTimeout(y.current)}},[a,r,i,h]),[r,l,h]},cl=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],hI={Monday:{isRest:!1,exercises:[{name:"Back Squat",sets:4,reps:"",weight:null},{name:"Bench Press",sets:4,reps:"",weight:null},{name:"Wide Row",sets:3,reps:"",weight:null},{name:"RDL",sets:3,reps:"",weight:null},{name:"Barbell Curl",sets:3,reps:"",weight:null},{name:"Behind-Back Wrist Curl",sets:2,reps:"",weight:null}]},Tuesday:{isRest:!1,exercises:[{name:"HIIT: 20s/40s 10",sets:1,reps:"10 rounds",weight:null}]},Wednesday:{isRest:!1,exercises:[{name:"Deadlift",sets:4,reps:"",weight:null},{name:"OHP",sets:4,reps:"",weight:null},{name:"Underhand Row",sets:3,reps:"",weight:null},{name:"Barbell Curl",sets:3,reps:"",weight:null},{name:"Reverse Curl",sets:2,reps:"",weight:null},{name:"Barbell Hold",sets:2,reps:"",weight:null}]},Thursday:{isRest:!1,exercises:[{name:"Steady Cardio",sets:1,reps:"20-30 min",weight:null}]},Friday:{isRest:!1,exercises:[{name:"Front Squat",sets:4,reps:"",weight:null},{name:"Incline Bench",sets:4,reps:"",weight:null},{name:"Med Row",sets:3,reps:"",weight:null},{name:"Sumo DL",sets:3,reps:"",weight:null},{name:"Wrist Curl Up",sets:2,reps:"",weight:null},{name:"Wrist Curl Down",sets:2,reps:"",weight:null}]},Saturday:{isRest:!1,exercises:[{name:"Light Back Squat",sets:4,reps:"",weight:null},{name:"Light OHP",sets:4,reps:"",weight:null},{name:"Row Variation",sets:3,reps:"",weight:null},{name:"RDL/GM",sets:3,reps:"",weight:null},{name:"Curl+RevCurl",sets:3,reps:"",weight:null}]},Sunday:{isRest:!0,exercises:[]}};function fI(){const{user:a,loading:t,signInWithGoogle:i,signOut:r}=uI(),[l,h]=ee.useState("tracker"),d=ee.useRef(!1),p=ee.useRef(new Set),v=ee.useRef({}),y=ee.useRef(null),[S,R]=cI(a,hI,"weeklyPlan"),[x,G]=ee.useState(()=>{const C=new Date().getDay();return cl[C===0?6:C-1]}),[J,et]=ee.useState({}),$=ee.useRef({completedSets:!1});ee.useEffect(()=>{(async()=>{if(!a){et({}),$.current={completedSets:!1};return}console.log(" Loading workout data from Firebase...");try{const b=await nI(Jc(Wc,"users",a.uid,"workoutData","completedSets"));b.exists()?(console.log(" Loaded completedSets:",b.data()),et(b.data())):console.log(" No completedSets found in Firebase"),$.current={completedSets:!0}}catch(b){console.error(" Error loading workout data:",b)}})()},[a]),ee.useEffect(()=>{v.current=J},[J]),ee.useEffect(()=>{if(!a){y.current=null,d.current=!1,p.current.clear();return}y.current!==a.uid&&(y.current=a.uid,d.current=!1,p.current.clear())},[a]),ee.useEffect(()=>{if(!S||d.current||!a)return;let C=!1;const b={};cl.forEach(ct=>{if(!S[ct]){b[ct]={isRest:!0,exercises:[]},C=!0;return}b[ct]={...S[ct]},b[ct].categories&&!b[ct].exercises&&(C=!0,b[ct].exercises=b[ct].categories.flatMap(wt=>wt.exercises||[]),delete b[ct].categories),b[ct].exercises||(C=!0,b[ct].exercises=[])}),C?(console.log("Migrating data structure from categories to exercises"),d.current=!0,R(b)):d.current=!0;const V={...J};let A=!1;cl.forEach(ct=>{const wt=V[ct];if(Array.isArray(wt)){A=!0;const q={};wt.forEach((W,ot)=>{Array.isArray(W)&&W.forEach((Ct,zt)=>{q[`${ot}-${zt}`]=Ct})}),V[ct]=q}}),A&&(console.log("Migrating completedSets from nested arrays to flat structure"),et(V))},[S,R,J]),ee.useEffect(()=>{if(!d.current||p.current.has(x))return;const C=S[x];if(!(!C||C.isRest||!C.exercises)){if(!v.current[x]){console.log("Initializing completedSets for",x);const b={};C.exercises.forEach((V,A)=>{for(let ct=0;ct<V.sets;ct++)b[`${A}-${ct}`]=!1}),et(V=>({...V,[x]:b}))}p.current.add(x)}},[x,S]);const ht=async C=>{if(a)try{console.log(" Saving completedSets to Firebase..."),await om(Jc(Wc,"users",a.uid,"workoutData","completedSets"),C),console.log(" Saved completedSets successfully")}catch(b){console.error(" Error saving completedSets:",b)}},vt=(C,b)=>{et(V=>{const A=V[x]||{},ct=`${C}-${b}`;if(Object.keys(A).length===0){const q=S[x];if(!q.exercises)return V;const W={};q.exercises.forEach((Ct,zt)=>{for(let M=0;M<Ct.sets;M++)W[`${zt}-${M}`]=!1}),W[ct]=!0;const ot={...V,[x]:W};return ht(ot),ot}if(b>0){const q=`${C}-${b-1}`;if(!A[q])return V}const wt={...V,[x]:{...A,[ct]:!A[ct]}};return ht(wt),wt})},mt=()=>{if(window.confirm("Reset all checkboxes for today?")){const C=S[x];if(!C.exercises)return;const b={};C.exercises.forEach((A,ct)=>{for(let wt=0;wt<A.sets;wt++)b[`${ct}-${wt}`]=!1});const V={...J,[x]:b};et(V),ht(V)}},Gt=()=>{const C=S[x];if(!C.exercises||C.exercises.length===0)return{completed:0,total:0,percentage:0};const b=J[x]||{};let V=0,A=0;return C.exercises.forEach((ct,wt)=>{for(let q=0;q<ct.sets;q++)A++,b[`${wt}-${q}`]&&V++}),{completed:V,total:A,percentage:A>0?Math.round(V/A*100):0}},Wt=C=>{R(b=>({...b,[C]:{...b[C],isRest:!b[C].isRest,exercises:b[C].isRest?b[C].exercises:[]}}))},Ut=C=>{const b=prompt("Exercise name:");if(!b)return;const V=parseInt(prompt("Number of sets:","3")),A=prompt("Reps (e.g., 8-12 or 15):","8-12");!b||!V||!A||R(ct=>{const wt={...ct};return wt[C]={...wt[C],exercises:[...wt[C].exercises||[],{name:b,sets:V,reps:A}]},wt})},N=(C,b)=>{R(V=>{const A={...V};return A[C]={...A[C],exercises:(A[C].exercises||[]).filter((ct,wt)=>wt!==b)},A})},w=Gt(),D=S[x];return t?Z.jsx("div",{className:"app",children:Z.jsxs("div",{className:"loading-screen",children:[Z.jsx("div",{className:"loading-spinner"}),Z.jsx("p",{children:"Loading..."})]})}):a?l==="planner"?Z.jsxs("div",{className:"app",children:[Z.jsxs("header",{className:"header",children:[Z.jsx("h1",{children:" Weekly Planner"}),Z.jsxs("div",{className:"header-buttons",children:[Z.jsx("button",{className:"nav-button",onClick:()=>h("tracker"),children:"Back to Tracker"}),Z.jsxs("div",{className:"user-info",children:[Z.jsx("img",{src:a.photoURL,alt:a.displayName,className:"user-avatar"}),Z.jsx("button",{className:"sign-out-btn",onClick:r,children:"Sign Out"})]})]})]}),Z.jsx("div",{className:"planner-container",children:cl.map(C=>Z.jsxs("div",{className:"day-planner",children:[Z.jsxs("div",{className:"day-header",children:[Z.jsx("h2",{children:C}),Z.jsx("div",{className:"day-controls",children:Z.jsxs("label",{className:"rest-toggle",children:[Z.jsx("input",{type:"checkbox",checked:S[C].isRest,onChange:()=>Wt(C)}),Z.jsx("span",{children:"Rest Day"})]})})]}),S[C].isRest?Z.jsx("div",{className:"rest-day-message",children:" Rest & Recovery"}):Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:"exercises-list",children:(S[C].exercises||[]).map((b,V)=>Z.jsxs("div",{className:"exercise-edit",children:[Z.jsxs("div",{className:"exercise-info",children:[Z.jsx("span",{className:"exercise-name-small",children:b.name}),Z.jsxs("span",{className:"exercise-details",children:[b.sets,"  ",b.reps]})]}),Z.jsx("button",{className:"remove-btn-small",onClick:()=>N(C,V),children:""})]},V))}),Z.jsx("button",{className:"add-exercise-btn",onClick:()=>Ut(C),children:"+ Add Exercise"})]})]},C))})]}):Z.jsxs("div",{className:"app",children:[Z.jsxs("header",{className:"header",children:[Z.jsxs("div",{className:"header-top",children:[Z.jsx("h1",{children:" Workout Tracker"}),Z.jsxs("div",{className:"user-info",children:[Z.jsx("img",{src:a.photoURL,alt:a.displayName,className:"user-avatar"}),Z.jsx("button",{className:"sign-out-btn",onClick:r,children:"Sign Out"})]})]}),Z.jsx("div",{className:"day-selector",children:cl.map(C=>Z.jsx("button",{className:`day-btn ${x===C?"active":""} ${S[C].isRest?"rest":""}`,onClick:()=>G(C),children:C.slice(0,3)},C))}),Z.jsx("p",{className:"date",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),D.isRest?Z.jsx("div",{className:"rest-day-view",children:Z.jsxs("div",{className:"rest-card",children:[Z.jsx("div",{className:"rest-icon",children:""}),Z.jsx("h2",{children:"Rest Day"}),Z.jsx("p",{children:"Take it easy and let your muscles recover!"}),Z.jsx("button",{className:"edit-plan-btn",onClick:()=>h("planner"),children:"Edit Weekly Plan"})]})}):Z.jsxs(Z.Fragment,{children:[Z.jsxs("div",{className:"progress-section",children:[Z.jsx("div",{className:"progress-bar-container",children:Z.jsx("div",{className:"progress-bar",style:{width:`${w.percentage}%`}})}),Z.jsxs("p",{className:"progress-text",children:[w.completed," / ",w.total," sets completed (",w.percentage,"%)"]})]}),Z.jsx("div",{className:"workout-container",children:(D.exercises||[]).map((C,b)=>Z.jsxs("div",{className:"exercise-card",children:[Z.jsxs("div",{className:"exercise-header",children:[Z.jsx("h3",{className:"exercise-name",children:C.name}),Z.jsxs("span",{className:"exercise-reps",children:[C.sets,"  ",C.reps]})]}),Z.jsx("div",{className:"sets-container",children:Array.from({length:C.sets},(V,A)=>Z.jsxs("label",{className:"set-checkbox",children:[Z.jsx("input",{type:"checkbox",checked:J[x]?.[`${b}-${A}`]||!1,onChange:()=>vt(b,A)}),Z.jsxs("span",{className:"checkbox-label",children:["Set ",A+1]})]},A))})]},b))}),Z.jsxs("div",{className:"footer",children:[Z.jsx("button",{className:"edit-plan-btn",onClick:()=>h("planner"),children:" Weekly Plan"}),Z.jsx("button",{className:"reset-button",onClick:mt,children:" Reset Today"})]})]}),Z.jsxs("nav",{className:"bottom-nav",children:[Z.jsxs("button",{className:`nav-item ${l==="tracker"?"active":""}`,onClick:()=>h("tracker"),children:[Z.jsx("div",{className:"nav-icon",children:""}),Z.jsx("span",{children:"Tracker"})]}),Z.jsxs("button",{className:`nav-item ${l==="planner"?"active":""}`,onClick:()=>h("planner"),children:[Z.jsx("div",{className:"nav-icon",children:""}),Z.jsx("span",{children:"Plan"})]}),Z.jsxs("button",{className:"nav-item",onClick:mt,children:[Z.jsx("div",{className:"nav-icon",children:""}),Z.jsx("span",{children:"Reset"})]})]})]}):Z.jsx("div",{className:"app",children:Z.jsx("div",{className:"sign-in-screen",children:Z.jsxs("div",{className:"sign-in-card",children:[Z.jsx("h1",{children:" Workout Tracker"}),Z.jsx("p",{className:"sign-in-subtitle",children:"Track your workouts across all devices"}),Z.jsxs("div",{className:"features-list",children:[Z.jsxs("div",{className:"feature-item",children:[Z.jsx("span",{className:"feature-icon",children:""}),Z.jsx("span",{children:"Custom weekly workout plans"})]}),Z.jsxs("div",{className:"feature-item",children:[Z.jsx("span",{className:"feature-icon",children:""}),Z.jsx("span",{children:"Track your progress daily"})]}),Z.jsxs("div",{className:"feature-item",children:[Z.jsx("span",{className:"feature-icon",children:""}),Z.jsx("span",{children:"Sync across all devices"})]}),Z.jsxs("div",{className:"feature-item",children:[Z.jsx("span",{className:"feature-icon",children:""}),Z.jsx("span",{children:"Mobile-friendly interface"})]})]}),Z.jsxs("button",{className:"google-sign-in-btn",onClick:i,children:[Z.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[Z.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),Z.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),Z.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),Z.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),Z.jsx("p",{className:"privacy-note",children:"Your data is private and synced securely to your Google account"})]})})})}rA.createRoot(document.getElementById("root")).render(Z.jsx(ee.StrictMode,{children:Z.jsx(fI,{})}));
