(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function xA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Kd={exports:{}},xl={};var f_;function MA(){if(f_)return xl;f_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var d_;function VA(){return d_||(d_=1,Kd.exports=MA()),Kd.exports}var U=VA(),Xd={exports:{}},we={};var m_;function kA(){if(m_)return we;m_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),C=Symbol.iterator;function V(x){return x===null||typeof x!="object"?null:(x=C&&x[C]||x["@@iterator"],typeof x=="function"?x:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,F={};function ie(x,K,re){this.props=x,this.context=K,this.refs=F,this.updater=re||$}ie.prototype.isReactComponent={},ie.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},ie.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function se(){}se.prototype=ie.prototype;function te(x,K,re){this.props=x,this.context=K,this.refs=F,this.updater=re||$}var ce=te.prototype=new se;ce.constructor=te,Y(ce,ie.prototype),ce.isPureReactComponent=!0;var fe=Array.isArray;function le(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(x,K,re){var oe=re.ref;return{$$typeof:r,type:x,key:K,ref:oe!==void 0?oe:null,props:re}}function O(x,K){return w(x.type,K,x.props)}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function k(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(re){return K[re]})}var I=/\/+/g;function ge(x,K){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):K.toString(36)}function xe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(le,le):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Q(x,K,re,oe,_e){var ve=typeof x;(ve==="undefined"||ve==="boolean")&&(x=null);var Oe=!1;if(x===null)Oe=!0;else switch(ve){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(x.$$typeof){case r:case e:Oe=!0;break;case E:return Oe=x._init,Q(Oe(x._payload),K,re,oe,_e)}}if(Oe)return _e=_e(x),Oe=oe===""?"."+ge(x,0):oe,fe(_e)?(re="",Oe!=null&&(re=Oe.replace(I,"$&/")+"/"),Q(_e,K,re,"",function(Le){return Le})):_e!=null&&(D(_e)&&(_e=O(_e,re+(_e.key==null||x&&x.key===_e.key?"":(""+_e.key).replace(I,"$&/")+"/")+Oe)),K.push(_e)),1;Oe=0;var tt=oe===""?".":oe+":";if(fe(x))for(var Ge=0;Ge<x.length;Ge++)oe=x[Ge],ve=tt+ge(oe,Ge),Oe+=Q(oe,K,re,ve,_e);else if(Ge=V(x),typeof Ge=="function")for(x=Ge.call(x),Ge=0;!(oe=x.next()).done;)oe=oe.value,ve=tt+ge(oe,Ge++),Oe+=Q(oe,K,re,ve,_e);else if(ve==="object"){if(typeof x.then=="function")return Q(xe(x),K,re,oe,_e);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ne(x,K,re){if(x==null)return x;var oe=[],_e=0;return Q(x,oe,"","",function(ve){return K.call(re,ve,_e++)}),oe}function me(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(re){(x._status===0||x._status===-1)&&(x._status=1,x._result=re)},function(re){(x._status===0||x._status===-1)&&(x._status=2,x._result=re)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var Ce=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},qe={map:ne,forEach:function(x,K,re){ne(x,function(){K.apply(this,arguments)},re)},count:function(x){var K=0;return ne(x,function(){K++}),K},toArray:function(x){return ne(x,function(K){return K})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return we.Activity=T,we.Children=qe,we.Component=ie,we.Fragment=n,we.Profiler=o,we.PureComponent=te,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,we.__COMPILER_RUNTIME={__proto__:null,c:function(x){return R.H.useMemoCache(x)}},we.cache=function(x){return function(){return x.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(x,K,re){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var oe=Y({},x.props),_e=x.key;if(K!=null)for(ve in K.key!==void 0&&(_e=""+K.key),K)!A.call(K,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&K.ref===void 0||(oe[ve]=K[ve]);var ve=arguments.length-2;if(ve===1)oe.children=re;else if(1<ve){for(var Oe=Array(ve),tt=0;tt<ve;tt++)Oe[tt]=arguments[tt+2];oe.children=Oe}return w(x.type,_e,oe)},we.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},we.createElement=function(x,K,re){var oe,_e={},ve=null;if(K!=null)for(oe in K.key!==void 0&&(ve=""+K.key),K)A.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(_e[oe]=K[oe]);var Oe=arguments.length-2;if(Oe===1)_e.children=re;else if(1<Oe){for(var tt=Array(Oe),Ge=0;Ge<Oe;Ge++)tt[Ge]=arguments[Ge+2];_e.children=tt}if(x&&x.defaultProps)for(oe in Oe=x.defaultProps,Oe)_e[oe]===void 0&&(_e[oe]=Oe[oe]);return w(x,ve,_e)},we.createRef=function(){return{current:null}},we.forwardRef=function(x){return{$$typeof:m,render:x}},we.isValidElement=D,we.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:me}},we.memo=function(x,K){return{$$typeof:y,type:x,compare:K===void 0?null:K}},we.startTransition=function(x){var K=R.T,re={};R.T=re;try{var oe=x(),_e=R.S;_e!==null&&_e(re,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(le,Ce)}catch(ve){Ce(ve)}finally{K!==null&&re.types!==null&&(K.types=re.types),R.T=K}},we.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},we.use=function(x){return R.H.use(x)},we.useActionState=function(x,K,re){return R.H.useActionState(x,K,re)},we.useCallback=function(x,K){return R.H.useCallback(x,K)},we.useContext=function(x){return R.H.useContext(x)},we.useDebugValue=function(){},we.useDeferredValue=function(x,K){return R.H.useDeferredValue(x,K)},we.useEffect=function(x,K){return R.H.useEffect(x,K)},we.useEffectEvent=function(x){return R.H.useEffectEvent(x)},we.useId=function(){return R.H.useId()},we.useImperativeHandle=function(x,K,re){return R.H.useImperativeHandle(x,K,re)},we.useInsertionEffect=function(x,K){return R.H.useInsertionEffect(x,K)},we.useLayoutEffect=function(x,K){return R.H.useLayoutEffect(x,K)},we.useMemo=function(x,K){return R.H.useMemo(x,K)},we.useOptimistic=function(x,K){return R.H.useOptimistic(x,K)},we.useReducer=function(x,K,re){return R.H.useReducer(x,K,re)},we.useRef=function(x){return R.H.useRef(x)},we.useState=function(x){return R.H.useState(x)},we.useSyncExternalStore=function(x,K,re){return R.H.useSyncExternalStore(x,K,re)},we.useTransition=function(){return R.H.useTransition()},we.version="19.2.1",we}var g_;function Qm(){return g_||(g_=1,Xd.exports=kA()),Xd.exports}var q=Qm();const Jt=xA(q);var $d={exports:{}},Ml={},Jd={exports:{}},Zd={};var p_;function LA(){return p_||(p_=1,(function(r){function e(Q,ne){var me=Q.length;Q.push(ne);e:for(;0<me;){var Ce=me-1>>>1,qe=Q[Ce];if(0<o(qe,ne))Q[Ce]=ne,Q[me]=qe,me=Ce;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ne=Q[0],me=Q.pop();if(me!==ne){Q[0]=me;e:for(var Ce=0,qe=Q.length,x=qe>>>1;Ce<x;){var K=2*(Ce+1)-1,re=Q[K],oe=K+1,_e=Q[oe];if(0>o(re,me))oe<qe&&0>o(_e,re)?(Q[Ce]=_e,Q[oe]=me,Ce=oe):(Q[Ce]=re,Q[K]=me,Ce=K);else if(oe<qe&&0>o(_e,me))Q[Ce]=_e,Q[oe]=me,Ce=oe;else break e}}return ne}function o(Q,ne){var me=Q.sortIndex-ne.sortIndex;return me!==0?me:Q.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,C=3,V=!1,$=!1,Y=!1,F=!1,ie=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ce(Q){for(var ne=n(y);ne!==null;){if(ne.callback===null)s(y);else if(ne.startTime<=Q)s(y),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(y)}}function fe(Q){if(Y=!1,ce(Q),!$)if(n(p)!==null)$=!0,le||(le=!0,k());else{var ne=n(y);ne!==null&&xe(fe,ne.startTime-Q)}}var le=!1,R=-1,A=5,w=-1;function O(){return F?!0:!(r.unstable_now()-w<A)}function D(){if(F=!1,le){var Q=r.unstable_now();w=Q;var ne=!0;try{e:{$=!1,Y&&(Y=!1,se(R),R=-1),V=!0;var me=C;try{t:{for(ce(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&O());){var Ce=T.callback;if(typeof Ce=="function"){T.callback=null,C=T.priorityLevel;var qe=Ce(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof qe=="function"){T.callback=qe,ce(Q),ne=!0;break t}T===n(p)&&s(p),ce(Q)}else s(p);T=n(p)}if(T!==null)ne=!0;else{var x=n(y);x!==null&&xe(fe,x.startTime-Q),ne=!1}}break e}finally{T=null,C=me,V=!1}ne=void 0}}finally{ne?k():le=!1}}}var k;if(typeof te=="function")k=function(){te(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ge=I.port2;I.port1.onmessage=D,k=function(){ge.postMessage(null)}}else k=function(){ie(D,0)};function xe(Q,ne){R=ie(function(){Q(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var ne=3;break;default:ne=C}var me=C;C=ne;try{return Q()}finally{C=me}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var me=C;C=Q;try{return ne()}finally{C=me}},r.unstable_scheduleCallback=function(Q,ne,me){var Ce=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ce+me:Ce):me=Ce,Q){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=me+qe,Q={id:E++,callback:ne,priorityLevel:Q,startTime:me,expirationTime:qe,sortIndex:-1},me>Ce?(Q.sortIndex=me,e(y,Q),n(p)===null&&Q===n(y)&&(Y?(se(R),R=-1):Y=!0,xe(fe,me-Ce))):(Q.sortIndex=qe,e(p,Q),$||V||($=!0,le||(le=!0,k()))),Q},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Q){var ne=C;return function(){var me=C;C=ne;try{return Q.apply(this,arguments)}finally{C=me}}}})(Zd)),Zd}var y_;function UA(){return y_||(y_=1,Jd.exports=LA()),Jd.exports}var Wd={exports:{}},mn={};var v_;function PA(){if(v_)return mn;v_=1;var r=Qm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},mn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},mn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},mn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},mn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:C,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:C,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},mn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},mn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},mn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},mn.requestFormReset=function(p){s.d.r(p)},mn.unstable_batchedUpdates=function(p,y){return p(y)},mn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},mn.useFormStatus=function(){return f.H.useHostTransitionStatus()},mn.version="19.2.1",mn}var __;function fT(){if(__)return Wd.exports;__=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wd.exports=PA(),Wd.exports}var E_;function zA(){if(E_)return Ml;E_=1;var r=UA(),e=Qm(),n=fT();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,l=d;break}if(S===l){v=!0,l=h,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=h;break}if(S===l){v=!0,l=d,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,C=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case ie:return"Profiler";case F:return"StrictMode";case fe:return"Suspense";case le:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case te:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:ge(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return ge(t(i))}catch{}}return null}var xe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ce=[],qe=-1;function x(t){return{current:t}}function K(t){0>qe||(t.current=Ce[qe],Ce[qe]=null,qe--)}function re(t,i){qe++,Ce[qe]=t.current,t.current=i}var oe=x(null),_e=x(null),ve=x(null),Oe=x(null);function tt(t,i){switch(re(ve,i),re(_e,t),re(oe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?kv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=kv(i),t=Lv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(oe),re(oe,t)}function Ge(){K(oe),K(_e),K(ve)}function Le(t){t.memoizedState!==null&&re(Oe,t);var i=oe.current,a=Lv(i,t.type);i!==a&&(re(_e,t),re(oe,a))}function Jn(t){_e.current===t&&(K(oe),K(_e)),Oe.current===t&&(K(Oe),Il._currentValue=me)}var Wt,Ln;function It(t){if(Wt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Wt=i&&i[1]||"",Ln=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+t+Ln}var Zn=!1;function wn(t,i){if(!t||Zn)return"";Zn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var B=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){B=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){B=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var N=v.split(`
`),j=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===j.length)for(l=N.length-1,h=j.length-1;1<=l&&0<=h&&N[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==j[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Zn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?It(a):""}function Vr(t,i){switch(t.tag){case 26:case 27:case 5:return It(t.type);case 16:return It("Lazy");case 13:return t.child!==i&&i!==null?It("Suspense Fallback"):It("Suspense");case 19:return It("SuspenseList");case 0:case 15:return wn(t.type,!1);case 11:return wn(t.type.render,!1);case 1:return wn(t.type,!0);case 31:return It("Activity");default:return""}}function kr(t){try{var i="",a=null;do i+=Vr(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,nt=r.unstable_scheduleCallback,Un=r.unstable_cancelCallback,Lr=r.unstable_shouldYield,Os=r.unstable_requestPaint,Ft=r.unstable_now,ir=r.unstable_getCurrentPriorityLevel,xs=r.unstable_ImmediatePriority,Wn=r.unstable_UserBlockingPriority,_n=r.unstable_NormalPriority,rr=r.unstable_LowPriority,Ms=r.unstable_IdlePriority,Pn=r.log,Vs=r.unstable_setDisableYieldValue,zn=null,zt=null;function cn(t){if(typeof Pn=="function"&&Vs(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(zn,t)}catch{}}var dt=Math.clz32?Math.clz32:Ea,_a=Math.log,sr=Math.LN2;function Ea(t){return t>>>=0,t===0?32:31-(_a(t)/sr|0)|0}var ei=256,ar=262144,Me=4194304;function mt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gt(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=mt(l):(v&=S,v!==0?h=mt(v):a||(a=S&~t,a!==0&&(h=mt(a))))):(S=l&~d,S!==0?h=mt(S):v!==0?h=mt(v):a||(a=l&~t,a!==0&&(h=mt(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Dt(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function hn(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gt(){var t=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),t}function St(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Rn(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bt(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-dt(a),Z=1<<X;S[X]=0,N[X]=-1;var B=j[X];if(B!==null)for(j[X]=null,X=0;X<B.length;X++){var G=B[X];G!==null&&(G.lane&=-536870913)}a&=~Z}l!==0&&fn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function fn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function dn(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function En(t,i){var a=i&-i;return a=(a&42)!==0?1:jn(a),(a&(t.suspendedLanes|i))!==0?0:a}function jn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Tn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bn(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:s_(t.type))}function en(t,i){var a=ne.p;try{return ne.p=t,i()}finally{ne.p=a}}var Sn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Sn,Qt="__reactProps$"+Sn,Ni="__reactContainer$"+Sn,Ta="__reactEvents$"+Sn,Wh="__reactListeners$"+Sn,Su="__reactHandles$"+Sn,bu="__reactResources$"+Sn,Oi="__reactMarker$"+Sn;function Sa(t){delete t[Nt],delete t[Qt],delete t[Ta],delete t[Wh],delete t[Su]}function xi(t){var i=t[Nt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ni]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Hv(t);t!==null;){if(a=t[Nt])return a;t=Hv(t)}return i}t=a,a=t.parentNode}return null}function ti(t){if(t=t[Nt]||t[Ni]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function qn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Mi(t){var i=t[bu];return i||(i=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ot(t){t[Oi]=!0}var ko=new Set,Lo={};function Vi(t,i){ki(t,i),ki(t+"Capture",i)}function ki(t,i){for(Lo[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},zo={};function Au(t){return ft.call(zo,t)?!0:ft.call(Po,t)?!1:Uo.test(t)?zo[t]=!0:(Po[t]=!0,!1)}function ba(t,i,a){if(Au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Hn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ur(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ze(t){if(!t._valueTracker){var i=Ur(t)?"checked":"value";t._valueTracker=jo(t,i,""+t[i])}}function ks(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ur(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Li(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ls=/[\n"\\]/g;function Cn(t){return t.replace(Ls,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Aa(t,i,a,l,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Yt(i)):t.value!==""+Yt(i)&&(t.value=""+Yt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Bo(t,v,Yt(i)):a!=null?Bo(t,v,Yt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Yt(S):t.removeAttribute("name")}function wu(t,i,a,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ze(t);return}a=a!=null?""+Yt(a):"",i=i!=null?""+Yt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ze(t)}function Bo(t,i,a){i==="number"&&Li(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Pr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Yt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ru(t,i,a){if(i!=null&&(i=""+Yt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Yt(a):""}function zr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(xe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Yt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ze(t)}function In(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Cu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ho(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&qo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&qo(t,d,i[d])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return jr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function yi(){}var Fo=null;function ni(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Br=null,Ui=null;function Us(t){var i=ti(t);if(i&&(t=i.stateNode)){var a=t[Qt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Qt]||null;if(!h)throw Error(s(90));Aa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ks(l)}break e;case"textarea":Ru(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Pr(t,!!a.multiple,i,!1)}}}var Ca=!1;function qr(t,i,a){if(Ca)return t(i,a);Ca=!0;try{var l=t(i);return l}finally{if(Ca=!1,(Br!==null||Ui!==null)&&(Tc(),Br&&(i=Br,t=Ui,Ui=Br=null,Us(i),t)))for(i=0;i<t.length;i++)Us(t[i])}}function vi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Qt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(ii)try{var it={};Object.defineProperty(it,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Ps=!1}var Pi=null,Go=null,zs=null;function Qo(){if(zs)return zs;var t,i=Go,a=i.length,l,h="value"in Pi?Pi.value:Pi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return zs=h.slice(t,1<l?1-l:void 0)}function js(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function or(){return!0}function _i(){return!1}function tn(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?or:_i,this.isPropagationStopped=_i,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),i}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=tn(lr),Hr=T({},lr,{view:0,detail:0}),Yo=tn(Hr),Fr,Ia,ji,Da=T({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ji&&(ji&&t.type==="mousemove"?(Fr=t.screenX-ji.screenX,Ia=t.screenY-ji.screenY):Ia=Fr=0,ji=t),Fr)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),Ko=tn(Da),Bs=T({},Da,{dataTransfer:0}),Du=tn(Bs),Nu=T({},Hr,{relatedTarget:0}),qs=tn(Nu),Xo=T({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ou=tn(Xo),Na=T({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=tn(Na),Mu=T({},lr,{data:0}),Bi=tn(Mu),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Lu[t])?!!i[t]:!1}function Gr(){return Uu}var bn=T({},Hr,{key:function(t){if(t.key){var i=Vu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(t){return t.type==="keypress"?js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pu=tn(bn),zu=T({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ur=tn(zu),c=T({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),g=tn(c),_=T({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=tn(_),P=T({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=tn(P),ae=T({},lr,{newState:0,oldState:0}),Ie=tn(ae),At=[9,13,27,32],Xe=ii&&"CompositionEvent"in window,pt=null;ii&&"documentMode"in document&&(pt=document.documentMode);var ri=ii&&"TextEvent"in window&&!pt,qi=ii&&(!Xe||pt&&8<pt&&11>=pt),Ei=" ",Ti=!1;function Hs(t,i){switch(t){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function nb(t,i){switch(t){case"compositionend":return Oa(i);case"keypress":return i.which!==32?null:(Ti=!0,Ei);case"textInput":return t=i.data,t===Ei&&Ti?null:t;default:return null}}function ib(t,i){if(xa)return t==="compositionend"||!Xe&&Hs(t,i)?(t=Qo(),zs=Go=Pi=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return qi&&i.locale!=="ko"?null:i.data;default:return null}}var rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!rb[t.type]:i==="textarea"}function Yg(t,i,a,l){Br?Ui?Ui.push(l):Ui=[l]:Br=l,i=Ic(i,"onChange"),0<i.length&&(a=new zi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var $o=null,Jo=null;function sb(t){Dv(t,0)}function ju(t){var i=qn(t);if(ks(i))return t}function Kg(t,i){if(t==="change")return i}var Xg=!1;if(ii){var ef;if(ii){var tf="oninput"in document;if(!tf){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),tf=typeof $g.oninput=="function"}ef=tf}else ef=!1;Xg=ef&&(!document.documentMode||9<document.documentMode)}function Jg(){$o&&($o.detachEvent("onpropertychange",Zg),Jo=$o=null)}function Zg(t){if(t.propertyName==="value"&&ju(Jo)){var i=[];Yg(i,Jo,t,ni(t)),qr(sb,i)}}function ab(t,i,a){t==="focusin"?(Jg(),$o=i,Jo=a,$o.attachEvent("onpropertychange",Zg)):t==="focusout"&&Jg()}function ob(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Jo)}function lb(t,i){if(t==="click")return ju(i)}function ub(t,i){if(t==="input"||t==="change")return ju(i)}function cb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Fn=typeof Object.is=="function"?Object.is:cb;function Zo(t,i){if(Fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ft.call(i,h)||!Fn(t[h],i[h]))return!1}return!0}function Wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ep(t,i){var a=Wg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wg(a)}}function tp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?tp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function np(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Li(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Li(t.document)}return i}function nf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var hb=ii&&"documentMode"in document&&11>=document.documentMode,Ma=null,rf=null,Wo=null,sf=!1;function ip(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||Ma==null||Ma!==Li(l)||(l=Ma,"selectionStart"in l&&nf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Zo(Wo,l)||(Wo=l,l=Ic(rf,"onSelect"),0<l.length&&(i=new zi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ma)))}function Fs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Va={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},af={},rp={};ii&&(rp=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Gs(t){if(af[t])return af[t];if(!Va[t])return t;var i=Va[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in rp)return af[t]=i[a];return t}var sp=Gs("animationend"),ap=Gs("animationiteration"),op=Gs("animationstart"),fb=Gs("transitionrun"),db=Gs("transitionstart"),mb=Gs("transitioncancel"),lp=Gs("transitionend"),up=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function Si(t,i){up.set(t,i),Vi(i,[t])}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},si=[],ka=0,lf=0;function qu(){for(var t=ka,i=lf=ka=0;i<t;){var a=si[i];si[i++]=null;var l=si[i];si[i++]=null;var h=si[i];si[i++]=null;var d=si[i];if(si[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&cp(a,h,d)}}function Hu(t,i,a,l){si[ka++]=t,si[ka++]=i,si[ka++]=a,si[ka++]=l,lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function uf(t,i,a,l){return Hu(t,i,a,l),Fu(t)}function Qs(t,i){return Hu(t,null,null,i),Fu(t)}function cp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Fu(t){if(50<Tl)throw Tl=0,vd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var La={};function gb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,i,a,l){return new gb(t,i,a,l)}function cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cr(t,i){var a=t.alternate;return a===null?(a=Gn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function hp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Gu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")cf(t)&&(v=1);else if(typeof t=="string")v=EA(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=Gn(31,a,i,h),t.elementType=w,t.lanes=d,t;case Y:return Ys(a.children,h,d,i);case F:v=8,h|=24;break;case ie:return t=Gn(12,a,i,h|2),t.elementType=ie,t.lanes=d,t;case fe:return t=Gn(13,a,i,h),t.elementType=fe,t.lanes=d,t;case le:return t=Gn(19,a,i,h),t.elementType=le,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:v=10;break e;case se:v=9;break e;case ce:v=11;break e;case R:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Gn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ys(t,i,a,l){return t=Gn(7,t,l,i),t.lanes=a,t}function hf(t,i,a){return t=Gn(6,t,null,i),t.lanes=a,t}function fp(t){var i=Gn(18,null,null,0);return i.stateNode=t,i}function ff(t,i,a){return i=Gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var dp=new WeakMap;function ai(t,i){if(typeof t=="object"&&t!==null){var a=dp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:kr(i)},dp.set(t,i),i)}return{value:t,source:i,stack:kr(i)}}var Ua=[],Pa=0,Qu=null,el=0,oi=[],li=0,Qr=null,Hi=1,Fi="";function hr(t,i){Ua[Pa++]=el,Ua[Pa++]=Qu,Qu=t,el=i}function mp(t,i,a){oi[li++]=Hi,oi[li++]=Fi,oi[li++]=Qr,Qr=t;var l=Hi;t=Fi;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Hi=1<<32-dt(i)+h|a<<h|l,Fi=d+t}else Hi=1<<d|a<<h|l,Fi=t}function df(t){t.return!==null&&(hr(t,1),mp(t,1,0))}function mf(t){for(;t===Qu;)Qu=Ua[--Pa],Ua[Pa]=null,el=Ua[--Pa],Ua[Pa]=null;for(;t===Qr;)Qr=oi[--li],oi[li]=null,Fi=oi[--li],oi[li]=null,Hi=oi[--li],oi[li]=null}function gp(t,i){oi[li++]=Hi,oi[li++]=Fi,oi[li++]=Qr,Hi=i.id,Fi=i.overflow,Qr=t}var nn=null,ut=null,He=!1,Yr=null,ui=!1,gf=Error(s(519));function Kr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(ai(i,t)),gf}function pp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Nt]=t,i[Qt]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<bl.length;a++)ke(bl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),wu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),zr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Mv(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=yi),i=!0):i=!1,i||Kr(t,!0)}function yp(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:nn=nn.return}}function za(t){if(t!==nn)return!1;if(!He)return yp(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Md(t.type,t.memoizedProps)),a=!a),a&&ut&&Kr(t),yp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=qv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=qv(t)}else i===27?(i=ut,ls(t.type)?(t=Pd,Pd=null,ut=t):ut=i):ut=nn?hi(t.stateNode.nextSibling):null;return!0}function Ks(){ut=nn=null,He=!1}function pf(){var t=Yr;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),Yr=null),t}function tl(t){Yr===null?Yr=[t]:Yr.push(t)}var yf=x(null),Xs=null,fr=null;function Xr(t,i,a){re(yf,i._currentValue),i._currentValue=a}function dr(t){t._currentValue=yf.current,K(yf)}function vf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function _f(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),vf(d.return,a,t),l||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),vf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ja(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;Fn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===Oe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&_f(i,t,a,l),i.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!Fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $s(t){Xs=t,fr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return vp(Xs,t)}function Ku(t,i){return Xs===null&&$s(t),vp(t,i)}function vp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},fr===null){if(t===null)throw Error(s(308));fr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else fr=fr.next=i;return a}var pb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},yb=r.unstable_scheduleCallback,vb=r.unstable_NormalPriority,Mt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new pb,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&yb(vb,function(){t.controller.abort()})}var il=null,Tf=0,Ba=0,qa=null;function _b(t,i){if(il===null){var a=il=[];Tf=0,Ba=Ad(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Tf++,i.then(_p,_p),i}function _p(){if(--Tf===0&&il!==null){qa!==null&&(qa.status="fulfilled");var t=il;il=null,Ba=0,qa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Eb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ep=Q.S;Q.S=function(t,i){iv=Ft(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&_b(t,i),Ep!==null&&Ep(t,i)};var Js=x(null);function Sf(){var t=Js.current;return t!==null?t:ot.pooledCache}function Xu(t,i){i===null?re(Js,Js.current):re(Js,i.pool)}function Tp(){var t=Sf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Ha=Error(s(460)),bf=Error(s(474)),$u=Error(s(542)),Ju={then:function(){}};function Sp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(yi,yi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wp(t),t;default:if(typeof i.status=="string")i.then(yi,yi);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wp(t),t}throw Ws=i,Ha}}function Zs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ws=a,Ha):a}}var Ws=null;function Ap(){if(Ws===null)throw Error(s(459));var t=Ws;return Ws=null,t}function wp(t){if(t===Ha||t===$u)throw Error(s(483))}var Fa=null,rl=0;function Zu(t){var i=rl;return rl+=1,Fa===null&&(Fa=[]),bp(Fa,t,i)}function sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Wu(t,i){throw i.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Rp(t){function i(L,M){if(t){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=cr(L,M),L.index=0,L.sibling=null,L}function d(L,M,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,M,z,J){return M===null||M.tag!==6?(M=hf(z,L.mode,J),M.return=L,M):(M=h(M,z),M.return=L,M)}function N(L,M,z,J){var ye=z.type;return ye===Y?X(L,M,z.props.children,J,z.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Zs(ye)===M.type)?(M=h(M,z.props),sl(M,z),M.return=L,M):(M=Gu(z.type,z.key,z.props,null,L.mode,J),sl(M,z),M.return=L,M)}function j(L,M,z,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=ff(z,L.mode,J),M.return=L,M):(M=h(M,z.children||[]),M.return=L,M)}function X(L,M,z,J,ye){return M===null||M.tag!==7?(M=Ys(z,L.mode,J,ye),M.return=L,M):(M=h(M,z),M.return=L,M)}function Z(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=hf(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V:return z=Gu(M.type,M.key,M.props,null,L.mode,z),sl(z,M),z.return=L,z;case $:return M=ff(M,L.mode,z),M.return=L,M;case A:return M=Zs(M),Z(L,M,z)}if(xe(M)||k(M))return M=Ys(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return Z(L,Zu(M),z);if(M.$$typeof===te)return Z(L,Ku(L,M),z);Wu(L,M)}return null}function B(L,M,z,J){var ye=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ye!==null?null:S(L,M,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===ye?N(L,M,z,J):null;case $:return z.key===ye?j(L,M,z,J):null;case A:return z=Zs(z),B(L,M,z,J)}if(xe(z)||k(z))return ye!==null?null:X(L,M,z,J,null);if(typeof z.then=="function")return B(L,M,Zu(z),J);if(z.$$typeof===te)return B(L,M,Ku(L,z),J);Wu(L,z)}return null}function G(L,M,z,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(z)||null,S(M,L,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case V:return L=L.get(J.key===null?z:J.key)||null,N(M,L,J,ye);case $:return L=L.get(J.key===null?z:J.key)||null,j(M,L,J,ye);case A:return J=Zs(J),G(L,M,z,J,ye)}if(xe(J)||k(J))return L=L.get(z)||null,X(M,L,J,ye,null);if(typeof J.then=="function")return G(L,M,z,Zu(J),ye);if(J.$$typeof===te)return G(L,M,z,Ku(M,J),ye);Wu(M,J)}return null}function he(L,M,z,J){for(var ye=null,Ye=null,de=M,Ne=M=0,Pe=null;de!==null&&Ne<z.length;Ne++){de.index>Ne?(Pe=de,de=null):Pe=de.sibling;var Ke=B(L,de,z[Ne],J);if(Ke===null){de===null&&(de=Pe);break}t&&de&&Ke.alternate===null&&i(L,de),M=d(Ke,M,Ne),Ye===null?ye=Ke:Ye.sibling=Ke,Ye=Ke,de=Pe}if(Ne===z.length)return a(L,de),He&&hr(L,Ne),ye;if(de===null){for(;Ne<z.length;Ne++)de=Z(L,z[Ne],J),de!==null&&(M=d(de,M,Ne),Ye===null?ye=de:Ye.sibling=de,Ye=de);return He&&hr(L,Ne),ye}for(de=l(de);Ne<z.length;Ne++)Pe=G(de,L,Ne,z[Ne],J),Pe!==null&&(t&&Pe.alternate!==null&&de.delete(Pe.key===null?Ne:Pe.key),M=d(Pe,M,Ne),Ye===null?ye=Pe:Ye.sibling=Pe,Ye=Pe);return t&&de.forEach(function(ds){return i(L,ds)}),He&&hr(L,Ne),ye}function Te(L,M,z,J){if(z==null)throw Error(s(151));for(var ye=null,Ye=null,de=M,Ne=M=0,Pe=null,Ke=z.next();de!==null&&!Ke.done;Ne++,Ke=z.next()){de.index>Ne?(Pe=de,de=null):Pe=de.sibling;var ds=B(L,de,Ke.value,J);if(ds===null){de===null&&(de=Pe);break}t&&de&&ds.alternate===null&&i(L,de),M=d(ds,M,Ne),Ye===null?ye=ds:Ye.sibling=ds,Ye=ds,de=Pe}if(Ke.done)return a(L,de),He&&hr(L,Ne),ye;if(de===null){for(;!Ke.done;Ne++,Ke=z.next())Ke=Z(L,Ke.value,J),Ke!==null&&(M=d(Ke,M,Ne),Ye===null?ye=Ke:Ye.sibling=Ke,Ye=Ke);return He&&hr(L,Ne),ye}for(de=l(de);!Ke.done;Ne++,Ke=z.next())Ke=G(de,L,Ne,Ke.value,J),Ke!==null&&(t&&Ke.alternate!==null&&de.delete(Ke.key===null?Ne:Ke.key),M=d(Ke,M,Ne),Ye===null?ye=Ke:Ye.sibling=Ke,Ye=Ke);return t&&de.forEach(function(OA){return i(L,OA)}),He&&hr(L,Ne),ye}function at(L,M,z,J){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:e:{for(var ye=z.key;M!==null;){if(M.key===ye){if(ye=z.type,ye===Y){if(M.tag===7){a(L,M.sibling),J=h(M,z.props.children),J.return=L,L=J;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Zs(ye)===M.type){a(L,M.sibling),J=h(M,z.props),sl(J,z),J.return=L,L=J;break e}a(L,M);break}else i(L,M);M=M.sibling}z.type===Y?(J=Ys(z.props.children,L.mode,J,z.key),J.return=L,L=J):(J=Gu(z.type,z.key,z.props,null,L.mode,J),sl(J,z),J.return=L,L=J)}return v(L);case $:e:{for(ye=z.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(L,M.sibling),J=h(M,z.children||[]),J.return=L,L=J;break e}else{a(L,M);break}else i(L,M);M=M.sibling}J=ff(z,L.mode,J),J.return=L,L=J}return v(L);case A:return z=Zs(z),at(L,M,z,J)}if(xe(z))return he(L,M,z,J);if(k(z)){if(ye=k(z),typeof ye!="function")throw Error(s(150));return z=ye.call(z),Te(L,M,z,J)}if(typeof z.then=="function")return at(L,M,Zu(z),J);if(z.$$typeof===te)return at(L,M,Ku(L,z),J);Wu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(L,M.sibling),J=h(M,z),J.return=L,L=J):(a(L,M),J=hf(z,L.mode,J),J.return=L,L=J),v(L)):a(L,M)}return function(L,M,z,J){try{rl=0;var ye=at(L,M,z,J);return Fa=null,ye}catch(de){if(de===Ha||de===$u)throw de;var Ye=Gn(29,de,null,L.mode);return Ye.lanes=J,Ye.return=L,Ye}finally{}}}var ea=Rp(!0),Cp=Rp(!1),$r=!1;function Af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Jr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Fu(t),cp(t,null,a),i}return Hu(t,l,i,a),Fu(t)}function al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,dn(t,a)}}function Rf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Cf=!1;function ol(){if(Cf){var t=qa;if(t!==null)throw t}}function ll(t,i,a,l){Cf=!1;var h=t.updateQueue;$r=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,j=N.next;N.next=null,v===null?d=j:v.next=j,v=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=j:S.next=j,X.lastBaseUpdate=N))}if(d!==null){var Z=h.baseState;v=0,X=j=N=null,S=d;do{var B=S.lane&-536870913,G=B!==S.lane;if(G?(Ue&B)===B:(l&B)===B){B!==0&&B===Ba&&(Cf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,Te=S;B=i;var at=a;switch(Te.tag){case 1:if(he=Te.payload,typeof he=="function"){Z=he.call(at,Z,B);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Te.payload,B=typeof he=="function"?he.call(at,Z,B):he,B==null)break e;Z=T({},Z,B);break e;case 2:$r=!0}}B=S.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(j=X=G,N=Z):X=X.next=G,v|=B;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;G=S,S=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=j,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),is|=v,t.lanes=v,t.memoizedState=Z}}function Ip(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Dp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ip(a[t],i)}var Ga=x(null),ec=x(0);function Np(t,i){t=Sr,re(ec,t),re(Ga,i),Sr=t|i.baseLanes}function If(){re(ec,Sr),re(Ga,Ga.current)}function Df(){Sr=ec.current,K(Ga),K(ec)}var Qn=x(null),ci=null;function Wr(t){var i=t.alternate;re(wt,wt.current&1),re(Qn,t),ci===null&&(i===null||Ga.current!==null||i.memoizedState!==null)&&(ci=t)}function Nf(t){re(wt,wt.current),re(Qn,t),ci===null&&(ci=t)}function Op(t){t.tag===22?(re(wt,wt.current),re(Qn,t),ci===null&&(ci=t)):es()}function es(){re(wt,wt.current),re(Qn,Qn.current)}function Yn(t){K(Qn),ci===t&&(ci=null),K(wt)}var wt=x(0);function tc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ld(a)||Ud(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var mr=0,De=null,rt=null,Vt=null,nc=!1,Qa=!1,ta=!1,ic=0,ul=0,Ya=null,Tb=0;function Et(){throw Error(s(321))}function Of(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Fn(t[a],i[a]))return!1;return!0}function xf(t,i,a,l,h,d){return mr=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?my:Yf,ta=!1,d=a(l,h),ta=!1,Qa&&(d=Mp(i,a,l,h)),xp(t),d}function xp(t){Q.H=fl;var i=rt!==null&&rt.next!==null;if(mr=0,Vt=rt=De=null,nc=!1,ul=0,Ya=null,i)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Yu(t)&&(kt=!0))}function Mp(t,i,a,l){De=t;var h=0;do{if(Qa&&(Ya=null),ul=0,Qa=!1,25<=h)throw Error(s(301));if(h+=1,Vt=rt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=gy,d=i(a,l)}while(Qa);return d}function Sb(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(De.flags|=1024),i}function Mf(){var t=ic!==0;return ic=0,t}function Vf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function kf(t){if(nc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}nc=!1}mr=0,Vt=rt=De=null,Qa=!1,ul=ic=0,Ya=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?De.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Rt(){if(rt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var i=Vt===null?De.memoizedState:Vt.next;if(i!==null)Vt=i,rt=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Vt===null?De.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,Ya===null&&(Ya=[]),t=bp(Ya,t,i),i=De,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?my:Yf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===te)return rn(t)}throw Error(s(438,String(t)))}function Lf(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=rc(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function gr(t,i){return typeof i=="function"?i(t):i}function ac(t){var i=Rt();return Uf(i,rt,t)}function Uf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=v=null,N=null,j=i,X=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(Ue&Z)===Z:(mr&Z)===Z){var B=j.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Ba&&(X=!0);else if((mr&B)===B){j=j.next,B===Ba&&(X=!0);continue}else Z={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(S=N=Z,v=d):N=N.next=Z,De.lanes|=B,is|=B;Z=j.action,ta&&a(d,Z),d=j.hasEagerState?j.eagerState:a(d,Z)}else B={lane:Z,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(S=N=B,v=d):N=N.next=B,De.lanes|=Z,is|=Z;j=j.next}while(j!==null&&j!==i);if(N===null?v=d:N.next=S,!Fn(d,t.memoizedState)&&(kt=!0,X&&(a=qa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pf(t){var i=Rt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Fn(d,i.memoizedState)||(kt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Vp(t,i,a){var l=De,h=Rt(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Fn((rt||h).memoizedState,a);if(v&&(h.memoizedState=a,kt=!0),h=h.queue,Bf(Up.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},Lp.bind(null,l,h,a,i),null),ot===null)throw Error(s(349));d||(mr&127)!==0||kp(l,i,a)}return a}function kp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=rc(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Lp(t,i,a,l){i.value=a,i.getSnapshot=l,Pp(i)&&zp(t)}function Up(t,i,a){return a(function(){Pp(i)&&zp(t)})}function Pp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Fn(t,a)}catch{return!0}}function zp(t){var i=Qs(t,2);i!==null&&Mn(i,t,2)}function zf(t){var i=An();if(typeof t=="function"){var a=t;if(t=a(),ta){cn(!0);try{a()}finally{cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:t},i}function jp(t,i,a,l){return t.baseState=a,Uf(t,rt,typeof l=="function"?l:gr)}function bb(t,i,a,l,h){if(uc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Bp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Bp(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var S=a(h,l),N=Q.S;N!==null&&N(v,S),qp(t,i,S)}catch(j){jf(t,i,j)}finally{d!==null&&v.types!==null&&(d.types=v.types),Q.T=d}}else try{d=a(h,l),qp(t,i,d)}catch(j){jf(t,i,j)}}function qp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hp(t,i,l)},function(l){return jf(t,i,l)}):Hp(t,i,a)}function Hp(t,i,a){i.status="fulfilled",i.value=a,Fp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Bp(t,a)))}function jf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Fp(i),i=i.next;while(i!==l)}t.action=null}function Fp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Gp(t,i){return i}function Qp(t,i){if(He){var a=ot.formState;if(a!==null){e:{var l=De;if(He){if(ut){t:{for(var h=ut,d=ui;h.nodeType!==8;){if(!d){h=null;break t}if(h=hi(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=hi(h.nextSibling),l=h.data==="F!";break e}}Kr(l)}l=!1}l&&(i=a[0])}}return a=An(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:i},a.queue=l,a=hy.bind(null,De,l),l.dispatch=a,l=zf(!1),d=Qf.bind(null,De,!1,l.queue),l=An(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=bb.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Yp(t){var i=Rt();return Kp(i,rt,t)}function Kp(t,i,a){if(i=Uf(t,i,Gp)[0],t=ac(gr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(v){throw v===Ha?$u:v}else l=i;i=Rt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(De.flags|=2048,Ka(9,{destroy:void 0},Ab.bind(null,h,a),null)),[l,d,t]}function Ab(t,i){t.action=i}function Xp(t){var i=Rt(),a=rt;if(a!==null)return Kp(i,a,t);Rt(),i=i.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=rc(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function $p(){return Rt().memoizedState}function oc(t,i,a,l){var h=An();De.flags|=t,h.memoizedState=Ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function lc(t,i,a,l){var h=Rt();l=l===void 0?null:l;var d=h.memoizedState.inst;rt!==null&&l!==null&&Of(l,rt.memoizedState.deps)?h.memoizedState=Ka(i,d,a,l):(De.flags|=t,h.memoizedState=Ka(1|i,d,a,l))}function Jp(t,i){oc(8390656,8,t,i)}function Bf(t,i){lc(2048,8,t,i)}function wb(t){De.flags|=4;var i=De.updateQueue;if(i===null)i=rc(),De.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Zp(t){var i=Rt().memoizedState;return wb({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Wp(t,i){return lc(4,2,t,i)}function ey(t,i){return lc(4,4,t,i)}function ty(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ny(t,i,a){a=a!=null?a.concat([t]):null,lc(4,4,ty.bind(null,i,t),a)}function qf(){}function iy(t,i){var a=Rt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Of(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ry(t,i){var a=Rt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Of(i,l[1]))return l[0];if(l=t(),ta){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,i],l}function Hf(t,i,a){return a===void 0||(mr&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=sv(),De.lanes|=t,is|=t,a)}function sy(t,i,a,l){return Fn(a,i)?a:Ga.current!==null?(t=Hf(t,a,l),Fn(t,i)||(kt=!0),t):(mr&42)===0||(mr&1073741824)!==0&&(Ue&261930)===0?(kt=!0,t.memoizedState=a):(t=sv(),De.lanes|=t,is|=t,i)}function ay(t,i,a,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var v=Q.T,S={};Q.T=S,Qf(t,!1,i,a);try{var N=h(),j=Q.S;if(j!==null&&j(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=Eb(N,l);hl(t,i,X,$n(t))}else hl(t,i,l,$n(t))}catch(Z){hl(t,i,{then:function(){},status:"rejected",reason:Z},$n())}finally{ne.p=d,v!==null&&S.types!==null&&(v.types=S.types),Q.T=v}}function Rb(){}function Ff(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=oy(t).queue;ay(t,h,i,me,a===null?Rb:function(){return ly(t),a(l)})}function oy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ly(t){var i=oy(t);i.next===null&&(i=t.alternate.memoizedState),hl(t,i.next.queue,{},$n())}function Gf(){return rn(Il)}function uy(){return Rt().memoizedState}function cy(){return Rt().memoizedState}function Cb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=$n();t=Jr(a);var l=Zr(i,t,a);l!==null&&(Mn(l,i,a),al(l,i,a)),i={cache:Ef()},t.payload=i;return}i=i.return}}function Ib(t,i,a){var l=$n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?fy(i,a):(a=uf(t,i,a,l),a!==null&&(Mn(a,t,l),dy(a,i,l)))}function hy(t,i,a){var l=$n();hl(t,i,a,l)}function hl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))fy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(h.hasEagerState=!0,h.eagerState=S,Fn(S,v))return Hu(t,i,h,0),ot===null&&qu(),!1}catch{}finally{}if(a=uf(t,i,h,l),a!==null)return Mn(a,t,l),dy(a,i,l),!0}return!1}function Qf(t,i,a,l){if(l={lane:2,revertLane:Ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(i)throw Error(s(479))}else i=uf(t,a,l,2),i!==null&&Mn(i,t,2)}function uc(t){var i=t.alternate;return t===De||i!==null&&i===De}function fy(t,i){Qa=nc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function dy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,dn(t,a)}}var fl={readContext:rn,use:sc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};fl.useEffectEvent=Et;var my={readContext:rn,use:sc,useCallback:function(t,i){return An().memoizedState=[t,i===void 0?null:i],t},useContext:rn,useEffect:Jp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,oc(4194308,4,ty.bind(null,i,t),a)},useLayoutEffect:function(t,i){return oc(4194308,4,t,i)},useInsertionEffect:function(t,i){oc(4,2,t,i)},useMemo:function(t,i){var a=An();i=i===void 0?null:i;var l=t();if(ta){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=An();if(a!==void 0){var h=a(i);if(ta){cn(!0);try{a(i)}finally{cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Ib.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=An();return t={current:t},i.memoizedState=t},useState:function(t){t=zf(t);var i=t.queue,a=hy.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(t,i){var a=An();return Hf(a,t,i)},useTransition:function(){var t=zf(!1);return t=ay.bind(null,De,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=An();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ot===null)throw Error(s(349));(Ue&127)!==0||kp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Jp(Up.bind(null,l,d,t),[t]),l.flags|=2048,Ka(9,{destroy:void 0},Lp.bind(null,l,d,a,i),null),a},useId:function(){var t=An(),i=ot.identifierPrefix;if(He){var a=Fi,l=Hi;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ic++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Tb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Gf,useFormState:Qp,useActionState:Qp,useOptimistic:function(t){var i=An();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qf.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:Lf,useCacheRefresh:function(){return An().memoizedState=Cb.bind(null,De)},useEffectEvent:function(t){var i=An(),a={impl:t};return i.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Yf={readContext:rn,use:sc,useCallback:iy,useContext:rn,useEffect:Bf,useImperativeHandle:ny,useInsertionEffect:Wp,useLayoutEffect:ey,useMemo:ry,useReducer:ac,useRef:$p,useState:function(){return ac(gr)},useDebugValue:qf,useDeferredValue:function(t,i){var a=Rt();return sy(a,rt.memoizedState,t,i)},useTransition:function(){var t=ac(gr)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Vp,useId:uy,useHostTransitionStatus:Gf,useFormState:Yp,useActionState:Yp,useOptimistic:function(t,i){var a=Rt();return jp(a,rt,t,i)},useMemoCache:Lf,useCacheRefresh:cy};Yf.useEffectEvent=Zp;var gy={readContext:rn,use:sc,useCallback:iy,useContext:rn,useEffect:Bf,useImperativeHandle:ny,useInsertionEffect:Wp,useLayoutEffect:ey,useMemo:ry,useReducer:Pf,useRef:$p,useState:function(){return Pf(gr)},useDebugValue:qf,useDeferredValue:function(t,i){var a=Rt();return rt===null?Hf(a,t,i):sy(a,rt.memoizedState,t,i)},useTransition:function(){var t=Pf(gr)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Vp,useId:uy,useHostTransitionStatus:Gf,useFormState:Xp,useActionState:Xp,useOptimistic:function(t,i){var a=Rt();return rt!==null?jp(a,rt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:cy};gy.useEffectEvent=Zp;function Kf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=$n(),h=Jr(l);h.payload=i,a!=null&&(h.callback=a),i=Zr(t,h,l),i!==null&&(Mn(i,t,l),al(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=$n(),h=Jr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Zr(t,h,l),i!==null&&(Mn(i,t,l),al(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=$n(),l=Jr(a);l.tag=2,i!=null&&(l.callback=i),i=Zr(t,l,a),i!==null&&(Mn(i,t,a),al(i,t,a))}};function py(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function yy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Xf.enqueueReplaceState(i,i.state,null)}function na(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function vy(t){Bu(t)}function _y(t){console.error(t)}function Ey(t){Bu(t)}function cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ty(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(t,i,a){return a=Jr(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(t,i)},a}function Sy(t){return t=Jr(t),t.tag=3,t}function by(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ty(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ty(i,a,l),typeof h!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Db(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ja(i,a,h,!0),a=Qn.current,a!==null){switch(a.tag){case 31:case 13:return ci===null?Sc():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Td(t,l,h)),!1;case 22:return a.flags|=65536,l===Ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Td(t,l,h)),!1}throw Error(s(435,a.tag))}return Td(t,l,h),Sc(),!1}if(He)return i=Qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==gf&&(t=Error(s(422),{cause:l}),tl(ai(t,a)))):(l!==gf&&(i=Error(s(423),{cause:l}),tl(ai(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ai(l,a),h=$f(t.stateNode,l,h),Rf(t,h),Tt!==4&&(Tt=2)),!1;var d=Error(s(520),{cause:l});if(d=ai(d,a),El===null?El=[d]:El.push(d),Tt!==4&&(Tt=2),i===null)return!0;l=ai(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=$f(a.stateNode,l,t),Rf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(rs===null||!rs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Sy(h),by(h,t,a,l),Rf(a,h),!1}a=a.return}while(a!==null);return!1}var Jf=Error(s(461)),kt=!1;function sn(t,i,a,l){i.child=t===null?Cp(i,null,a,l):ea(i,t.child,a,l)}function Ay(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return $s(i),l=xf(t,i,a,v,d,h),S=Mf(),t!==null&&!kt?(Vf(t,i,h),pr(t,i,h)):(He&&S&&df(i),i.flags|=1,sn(t,i,l,h),i.child)}function wy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ry(t,i,d,l,h)):(t=Gu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!sd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(v,l)&&t.ref===i.ref)return pr(t,i,h)}return i.flags|=1,t=cr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ry(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===i.ref)if(kt=!1,i.pendingProps=l=d,sd(t,h))(t.flags&131072)!==0&&(kt=!0);else return i.lanes=t.lanes,pr(t,i,h)}return Zf(t,i,a,l,h)}function Cy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Iy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(i,d!==null?d.cachePool:null),d!==null?Np(i,d):If(),Op(i);else return l=i.lanes=536870912,Iy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Xu(i,d.cachePool),Np(i,d),es(),i.memoizedState=null):(t!==null&&Xu(i,null),If(),es());return sn(t,i,h,a),i.child}function dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Iy(t,i,a,l,h){var d=Sf();return d=d===null?null:{parent:Mt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Xu(i,null),If(),Op(i),t!==null&&ja(t,i,l,!0),i.childLanes=h,null}function hc(t,i){return i=dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Dy(t,i,a){return ea(i,t.child,null,a),t=hc(i,i.pendingProps),t.flags|=2,Yn(i),i.memoizedState=null,t}function Nb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=hc(i,l),i.lanes=536870912,dl(null,t);if(Nf(i),(t=ut)?(t=Bv(t,ui),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Qr!==null?{id:Hi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},a=fp(t),a.return=i,i.child=a,nn=i,ut=null)):t=null,t===null)throw Kr(i);return i.lanes=536870912,null}return hc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Nf(i),h)if(i.flags&256)i.flags&=-257,i=Dy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(kt||ja(t,i,a,!1),h=(a&t.childLanes)!==0,kt||h){if(l=ot,l!==null&&(v=En(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Qs(t,v),Mn(l,t,v),Jf;Sc(),i=Dy(t,i,a)}else t=d.treeContext,ut=hi(v.nextSibling),nn=i,He=!0,Yr=null,ui=!1,t!==null&&gp(i,t),i=hc(i,l),i.flags|=4096;return i}return t=cr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function fc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Zf(t,i,a,l,h){return $s(i),a=xf(t,i,a,l,void 0,h),l=Mf(),t!==null&&!kt?(Vf(t,i,h),pr(t,i,h)):(He&&l&&df(i),i.flags|=1,sn(t,i,a,h),i.child)}function Ny(t,i,a,l,h,d){return $s(i),i.updateQueue=null,a=Mp(i,l,a,h),xp(t),l=Mf(),t!==null&&!kt?(Vf(t,i,d),pr(t,i,d)):(He&&l&&df(i),i.flags|=1,sn(t,i,a,d),i.child)}function Oy(t,i,a,l,h){if($s(i),i.stateNode===null){var d=La,v=a.contextType;typeof v=="object"&&v!==null&&(d=rn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Af(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?rn(v):La,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Kf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Xf.enqueueReplaceState(d,d.state,null),ll(i,l,d,h),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=na(a,S);d.props=N;var j=d.context,X=a.contextType;v=La,typeof X=="object"&&X!==null&&(v=rn(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||j!==v)&&yy(i,d,l,v),$r=!1;var B=i.memoizedState;d.state=B,ll(i,l,d,h),ol(),j=i.memoizedState,S||B!==j||$r?(typeof Z=="function"&&(Kf(i,a,Z,l),j=i.memoizedState),(N=$r||py(i,a,N,l,B,j,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,wf(t,i),v=i.memoizedProps,X=na(a,v),d.props=X,Z=i.pendingProps,B=d.context,j=a.contextType,N=La,typeof j=="object"&&j!==null&&(N=rn(j)),S=a.getDerivedStateFromProps,(j=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||B!==N)&&yy(i,d,l,N),$r=!1,B=i.memoizedState,d.state=B,ll(i,l,d,h),ol();var G=i.memoizedState;v!==Z||B!==G||$r||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof S=="function"&&(Kf(i,a,S,l),G=i.memoizedState),(X=$r||py(i,a,X,l,B,G,N)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,fc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ea(i,t.child,null,h),i.child=ea(i,null,a,h)):sn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=pr(t,i,h),t}function xy(t,i,a,l){return Ks(),i.flags|=256,sn(t,i,a,l),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(t){return{baseLanes:t,cachePool:Tp()}}function td(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Xn),t}function My(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?Wr(i):es(),(t=ut)?(t=Bv(t,ui),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Qr!==null?{id:Hi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},a=fp(t),a.return=i,i.child=a,nn=i,ut=null)):t=null,t===null)throw Kr(i);return Ud(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(es(),h=i.mode,S=dc({mode:"hidden",children:S},h),l=Ys(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=ed(a),l.childLanes=td(t,v,a),i.memoizedState=Wf,dl(null,l)):(Wr(i),nd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Wr(i),i.flags&=-257,i=id(t,i,a)):i.memoizedState!==null?(es(),i.child=t.child,i.flags|=128,i=null):(es(),S=l.fallback,h=i.mode,l=dc({mode:"visible",children:l.children},h),S=Ys(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,ea(i,t.child,null,a),l=i.child,l.memoizedState=ed(a),l.childLanes=td(t,v,a),i.memoizedState=Wf,i=dl(null,l));else if(Wr(i),Ud(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,tl({value:l,source:null,stack:null}),i=id(t,i,a)}else if(kt||ja(t,i,a,!1),v=(a&t.childLanes)!==0,kt||v){if(v=ot,v!==null&&(l=En(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Qs(t,l),Mn(v,t,l),Jf;Ld(S)||Sc(),i=id(t,i,a)}else Ld(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,ut=hi(S.nextSibling),nn=i,He=!0,Yr=null,ui=!1,t!==null&&gp(i,t),i=nd(i,l.children),i.flags|=4096);return i}return h?(es(),S=l.fallback,h=i.mode,N=t.child,j=N.sibling,l=cr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,j!==null?S=cr(j,S):(S=Ys(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,dl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=ed(a):(h=S.cachePool,h!==null?(N=Mt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Tp(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=td(t,v,a),i.memoizedState=Wf,dl(t.child,l)):(Wr(i),a=t.child,t=a.sibling,a=cr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function nd(t,i){return i=dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function dc(t,i){return t=Gn(22,t,null,i),t.lanes=0,t}function id(t,i,a){return ea(i,t.child,null,a),t=nd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Vy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),vf(t.return,i,a)}function rd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function ky(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=wt.current,S=(v&2)!==0;if(S?(v=v&1|2,i.flags|=128):v&=1,re(wt,v),sn(t,i,l,a),l=He?el:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vy(t,a,i);else if(t.tag===19)Vy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),rd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&tc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}rd(i,!0,a,null,d,l);break;case"together":rd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function pr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),is|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ja(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=cr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=cr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function Ob(t,i,a){switch(i.tag){case 3:tt(i,i.stateNode.containerInfo),Xr(i,Mt,t.memoizedState.cache),Ks();break;case 27:case 5:Le(i);break;case 4:tt(i,i.stateNode.containerInfo);break;case 10:Xr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Nf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Wr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?My(t,i,a):(Wr(i),t=pr(t,i,a),t!==null?t.sibling:null);Wr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ja(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ky(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(wt,wt.current),l)break;return null;case 22:return i.lanes=0,Cy(t,i,a,i.pendingProps);case 24:Xr(i,Mt,t.memoizedState.cache)}return pr(t,i,a)}function Ly(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)kt=!0;else{if(!sd(t,a)&&(i.flags&128)===0)return kt=!1,Ob(t,i,a);kt=(t.flags&131072)!==0}else kt=!1,He&&(i.flags&1048576)!==0&&mp(i,el,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Zs(i.elementType),i.type=t,typeof t=="function")cf(t)?(l=na(t,l),i.tag=1,i=Oy(null,i,t,l,a)):(i.tag=0,i=Zf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ce){i.tag=11,i=Ay(null,i,t,l,a);break e}else if(h===R){i.tag=14,i=wy(null,i,t,l,a);break e}}throw i=ge(t)||t,Error(s(306,i,""))}}return i;case 0:return Zf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=na(l,i.pendingProps),Oy(t,i,l,h,a);case 3:e:{if(tt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,wf(t,i),ll(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Xr(i,Mt,l),l!==d.cache&&_f(i,[Mt],a,!0),ol(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=xy(t,i,l,a);break e}else if(l!==h){h=ai(Error(s(424)),i),tl(h),i=xy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=hi(t.firstChild),nn=i,He=!0,Yr=null,ui=!0,a=Cp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ks(),l===h){i=pr(t,i,a);break e}sn(t,i,l,a)}i=i.child}return i;case 26:return fc(t,i),t===null?(a=Yv(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=Dc(ve.current).createElement(a),l[Nt]=i,l[Qt]=t,an(l,a,t),Ot(l),i.stateNode=l):i.memoizedState=Yv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Le(i),t===null&&He&&(l=i.stateNode=Fv(i.type,i.pendingProps,ve.current),nn=i,ui=!0,h=ut,ls(i.type)?(Pd=h,ut=hi(l.firstChild)):ut=h),sn(t,i,i.pendingProps.children,a),fc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((h=l=ut)&&(l=oA(l,i.type,i.pendingProps,ui),l!==null?(i.stateNode=l,nn=i,ut=hi(l.firstChild),ui=!1,h=!0):h=!1),h||Kr(i)),Le(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Md(h,d)?l=null:v!==null&&Md(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=xf(t,i,Sb,null,null,a),Il._currentValue=h),fc(t,i),sn(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=ut)&&(a=lA(a,i.pendingProps,ui),a!==null?(i.stateNode=a,nn=i,ut=null,t=!0):t=!1),t||Kr(i)),null;case 13:return My(t,i,a);case 4:return tt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ea(i,null,l,a):sn(t,i,l,a),i.child;case 11:return Ay(t,i,i.type,i.pendingProps,a);case 7:return sn(t,i,i.pendingProps,a),i.child;case 8:return sn(t,i,i.pendingProps.children,a),i.child;case 12:return sn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Xr(i,i.type,l.value),sn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,$s(i),h=rn(h),l=l(h),i.flags|=1,sn(t,i,l,a),i.child;case 14:return wy(t,i,i.type,i.pendingProps,a);case 15:return Ry(t,i,i.type,i.pendingProps,a);case 19:return ky(t,i,a);case 31:return Nb(t,i,a);case 22:return Cy(t,i,a,i.pendingProps);case 24:return $s(i),l=rn(Mt),t===null?(h=Sf(),h===null&&(h=ot,d=Ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Af(i),Xr(i,Mt,h)):((t.lanes&a)!==0&&(wf(t,i),ll(i,null,null,a),ol()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Xr(i,Mt,l)):(l=d.cache,Xr(i,Mt,l),l!==h.cache&&_f(i,[Mt],a,!0))),sn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function yr(t){t.flags|=4}function ad(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(uv())t.flags|=8192;else throw Ws=Ju,bf}else t.flags&=-16777217}function Uy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zv(i))if(uv())t.flags|=8192;else throw Ws=Ju,bf}function mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Gt():536870912,t.lanes|=i,Za|=i)}function ml(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function xb(t,i,a){var l=i.pendingProps;switch(mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),dr(Mt),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(za(i)?yr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pf())),ct(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(yr(i),d!==null?(ct(i),Uy(i,d)):(ct(i),ad(i,h,null,l,a))):d?d!==t.memoizedState?(yr(i),ct(i),Uy(i,d)):(ct(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&yr(i),ct(i),ad(i,h,t,l,a)),null;case 27:if(Jn(i),a=ve.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}t=oe.current,za(i)?pp(i):(t=Fv(h,l,a),i.stateNode=t,yr(i))}return ct(i),null;case 5:if(Jn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}if(d=oe.current,za(i))pp(i);else{var v=Dc(ve.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Nt]=i,d[Qt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(an(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&yr(i)}}return ct(i),ad(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&yr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ve.current,za(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Mv(t.nodeValue,a)),t||Kr(i,!0)}else t=Dc(t).createTextNode(l),t[Nt]=i,i.stateNode=t}return ct(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=za(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Nt]=i}else Ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),t=!1}else a=pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Yn(i),i):(Yn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ct(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=za(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=i}else Ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),h=!1}else h=pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Yn(i),i):(Yn(i),null)}return Yn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),mc(i,i.updateQueue),ct(i),null);case 4:return Ge(),t===null&&Id(i.stateNode.containerInfo),ct(i),null;case 10:return dr(i.type),ct(i),null;case 19:if(K(wt),l=i.memoizedState,l===null)return ct(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ml(l,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=tc(t),d!==null){for(i.flags|=128,ml(l,!1),t=d.updateQueue,i.updateQueue=t,mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)hp(a,t),a=a.sibling;return re(wt,wt.current&1|2),He&&hr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Ft()>_c&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304)}else{if(!h)if(t=tc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,mc(i,t),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!He)return ct(i),null}else 2*Ft()-l.renderingStartTime>_c&&a!==536870912&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ft(),t.sibling=null,a=wt.current,re(wt,h?a&1|2:a&1),He&&hr(i,l.treeForkCount),t):(ct(i),null);case 22:case 23:return Yn(i),Df(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),a=i.updateQueue,a!==null&&mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&K(Js),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),dr(Mt),ct(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Mb(t,i){switch(mf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return dr(Mt),Ge(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Jn(i),null;case 31:if(i.memoizedState!==null){if(Yn(i),i.alternate===null)throw Error(s(340));Ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Yn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(wt),null;case 4:return Ge(),null;case 10:return dr(i.type),null;case 22:case 23:return Yn(i),Df(),t!==null&&K(Js),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return dr(Mt),null;case 25:return null;default:return null}}function Py(t,i){switch(mf(i),i.tag){case 3:dr(Mt),Ge();break;case 26:case 27:case 5:Jn(i);break;case 4:Ge();break;case 31:i.memoizedState!==null&&Yn(i);break;case 13:Yn(i);break;case 19:K(wt);break;case 10:dr(i.type);break;case 22:case 23:Yn(i),Df(),t!==null&&K(Js);break;case 24:dr(Mt)}}function gl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(S){et(i,i.return,S)}}function ts(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var N=a,j=S;try{j()}catch(X){et(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){et(i,i.return,X)}}function zy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Dp(i,a)}catch(l){et(t,t.return,l)}}}function jy(t,i,a){a.props=na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,i,h)}}function Gi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,i,h)}else a.current=null}function By(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function od(t,i,a){try{var l=t.stateNode;tA(l,t.type,a,i),l[Qt]=i}catch(h){et(t,t.return,h)}}function qy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ls(t.type)||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ls(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=yi));else if(l!==4&&(l===27&&ls(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ud(t,i,a),t=t.sibling;t!==null;)ud(t,i,a),t=t.sibling}function gc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ls(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gc(t,i,a),t=t.sibling;t!==null;)gc(t,i,a),t=t.sibling}function Hy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);an(i,l,a),i[Nt]=t,i[Qt]=a}catch(d){et(t,t.return,d)}}var vr=!1,Lt=!1,cd=!1,Fy=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function Vb(t,i){if(t=t.containerInfo,Od=Lc,t=np(t),nf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,N=-1,j=0,X=0,Z=t,B=null;t:for(;;){for(var G;Z!==a||h!==0&&Z.nodeType!==3||(S=v+h),Z!==d||l!==0&&Z.nodeType!==3||(N=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(G=Z.firstChild)!==null;)B=Z,Z=G;for(;;){if(Z===t)break t;if(B===a&&++j===h&&(S=v),B===d&&++X===l&&(N=v),(G=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=G}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:t,selectionRange:a},Lc=!1,Kt=i;Kt!==null;)if(i=Kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Kt=t;else for(;Kt!==null;){switch(i=Kt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=na(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){et(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Kt=t;break}Kt=i.return}}function Gy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Er(t,a),l&4&&gl(5,a);break;case 1:if(Er(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var h=na(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&zy(a),l&512&&pl(a,a.return);break;case 3:if(Er(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Dp(t,i)}catch(v){et(a,a.return,v)}}break;case 27:i===null&&l&4&&Hy(a);case 26:case 5:Er(t,a),i===null&&l&4&&By(a),l&512&&pl(a,a.return);break;case 12:Er(t,a);break;case 31:Er(t,a),l&4&&Ky(t,a);break;case 13:Er(t,a),l&4&&Xy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Hb.bind(null,a),uA(t,a))));break;case 22:if(l=a.memoizedState!==null||vr,!l){i=i!==null&&i.memoizedState!==null||Lt,h=vr;var d=Lt;vr=l,(Lt=i)&&!d?Tr(t,a,(a.subtreeFlags&8772)!==0):Er(t,a),vr=h,Lt=d}break;case 30:break;default:Er(t,a)}}function Qy(t){var i=t.alternate;i!==null&&(t.alternate=null,Qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Sa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,Dn=!1;function _r(t,i,a){for(a=a.child;a!==null;)Yy(t,i,a),a=a.sibling}function Yy(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Lt||Gi(a,i),_r(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Gi(a,i);var l=yt,h=Dn;ls(a.type)&&(yt=a.stateNode,Dn=!1),_r(t,i,a),wl(a.stateNode),yt=l,Dn=h;break;case 5:Lt||Gi(a,i);case 6:if(l=yt,h=Dn,yt=null,_r(t,i,a),yt=l,Dn=h,yt!==null)if(Dn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(d){et(a,i,d)}else try{yt.removeChild(a.stateNode)}catch(d){et(a,i,d)}break;case 18:yt!==null&&(Dn?(t=yt,zv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):zv(yt,a.stateNode));break;case 4:l=yt,h=Dn,yt=a.stateNode.containerInfo,Dn=!0,_r(t,i,a),yt=l,Dn=h;break;case 0:case 11:case 14:case 15:ts(2,a,i),Lt||ts(4,a,i),_r(t,i,a);break;case 1:Lt||(Gi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jy(a,i,l)),_r(t,i,a);break;case 21:_r(t,i,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,_r(t,i,a),Lt=l;break;default:_r(t,i,a)}}function Ky(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(a){et(i,i.return,a)}}}function Xy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){et(i,i.return,a)}}function kb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Fy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Fy),i;default:throw Error(s(435,t.tag))}}function pc(t,i){var a=kb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Fb.bind(null,t,l);l.then(h,h)}})}function Nn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(ls(S.type)){yt=S.stateNode,Dn=!1;break e}break;case 5:yt=S.stateNode,Dn=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,Dn=!0;break e}S=S.return}if(yt===null)throw Error(s(160));Yy(d,v,h),yt=null,Dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)$y(i,t),i=i.sibling}var bi=null;function $y(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Nn(i,t),On(t),l&4&&(ts(3,t,t.return),gl(3,t),ts(5,t,t.return));break;case 1:Nn(i,t),On(t),l&512&&(Lt||a===null||Gi(a,a.return)),l&64&&vr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=bi;if(Nn(i,t),On(t),l&512&&(Lt||a===null||Gi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Oi]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),an(d,l,a),d[Nt]=t,Ot(d),l=d;break e;case"link":var v=$v("link","href",h).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(l),an(d,l,a),h.head.appendChild(d);break;case"meta":if(v=$v("meta","content",h).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=h.createElement(l),an(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=t,Ot(d),l=d}t.stateNode=l}else Jv(h,t.type,t.stateNode);else t.stateNode=Xv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Jv(h,t.type,t.stateNode):Xv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&od(t,t.memoizedProps,a.memoizedProps)}break;case 27:Nn(i,t),On(t),l&512&&(Lt||a===null||Gi(a,a.return)),a!==null&&l&4&&od(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Nn(i,t),On(t),l&512&&(Lt||a===null||Gi(a,a.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(he){et(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,od(t,h,a!==null?a.memoizedProps:h)),l&1024&&(cd=!0);break;case 6:if(Nn(i,t),On(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){et(t,t.return,he)}}break;case 3:if(xc=null,h=bi,bi=Nc(i.containerInfo),Nn(i,t),bi=h,On(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(i.containerInfo)}catch(he){et(t,t.return,he)}cd&&(cd=!1,Jy(t));break;case 4:l=bi,bi=Nc(t.stateNode.containerInfo),Nn(i,t),On(t),bi=l;break;case 12:Nn(i,t),On(t);break;case 31:Nn(i,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 13:Nn(i,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vc=Ft()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,j=vr,X=Lt;if(vr=j||h,Lt=X||N,Nn(i,t),Lt=X,vr=j,On(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||vr||Lt||ia(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=N.stateNode;var Z=N.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){et(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){et(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var G=N.stateNode;h?jv(G,!0):jv(N.stateNode,!1)}catch(he){et(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pc(t,a))));break;case 19:Nn(i,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 30:break;case 21:break;default:Nn(i,t),On(t)}}function On(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(qy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ld(t);gc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(In(v,""),a.flags&=-33);var S=ld(t);gc(t,S,v);break;case 3:case 4:var N=a.stateNode.containerInfo,j=ld(t);ud(t,j,N);break;default:throw Error(s(161))}}catch(X){et(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Jy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Er(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Gy(t,i.alternate,i),i=i.sibling}function ia(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ts(4,i,i.return),ia(i);break;case 1:Gi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&jy(i,i.return,a),ia(i);break;case 27:wl(i.stateNode);case 26:case 5:Gi(i,i.return),ia(i);break;case 22:i.memoizedState===null&&ia(i);break;case 30:ia(i);break;default:ia(i)}t=t.sibling}}function Tr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),gl(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){et(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Ip(N[h],S)}catch(j){et(l,l.return,j)}}a&&v&64&&zy(d),pl(d,d.return);break;case 27:Hy(d);case 26:case 5:Tr(h,d,a),a&&l===null&&v&4&&By(d),pl(d,d.return);break;case 12:Tr(h,d,a);break;case 31:Tr(h,d,a),a&&v&4&&Ky(h,d);break;case 13:Tr(h,d,a),a&&v&4&&Xy(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),pl(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function hd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function fd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function Ai(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zy(t,i,a,l),i=i.sibling}function Zy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ai(t,i,a,l),h&2048&&gl(9,i);break;case 1:Ai(t,i,a,l);break;case 3:Ai(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){Ai(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){et(i,i.return,N)}}else Ai(t,i,a,l);break;case 31:Ai(t,i,a,l);break;case 13:Ai(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Ai(t,i,a,l):yl(t,i):d._visibility&2?Ai(t,i,a,l):(d._visibility|=2,Xa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&hd(v,i);break;case 24:Ai(t,i,a,l),h&2048&&fd(i.alternate,i);break;default:Ai(t,i,a,l)}}function Xa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,S=a,N=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Xa(d,v,S,N,h),gl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Xa(d,v,S,N,h):yl(d,v):(X._visibility|=2,Xa(d,v,S,N,h)),h&&j&2048&&hd(v.alternate,v);break;case 24:Xa(d,v,S,N,h),h&&j&2048&&fd(v.alternate,v);break;default:Xa(d,v,S,N,h)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&hd(l.alternate,l);break;case 24:yl(a,l),h&2048&&fd(l.alternate,l);break;default:yl(a,l)}i=i.sibling}}var vl=8192;function $a(t,i,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)Wy(t,i,a),t=t.sibling}function Wy(t,i,a){switch(t.tag){case 26:$a(t,i,a),t.flags&vl&&t.memoizedState!==null&&TA(a,bi,t.memoizedState,t.memoizedProps);break;case 5:$a(t,i,a);break;case 3:case 4:var l=bi;bi=Nc(t.stateNode.containerInfo),$a(t,i,a),bi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vl,vl=16777216,$a(t,i,a),vl=l):$a(t,i,a));break;default:$a(t,i,a)}}function ev(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,nv(l,t)}ev(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tv(t),t=t.sibling}function tv(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&ts(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,yc(t)):_l(t);break;default:_l(t)}}function yc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,nv(l,t)}ev(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ts(8,i,i.return),yc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,yc(i));break;default:yc(i)}t=t.sibling}}function nv(t,i){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:ts(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Kt=l;else e:for(a=t;Kt!==null;){l=Kt;var h=l.sibling,d=l.return;if(Qy(l),l===a){Kt=null;break e}if(h!==null){h.return=d,Kt=h;break e}Kt=d}}}var Lb={getCacheForType:function(t){var i=rn(Mt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return rn(Mt).controller.signal}},Ub=typeof WeakMap=="function"?WeakMap:Map,$e=0,ot=null,Ve=null,Ue=0,We=0,Kn=null,ns=!1,Ja=!1,dd=!1,Sr=0,Tt=0,is=0,ra=0,md=0,Xn=0,Za=0,El=null,xn=null,gd=!1,vc=0,iv=0,_c=1/0,Ec=null,rs=null,jt=0,ss=null,Wa=null,br=0,pd=0,yd=null,rv=null,Tl=0,vd=null;function $n(){return($e&2)!==0&&Ue!==0?Ue&-Ue:Q.T!==null?Ad():Bn()}function sv(){if(Xn===0)if((Ue&536870912)===0||He){var t=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),Xn=t}else Xn=536870912;return t=Qn.current,t!==null&&(t.flags|=32),Xn}function Mn(t,i,a){(t===ot&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(eo(t,0),as(t,Ue,Xn,!1)),Rn(t,a),(($e&2)===0||t!==ot)&&(t===ot&&(($e&2)===0&&(ra|=a),Tt===4&&as(t,Ue,Xn,!1)),Qi(t))}function av(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Dt(t,i),h=l?jb(t,i):Ed(t,i,!0),d=l;do{if(h===0){Ja&&!l&&as(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Pb(a)){h=Ed(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;h=El;var N=S.current.memoizedState.isDehydrated;if(N&&(eo(S,v).flags|=256),v=Ed(S,v,!1),v!==2){if(dd&&!N){S.errorRecoveryDisabledLanes|=d,ra|=d,h=4;break e}d=xn,xn=h,d!==null&&(xn===null?xn=d:xn.push.apply(xn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){eo(t,0),as(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:as(l,i,Xn,!ns);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=vc+300-Ft(),10<h)){if(as(l,i,Xn,!ns),gt(l,0,!0)!==0)break e;br=i,l.timeoutHandle=Uv(ov.bind(null,l,a,xn,Ec,gd,i,Xn,ra,Za,ns,d,"Throttled",-0,0),h);break e}ov(l,a,xn,Ec,gd,i,Xn,ra,Za,ns,d,null,-0,0)}}break}while(!0);Qi(t)}function ov(t,i,a,l,h,d,v,S,N,j,X,Z,B,G){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},Wy(i,d,Z);var he=(d&62914560)===d?vc-Ft():(d&4194048)===d?iv-Ft():0;if(he=SA(Z,he),he!==null){br=d,t.cancelPendingCommit=he(gv.bind(null,t,i,d,a,l,h,v,S,N,X,Z,null,B,G)),as(t,d,v,!j);return}}gv(t,i,d,a,l,h,v,S,N)}function Pb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Fn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function as(t,i,a,l){i&=~md,i&=~ra,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&fn(t,a,i)}function Tc(){return($e&6)===0?(Sl(0),!1):!0}function _d(){if(Ve!==null){if(We===0)var t=Ve.return;else t=Ve,fr=Xs=null,kf(t),Fa=null,rl=0,t=Ve;for(;t!==null;)Py(t.alternate,t),t=t.return;Ve=null}}function eo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),br=0,_d(),ot=t,Ve=a=cr(t.current,null),Ue=i,We=0,Kn=null,ns=!1,Ja=Dt(t,i),dd=!1,Za=Xn=md=ra=is=Tt=0,xn=El=null,gd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return Sr=i,qu(),a}function lv(t,i){De=null,Q.H=fl,i===Ha||i===$u?(i=Ap(),We=3):i===bf?(i=Ap(),We=4):We=i===Jf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kn=i,Ve===null&&(Tt=1,cc(t,ai(i,t.current)))}function uv(){var t=Qn.current;return t===null?!0:(Ue&4194048)===Ue?ci===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===ci:!1}function cv(){var t=Q.H;return Q.H=fl,t===null?fl:t}function hv(){var t=Q.A;return Q.A=Lb,t}function Sc(){Tt=4,ns||(Ue&4194048)!==Ue&&Qn.current!==null||(Ja=!0),(is&134217727)===0&&(ra&134217727)===0||ot===null||as(ot,Ue,Xn,!1)}function Ed(t,i,a){var l=$e;$e|=2;var h=cv(),d=hv();(ot!==t||Ue!==i)&&(Ec=null,eo(t,i)),i=!1;var v=Tt;e:do try{if(We!==0&&Ve!==null){var S=Ve,N=Kn;switch(We){case 8:_d(),v=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(i=!0);var j=We;if(We=0,Kn=null,to(t,S,N,j),a&&Ja){v=0;break e}break;default:j=We,We=0,Kn=null,to(t,S,N,j)}}zb(),v=Tt;break}catch(X){lv(t,X)}while(!0);return i&&t.shellSuspendCounter++,fr=Xs=null,$e=l,Q.H=h,Q.A=d,Ve===null&&(ot=null,Ue=0,qu()),v}function zb(){for(;Ve!==null;)fv(Ve)}function jb(t,i){var a=$e;$e|=2;var l=cv(),h=hv();ot!==t||Ue!==i?(Ec=null,_c=Ft()+500,eo(t,i)):Ja=Dt(t,i);e:do try{if(We!==0&&Ve!==null){i=Ve;var d=Kn;t:switch(We){case 1:We=0,Kn=null,to(t,i,d,1);break;case 2:case 9:if(Sp(d)){We=0,Kn=null,dv(i);break}i=function(){We!==2&&We!==9||ot!==t||(We=7),Qi(t)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Sp(d)?(We=0,Kn=null,dv(i)):(We=0,Kn=null,to(t,i,d,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var S=Ve;if(v?Zv(v):S.stateNode.complete){We=0,Kn=null;var N=S.sibling;if(N!==null)Ve=N;else{var j=S.return;j!==null?(Ve=j,bc(j)):Ve=null}break t}}We=0,Kn=null,to(t,i,d,5);break;case 6:We=0,Kn=null,to(t,i,d,6);break;case 8:_d(),Tt=6;break e;default:throw Error(s(462))}}Bb();break}catch(X){lv(t,X)}while(!0);return fr=Xs=null,Q.H=l,Q.A=h,$e=a,Ve!==null?0:(ot=null,Ue=0,qu(),Tt)}function Bb(){for(;Ve!==null&&!Lr();)fv(Ve)}function fv(t){var i=Ly(t.alternate,t,Sr);t.memoizedProps=t.pendingProps,i===null?bc(t):Ve=i}function dv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ny(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Ny(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:kf(i);default:Py(a,i),i=Ve=hp(i,Sr),i=Ly(a,i,Sr)}t.memoizedProps=t.pendingProps,i===null?bc(t):Ve=i}function to(t,i,a,l){fr=Xs=null,kf(i),Fa=null,rl=0;var h=i.return;try{if(Db(t,h,i,a,Ue)){Tt=1,cc(t,ai(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;Tt=1,cc(t,ai(a,t.current)),Ve=null;return}i.flags&32768?(He||l===1?t=!0:Ja||(Ue&536870912)!==0?t=!1:(ns=t=!0,(l===2||l===9||l===3||l===6)&&(l=Qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),mv(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){mv(i,ns);return}t=i.return;var a=xb(i.alternate,i,Sr);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);Tt===0&&(Tt=5)}function mv(t,i){do{var a=Mb(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);Tt=6,Ve=null}function gv(t,i,a,l,h,d,v,S,N){t.cancelPendingCommit=null;do Ac();while(jt!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=lf,bt(t,a,d,v,S,N),t===ot&&(Ve=ot=null,Ue=0),Wa=i,ss=t,br=a,pd=d,yd=h,rv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Gb(_n,function(){return Ev(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ne.p,ne.p=2,v=$e,$e|=4;try{Vb(t,i,a)}finally{$e=v,ne.p=h,Q.T=l}}jt=1,pv(),yv(),vv()}}function pv(){if(jt===1){jt=0;var t=ss,i=Wa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ne.p;ne.p=2;var h=$e;$e|=4;try{$y(i,t);var d=xd,v=np(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&tp(S.ownerDocument.documentElement,S)){if(N!==null&&nf(S)){var j=N.start,X=N.end;if(X===void 0&&(X=j),"selectionStart"in S)S.selectionStart=j,S.selectionEnd=Math.min(X,S.value.length);else{var Z=S.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var G=B.getSelection(),he=S.textContent.length,Te=Math.min(N.start,he),at=N.end===void 0?Te:Math.min(N.end,he);!G.extend&&Te>at&&(v=at,at=Te,Te=v);var L=ep(S,Te),M=ep(S,at);if(L&&M&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),G.removeAllRanges(),Te>at?(G.addRange(z),G.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),G.addRange(z))}}}}for(Z=[],G=S;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var J=Z[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Lc=!!Od,xd=Od=null}finally{$e=h,ne.p=l,Q.T=a}}t.current=i,jt=2}}function yv(){if(jt===2){jt=0;var t=ss,i=Wa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ne.p;ne.p=2;var h=$e;$e|=4;try{Gy(t,i.alternate,i)}finally{$e=h,ne.p=l,Q.T=a}}jt=3}}function vv(){if(jt===4||jt===3){jt=0,Os();var t=ss,i=Wa,a=br,l=rv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Wa=ss=null,_v(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(rs=null),Tn(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=ne.p,ne.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{Q.T=i,ne.p=h}}(br&3)!==0&&Ac(),Qi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===vd?Tl++:(Tl=0,vd=t):Tl=0,Sl(0)}}function _v(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Ac(){return pv(),yv(),vv(),Ev()}function Ev(){if(jt!==5)return!1;var t=ss,i=pd;pd=0;var a=Tn(br),l=Q.T,h=ne.p;try{ne.p=32>a?32:a,Q.T=null,a=yd,yd=null;var d=ss,v=br;if(jt=0,Wa=ss=null,br=0,($e&6)!==0)throw Error(s(331));var S=$e;if($e|=4,tv(d.current),Zy(d,d.current,v,a),$e=S,Sl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(zn,d)}catch{}return!0}finally{ne.p=h,Q.T=l,_v(t,i)}}function Tv(t,i,a){i=ai(a,i),i=$f(t.stateNode,i,2),t=Zr(t,i,2),t!==null&&(Rn(t,2),Qi(t))}function et(t,i,a){if(t.tag===3)Tv(t,t,a);else for(;i!==null;){if(i.tag===3){Tv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rs===null||!rs.has(l))){t=ai(a,t),a=Sy(2),l=Zr(i,a,2),l!==null&&(by(a,l,i,t),Rn(l,2),Qi(l));break}}i=i.return}}function Td(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Ub;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(dd=!0,h.add(a),t=qb.bind(null,t,i,a),i.then(t,t))}function qb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(Ue&a)===a&&(Tt===4||Tt===3&&(Ue&62914560)===Ue&&300>Ft()-vc?($e&2)===0&&eo(t,0):md|=a,Za===Ue&&(Za=0)),Qi(t)}function Sv(t,i){i===0&&(i=Gt()),t=Qs(t,i),t!==null&&(Rn(t,i),Qi(t))}function Hb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Sv(t,a)}function Fb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Sv(t,a)}function Gb(t,i){return nt(t,i)}var wc=null,no=null,Sd=!1,Rc=!1,bd=!1,os=0;function Qi(t){t!==no&&t.next===null&&(no===null?wc=no=t:no=no.next=t),Rc=!0,Sd||(Sd=!0,Yb())}function Sl(t,i){if(!bd&&Rc){bd=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Rv(l,d))}else d=Ue,d=gt(l,l===ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Dt(l,d)||(a=!0,Rv(l,d));l=l.next}while(a);bd=!1}}function Qb(){bv()}function bv(){Rc=Sd=!1;var t=0;os!==0&&iA()&&(t=os);for(var i=Ft(),a=null,l=wc;l!==null;){var h=l.next,d=Av(l,i);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(no=a)):(a=l,(t!==0||(d&3)!==0)&&(Rc=!0)),l=h}jt!==0&&jt!==5||Sl(t),os!==0&&(os=0)}function Av(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-dt(d),S=1<<v,N=h[v];N===-1?((S&a)===0||(S&l)!==0)&&(h[v]=hn(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=ot,a=Ue,a=gt(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Un(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Dt(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Un(l),Tn(a)){case 2:case 8:a=Wn;break;case 32:a=_n;break;case 268435456:a=Ms;break;default:a=_n}return l=wv.bind(null,t),a=nt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Un(l),t.callbackPriority=2,t.callbackNode=null,2}function wv(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=Ue;return l=gt(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(av(t,l,i),Av(t,Ft()),t.callbackNode!=null&&t.callbackNode===a?wv.bind(null,t):null)}function Rv(t,i){if(Ac())return null;av(t,i,!0)}function Yb(){sA(function(){($e&6)!==0?nt(xs,Qb):bv()})}function Ad(){if(os===0){var t=Ba;t===0&&(t=ei,ei<<=1,(ei&261888)===0&&(ei=256)),os=t}return os}function Cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function Iv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Kb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Cv((h[Qt]||null).action),v=l.submitter;v&&(i=(i=v[Qt]||null)?Cv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new zi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(os!==0){var N=v?Iv(h,v):new FormData(h);Ff(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=v?Iv(h,v):new FormData(h),Ff(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var wd=0;wd<of.length;wd++){var Rd=of[wd],Xb=Rd.toLowerCase(),$b=Rd[0].toUpperCase()+Rd.slice(1);Si(Xb,"on"+$b)}Si(sp,"onAnimationEnd"),Si(ap,"onAnimationIteration"),Si(op,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(fb,"onTransitionRun"),Si(db,"onTransitionStart"),Si(mb,"onTransitionCancel"),Si(lp,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function Dv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],N=S.instance,j=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=j;try{d(h)}catch(X){Bu(X)}h.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(S=l[v],N=S.instance,j=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=j;try{d(h)}catch(X){Bu(X)}h.currentTarget=null,d=N}}}}function ke(t,i){var a=i[Ta];a===void 0&&(a=i[Ta]=new Set);var l=t+"__bubble";a.has(l)||(Nv(i,t,2,!1),a.add(l))}function Cd(t,i,a){var l=0;i&&(l|=4),Nv(a,t,l,i)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[Cc]){t[Cc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(Jb.has(a)||Cd(a,!1,t),Cd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cc]||(i[Cc]=!0,Cd("selectionchange",!1,i))}}function Nv(t,i,a,l){switch(s_(i)){case 2:var h=wA;break;case 8:h=RA;break;default:h=Hd}a=h.bind(null,i,a,t),h=void 0,!Ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Dd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=xi(S),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}S=S.parentNode}}l=l.return}qr(function(){var j=d,X=ni(a),Z=[];e:{var B=up.get(t);if(B!==void 0){var G=zi,he=t;switch(t){case"keypress":if(js(a)===0)break e;case"keydown":case"keyup":G=Pu;break;case"focusin":he="focus",G=qs;break;case"focusout":he="blur",G=qs;break;case"beforeblur":case"afterblur":G=qs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=g;break;case sp:case ap:case op:G=Ou;break;case lp:G=b;break;case"scroll":case"scrollend":G=Yo;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ur;break;case"toggle":case"beforetoggle":G=Ie}var Te=(i&4)!==0,at=!Te&&(t==="scroll"||t==="scrollend"),L=Te?B!==null?B+"Capture":null:B;Te=[];for(var M=j,z;M!==null;){var J=M;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||L===null||(J=vi(M,L),J!=null&&Te.push(Al(M,J,z))),at)break;M=M.return}0<Te.length&&(B=new G(B,he,null,a,X),Z.push({event:B,listeners:Te}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&a!==Fo&&(he=a.relatedTarget||a.fromElement)&&(xi(he)||he[Ni]))break e;if((G||B)&&(B=X.window===X?X:(B=X.ownerDocument)?B.defaultView||B.parentWindow:window,G?(he=a.relatedTarget||a.toElement,G=j,he=he?xi(he):null,he!==null&&(at=u(he),Te=he.tag,he!==at||Te!==5&&Te!==27&&Te!==6)&&(he=null)):(G=null,he=j),G!==he)){if(Te=Ko,J="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Te=ur,J="onPointerLeave",L="onPointerEnter",M="pointer"),at=G==null?B:qn(G),z=he==null?B:qn(he),B=new Te(J,M+"leave",G,a,X),B.target=at,B.relatedTarget=z,J=null,xi(X)===j&&(Te=new Te(L,M+"enter",he,a,X),Te.target=z,Te.relatedTarget=at,J=Te),at=J,G&&he)t:{for(Te=Zb,L=G,M=he,z=0,J=L;J;J=Te(J))z++;J=0;for(var ye=M;ye;ye=Te(ye))J++;for(;0<z-J;)L=Te(L),z--;for(;0<J-z;)M=Te(M),J--;for(;z--;){if(L===M||M!==null&&L===M.alternate){Te=L;break t}L=Te(L),M=Te(M)}Te=null}else Te=null;G!==null&&Ov(Z,B,G,Te,!1),he!==null&&at!==null&&Ov(Z,at,he,Te,!0)}}e:{if(B=j?qn(j):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var Ye=Kg;else if(Qg(B))if(Xg)Ye=ub;else{Ye=ob;var de=ab}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&wa(j.elementType)&&(Ye=Kg):Ye=lb;if(Ye&&(Ye=Ye(t,j))){Yg(Z,Ye,a,X);break e}de&&de(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Bo(B,"number",B.value)}switch(de=j?qn(j):window,t){case"focusin":(Qg(de)||de.contentEditable==="true")&&(Ma=de,rf=j,Wo=null);break;case"focusout":Wo=rf=Ma=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,ip(Z,a,X);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":ip(Z,a,X)}var Ne;if(Xe)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else xa?Hs(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(qi&&a.locale!=="ko"&&(xa||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&xa&&(Ne=Qo()):(Pi=X,Go="value"in Pi?Pi.value:Pi.textContent,xa=!0)),de=Ic(j,Pe),0<de.length&&(Pe=new Bi(Pe,t,null,a,X),Z.push({event:Pe,listeners:de}),Ne?Pe.data=Ne:(Ne=Oa(a),Ne!==null&&(Pe.data=Ne)))),(Ne=ri?nb(t,a):ib(t,a))&&(Pe=Ic(j,"onBeforeInput"),0<Pe.length&&(de=new Bi("onBeforeInput","beforeinput",null,a,X),Z.push({event:de,listeners:Pe}),de.data=Ne)),Kb(Z,t,j,a,X)}Dv(Z,i)})}function Al(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ic(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=vi(t,a),h!=null&&l.unshift(Al(t,h,d)),h=vi(t,i),h!=null&&l.push(Al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Zb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ov(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var S=a,N=S.alternate,j=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||j===null||(N=j,h?(j=vi(a,d),j!=null&&v.unshift(Al(a,j,N))):h||(j=vi(a,d),j!=null&&v.push(Al(a,j,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Wb=/\r\n?/g,eA=/\u0000|\uFFFD/g;function xv(t){return(typeof t=="string"?t:""+t).replace(Wb,`
`).replace(eA,"")}function Mv(t,i){return i=xv(i),xv(t)===i}function st(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&In(t,""+l);break;case"className":Hn(t,"class",l);break;case"tabIndex":Hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(t,a,l);break;case"style":Ho(t,l,d);break;case"data":if(i!=="object"){Hn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&st(t,i,"name",h.name,h,null),st(t,i,"formEncType",h.formEncType,h,null),st(t,i,"formMethod",h.formMethod,h,null),st(t,i,"formTarget",h.formTarget,h,null)):(st(t,i,"encType",h.encType,h,null),st(t,i,"method",h.method,h,null),st(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=yi);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iu.get(a)||a,ba(t,a,l))}}function Nd(t,i,a,l,h,d){switch(a){case"style":Ho(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ba(t,a,l)}}}function an(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:st(t,i,d,v,a,null)}}h&&st(t,i,"srcSet",a.srcSet,a,null),l&&st(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var S=d=v=h=null,N=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":N=X;break;case"defaultChecked":j=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:st(t,i,l,X,a,null)}}wu(t,d,S,N,j,v,h,!1);return;case"select":ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:st(t,i,h,S,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Pr(t,!!l,i,!1):a!=null&&Pr(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:st(t,i,v,S,a,null)}zr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:st(t,i,N,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)ke(bl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:st(t,i,j,l,a,null)}return;default:if(wa(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Nd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&st(t,i,S,l,a,null))}function tA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,N=null,j=null,X=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(G)||st(t,i,G,null,l,Z)}}for(var B in l){var G=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(G!=null||Z!=null))switch(B){case"type":d=G;break;case"name":h=G;break;case"checked":j=G;break;case"defaultChecked":X=G;break;case"value":v=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==Z&&st(t,i,B,G,l,Z)}}Aa(t,v,S,N,j,X,d,h);return;case"select":G=v=S=B=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(d)||st(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":B=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==N&&st(t,i,h,d,l,N)}i=S,a=v,l=G,B!=null?Pr(t,!!a,B,!1):!!l!=!!a&&(i!=null?Pr(t,!!a,i,!0):Pr(t,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:st(t,i,S,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&st(t,i,v,h,l,d)}Ru(t,B,G);return;case"option":for(var he in a)if(B=a[he],a.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:st(t,i,he,null,l,B)}for(N in l)if(B=l[N],G=a[N],l.hasOwnProperty(N)&&B!==G&&(B!=null||G!=null))switch(N){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:st(t,i,N,B,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)B=a[Te],a.hasOwnProperty(Te)&&B!=null&&!l.hasOwnProperty(Te)&&st(t,i,Te,null,l,B);for(j in l)if(B=l[j],G=a[j],l.hasOwnProperty(j)&&B!==G&&(B!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:st(t,i,j,B,l,G)}return;default:if(wa(i)){for(var at in a)B=a[at],a.hasOwnProperty(at)&&B!==void 0&&!l.hasOwnProperty(at)&&Nd(t,i,at,void 0,l,B);for(X in l)B=l[X],G=a[X],!l.hasOwnProperty(X)||B===G||B===void 0&&G===void 0||Nd(t,i,X,B,l,G);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&st(t,i,L,null,l,B);for(Z in l)B=l[Z],G=a[Z],!l.hasOwnProperty(Z)||B===G||B==null&&G==null||st(t,i,Z,B,l,G)}function Vv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,S=h.duration;if(d&&S&&Vv(v)){for(v=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],j=N.startTime;if(j>S)break;var X=N.transferSize,Z=N.initiatorType;X&&Vv(Z)&&(N=N.responseEnd,v+=X*(N<S?1:(S-j)/(N-j)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Od=null,xd=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function kv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Md(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vd=null;function iA(){var t=window.event;return t&&t.type==="popstate"?t===Vd?!1:(Vd=t,!0):(Vd=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,rA=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(t){return Pv.resolve(null).then(t).catch(aA)}:Uv;function aA(t){setTimeout(function(){throw t})}function ls(t){return t==="head"}function zv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ao(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[Oi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&wl(t.ownerDocument.body);a=h}while(a);ao(i)}function jv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),Sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function oA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Oi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=hi(t.nextSibling),t===null)break}return null}function lA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=hi(t.nextSibling),t===null))return null;return t}function Bv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=hi(t.nextSibling),t===null))return null;return t}function Ld(t){return t.data==="$?"||t.data==="$~"}function Ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function uA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function hi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Pd=null;function qv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return hi(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Hv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Fv(t,i,a){switch(i=Dc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Sa(t)}var fi=new Map,Gv=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ar=ne.d;ne.d={f:cA,r:hA,D:fA,C:dA,L:mA,m:gA,X:yA,S:pA,M:vA};function cA(){var t=Ar.f(),i=Tc();return t||i}function hA(t){var i=ti(t);i!==null&&i.tag===5&&i.type==="form"?ly(i):Ar.r(t)}var io=typeof document>"u"?null:document;function Qv(t,i,a){var l=io;if(l&&typeof i=="string"&&i){var h=Cn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Gv.has(h)||(Gv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),an(i,"link",t),Ot(i),l.head.appendChild(i)))}}function fA(t){Ar.D(t),Qv("dns-prefetch",t,null)}function dA(t,i){Ar.C(t,i),Qv("preconnect",t,i)}function mA(t,i,a){Ar.L(t,i,a);var l=io;if(l&&t&&i){var h='link[rel="preload"][as="'+Cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Cn(a.imageSizes)+'"]')):h+='[href="'+Cn(t)+'"]';var d=h;switch(i){case"style":d=ro(t);break;case"script":d=so(t)}fi.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),fi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Rl(d))||i==="script"&&l.querySelector(Cl(d))||(i=l.createElement("link"),an(i,"link",t),Ot(i),l.head.appendChild(i)))}}function gA(t,i){Ar.m(t,i);var a=io;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(t)}if(!fi.has(d)&&(t=T({rel:"modulepreload",href:t},i),fi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),an(l,"link",t),Ot(l),a.head.appendChild(l)}}}function pA(t,i,a){Ar.S(t,i,a);var l=io;if(l&&t){var h=Mi(l).hoistableStyles,d=ro(t);i=i||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Rl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=fi.get(d))&&zd(t,a);var N=v=l.createElement("link");Ot(N),an(N,"link",t),N._p=new Promise(function(j,X){N.onload=j,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Oc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function yA(t,i){Ar.X(t,i);var a=io;if(a&&t){var l=Mi(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=T({src:t,async:!0},i),(i=fi.get(h))&&jd(t,i),d=a.createElement("script"),Ot(d),an(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function vA(t,i){Ar.M(t,i);var a=io;if(a&&t){var l=Mi(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=fi.get(h))&&jd(t,i),d=a.createElement("script"),Ot(d),an(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Yv(t,i,a,l){var h=(h=ve.current)?Nc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=Mi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var d=Mi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Rl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),fi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},fi.set(t,a),d||_A(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=so(a),a=Mi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+Cn(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function Kv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function _A(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),an(i,"link",a),Ot(i),t.head.appendChild(i))}function so(t){return'[src="'+Cn(t)+'"]'}function Cl(t){return"script[async]"+t}function Xv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Cn(a.href)+'"]');if(l)return i.instance=l,Ot(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ot(l),an(l,"style",h),Oc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ro(a.href);var d=t.querySelector(Rl(h));if(d)return i.state.loading|=4,i.instance=d,Ot(d),d;l=Kv(a),(h=fi.get(h))&&zd(l,h),d=(t.ownerDocument||t).createElement("link"),Ot(d);var v=d;return v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),an(d,"link",l),i.state.loading|=4,Oc(d,a.precedence,t),i.instance=d;case"script":return d=so(a.src),(h=t.querySelector(Cl(d)))?(i.instance=h,Ot(h),h):(l=a,(h=fi.get(d))&&(l=T({},a),jd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),an(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Oc(l,a.precedence,t));return i.instance}function Oc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var xc=null;function $v(t,i,a){if(xc===null){var l=new Map,h=xc=new Map;h.set(a,l)}else h=xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Oi]||d[Nt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function Jv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function EA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Zv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function TA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ro(l.href),d=i.querySelector(Rl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Mc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Ot(d);return}d=i.ownerDocument||i,l=Kv(l),(h=fi.get(h))&&zd(l,h),d=d.createElement("link"),Ot(d);var v=d;v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),an(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Bd=0;function SA(t,i){return t.stylesheets&&t.count===0&&kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Bd===0&&(Bd=62500*nA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Bd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,i.forEach(bA,t),Vc=null,Mc.call(t))}function bA(t,i){if(!(i.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Il={$$typeof:te,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function AA(t,i,a,l,h,d,v,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Wv(t,i,a,l,h,d,v,S,N,j,X,Z){return t=new AA(t,i,a,v,N,j,X,Z,S),i=1,d===!0&&(i|=24),d=Gn(3,null,null,i),t.current=d,d.stateNode=t,i=Ef(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Af(d),t}function e_(t){return t?(t=La,t):La}function t_(t,i,a,l,h,d){h=e_(h),l.context===null?l.context=h:l.pendingContext=h,l=Jr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Zr(t,l,i),a!==null&&(Mn(a,t,i),al(a,t,i))}function n_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function qd(t,i){n_(t,i),(t=t.alternate)&&n_(t,i)}function i_(t){if(t.tag===13||t.tag===31){var i=Qs(t,67108864);i!==null&&Mn(i,t,67108864),qd(t,67108864)}}function r_(t){if(t.tag===13||t.tag===31){var i=$n();i=jn(i);var a=Qs(t,i);a!==null&&Mn(a,t,i),qd(t,i)}}var Lc=!0;function wA(t,i,a,l){var h=Q.T;Q.T=null;var d=ne.p;try{ne.p=2,Hd(t,i,a,l)}finally{ne.p=d,Q.T=h}}function RA(t,i,a,l){var h=Q.T;Q.T=null;var d=ne.p;try{ne.p=8,Hd(t,i,a,l)}finally{ne.p=d,Q.T=h}}function Hd(t,i,a,l){if(Lc){var h=Fd(l);if(h===null)Dd(t,i,l,Uc,a),a_(t,l);else if(IA(h,t,i,a,l))l.stopPropagation();else if(a_(t,l),i&4&&-1<CA.indexOf(t)){for(;h!==null;){var d=ti(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=mt(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var N=1<<31-dt(v);S.entanglements[1]|=N,v&=~N}Qi(d),($e&6)===0&&(_c=Ft()+500,Sl(0))}}break;case 31:case 13:S=Qs(d,2),S!==null&&Mn(S,d,2),Tc(),qd(d,2)}if(d=Fd(l),d===null&&Dd(t,i,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Dd(t,i,l,null,a)}}function Fd(t){return t=ni(t),Gd(t)}var Uc=null;function Gd(t){if(Uc=null,t=xi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Uc=t,null}function s_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case xs:return 2;case Wn:return 8;case _n:case rr:return 32;case Ms:return 268435456;default:return 32}default:return 32}}var Qd=!1,us=null,cs=null,hs=null,Dl=new Map,Nl=new Map,fs=[],CA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(t,i){switch(t){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Ol(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ti(i),i!==null&&i_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function IA(t,i,a,l,h){switch(i){case"focusin":return us=Ol(us,t,i,a,l,h),!0;case"dragenter":return cs=Ol(cs,t,i,a,l,h),!0;case"mouseover":return hs=Ol(hs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ol(Dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Ol(Nl.get(d)||null,t,i,a,l,h)),!0}return!1}function o_(t){var i=xi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,en(t.priority,function(){r_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,en(t.priority,function(){r_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Fd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fo=l,a.target.dispatchEvent(l),Fo=null}else return i=ti(a),i!==null&&i_(i),t.blockedOn=a,!1;i.shift()}return!0}function l_(t,i,a){Pc(t)&&a.delete(i)}function DA(){Qd=!1,us!==null&&Pc(us)&&(us=null),cs!==null&&Pc(cs)&&(cs=null),hs!==null&&Pc(hs)&&(hs=null),Dl.forEach(l_),Nl.forEach(l_)}function zc(t,i){t.blockedOn===i&&(t.blockedOn=null,Qd||(Qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DA)))}var jc=null;function u_(t){jc!==t&&(jc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Gd(l||a)===null)continue;break}var d=ti(a);d!==null&&(t.splice(i,3),i-=3,Ff(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ao(t){function i(N){return zc(N,t)}us!==null&&zc(us,t),cs!==null&&zc(cs,t),hs!==null&&zc(hs,t),Dl.forEach(i),Nl.forEach(i);for(var a=0;a<fs.length;a++){var l=fs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fs.length&&(a=fs[0],a.blockedOn===null);)o_(a),a.blockedOn===null&&fs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Qt]||null;if(typeof d=="function")v||u_(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Qt]||null)S=v.formAction;else if(Gd(h)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),u_(a)}}}function c_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Yd(t){this._internalRoot=t}Bc.prototype.render=Yd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=$n();t_(a,l,t,i,null,null)},Bc.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t_(t.current,2,null,t,null,null),Tc(),i[Ni]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Bn();t={blockedOn:null,target:t,priority:i};for(var a=0;a<fs.length&&i!==0&&i<fs[a].priority;a++);fs.splice(a,0,t),a===0&&o_(t)}};var h_=e.version;if(h_!=="19.2.1")throw Error(s(527,h_,"19.2.1"));ne.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var NA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{zn=qc.inject(NA),zt=qc}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=vy,d=_y,v=Ey;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Wv(t,1,!1,null,null,a,l,null,h,d,v,c_),t[Ni]=i.current,Id(t),new Yd(i)},Ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=vy,v=_y,S=Ey,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Wv(t,1,!0,i,a??null,l,h,N,d,v,S,c_),i.context=e_(null),a=i.current,l=$n(),l=jn(l),h=Jr(l),h.callback=null,Zr(a,h,l),a=l,i.current.lanes=a,Rn(i,a),Qi(i),t[Ni]=i.current,Id(t),new Bc(i)},Ml.version="19.2.1",Ml}var T_;function jA(){if(T_)return $d.exports;T_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$d.exports=zA(),$d.exports}var BA=jA();const qA=()=>{};var S_={};const dT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},HA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,V=y&63;p||(V=64,f||(C=64)),s.push(n[E],n[T],n[C],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(dT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):HA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new FA;const C=u<<2|m>>4;if(s.push(C),y!==64){const V=m<<4&240|y>>2;if(s.push(V),T!==64){const $=y<<6&192|T;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GA=function(r){const e=dT(r);return mT.encodeByteArray(e,!0)},lh=function(r){return GA(r).replace(/\./g,"")},gT=function(r){try{return mT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const YA=()=>QA().__FIREBASE_DEFAULTS__,KA=()=>{if(typeof process>"u"||typeof S_>"u")return;const r=S_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},XA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&gT(r[1]);return e&&JSON.parse(e)},xh=()=>{try{return qA()||YA()||KA()||XA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pT=r=>xh()?.emulatorHosts?.[r],$A=r=>{const e=pT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},yT=()=>xh()?.config,vT=r=>xh()?.[`_${r}`];class JA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function wo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _T(r){return(await fetch(r,{credentials:"include"})).ok}function ZA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const zl={};function WA(){const r={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?r.emulator.push(e):r.prod.push(e);return r}function e1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let b_=!1;function ET(r,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||zl[r]===e||zl[r]||b_)return;zl[r]=e;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=WA().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,V){C.setAttribute("width","24"),C.setAttribute("id",V),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{b_=!0,f()},C}function E(C,V){C.setAttribute("id",V),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function T(){const C=e1(s),V=n("text"),$=document.getElementById(V)||document.createElement("span"),Y=n("learnmore"),F=document.getElementById(Y)||document.createElement("a"),ie=n("preprendIcon"),se=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const te=C.element;m(te),E(F,Y);const ce=y();p(se,ie),te.append(se,$,F,ce),document.body.appendChild(te)}u?($.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function n1(){const r=xh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function s1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a1(){const r=vn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function o1(){return!n1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l1(){try{return typeof indexedDB=="object"}catch{return!1}}function u1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const c1="FirebaseError";class Mr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=c1,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?h1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Mr(o,m,s)}}function h1(r,e){return r.replace(f1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const f1=/\{\$([^}]+)}/g;function d1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ca(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(A_(u)&&A_(f)){if(!ca(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function A_(r){return r!==null&&typeof r=="object"}function cu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function m1(r,e){const n=new g1(r,e);return n.subscribe.bind(n)}class g1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");p1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function em(){}function pi(r){return r&&r._delegate?r._delegate:r}class ha{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class y1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new JA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_1(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:v1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v1(r){return r===sa?void 0:r}function _1(r){return r.instantiationMode==="EAGER"}class E1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new y1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const T1={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},S1=ze.INFO,b1={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},A1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=b1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=S1,this._logHandler=A1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const w1=(r,e)=>e.some(n=>r instanceof n);let w_,R_;function R1(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C1(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,ym=new WeakMap,ST=new WeakMap,tm=new WeakMap,Km=new WeakMap;function I1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&TT.set(n,r)}).catch(()=>{}),Km.set(e,r),e}function D1(r){if(ym.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ym.set(r,e)}let vm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ym.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ST.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function N1(r){vm=r(vm)}function O1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(nm(this),e,...n);return ST.set(s,e.sort?e.sort():[e]),Es(s)}:C1().includes(r)?function(...e){return r.apply(nm(this),e),Es(TT.get(this))}:function(...e){return Es(r.apply(nm(this),e))}}function x1(r){return typeof r=="function"?O1(r):(r instanceof IDBTransaction&&D1(r),w1(r,R1())?new Proxy(r,vm):r)}function Es(r){if(r instanceof IDBRequest)return I1(r);if(tm.has(r))return tm.get(r);const e=x1(r);return e!==r&&(tm.set(r,e),Km.set(e,r)),e}const nm=r=>Km.get(r);function M1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Es(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Es(f.result),p.oldVersion,p.newVersion,Es(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const V1=["get","getKey","getAll","getAllKeys","count"],k1=["put","add","delete","clear"],im=new Map;function C_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=k1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||V1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return im.set(e,u),u}N1(r=>({...r,get:(e,n,s)=>C_(e,n)||r.get(e,n,s),has:(e,n)=>!!C_(e,n)||r.has(e,n)}));class L1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function U1(r){return r.getComponent()?.type==="VERSION"}const _m="@firebase/app",I_="0.14.6";const Dr=new Ym("@firebase/app"),P1="@firebase/app-compat",z1="@firebase/analytics-compat",j1="@firebase/analytics",B1="@firebase/app-check-compat",q1="@firebase/app-check",H1="@firebase/auth",F1="@firebase/auth-compat",G1="@firebase/database",Q1="@firebase/data-connect",Y1="@firebase/database-compat",K1="@firebase/functions",X1="@firebase/functions-compat",$1="@firebase/installations",J1="@firebase/installations-compat",Z1="@firebase/messaging",W1="@firebase/messaging-compat",ew="@firebase/performance",tw="@firebase/performance-compat",nw="@firebase/remote-config",iw="@firebase/remote-config-compat",rw="@firebase/storage",sw="@firebase/storage-compat",aw="@firebase/firestore",ow="@firebase/ai",lw="@firebase/firestore-compat",uw="firebase",cw="12.6.0";const Em="[DEFAULT]",hw={[_m]:"fire-core",[P1]:"fire-core-compat",[j1]:"fire-analytics",[z1]:"fire-analytics-compat",[q1]:"fire-app-check",[B1]:"fire-app-check-compat",[H1]:"fire-auth",[F1]:"fire-auth-compat",[G1]:"fire-rtdb",[Q1]:"fire-data-connect",[Y1]:"fire-rtdb-compat",[K1]:"fire-fn",[X1]:"fire-fn-compat",[$1]:"fire-iid",[J1]:"fire-iid-compat",[Z1]:"fire-fcm",[W1]:"fire-fcm-compat",[ew]:"fire-perf",[tw]:"fire-perf-compat",[nw]:"fire-rc",[iw]:"fire-rc-compat",[rw]:"fire-gcs",[sw]:"fire-gcs-compat",[aw]:"fire-fst",[lw]:"fire-fst-compat",[ow]:"fire-vertex","fire-js":"fire-js",[uw]:"fire-js-all"};const uh=new Map,fw=new Map,Tm=new Map;function D_(r,e){try{r.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function yo(r){const e=r.name;if(Tm.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,r);for(const n of uh.values())D_(n,r);for(const n of fw.values())D_(n,r);return!0}function Xm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wi(r){return r==null?!1:r.settings!==void 0}const dw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new uu("app","Firebase",dw);class mw{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}const Ro=cw;function bT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Em,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ts.create("bad-app-name",{appName:String(o)});if(n||(n=yT()),!n)throw Ts.create("no-options");const u=uh.get(o);if(u){if(ca(n,u.options)&&ca(s,u.config))return u;throw Ts.create("duplicate-app",{appName:o})}const f=new E1(o);for(const p of Tm.values())f.addComponent(p);const m=new mw(n,s,f);return uh.set(o,m),m}function AT(r=Em){const e=uh.get(r);if(!e&&r===Em&&yT())return bT();if(!e)throw Ts.create("no-app",{appName:r});return e}function Ss(r,e,n){let s=hw[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(f.join(" "));return}yo(new ha(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const gw="firebase-heartbeat-database",pw=1,Xl="firebase-heartbeat-store";let rm=null;function wT(){return rm||(rm=M1(gw,pw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ts.create("idb-open",{originalErrorMessage:r.message})})),rm}async function yw(r){try{const n=(await wT()).transaction(Xl),s=await n.objectStore(Xl).get(RT(r));return await n.done,s}catch(e){if(e instanceof Mr)Dr.warn(e.message);else{const n=Ts.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(n.message)}}}async function N_(r,e){try{const s=(await wT()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,RT(r)),await s.done}catch(n){if(n instanceof Mr)Dr.warn(n.message);else{const s=Ts.create("idb-set",{originalErrorMessage:n?.message});Dr.warn(s.message)}}}function RT(r){return`${r.name}!${r.options.appId}`}const vw=1024,_w=30;class Ew{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=O_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>_w){const o=bw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=O_(),{heartbeatsToSend:n,unsentEntries:s}=Tw(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Dr.warn(e),""}}}function O_(){return new Date().toISOString().substring(0,10)}function Tw(r,e=vw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),x_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),x_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Sw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l1()?u1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return N_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return N_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function x_(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function bw(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function Aw(r){yo(new ha("platform-logger",e=>new L1(e),"PRIVATE")),yo(new ha("heartbeat",e=>new Ew(e),"PRIVATE")),Ss(_m,I_,r),Ss(_m,I_,"esm2020"),Ss("fire-js","")}Aw("");var ww="firebase",Rw="12.7.0";Ss(ww,Rw,"app");function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cw=CT,IT=new uu("auth","Firebase",CT());const ch=new Ym("@firebase/auth");function Iw(r,...e){ch.logLevel<=ze.WARN&&ch.warn(`Auth (${Ro}): ${r}`,...e)}function Jc(r,...e){ch.logLevel<=ze.ERROR&&ch.error(`Auth (${Ro}): ${r}`,...e)}function Wi(r,...e){throw Jm(r,...e)}function Ii(r,...e){return Jm(r,...e)}function $m(r,e,n){const s={...Cw(),[e]:n};return new uu("auth","Firebase",s).create(e,{appName:r.name})}function la(r){return $m(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dw(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Wi(r,"argument-error"),$m(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return IT.create(r,...e)}function be(r,e,...n){if(!r)throw Jm(e,...n)}function Rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Jc(e),new Error(e)}function Nr(r,e){r||Rr(e)}function Sm(){return typeof self<"u"&&self.location?.href||""}function Nw(){return M_()==="http:"||M_()==="https:"}function M_(){return typeof self<"u"&&self.location?.protocol||null}function Ow(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nw()||r1()||"connection"in navigator)?navigator.onLine:!0}function xw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=t1()||s1()}get(){return Ow()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zm(r,e){Nr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class DT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Vw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kw=new hu(3e4,6e4);function Wm(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Co(r,e,n,s,o={}){return NT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=cu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return i1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&wo(r.emulatorConfig.host)&&(y.credentials="include"),DT.fetch()(await OT(r,r.config.apiHost,n,m),y)})}async function NT(r,e,n){r._canInitEmulator=!1;const s={...Mw,...e};try{const o=new Uw(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Hc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Hc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Hc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw $m(r,E,y);Wi(r,E)}}catch(o){if(o instanceof Mr)throw o;Wi(r,"network-request-failed",{message:String(o)})}}async function Lw(r,e,n,s,o={}){const u=await Co(r,e,n,s,o);return"mfaPendingCredential"in u&&Wi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function OT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Zm(r.config,o):`${r.config.apiScheme}://${o}`;return Vw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class Uw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),kw.get())})}}function Hc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ii(r,e,s);return o.customData._tokenResponse=n,o}async function Pw(r,e){return Co(r,"POST","/v1/accounts:delete",e)}async function hh(r,e){return Co(r,"POST","/v1/accounts:lookup",e)}function jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zw(r,e=!1){const n=pi(r),s=await n.getIdToken(e),o=eg(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:jl(sm(o.auth_time)),issuedAtTime:jl(sm(o.iat)),expirationTime:jl(sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(r){return Number(r)*1e3}function eg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=gT(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function V_(r){const e=eg(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $l(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Mr&&jw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function jw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Bw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(r){const e=r.auth,n=await r.getIdToken(),s=await $l(r,hh(e,{idToken:n}));be(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?xT(o.providerUserInfo):[],f=Hw(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function qw(r){const e=pi(r);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hw(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function xT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Fw(r,e){const n=await NT(r,{},async()=>{const s=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await OT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&wo(r.emulatorConfig.host)&&(p.credentials="include"),DT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Gw(r,e){return Co(r,"POST","/v2/accounts:revokeToken",Wm(r,e))}class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=V_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Fw(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ho;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return Rr("not implemented")}}function ms(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ri{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Bw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await $l(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zw(this,e)}reload(){return qw(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(la(this.auth));const e=await this.getIdToken();return await $l(this,Pw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:C,isAnonymous:V,providerData:$,stsTokenManager:Y}=n;be(T&&Y,e,"internal-error");const F=ho.fromJSON(this.name,Y);be(typeof T=="string",e,"internal-error"),ms(s,e.name),ms(o,e.name),be(typeof C=="boolean",e,"internal-error"),be(typeof V=="boolean",e,"internal-error"),ms(u,e.name),ms(f,e.name),ms(m,e.name),ms(p,e.name),ms(y,e.name),ms(E,e.name);const ie=new Ri({uid:T,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:y,lastLoginAt:E});return $&&Array.isArray($)&&(ie.providerData=$.map(se=>({...se}))),p&&(ie._redirectEventId=p),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new ho;o.updateFromServerResponse(n);const u=new Ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await fh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?xT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ho;m.updateFromIdToken(s);const p=new Ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const k_=new Map;function Cr(r){Nr(r instanceof Function,"Expected a class definition");let e=k_.get(r);return e?(Nr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,k_.set(r,e),e)}class MT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MT.type="NONE";const L_=MT;function Zc(r,e,n){return`firebase:${r}:${e}:${n}`}class fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?Ri._fromGetAccountInfoResponse(this.auth,n,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new fo(Cr(L_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Cr(L_);const f=Zc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const C=await hh(e,{idToken:E}).catch(()=>{});if(!C)break;T=await Ri._fromGetAccountInfoResponse(e,C,E)}else T=Ri._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new fo(u,e,s))}}function U_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zT(e))return"Blackberry";if(jT(e))return"Webos";if(kT(e))return"Safari";if((e.includes("chrome/")||LT(e))&&!e.includes("edge/"))return"Chrome";if(PT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function VT(r=vn()){return/firefox\//i.test(r)}function kT(r=vn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LT(r=vn()){return/crios\//i.test(r)}function UT(r=vn()){return/iemobile/i.test(r)}function PT(r=vn()){return/android/i.test(r)}function zT(r=vn()){return/blackberry/i.test(r)}function jT(r=vn()){return/webos/i.test(r)}function tg(r=vn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Qw(r=vn()){return tg(r)&&!!window.navigator?.standalone}function Yw(){return a1()&&document.documentMode===10}function BT(r=vn()){return tg(r)||PT(r)||jT(r)||zT(r)||/windows phone/i.test(r)||UT(r)}function qT(r,e=[]){let n;switch(r){case"Browser":n=U_(vn());break;case"Worker":n=`${U_(vn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${s}`}class Kw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Xw(r,e={}){return Co(r,"GET","/v2/passwordPolicy",Wm(r,e))}const $w=6;class Jw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$w,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Zw{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P_(this),this.idTokenSubscription=new P_(this),this.beforeStateQueue=new Kw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),s=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wi(this.app))return Promise.reject(la(this));const n=e?pi(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(la(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wi(this.app)?Promise.reject(la(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xw(this),n=new Jw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Gw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Iw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Mh(r){return pi(r)}class P_{constructor(e){this.auth=e,this.observer=null,this.addObserver=m1(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ng={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ww(r){ng=r}function eR(r){return ng.loadJS(r)}function tR(){return ng.gapiScript}function nR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function iR(r,e){const n=Xm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ca(u,e??{}))return o;Wi(o,"already-initialized")}return n.initialize({options:e})}function rR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Cr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function sR(r,e,n){const s=Mh(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=HT(e),{host:f,port:m}=aR(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ca(y,s.config.emulator)&&ca(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,wo(f)?(_T(`${u}//${f}${p}`),ET("Auth",!0)):oR()}function HT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function aR(r){const e=HT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:z_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:z_(f)}}}function z_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function oR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class FT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}async function mo(r,e){return Lw(r,"POST","/v1/accounts:signInWithIdp",Wm(r,e))}const lR="http://localhost";class fa extends FT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new fa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:lR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}class ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fu extends ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ps extends fu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";class wr extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class ys extends fu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";class vs extends fu{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return vs.credential(n,s)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Ri._fromIdTokenResponse(e,s,o),f=j_(s);return new vo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=j_(s);return new vo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function j_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class dh extends Mr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new dh(e,n,s,o)}}function GT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(r,u,e,s):u})}async function uR(r,e,n=!1){const s=await $l(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return vo._forOperation(r,"link",s)}async function cR(r,e,n=!1){const{auth:s}=r;if(wi(s.app))return Promise.reject(la(s));const o="reauthenticate";try{const u=await $l(r,GT(s,o,e,r),n);be(u.idToken,s,"internal-error");const f=eg(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),vo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wi(s,"user-mismatch"),u}}async function hR(r,e,n=!1){if(wi(r.app))return Promise.reject(la(r));const s="signIn",o=await GT(r,s,e),u=await vo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function fR(r,e,n,s){return pi(r).onIdTokenChanged(e,n,s)}function dR(r,e,n){return pi(r).beforeAuthStateChanged(e,n)}function mR(r,e,n,s){return pi(r).onAuthStateChanged(e,n,s)}function gR(r){return pi(r).signOut()}const mh="__sak";class QT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pR=1e3,yR=10;class YT extends QT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Yw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,yR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},pR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YT.type="LOCAL";const vR=YT;class KT extends QT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KT.type="SESSION";const XT=KT;function _R(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Vh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await _R(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];function rg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class ER{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=rg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const C=T;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ki(){return window}function TR(r){Ki().location.href=r}function $T(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function SR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bR(){return navigator?.serviceWorker?.controller||null}function AR(){return $T()?self:null}const JT="firebaseLocalStorageDb",wR=1,gh="firebaseLocalStorage",ZT="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(r,e){return r.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function RR(){const r=indexedDB.deleteDatabase(JT);return new du(r).toPromise()}function Am(){const r=indexedDB.open(JT,wR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(gh,{keyPath:ZT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(gh)?e(s):(s.close(),await RR(),e(await Am()))})})}async function B_(r,e,n){const s=kh(r,!0).put({[ZT]:e,value:n});return new du(s).toPromise()}async function CR(r,e){const n=kh(r,!1).get(e),s=await new du(n).toPromise();return s===void 0?null:s.value}function q_(r,e){const n=kh(r,!0).delete(e);return new du(n).toPromise()}const IR=800,DR=3;class WT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>DR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(AR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SR(),!this.activeServiceWorker)return;this.sender=new ER(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await B_(e,mh,"1"),await q_(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>B_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>CR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=kh(o,!1).getAll();return new du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WT.type="LOCAL";const NR=WT;new hu(3e4,6e4);function e0(r,e){return e?Cr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class sg extends FT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OR(r){return hR(r.auth,new sg(r),r.bypassAuthState)}function xR(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),cR(n,new sg(r),r.bypassAuthState)}async function MR(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),uR(n,new sg(r),r.bypassAuthState)}class t0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return MR;case"reauthViaPopup":case"reauthViaRedirect":return xR;default:Wi(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const VR=new hu(2e3,1e4);async function kR(r,e,n){if(wi(r.app))return Promise.reject(Ii(r,"operation-not-supported-in-this-environment"));const s=Mh(r);Dw(r,e,ig);const o=e0(s,n);return new aa(s,"signInViaPopup",e,o).executeNotNull()}class aa extends t0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VR.get())};e()}}aa.currentPopupAction=null;const LR="pendingRedirect",Wc=new Map;class UR extends t0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await PR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PR(r,e){const n=BR(e),s=jR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function zR(r,e){Wc.set(r._key(),e)}function jR(r){return Cr(r._redirectPersistence)}function BR(r){return Zc(LR,r.config.apiKey,r.name)}async function qR(r,e,n=!1){if(wi(r.app))return Promise.reject(la(r));const s=Mh(r),o=e0(s,e),f=await new UR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const HR=600*1e3;class FR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!n0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HR&&this.cachedEventUids.clear(),this.cachedEventUids.has(H_(e))}saveEventToCache(e){this.cachedEventUids.add(H_(e)),this.lastProcessedEventTime=Date.now()}}function H_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function n0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function GR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n0(r);default:return!1}}async function QR(r,e={}){return Co(r,"GET","/v1/projects",e)}const YR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KR=/^https?/;async function XR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await QR(r);for(const n of e)try{if($R(n))return}catch{}Wi(r,"unauthorized-domain")}function $R(r){const e=Sm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!KR.test(n))return!1;if(YR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const JR=new hu(3e4,6e4);function F_(){const r=Ki().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function ZR(r){return new Promise((e,n)=>{function s(){F_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F_(),n(Ii(r,"network-request-failed"))},timeout:JR.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)s();else{const o=nR("iframefcb");return Ki()[o]=()=>{gapi.load?s():n(Ii(r,"network-request-failed"))},eR(`${tR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw eh=null,e})}let eh=null;function WR(r){return eh=eh||ZR(r),eh}const eC=new hu(5e3,15e3),tC="__/auth/iframe",nC="emulator/auth/iframe",iC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sC(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Zm(e,nC):`https://${r.config.authDomain}/${tC}`,s={apiKey:e.apiKey,appName:r.name,v:Ro},o=rC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${cu(s).slice(1)}`}async function aC(r){const e=await WR(r),n=Ki().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:sC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ii(r,"network-request-failed"),m=Ki().setTimeout(()=>{u(f)},eC.get());function p(){Ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const oC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lC=500,uC=600,cC="_blank",hC="http://localhost";class G_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fC(r,e,n,s=lC,o=uC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...oC,width:s.toString(),height:o.toString(),top:u,left:f},y=vn().toLowerCase();n&&(m=LT(y)?cC:n),VT(y)&&(e=e||hC,p.scrollbars="yes");const E=Object.entries(p).reduce((C,[V,$])=>`${C}${V}=${$},`,"");if(Qw(y)&&m!=="_self")return dC(e||"",m),new G_(null);const T=window.open(e||"",m,E);be(T,r,"popup-blocked");try{T.focus()}catch{}return new G_(T)}function dC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const mC="__/auth/handler",gC="emulator/auth/handler",pC=encodeURIComponent("fac");async function Q_(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ro,eventId:o};if(e instanceof ig){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",d1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof fu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${pC}=${encodeURIComponent(p)}`:"";return`${yC(r)}?${cu(m).slice(1)}${y}`}function yC({config:r}){return r.emulator?Zm(r,gC):`https://${r.authDomain}/${mC}`}const am="webStorageSupport";class vC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XT,this._completeRedirectFn=qR,this._overrideRedirectResult=zR}async _openPopup(e,n,s,o){Nr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Q_(e,n,s,Sm(),o);return fC(e,u,rg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Q_(e,n,s,Sm(),o);return TR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await aC(e),s=new FR(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},o=>{const u=o?.[0]?.[am];u!==void 0&&n(!!u),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BT()||kT()||tg()}}const _C=vC;var Y_="@firebase/auth",K_="1.12.0";class EC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SC(r){yo(new ha("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qT(r)},y=new Zw(s,o,u,p);return rR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yo(new ha("auth-internal",e=>{const n=Mh(e.getProvider("auth").getImmediate());return(s=>new EC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(Y_,K_,TC(r)),Ss(Y_,K_,"esm2020")}const bC=300,AC=vT("authIdTokenMaxAge")||bC;let X_=null;const wC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>AC)return;const o=n?.token;X_!==o&&(X_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RC(r=AT()){const e=Xm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=iR(r,{popupRedirectResolver:_C,persistence:[NR,vR,XT]}),s=vT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=wC(u.toString());dR(n,f,()=>f(n.currentUser)),fR(n,m=>f(m))}}const o=pT("auth");return o&&sR(n,`http://${o}`),n}function CC(){return document.getElementsByTagName("head")?.[0]??document}Ww({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",CC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SC("Browser");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bs,i0;(function(){var r;function e(R,A){function w(){}w.prototype=A.prototype,R.F=A.prototype,R.prototype=new w,R.prototype.constructor=R,R.D=function(O,D,k){for(var I=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)I[ge-2]=arguments[ge];return A.prototype[D].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,w){w||(w=0);const O=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)O[D]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(D=0;D<16;++D)O[D]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=R.g[0],w=R.g[1],D=R.g[2];let k=R.g[3],I;I=A+(k^w&(D^k))+O[0]+3614090360&4294967295,A=w+(I<<7&4294967295|I>>>25),I=k+(D^A&(w^D))+O[1]+3905402710&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(w^k&(A^w))+O[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=w+(A^D&(k^A))+O[3]+3250441966&4294967295,w=D+(I<<22&4294967295|I>>>10),I=A+(k^w&(D^k))+O[4]+4118548399&4294967295,A=w+(I<<7&4294967295|I>>>25),I=k+(D^A&(w^D))+O[5]+1200080426&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(w^k&(A^w))+O[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=w+(A^D&(k^A))+O[7]+4249261313&4294967295,w=D+(I<<22&4294967295|I>>>10),I=A+(k^w&(D^k))+O[8]+1770035416&4294967295,A=w+(I<<7&4294967295|I>>>25),I=k+(D^A&(w^D))+O[9]+2336552879&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(w^k&(A^w))+O[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=w+(A^D&(k^A))+O[11]+2304563134&4294967295,w=D+(I<<22&4294967295|I>>>10),I=A+(k^w&(D^k))+O[12]+1804603682&4294967295,A=w+(I<<7&4294967295|I>>>25),I=k+(D^A&(w^D))+O[13]+4254626195&4294967295,k=A+(I<<12&4294967295|I>>>20),I=D+(w^k&(A^w))+O[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=w+(A^D&(k^A))+O[15]+1236535329&4294967295,w=D+(I<<22&4294967295|I>>>10),I=A+(D^k&(w^D))+O[1]+4129170786&4294967295,A=w+(I<<5&4294967295|I>>>27),I=k+(w^D&(A^w))+O[6]+3225465664&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^w&(k^A))+O[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=w+(k^A&(D^k))+O[0]+3921069994&4294967295,w=D+(I<<20&4294967295|I>>>12),I=A+(D^k&(w^D))+O[5]+3593408605&4294967295,A=w+(I<<5&4294967295|I>>>27),I=k+(w^D&(A^w))+O[10]+38016083&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^w&(k^A))+O[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=w+(k^A&(D^k))+O[4]+3889429448&4294967295,w=D+(I<<20&4294967295|I>>>12),I=A+(D^k&(w^D))+O[9]+568446438&4294967295,A=w+(I<<5&4294967295|I>>>27),I=k+(w^D&(A^w))+O[14]+3275163606&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^w&(k^A))+O[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=w+(k^A&(D^k))+O[8]+1163531501&4294967295,w=D+(I<<20&4294967295|I>>>12),I=A+(D^k&(w^D))+O[13]+2850285829&4294967295,A=w+(I<<5&4294967295|I>>>27),I=k+(w^D&(A^w))+O[2]+4243563512&4294967295,k=A+(I<<9&4294967295|I>>>23),I=D+(A^w&(k^A))+O[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=w+(k^A&(D^k))+O[12]+2368359562&4294967295,w=D+(I<<20&4294967295|I>>>12),I=A+(w^D^k)+O[5]+4294588738&4294967295,A=w+(I<<4&4294967295|I>>>28),I=k+(A^w^D)+O[8]+2272392833&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^w)+O[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=w+(D^k^A)+O[14]+4259657740&4294967295,w=D+(I<<23&4294967295|I>>>9),I=A+(w^D^k)+O[1]+2763975236&4294967295,A=w+(I<<4&4294967295|I>>>28),I=k+(A^w^D)+O[4]+1272893353&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^w)+O[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=w+(D^k^A)+O[10]+3200236656&4294967295,w=D+(I<<23&4294967295|I>>>9),I=A+(w^D^k)+O[13]+681279174&4294967295,A=w+(I<<4&4294967295|I>>>28),I=k+(A^w^D)+O[0]+3936430074&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^w)+O[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=w+(D^k^A)+O[6]+76029189&4294967295,w=D+(I<<23&4294967295|I>>>9),I=A+(w^D^k)+O[9]+3654602809&4294967295,A=w+(I<<4&4294967295|I>>>28),I=k+(A^w^D)+O[12]+3873151461&4294967295,k=A+(I<<11&4294967295|I>>>21),I=D+(k^A^w)+O[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=w+(D^k^A)+O[2]+3299628645&4294967295,w=D+(I<<23&4294967295|I>>>9),I=A+(D^(w|~k))+O[0]+4096336452&4294967295,A=w+(I<<6&4294967295|I>>>26),I=k+(w^(A|~D))+O[7]+1126891415&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~w))+O[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=w+(k^(D|~A))+O[5]+4237533241&4294967295,w=D+(I<<21&4294967295|I>>>11),I=A+(D^(w|~k))+O[12]+1700485571&4294967295,A=w+(I<<6&4294967295|I>>>26),I=k+(w^(A|~D))+O[3]+2399980690&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~w))+O[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=w+(k^(D|~A))+O[1]+2240044497&4294967295,w=D+(I<<21&4294967295|I>>>11),I=A+(D^(w|~k))+O[8]+1873313359&4294967295,A=w+(I<<6&4294967295|I>>>26),I=k+(w^(A|~D))+O[15]+4264355552&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~w))+O[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=w+(k^(D|~A))+O[13]+1309151649&4294967295,w=D+(I<<21&4294967295|I>>>11),I=A+(D^(w|~k))+O[4]+4149444226&4294967295,A=w+(I<<6&4294967295|I>>>26),I=k+(w^(A|~D))+O[11]+3174756917&4294967295,k=A+(I<<10&4294967295|I>>>22),I=D+(A^(k|~w))+O[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=w+(k^(D|~A))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+k&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const w=A-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<A;){if(D==0)for(;k<=w;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<A;)if(O[D++]=R.charCodeAt(k++),D==this.blockSize){o(this,O),D=0;break}}else for(;k<A;)if(O[D++]=R[k++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var w=R.length-8;w<R.length;++w)R[w]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)R[A++]=this.g[w]>>>O&255;return R};function u(R,A){var w=m;return Object.prototype.hasOwnProperty.call(w,R)?w[R]:w[R]=A(R)}function f(R,A){this.h=A;const w=[];let O=!0;for(let D=R.length-1;D>=0;D--){const k=R[D]|0;O&&k==A||(w[D]=k,O=!1)}this.g=w}var m={};function p(R){return-128<=R&&R<128?u(R,function(A){return new f([A|0],A<0?-1:0)}):new f([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return F(y(-R));const A=[];let w=1;for(let O=0;R>=w;O++)A[O]=R/w|0,w*=4294967296;return new f(A,0)}function E(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return F(E(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(A,8));let O=T;for(let k=0;k<R.length;k+=8){var D=Math.min(8,R.length-k);const I=parseInt(R.substring(k,k+D),A);D<8?(D=y(Math.pow(A,D)),O=O.j(D).add(y(I))):(O=O.j(w),O=O.add(y(I)))}return O}var T=p(0),C=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-F(this).m();let R=0,A=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);R+=(O>=0?O:4294967296+O)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if($(this))return"0";if(Y(this))return"-"+F(this).toString(R);const A=y(Math.pow(R,6));var w=this;let O="";for(;;){const D=ce(w,A).g;w=ie(w,D.j(A));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(R);if(w=D,$(w))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function $(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function Y(R){return R.h==-1}r.l=function(R){return R=ie(this,R),Y(R)?-1:$(R)?0:1};function F(R){const A=R.g.length,w=[];for(let O=0;O<A;O++)w[O]=~R.g[O];return new f(w,~R.h).add(C)}r.abs=function(){return Y(this)?F(this):this},r.add=function(R){const A=Math.max(this.g.length,R.g.length),w=[];let O=0;for(let D=0;D<=A;D++){let k=O+(this.i(D)&65535)+(R.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);O=I>>>16,k&=65535,I&=65535,w[D]=I<<16|k}return new f(w,w[w.length-1]&-2147483648?-1:0)};function ie(R,A){return R.add(F(A))}r.j=function(R){if($(this)||$(R))return T;if(Y(this))return Y(R)?F(this).j(F(R)):F(F(this).j(R));if(Y(R))return F(this.j(F(R)));if(this.l(V)<0&&R.l(V)<0)return y(this.m()*R.m());const A=this.g.length+R.g.length,w=[];for(var O=0;O<2*A;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<R.g.length;D++){const k=this.i(O)>>>16,I=this.i(O)&65535,ge=R.i(D)>>>16,xe=R.i(D)&65535;w[2*O+2*D]+=I*xe,se(w,2*O+2*D),w[2*O+2*D+1]+=k*xe,se(w,2*O+2*D+1),w[2*O+2*D+1]+=I*ge,se(w,2*O+2*D+1),w[2*O+2*D+2]+=k*ge,se(w,2*O+2*D+2)}for(R=0;R<A;R++)w[R]=w[2*R+1]<<16|w[2*R];for(R=A;R<2*A;R++)w[R]=0;return new f(w,0)};function se(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function te(R,A){this.g=R,this.h=A}function ce(R,A){if($(A))throw Error("division by zero");if($(R))return new te(T,T);if(Y(R))return A=ce(F(R),A),new te(F(A.g),F(A.h));if(Y(A))return A=ce(R,F(A)),new te(F(A.g),A.h);if(R.g.length>30){if(Y(R)||Y(A))throw Error("slowDivide_ only works with positive integers.");for(var w=C,O=A;O.l(R)<=0;)w=fe(w),O=fe(O);var D=le(w,1),k=le(O,1);for(O=le(O,2),w=le(w,2);!$(O);){var I=k.add(O);I.l(R)<=0&&(D=D.add(w),k=I),O=le(O,1),w=le(w,1)}return A=ie(R,D.j(A)),new te(D,A)}for(D=T;R.l(A)>=0;){for(w=Math.max(1,Math.floor(R.m()/A.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=y(w),I=k.j(A);Y(I)||I.l(R)>0;)w-=O,k=y(w),I=k.j(A);$(k)&&(k=C),D=D.add(k),R=ie(R,I)}return new te(D,R)}r.B=function(R){return ce(this,R).h},r.and=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let O=0;O<A;O++)w[O]=this.i(O)&R.i(O);return new f(w,this.h&R.h)},r.or=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let O=0;O<A;O++)w[O]=this.i(O)|R.i(O);return new f(w,this.h|R.h)},r.xor=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let O=0;O<A;O++)w[O]=this.i(O)^R.i(O);return new f(w,this.h^R.h)};function fe(R){const A=R.g.length+1,w=[];for(let O=0;O<A;O++)w[O]=R.i(O)<<1|R.i(O-1)>>>31;return new f(w,R.h)}function le(R,A){const w=A>>5;A%=32;const O=R.g.length-w,D=[];for(let k=0;k<O;k++)D[k]=A>0?R.i(k+w)>>>A|R.i(k+w+1)<<32-A:R.i(k+w);return new f(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,i0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,bs=f}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var r0,Vl,s0,th,wm,a0,o0,l0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var P=c[b];if(!(P in _))break e;_=_[P]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var _=[],b;for(b in g)Object.prototype.hasOwnProperty.call(g,b)&&_.push([b,g[b]]);return _}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,_){return c.call.apply(c.bind,arguments)}function y(c,g,_){return y=p,y.apply(null,arguments)}function E(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function T(c,g){function _(){}_.prototype=g.prototype,c.Z=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(b,P,H){for(var ae=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ae[Ie-2]=arguments[Ie];return g.prototype[P].apply(b,ae)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const g=c.length;if(g>0){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function $(c,g){for(let b=1;b<arguments.length;b++){const P=arguments[b];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=c.length||0;const H=P.length||0;c.length=_+H;for(let ae=0;ae<H;ae++)c[_+ae]=P[ae]}else c.push(P)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(c){f.setTimeout(()=>{throw c},0)}function ie(){var c=R;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class se{constructor(){this.h=this.g=null}add(g,_){const b=te.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var te=new Y(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,le=!1,R=new se,A=()=>{const c=Promise.resolve(void 0);fe=()=>{c.then(w)}};function w(){for(var c;c=ie();){try{c.h.call(c.g)}catch(_){F(_)}var g=te;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}le=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ge(c,g){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(ge,D),ge.prototype.init=function(c,g){const _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(_=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ne(c,g,_,b,P){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=P,this.key=++Q,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ce(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function qe(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function x(c){const g={};for(const _ in c)g[_]=c[_];return g}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,g){let _,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(_ in b)c[_]=b[_];for(let H=0;H<K.length;H++)_=K[H],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,g,_,b,P){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ae=ve(c,g,b,P);return ae>-1?(g=c[ae],_||(g.fa=!1)):(g=new ne(g,this.src,H,!!b,P),g.fa=_,c.push(g)),g};function _e(c,g){const _=g.type;if(_ in c.g){var b=c.g[_],P=Array.prototype.indexOf.call(b,g,void 0),H;(H=P>=0)&&Array.prototype.splice.call(b,P,1),H&&(me(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ve(c,g,_,b){for(let P=0;P<c.length;++P){const H=c[P];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==b)return P}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),tt={};function Ge(c,g,_,b,P){if(Array.isArray(g)){for(let H=0;H<g.length;H++)Ge(c,g[H],_,b,P);return null}return _=kr(_),c&&c[xe]?c.J(g,_,m(b)?!!b.capture:!1,P):Le(c,g,_,!1,b,P)}function Le(c,g,_,b,P,H){if(!g)throw Error("Invalid event type");const ae=m(P)?!!P.capture:!!P;let Ie=wn(c);if(Ie||(c[Oe]=Ie=new oe(c)),_=Ie.add(g,_,b,ae,H),_.proxy)return _;if(b=Jn(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)k||(P=ae),P===void 0&&(P=!1),c.addEventListener(g.toString(),b,P);else if(c.attachEvent)c.attachEvent(It(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Jn(){function c(_){return g.call(c.src,c.listener,_)}const g=Zn;return c}function Wt(c,g,_,b,P){if(Array.isArray(g))for(var H=0;H<g.length;H++)Wt(c,g[H],_,b,P);else b=m(b)?!!b.capture:!!b,_=kr(_),c&&c[xe]?(c=c.i,H=String(g).toString(),H in c.g&&(g=c.g[H],_=ve(g,_,b,P),_>-1&&(me(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete c.g[H],c.h--)))):c&&(c=wn(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ve(g,_,b,P)),(_=c>-1?g[c]:null)&&Ln(_))}function Ln(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[xe])_e(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(It(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=wn(g))?(_e(_,c),_.h==0&&(_.src=null,g[Oe]=null)):me(c)}}}function It(c){return c in tt?tt[c]:tt[c]="on"+c}function Zn(c,g){if(c.da)c=!0;else{g=new ge(g,this);const _=c.listener,b=c.ha||c.src;c.fa&&Ln(c),c=_.call(b,g)}return c}function wn(c){return c=c[Oe],c instanceof oe?c:null}var Vr="__closure_events_fn_"+(Math.random()*1e9>>>0);function kr(c){return typeof c=="function"?c:(c[Vr]||(c[Vr]=function(g){return c.handleEvent(g)}),c[Vr])}function ft(){O.call(this),this.i=new oe(this),this.M=this,this.G=null}T(ft,O),ft.prototype[xe]=!0,ft.prototype.removeEventListener=function(c,g,_,b){Wt(this,c,g,_,b)};function nt(c,g){var _,b=c.G;if(b)for(_=[];b;b=b.G)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new D(g,c);else if(g instanceof D)g.target=g.target||c;else{var P=g;g=new D(b,c),re(g,P)}P=!0;let H,ae;if(_)for(ae=_.length-1;ae>=0;ae--)H=g.g=_[ae],P=Un(H,b,!0,g)&&P;if(H=g.g=c,P=Un(H,b,!0,g)&&P,P=Un(H,b,!1,g)&&P,_)for(ae=0;ae<_.length;ae++)H=g.g=_[ae],P=Un(H,b,!1,g)&&P}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const _=c.g[g];for(let b=0;b<_.length;b++)me(_[b]);delete c.g[g],c.h--}}this.G=null},ft.prototype.J=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},ft.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function Un(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let H=0;H<g.length;++H){const ae=g[H];if(ae&&!ae.da&&ae.capture==_){const Ie=ae.listener,At=ae.ha||ae.src;ae.fa&&_e(c.i,ae),P=Ie.call(At,b)!==!1&&P}}return P&&!b.defaultPrevented}function Lr(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Os(c){c.g=Lr(()=>{c.g=null,c.i&&(c.i=!1,Os(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ft extends O{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(c){O.call(this),this.h=c,this.g={}}T(ir,O);var xs=[];function Wn(c){Ce(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ln(g)},c),c.g={}}ir.prototype.N=function(){ir.Z.N.call(this),Wn(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=f.JSON.stringify,rr=f.JSON.parse,Ms=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Pn(){}function Vs(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}T(zt,D);function cn(){D.call(this,"c")}T(cn,D);var dt={},_a=null;function sr(){return _a=_a||new ft}dt.Ia="serverreachability";function Ea(c){D.call(this,dt.Ia,c)}T(Ea,D);function ei(c){const g=sr();nt(g,new Ea(g))}dt.STAT_EVENT="statevent";function ar(c,g){D.call(this,dt.STAT_EVENT,c),this.stat=g}T(ar,D);function Me(c){const g=sr();nt(g,new ar(g,c))}dt.Ja="timingevent";function mt(c,g){D.call(this,dt.Ja,c),this.size=g}T(mt,D);function gt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Dt(){this.g=!0}Dt.prototype.ua=function(){this.g=!1};function hn(c,g,_,b,P,H){c.info(function(){if(c.g)if(H){var ae="",Ie=H.split("&");for(let Xe=0;Xe<Ie.length;Xe++){var At=Ie[Xe].split("=");if(At.length>1){const pt=At[0];At=At[1];const ri=pt.split("_");ae=ri.length>=2&&ri[1]=="type"?ae+(pt+"="+At+"&"):ae+(pt+"=redacted&")}}}else ae=null;else ae=H;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+g+`
`+_+`
`+ae})}function Gt(c,g,_,b,P,H,ae){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+g+`
`+_+`
`+H+" "+ae})}function St(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+bt(c,_)+(b?" "+b:"")})}function Rn(c,g){c.info(function(){return"TIMEOUT: "+g})}Dt.prototype.info=function(){};function bt(c,g){if(!c.g)return g;if(!g)return null;try{const H=JSON.parse(g);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var _=H[c];if(!(_.length<2)){var b=_[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ae=1;ae<b.length;ae++)b[ae]=""}}}}return _n(H)}catch{return g}}var fn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},En;function jn(){}T(jn,Pn),jn.prototype.g=function(){return new XMLHttpRequest},En=new jn;function Tn(c){return encodeURIComponent(String(c))}function Bn(c){var g=1;c=c.split(":");const _=[];for(;g>0&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function en(c,g,_,b){this.j=c,this.i=g,this.l=_,this.S=b||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Sn}function Sn(){this.i=null,this.g="",this.h=!1}var Nt={},Qt={};function Ni(c,g,_){c.M=1,c.A=ks(xt(g)),c.u=_,c.R=!0,Ta(c,null)}function Ta(c,g){c.F=Date.now(),Oi(c),c.B=xt(c.A);var _=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),wa(_.i,"t",b),c.C=0,_=c.j.L,c.h=new Sn,c.g=Lu(c.j,_?g:null,!c.u),c.P>0&&(c.O=new Ft(y(c.Y,c,c.g),c.P)),g=c.V,_=c.g,b=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(xs[0]=P.toString()),P=xs);for(let H=0;H<P.length;H++){const ae=Ge(_,P[H],b||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ei(),hn(c.i,c.v,c.B,c.l,c.S,c.u)}en.prototype.ba=function(c){c=c.target;const g=this.O;g&&_i(c)==3?g.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=_i(this.g),At=this.g.ya(),Xe=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ie!=4||At==7||(At==8||Xe<=0?ei(3):ei(2)),xi(this);var g=this.g.ca();this.X=g;var _=Wh(this);if(this.o=g==200,Gt(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var H=b;break t}}H=null}if(c=H)St(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mi(this,c);else{this.o=!1,this.m=3,Me(12),qn(this),ti(this);break e}}if(this.R){c=!0;let pt;for(;!this.K&&this.C<_.length;)if(pt=bu(this,_),pt==Qt){Ie==4&&(this.m=4,Me(14),c=!1),St(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Nt){this.m=4,Me(15),St(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else St(this.i,this.l,pt,null),Mi(this,pt);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||_.length!=0||this.h.h||(this.m=1,Me(16),c=!1),this.o=this.o&&c,!c)St(this.i,this.l,_,"[Invalid Chunked Response]"),qn(this),ti(this);else if(_.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Xo(ae),ae.P=!0,Me(11))}}else St(this.i,this.l,_,null),Mi(this,_);Ie==4&&qn(this),this.o&&!this.K&&(Ie==4?xu(this.j,this):(this.o=!1,Oi(this)))}else lr(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,Me(12)):(this.m=0,Me(13)),qn(this),ti(this)}}}catch{}finally{}};function Wh(c){if(!Su(c))return c.g.la();const g=tn(c.g);if(g==="")return"";let _="";const b=g.length,P=_i(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return qn(c),ti(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<b;H++)c.h.h=!0,_+=c.h.i.decode(g[H],{stream:!(P&&H==b-1)});return g.length=0,c.h.g+=_,c.C=0,c.h.g}function Su(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bu(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?Qt:(_=Number(g.substring(_,b)),isNaN(_)?Nt:(b+=1,b+_>g.length?Qt:(g=g.slice(b,b+_),c.C=b+_,g)))}en.prototype.cancel=function(){this.K=!0,qn(this)};function Oi(c){c.T=Date.now()+c.H,Sa(c,c.H)}function Sa(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gt(y(c.aa,c),g)}function xi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}en.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Rn(this.i,this.B),this.M!=2&&(ei(),Me(17)),qn(this),this.m=2,ti(this)):Sa(this,this.T-c)};function ti(c){c.j.I==0||c.K||xu(c.j,c)}function qn(c){xi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Wn(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Mi(c,g){try{var _=c.j;if(_.I!=0&&(_.g==c||ki(_.h,c))){if(!c.L&&ki(_.h,c)&&_.I==3){try{var b=_.Ba.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Na(_),Fr(_);else break e;qs(_),Me(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=gt(y(_.Va,_),6e3));Vi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Bi(_,11)}else if((c.L||_.g==c)&&Na(_),!I(g))for(P=_.Ba.g.parse(g),g=0;g<P.length;g++){let Xe=P[g];const pt=Xe[0];if(!(pt<=_.K))if(_.K=pt,Xe=Xe[1],_.I==2)if(Xe[0]=="c"){_.M=Xe[1],_.ba=Xe[2];const ri=Xe[3];ri!=null&&(_.ka=ri,_.j.info("VER="+_.ka));const qi=Xe[4];qi!=null&&(_.za=qi,_.j.info("SVER="+_.za));const Ei=Xe[5];Ei!=null&&typeof Ei=="number"&&Ei>0&&(b=1.5*Ei,_.O=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ti=c.g;if(Ti){const Hs=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var H=b.h;H.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Uo(H,H.h),H.h=null))}if(b.G){const Oa=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(b.wa=Oa,Ze(b.J,b.G,Oa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),b=_;var ae=c;if(b.na=ku(b,b.L?b.ba:null,b.W),ae.L){Po(b.h,ae);var Ie=ae,At=b.O;At&&(Ie.H=At),Ie.D&&(xi(Ie),Oi(Ie)),b.g=ae}else Nu(b);_.i.length>0&&ji(_)}else Xe[0]!="stop"&&Xe[0]!="close"||Bi(_,7);else _.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Bi(_,7):Yo(_):Xe[0]!="noop"&&_.l&&_.l.qa(Xe),_.A=0)}}ei(4)}catch{}}var Ot=class{constructor(c,g){this.g=c,this.map=g}};function ko(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Vi(c){return c.h?1:c.g?c.g.size:0}function ki(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Uo(c,g){c.g?c.g.add(g):c.h=g}function Po(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ko.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.G);return g}return V(c.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,g){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const b=c[_].indexOf("=");let P,H=null;b>=0?(P=c[_].substring(0,b),H=c[_].substring(b+1)):P=c[_],g(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Hn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Hn?(this.l=c.l,Yt(this,c.j),this.o=c.o,this.g=c.g,Ur(this,c.u),this.h=c.h,jo(this,Iu(c.i)),this.m=c.m):c&&(g=String(c).match(Au))?(this.l=!1,Yt(this,g[1]||"",!0),this.o=Li(g[2]||""),this.g=Li(g[3]||"",!0),Ur(this,g[4]),this.h=Li(g[5]||"",!0),jo(this,g[6]||"",!0),this.m=Li(g[7]||"")):(this.l=!1,this.i=new zr(null,this.l))}Hn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ls(g,Aa,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ls(g,Aa,!0),"@"),c.push(Tn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ls(_,_.charAt(0)=="/"?Bo:wu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ls(_,Ru)),c.join("")},Hn.prototype.resolve=function(c){const g=xt(this);let _=!!c.j;_?Yt(g,c.j):_=!!c.o,_?g.o=c.o:_=!!c.g,_?g.g=c.g:_=c.u!=null;var b=c.h;if(_)Ur(g,c.u);else if(_=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=g.h.lastIndexOf("/");P!=-1&&(b=g.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let ae=0;ae<P.length;){const Ie=P[ae++];Ie=="."?b&&ae==P.length&&H.push(""):Ie==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&ae==P.length&&H.push("")):(H.push(Ie),b=!0)}b=H.join("/")}else b=P}return _?g.h=b:_=c.i.toString()!=="",_?jo(g,Iu(c.i)):_=!!c.m,_&&(g.m=c.m),g};function xt(c){return new Hn(c)}function Yt(c,g,_){c.j=_?Li(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ur(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function jo(c,g,_){g instanceof zr?(c.i=g,Ra(c.i,c.l)):(_||(g=Ls(g,Pr)),c.i=new zr(g,c.l))}function Ze(c,g,_){c.i.set(g,_)}function ks(c){return Ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Li(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ls(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Cn),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Aa=/[#\/\?@]/g,wu=/[#\?:]/g,Bo=/[#\?]/g,Pr=/[#\?@]/g,Ru=/#/g;function zr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=zr.prototype,r.add=function(c,g){In(this),this.i=null,c=jr(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Cu(c,g){In(c),g=jr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function qo(c,g){return In(c),g=jr(c,g),c.g.has(g)}r.forEach=function(c,g){In(this),this.g.forEach(function(_,b){_.forEach(function(P){c.call(g,P,b,this)},this)},this)};function Ho(c,g){In(c);let _=[];if(typeof g=="string")qo(c,g)&&(_=_.concat(c.g.get(jr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)_=_.concat(c[g]);return _}r.set=function(c,g){return In(this),this.i=null,c=jr(this,c),qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Ho(this,c),c.length>0?String(c[0]):g):g};function wa(c,g,_){Cu(c,g),_.length>0&&(c.i=null,c.g.set(jr(c,g),V(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let b=0;b<g.length;b++){var _=g[b];const P=Tn(_);_=Ho(this,_);for(let H=0;H<_.length;H++){let ae=P;_[H]!==""&&(ae+="="+Tn(_[H])),c.push(ae)}}return this.i=c.join("&")};function Iu(c){const g=new zr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function jr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ra(c,g){g&&!c.j&&(In(c),c.i=null,c.g.forEach(function(_,b){const P=b.toLowerCase();b!=P&&(Cu(this,b),wa(this,P,_))},c)),c.j=g}function yi(c,g){const _=new Dt;if(f.Image){const b=new Image;b.onload=E(ni,_,"TestLoadImage: loaded",!0,g,b),b.onerror=E(ni,_,"TestLoadImage: error",!1,g,b),b.onabort=E(ni,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=E(ni,_,"TestLoadImage: timeout",!1,g,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Fo(c,g){const _=new Dt,b=new AbortController,P=setTimeout(()=>{b.abort(),ni(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(H=>{clearTimeout(P),H.ok?ni(_,"TestPingServer: ok",!0,g):ni(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),ni(_,"TestPingServer: error",!1,g)})}function ni(c,g,_,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(_)}catch{}}function Br(){this.g=new Ms}function Ui(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ui,Pn),Ui.prototype.g=function(){return new Us(this.i,this.h)};function Us(c,g){ft.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Us,ft),r=Us.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,vi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?qr(this):vi(this),this.readyState==3&&Ca(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,qr(this))},r.Na=function(c){this.g&&(this.response=c,qr(this))},r.ga=function(){this.g&&qr(this)};function qr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,vi(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ii(c){let g="";return Ce(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function Ps(c,g,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=ii(_),typeof c=="string"?_!=null&&Tn(_):Ze(c,g,_))}function it(c){ft.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(it,ft);var Pi=/^https?$/i,Go=["POST","PUT"];r=it.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():En.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){zs(this,H);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)_.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())_.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Go,g,void 0)>=0)||b||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ae]of _)this.g.setRequestHeader(H,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){zs(this,H)}};function zs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Qo(c),or(c)}function Qo(c){c.A||(c.A=!0,nt(c,"complete"),nt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,nt(this,"complete"),nt(this,"abort"),or(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),it.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},r.Xa=function(){js(this)};function js(c){if(c.h&&typeof u<"u"){if(c.v&&_i(c)==4)setTimeout(c.Ca.bind(c),0);else if(nt(c,"readystatechange"),_i(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var b;if(b=H===0){let ae=String(c.D).match(Au)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),b=!Pi.test(ae?ae.toLowerCase():"")}_=b}if(_)nt(c,"complete"),nt(c,"success");else{c.o=6;try{var P=_i(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Qo(c)}}finally{or(c)}}}}function or(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,g||nt(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function _i(c){return c.g?c.g.readyState:0}r.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),rr(g)}};function tn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lr(c){const g={};c=(c.g&&_i(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(I(c[b]))continue;var _=Bn(c[b]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[P]||[];g[P]=H,H.push(_)}qe(g,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Hr(c){this.za=0,this.i=[],this.j=new Dt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,c),this.Za=zi("retryDelaySeedMs",1e4,c),this.Ta=zi("forwardChannelMaxRetries",2,c),this.va=zi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(c&&c.concurrentRequestLimit),this.Ba=new Br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Hr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,_,b){Me(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.J=ku(this,null,this.W),ji(this)};function Yo(c){if(Ia(c),c.I==3){var g=c.V++,_=xt(c.J);if(Ze(_,"SID",c.M),Ze(_,"RID",g),Ze(_,"TYPE","terminate"),Bs(c,_),g=new en(c,c.j,g),g.M=2,g.A=ks(xt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.A,_=!0),_||(g.g=Lu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Oi(g)}Vu(c)}function Fr(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function Ia(c){Fr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Na(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function ji(c){if(!Lo(c.h)&&!c.m){c.m=!0;var g=c.Ea;fe||A(),le||(fe(),le=!0),R.add(g,c),c.D=0}}function Da(c,g){return Vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gt(y(c.Ea,c,g),Mu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new en(this,this.j,c);let H=this.o;if(this.U&&(H?(H=x(H),re(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Du(this,P,g),_=xt(this.J),Ze(_,"RID",c),Ze(_,"CVER",22),this.G&&Ze(_,"X-HTTP-Session-Id",this.G),Bs(this,_),H&&(this.R?g="headers="+Tn(ii(H))+"&"+g:this.u&&Ps(_,this.u,H)),Uo(this.h,P),this.Ra&&Ze(_,"TYPE","init"),this.S?(Ze(_,"$req",g),Ze(_,"SID","null"),P.U=!0,Ni(P,_,null)):Ni(P,_,g),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||Lo(this.h)||Ko(this))};function Ko(c,g){var _;g?_=g.l:_=c.V++;const b=xt(c.J);Ze(b,"SID",c.M),Ze(b,"RID",_),Ze(b,"AID",c.K),Bs(c,b),c.u&&c.o&&Ps(b,c.u,c.o),_=new en(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Du(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,_),Ni(_,b,g)}function Bs(c,g){c.H&&Ce(c.H,function(_,b){Ze(g,b,_)}),c.l&&Ce({},function(_,b){Ze(g,b,_)})}function Du(c,g,_){_=Math.min(c.i.length,_);const b=c.l?y(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ie=-1;for(;;){const At=["count="+_];Ie==-1?_>0?(Ie=P[0].g,At.push("ofs="+Ie)):Ie=0:At.push("ofs="+Ie);let Xe=!0;for(let pt=0;pt<_;pt++){var H=P[pt].g;const ri=P[pt].map;if(H-=Ie,H<0)Ie=Math.max(0,P[pt].g-100),Xe=!1;else try{H="req"+H+"_"||"";try{var ae=ri instanceof Map?ri:Object.entries(ri);for(const[qi,Ei]of ae){let Ti=Ei;m(Ei)&&(Ti=_n(Ei)),At.push(H+qi+"="+encodeURIComponent(Ti))}}catch(qi){throw At.push(H+"type="+encodeURIComponent("_badmap")),qi}}catch{b&&b(ri)}}if(Xe){ae=At.join("&");break e}}ae=void 0}return c=c.i.splice(0,_),g.G=c,ae}function Nu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;fe||A(),le||(fe(),le=!0),R.add(g,c),c.A=0}}function qs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gt(y(c.Da,c),Mu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gt(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Me(10),Fr(this),Ou(this))};function Xo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ou(c){c.g=new en(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=xt(c.na);Ze(g,"RID","rpc"),Ze(g,"SID",c.M),Ze(g,"AID",c.K),Ze(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ze(g,"TO",c.ia),Ze(g,"TYPE","xmlhttp"),Bs(c,g),c.u&&c.o&&Ps(g,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=ks(xt(g)),_.u=null,_.R=!0,Ta(_,c)}r.Va=function(){this.C!=null&&(this.C=null,Fr(this),qs(this),Me(19))};function Na(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function xu(c,g){var _=null;if(c.g==g){Na(c),Xo(c),c.g=null;var b=2}else if(ki(c.h,g))_=g.G,Po(c.h,g),b=1;else return;if(c.I!=0){if(g.o)if(b==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var P=c.D;b=sr(),nt(b,new mt(b,_)),ji(c)}else Nu(c);else if(P=g.m,P==3||P==0&&g.X>0||!(b==1&&Da(c,g)||b==2&&qs(c)))switch(_&&_.length>0&&(g=c.h,g.i=g.i.concat(_)),P){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function Mu(c,g){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*g}function Bi(c,g){if(c.j.info("Error code "+g),g==2){var _=y(c.bb,c),b=c.Ua;const P=!b;b=new Hn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Yt(b,"https"),ks(b),P?yi(b.toString(),_):Fo(b.toString(),_)}else Me(2);c.I=0,c.l&&c.l.pa(g),Vu(c),Ia(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function Vu(c){if(c.I=0,c.ja=[],c.l){const g=zo(c.h);(g.length!=0||c.i.length!=0)&&($(c.ja,g),$(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function ku(c,g,_){var b=_ instanceof Hn?xt(_):new Hn(_);if(b.g!="")g&&(b.g=g+"."+b.g),Ur(b,b.u);else{var P=f.location;b=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const H=new Hn(null);b&&Yt(H,b),g&&(H.g=g),P&&Ur(H,P),_&&(H.h=_),b=H}return _=c.G,g=c.wa,_&&g&&Ze(b,_,g),Ze(b,"VER",c.ka),Bs(c,b),b}function Lu(c,g,_){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new it(new Ui({ab:_})):new it(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}r=Uu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Gr(){}Gr.prototype.g=function(c,g){return new bn(c,g)};function bn(c,g){ft.call(this),this.g=new Hr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!I(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!I(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ur(this)}T(bn,ft),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Yo(this.g)},bn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=_n(c),c=_);g.i.push(new Ot(g.Ya++,c)),g.I==3&&ji(g)},bn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,bn.Z.N.call(this)};function Pu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Pu,zt);function zu(){cn.call(this),this.status=1}T(zu,cn);function ur(c){this.g=c}T(ur,Uu),ur.prototype.ra=function(){nt(this.g,"a")},ur.prototype.qa=function(c){nt(this.g,new Pu(c))},ur.prototype.pa=function(c){nt(this.g,new zu)},ur.prototype.oa=function(){nt(this.g,"b")},Gr.prototype.createWebChannel=Gr.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,l0=function(){return new Gr},o0=function(){return sr()},a0=dt,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fn.NO_ERROR=0,fn.TIMEOUT=8,fn.HTTP_ERROR=6,th=fn,dn.COMPLETE="complete",s0=dn,Vs.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ft.prototype.listen=ft.prototype.J,Vl=Vs,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,r0=it}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const J_="@firebase/firestore",Z_="4.9.3";class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Io="12.7.0";const da=new Ym("@firebase/firestore");function oo(){return da.logLevel}function ue(r,...e){if(da.logLevel<=ze.DEBUG){const n=e.map(ag);da.debug(`Firestore (${Io}): ${r}`,...n)}}function Or(r,...e){if(da.logLevel<=ze.ERROR){const n=e.map(ag);da.error(`Firestore (${Io}): ${r}`,...n)}}function _o(r,...e){if(da.logLevel<=ze.WARN){const n=e.map(ag);da.warn(`Firestore (${Io}): ${r}`,...n)}}function ag(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Se(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,u0(r,s,n)}function u0(r,e,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Or(s),new Error(s)}function Je(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||u0(e,o,s)}function Re(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class As{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class c0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class DC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class NC{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new As;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new As,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new As)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new c0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class OC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new OC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new W_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function VC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class og{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=VC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function Rm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return om(o)===om(u)?je(o,u):om(o)?1:-1}return je(r.length,e.length)}const kC=55296,LC=57343;function om(r){const e=r.charCodeAt(0);return e>=kC&&e<=LC}function Eo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const eE="__name__";class Yi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Yi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return je(e.length,n.length)}static compareSegments(e,n){const s=Yi.isNumericId(e),o=Yi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Yi.extractNumericId(e).compare(Yi.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class vt extends Yi{construct(e,n,s){return new vt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const UC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Yi{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return UC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eE}static keyField(){return new ln([eE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new pe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(vt.fromString(e))}static fromName(e){return new Ee(vt.fromString(e).popFirst(5))}static empty(){return new Ee(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new vt(e.slice()))}}function PC(r,e,n){if(!n)throw new pe(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zC(r,e,n,s){if(e===!0&&s===!0)throw new pe(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function tE(r){if(!Ee.isDocumentKey(r))throw new pe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function h0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function Jl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lg(r);throw new pe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Pt(r,e){const n={typeString:r};return e&&(n.value=e),n}function mu(r,e){if(!h0(r))throw new pe(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new pe(ee.INVALID_ARGUMENT,n);return!0}const nE=-62135596800,iE=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*iE);return new ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nE)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iE}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Pt("string",ht._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ht(0,0))}static max(){return new Ae(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function jC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new ht(n+1,0):new ht(n,s));return new ws(o,Ee.empty(),e)}function BC(r){return new ws(r.readTime,r.key,Zl)}class ws{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ws(Ae.min(),Ee.empty(),Zl)}static max(){return new ws(Ae.max(),Ee.empty(),Zl)}}function qC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(r.documentKey,e.documentKey),n!==0?n:je(r.largestBatchId,e.largestBatchId))}const HC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Do(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==HC)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,s)=>{n(e)}))}static reject(e){return new W(((n,s)=>{s(e)}))}static waitFor(e){return new W(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new W(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new W(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function GC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}class Lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lh.ce=-1;const ug=-1;function Uh(r){return r==null}function ph(r){return r===0&&1/r==-1/0}function QC(r){return typeof r=="number"&&Number.isInteger(r)&&!ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const f0="";function YC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=rE(e)),e=KC(r.get(n),e);return rE(e)}function KC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case f0:n+="";break;default:n+=u}}return n}function rE(r){return r+f0+""}function sE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ga(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function d0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class _t{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new on(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aE(this.data.getIterator())}getIteratorFrom(e){return new aE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class aE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ci{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Ci([])}unionWith(e){let n=new Ht(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class m0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new m0("Invalid base64 string: "+u):u}})(e);return new un(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const XC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(r){if(Je(!!r,39018),typeof r=="string"){let e=0;const n=XC.exec(r);if(Je(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Cs(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}const g0="server_timestamp",p0="__type__",y0="__previous_value__",v0="__local_write_time__";function cg(r){return(r?.mapValue?.fields||{})[p0]?.stringValue===g0}function Ph(r){const e=r.mapValue.fields[y0];return cg(e)?Ph(e):e}function Wl(r){const e=Rs(r.mapValue.fields[v0].timestampValue);return new ht(e.seconds,e.nanos)}class $C{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const yh="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}const _0="__type__",JC="__max__",Qc={mapValue:{}},E0="__vector__",vh="value";function Is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cg(r)?4:WC(r)?9007199254740991:ZC(r)?10:11:Se(28295,{value:r})}function er(r,e){if(r===e)return!0;const n=Is(r);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wl(r).isEqual(Wl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Rs(o.timestampValue),m=Rs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Cs(o.bytesValue).isEqual(Cs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ct(o.doubleValue),m=Ct(u.doubleValue);return f===m?ph(f)===ph(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Eo(r.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(sE(f)!==sE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!er(f[p],m[p])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function tu(r,e){return(r.values||[]).find((n=>er(n,e)))!==void 0}function To(r,e){if(r===e)return 0;const n=Is(r),s=Is(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Ct(u.integerValue||u.doubleValue),p=Ct(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return oE(r.timestampValue,e.timestampValue);case 4:return oE(Wl(r),Wl(e));case 5:return Rm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Cs(u),p=Cs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=je(m[y],p[y]);if(E!==0)return E}return je(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=je(Ct(u.latitude),Ct(f.latitude));return m!==0?m:je(Ct(u.longitude),Ct(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return lE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[vh]?.arrayValue,E=p[vh]?.arrayValue,T=je(y?.values?.length||0,E?.values?.length||0);return T!==0?T:lE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const C=Rm(p[T],E[T]);if(C!==0)return C;const V=To(m[p[T]],y[E[T]]);if(V!==0)return V}return je(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function oE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const n=Rs(r),s=Rs(e),o=je(n.seconds,s.seconds);return o!==0?o:je(n.nanos,s.nanos)}function lE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=To(n[o],s[o]);if(u)return u}return je(n.length,s.length)}function So(r){return Cm(r)}function Cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Rs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Cs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ee.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Cm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Cm(n.fields[f])}`;return o+"}"})(r.mapValue):Se(61005,{value:r})}function nh(r){switch(Is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(r);return e?16+nh(e):16;case 5:return 2*r.stringValue.length;case 6:return Cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+nh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ga(s.fields,((u,f)=>{o+=u.length+nh(f)})),o})(r.mapValue);default:throw Se(13486,{value:r})}}function Im(r){return!!r&&"integerValue"in r}function hg(r){return!!r&&"arrayValue"in r}function uE(r){return!!r&&"nullValue"in r}function cE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ih(r){return!!r&&"mapValue"in r}function ZC(r){return(r?.mapValue?.fields||{})[_0]?.stringValue===E0}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ga(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Bl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return e}return{...r}}function WC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===JC}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=ln.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ga(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mi(Bl(this.value))}}function T0(r){const e=[];return ga(r.fields,((n,s)=>{const o=new ln([n]);if(ih(s)){const u=T0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Ci(e)}class yn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new yn(e,0,Ae.min(),Ae.min(),Ae.min(),mi.empty(),0)}static newFoundDocument(e,n,s,o){return new yn(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new yn(e,2,n,Ae.min(),Ae.min(),mi.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Ae.min(),Ae.min(),mi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(e,n){this.position=e,this.inclusive=n}}function hE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=To(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function fE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!er(r.position[n],e.position[n]))return!1;return!0}class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function eI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class S0{}class qt extends S0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new nI(e,n,s):n==="array-contains"?new sI(e,s):n==="in"?new aI(e,s):n==="not-in"?new oI(e,s):n==="array-contains-any"?new lI(e,s):new qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new iI(e,s):new rI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(To(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends S0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new tr(e,n)}matches(e){return b0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b0(r){return r.op==="and"}function A0(r){return tI(r)&&b0(r)}function tI(r){for(const e of r.filters)if(e instanceof tr)return!1;return!0}function Dm(r){if(r instanceof qt)return r.field.canonicalString()+r.op.toString()+So(r.value);if(A0(r))return r.filters.map((e=>Dm(e))).join(",");{const e=r.filters.map((n=>Dm(n))).join(",");return`${r.op}(${e})`}}function w0(r,e){return r instanceof qt?(function(s,o){return o instanceof qt&&s.op===o.op&&s.field.isEqual(o.field)&&er(s.value,o.value)})(r,e):r instanceof tr?(function(s,o){return o instanceof tr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&w0(f,o.filters[m])),!0):!1})(r,e):void Se(19439)}function R0(r){return r instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`})(r):r instanceof tr?(function(n){return n.op.toString()+" {"+n.getFilters().map(R0).join(" ,")+"}"})(r):"Filter"}class nI extends qt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class iI extends qt{constructor(e,n){super(e,"in",n),this.keys=C0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class rI extends qt{constructor(e,n){super(e,"not-in",n),this.keys=C0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function C0(r,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class sI extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hg(n)&&tu(n.arrayValue,this.value)}}class aI extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class oI extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class lI extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>tu(this.value.arrayValue,s)))}}class uI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function dE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new uI(r,e,n,s,o,u,f)}function fg(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Dm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>So(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>So(s))).join(",")),e.Te=n}return e.Te}function dg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!eI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!w0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!fE(r.startAt,e.startAt)&&fE(r.endAt,e.endAt)}function Nm(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class zh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cI(r,e,n,s,o,u,f,m){return new zh(r,e,n,s,o,u,f,m)}function mg(r){return new zh(r)}function mE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hI(r){return r.collectionGroup!==null}function ql(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ht(ln.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Eh(u,s))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new Eh(ln.keyField(),s))}return e.Ie}function Xi(r){const e=Re(r);return e.Ee||(e.Ee=fI(e,ql(r))),e.Ee}function fI(r,e){if(r.limitType==="F")return dE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Eh(o.field,u)}));const n=r.endAt?new _h(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new _h(r.startAt.position,r.startAt.inclusive):null;return dE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Om(r,e,n){return new zh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function jh(r,e){return dg(Xi(r),Xi(e))&&r.limitType===e.limitType}function I0(r){return`${fg(Xi(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>R0(o))).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>So(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>So(o))).join(",")),`Target(${s})`})(Xi(r))}; limitType=${r.limitType})`}function Bh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=hE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,ql(s),o)||s.endAt&&!(function(f,m,p){const y=hE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,ql(s),o))})(r,e)}function dI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function D0(r){return(e,n)=>{let s=!1;for(const o of ql(r)){const u=mI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mI(r,e,n){const s=r.field.isKeyField()?Ee.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?To(p,y):Se(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:r.dir})}}class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return d0(this.inner)}size(){return this.innerSize}}const gI=new _t(Ee.comparator);function xr(){return gI}const N0=new _t(Ee.comparator);function kl(...r){let e=N0;for(const n of r)e=e.insert(n.key,n);return e}function O0(r){let e=N0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function oa(){return Hl()}function x0(){return Hl()}function Hl(){return new pa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const pI=new _t(Ee.comparator),yI=new Ht(Ee.comparator);function Be(...r){let e=yI;for(const n of r)e=e.add(n);return e}const vI=new Ht(je);function _I(){return vI}function gg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function M0(r){return{integerValue:""+r}}function EI(r,e){return QC(e)?M0(e):gg(r,e)}class qh{constructor(){this._=void 0}}function TI(r,e,n){return r instanceof Th?(function(o,u){const f={fields:{[p0]:{stringValue:g0},[v0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&cg(u)&&(u=Ph(u)),u&&(f.fields[y0]=u),{mapValue:f}})(n,e):r instanceof nu?k0(r,e):r instanceof iu?L0(r,e):(function(o,u){const f=V0(o,u),m=gE(f)+gE(o.Ae);return Im(f)&&Im(o.Ae)?M0(m):gg(o.serializer,m)})(r,e)}function SI(r,e,n){return r instanceof nu?k0(r,e):r instanceof iu?L0(r,e):n}function V0(r,e){return r instanceof Sh?(function(s){return Im(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Th extends qh{}class nu extends qh{constructor(e){super(),this.elements=e}}function k0(r,e){const n=U0(e);for(const s of r.elements)n.some((o=>er(o,s)))||n.push(s);return{arrayValue:{values:n}}}class iu extends qh{constructor(e){super(),this.elements=e}}function L0(r,e){let n=U0(e);for(const s of r.elements)n=n.filter((o=>!er(o,s)));return{arrayValue:{values:n}}}class Sh extends qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gE(r){return Ct(r.integerValue||r.doubleValue)}function U0(r){return hg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function bI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof nu&&o instanceof nu||s instanceof iu&&o instanceof iu?Eo(s.elements,o.elements,er):s instanceof Sh&&o instanceof Sh?er(s.Ae,o.Ae):s instanceof Th&&o instanceof Th})(r.transform,e.transform)}class AI{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hh{}function P0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new j0(r.key,Ir.none()):new gu(r.key,r.data,Ir.none());{const n=r.data,s=mi.empty();let o=new Ht(ln.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ya(r.key,s,new Ci(o.toArray()),Ir.none())}}function wI(r,e,n){r instanceof gu?(function(o,u,f){const m=o.value.clone(),p=yE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ya?(function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=yE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(z0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Fl(r,e,n,s){return r instanceof gu?(function(u,f,m,p){if(!rh(u.precondition,f))return m;const y=u.value.clone(),E=vE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof ya?(function(u,f,m,p){if(!rh(u.precondition,f))return m;const y=vE(u.fieldTransforms,p,f),E=f.data;return E.setAll(z0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function RI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=V0(s.transform,o||null);u!=null&&(n===null&&(n=mi.empty()),n.set(s.field,u))}return n||null}function pE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,((u,f)=>bI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class gu extends Hh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ya extends Hh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function z0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function yE(r,e,n){const s=new Map;Je(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,SI(f,m,n[o]))}return s}function vE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,TI(u,f,e))}return s}class j0 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CI extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class II{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=x0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=P0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((n,s)=>pE(n,s)))&&Eo(this.baseMutations,e.baseMutations,((n,s)=>pE(n,s)))}}class pg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return pI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new pg(e,n,s,o)}}class DI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,Qe;function OI(r){switch(r){case ee.OK:return Se(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function B0(r){if(r===void 0)return Or("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Ut.OK:return ee.OK;case Ut.CANCELLED:return ee.CANCELLED;case Ut.UNKNOWN:return ee.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ee.INTERNAL;case Ut.UNAVAILABLE:return ee.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ee.NOT_FOUND;case Ut.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ut.ABORTED:return ee.ABORTED;case Ut.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ut.DATA_LOSS:return ee.DATA_LOSS;default:return Se(39323,{code:r})}}(Qe=Ut||(Ut={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function xI(){return new TextEncoder}const MI=new bs([4294967295,4294967295],0);function _E(r){const e=xI().encode(r),n=new i0;return n.update(e),new Uint8Array(n.digest())}function EE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new bs([n,s],0),new bs([o,u],0)]}class yg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(bs.fromNumber(s)));return o.compare(MI)===1&&(o=new bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_E(e),[s,o]=EE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new yg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=_E(e),[s,o]=EE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fh(Ae.min(),o,new _t(je),xr(),Be())}}class pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,Be(),Be(),Be())}}class sh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class q0{constructor(e,n){this.targetId=e,this.Ce=n}}class H0{constructor(e,n,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class TE{constructor(){this.ve=0,this.Fe=SE(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}})),new pu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=SE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VI{constructor(e){this.Ge=e,this.ze=new Map,this.je=xr(),this.Je=Yc(),this.He=Yc(),this.Ye=new _t(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Nm(u))if(s===0){const f=new Ee(u.path);this.et(n,f,yn.newNoDocument(f,Ae.min()))}else Je(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Cs(s).toUint8Array()}catch(p){if(p instanceof m0)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new yg(f,o,u)}catch(p){return _o(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Nm(m.target)){const p=new Ee(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,yn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Be();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Fh(e,n,this.Ye,this.je,s);return this.je=xr(),this.Je=Yc(),this.He=Yc(),this.Ye=new _t(je),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new TE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new TE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yc(){return new _t(Ee.comparator)}function SE(){return new _t(Ee.comparator)}const kI={asc:"ASCENDING",desc:"DESCENDING"},LI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UI={and:"AND",or:"OR"};class PI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xm(r,e){return r.useProto3Json||Uh(e)?e:{value:e}}function bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zI(r,e){return bh(r,e.toTimestamp())}function $i(r){return Je(!!r,49232),Ae.fromTimestamp((function(n){const s=Rs(n);return new ht(s.seconds,s.nanos)})(r))}function vg(r,e){return Mm(r,e).canonicalString()}function Mm(r,e){const n=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function G0(r){const e=vt.fromString(r);return Je($0(e),10190,{key:e.toString()}),e}function Vm(r,e){return vg(r.databaseId,e.path)}function lm(r,e){const n=G0(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ee(Y0(n))}function Q0(r,e){return vg(r.databaseId,e)}function jI(r){const e=G0(r);return e.length===4?vt.emptyPath():Y0(e)}function km(r){return new vt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Y0(r){return Je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bE(r,e,n){return{name:Vm(r,e),fields:n.value.mapValue.fields}}function BI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Je(E===void 0||typeof E=="string",58123),un.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),un.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?ee.UNKNOWN:B0(y.code);return new pe(E,y.message||"")})(f);n=new H0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=lm(r,s.document.name),u=$i(s.document.updateTime),f=s.document.createTime?$i(s.document.createTime):Ae.min(),m=new mi({mapValue:{fields:s.document.fields}}),p=yn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new sh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=lm(r,s.document),u=s.readTime?$i(s.readTime):Ae.min(),f=yn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new sh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=lm(r,s.document),u=s.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new NI(o,u),m=s.targetId;n=new q0(m,f)}}return n}function qI(r,e){let n;if(e instanceof gu)n={update:bE(r,e.key,e.value)};else if(e instanceof j0)n={delete:Vm(r,e.key)};else if(e instanceof ya)n={update:bE(r,e.key,e.data),updateMask:JI(e.fieldMask)};else{if(!(e instanceof CI))return Se(16599,{Vt:e.type});n={verify:Vm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:zI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(r,e.precondition)),n}function HI(r,e){return r&&r.length>0?(Je(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?$i(o.updateTime):$i(u);return f.isEqual(Ae.min())&&(f=$i(u)),new AI(f,o.transformResults||[])})(n,e)))):[]}function FI(r,e){return{documents:[Q0(r,e.path)]}}function GI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Q0(r,o);const u=(function(y){if(y.length!==0)return X0(tr.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(C){return{field:uo(C.field),direction:KI(C.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=xm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function QI(r){let e=jI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Je(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const C=K0(T);return C instanceof tr&&A0(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((C=>(function($){return new Eh(co($.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let C;return C=typeof T=="object"?T.value:T,Uh(C)?null:C})(n.limit));let p=null;n.startAt&&(p=(function(T){const C=!!T.before,V=T.values||[];return new _h(V,C)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const C=!T.before,V=T.values||[];return new _h(V,C)})(n.endAt)),cI(e,o,f,u,m,"F",p,y)}function YI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=co(n.unaryFilter.field);return qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(n){return qt.create(co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return tr.create(n.compositeFilter.filters.map((s=>K0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(r):Se(30097,{filter:r})}function KI(r){return kI[r]}function XI(r){return LI[r]}function $I(r){return UI[r]}function uo(r){return{fieldPath:r.canonicalString()}}function co(r){return ln.fromServerFormat(r.fieldPath)}function X0(r){return r instanceof qt?(function(n){if(n.op==="=="){if(cE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(uE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(uE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:XI(n.op),value:n.value}}})(r):r instanceof tr?(function(n){const s=n.getFilters().map((o=>X0(o)));return s.length===1?s[0]:{compositeFilter:{op:$I(n.op),filters:s}}})(r):Se(54877,{filter:r})}function JI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class _s{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZI{constructor(e){this.yt=e}}function WI(r){const e=QI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Om(e,e.limit,"L"):e}class e2{constructor(){this.Cn=new t2}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(ws.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class t2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ht(vt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ht(vt.comparator)).toArray()}}const AE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J0=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(J0,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}const wE="LruGarbageCollector",n2=1048576;function RE([r,e],[n,s]){const o=je(r,n);return o===0?je(e,s):o}class i2{constructor(e){this.Ir=e,this.buffer=new Ht(RE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();RE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class r2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(wE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?ue(wE,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Vr(3e5)}))}}class s2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Lh.ce);const s=new i2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(AE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),oo()<=ze.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function a2(r,e){return new s2(r,e)}class o2{constructor(){this.changes=new pa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class l2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class u2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Fl(s.mutation,o,Ci.empty(),ht.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=kl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=oa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=xr();const f=Hl(),m=(function(){return Hl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ya)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Fl(E.mutation,y,E.mutation.getFieldMask(),ht.now())):f.set(y.key,Ci.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new l2(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new _t(((f,m)=>f-m)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Ci.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||Be()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=x0();E.forEach((C=>{if(!u.has(C)){const V=P0(n.get(C),s.get(C));V!==null&&T.set(C,V),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(oa());let m=Zl,p=u;return f.next((y=>W.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((C=>{p=p.insert(E,C)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Be()))).next((E=>({batchId:m,changes:O0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next((m=>W.forEach(m,(p=>{const y=(function(T,C){return new zh(C,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,C)=>{f=f.insert(T,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,yn.newInvalidDocument(E)))}));let m=kl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Fl(E.mutation,y,Ci.empty(),ht.now()),Bh(n,y)&&(m=m.insert(p,y))})),m}))}}class c2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:$i(o.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:WI(o.bundledQuery),readTime:$i(o.readTime)}})(n)),W.resolve()}}class h2{constructor(){this.overlays=new _t(Ee.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oa();return W.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=oa(),u=n.length+1,f=new Ee(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new _t(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=oa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new DI(n,s));let u=this.qr.get(n);u===void 0&&(u=Be(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class f2{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class _g{constructor(){this.Qr=new Ht(Xt.$r),this.Ur=new Ht(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Xt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ee(new vt([])),s=new Xt(n,e),o=new Xt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new vt([])),s=new Xt(n,e),o=new Xt(n,e+1);let u=Be();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Xt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}class d2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Xt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new II(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Xt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?ug:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(je);return n.forEach((o=>{const u=new Xt(o,0),f=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new Xt(new Ee(u),0);let m=new Ht(je);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),W.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,(o=>{const u=new Xt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Xt(n,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class m2{constructor(e){this.ri=e,this.docs=(function(){return new _t(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let s=xr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=xr();const f=n.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||qC(BC(E),s)<=0||(o.has(E.key)||Bh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ii(e,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new g2(this)}getSize(e){return W.resolve(this.size)}}class g2 extends o2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class p2{constructor(e){this.persistence=e,this.si=new pa((n=>fg(n)),dg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new _g,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}class Z0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lh(0),this.li=!1,this.li=!0,this.hi=new f2,this.referenceDelegate=e(this),this.Pi=new p2(this),this.indexManager=new e2,this.remoteDocumentCache=(function(o){return new m2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ZI(n),this.Ii=new c2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new d2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new y2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class y2 extends FC{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Ri=new _g,this.Vi=null}static mi(e){return new Eg(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=Ee.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.pi=new pa((s=>YC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=a2(this,n)}static mi(e,n){return new Ah(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return W.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}br(e,n,s){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Be(),o=Be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tg(e,n.fromCache,s,o)}}class v2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return o1()?8:GC(vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new v2;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(oo()<=ze.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(oo()<=ze.DEBUG&&ue("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(oo()<=ze.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(n))):W.resolve())}ys(e,n){if(mE(n))return W.resolve(null);let s=Xi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Om(n,null,"F"),s=Xi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Be(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,Om(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return mE(n)||o.isEqual(Ae.min())?W.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?W.resolve(null):(oo()<=ze.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.vs(e,f,n,jC(o,Zl)).next((m=>m)))}))}Ds(e,n){let s=new Ht(D0(e));return n.forEach(((o,u)=>{Bh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return oo()<=ze.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(e,n,ws.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Sg="LocalStore",E2=3e8;class T2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new _t(je),this.xs=new pa((u=>fg(u)),dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function S2(r,e,n,s){return new T2(r,e,n,s)}async function W0(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Be();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function b2(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,C=T.keys();let V=W.resolve();return C.forEach(($=>{V=V.next((()=>E.getEntry(p,$))).next((Y=>{const F=y.docVersions.get($);Je(F!==null,48541),Y.version.compareTo(F)<0&&(T.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Be();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function eS(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function A2(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const C=o.get(T);if(!C)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let V=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken(un.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(T,V),(function(Y,F,ie){return Y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=E2?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(C,V,E)&&m.push(n.Pi.updateTargetData(u,V))}));let p=xr(),y=Be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(w2(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function w2(r,e,n){let s=Be(),o=Be();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=xr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Sg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function R2(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ug),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function C2(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new _s(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Lm(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;ue(Sg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function CE(r,e,n){const s=Re(r);let o=Ae.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=Re(p),C=T.xs.get(E);return C!==void 0?W.resolve(T.Ms.get(C)):T.Pi.getTargetData(y,E)})(s,f,Xi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Be()))).next((m=>(I2(s,dI(e),m),{documents:m,Qs:u})))))}function I2(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class IE{constructor(){this.activeTargetIds=_I()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D2{constructor(){this.Mo=new IE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new IE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class N2{Oo(e){}shutdown(){}}const DE="ConnectivityMonitor";class NE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(DE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(DE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kc=null;function Um(){return Kc===null?Kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kc++,"0x"+Kc.toString(16)}const um="RestConnection",O2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Um(),m=this.zo(e,n.toUriEncodedString());ue(um,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=wo(y);return this.Jo(e,m,p,s,E).then((T=>(ue(um,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw _o(um,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=O2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class M2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const gn="WebChannelConnection";class V2 extends x2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Um();return new Promise(((m,p)=>{const y=new r0;y.setWithCredentials(!0),y.listenOnce(s0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case th.NO_ERROR:const T=y.getResponseJson();ue(gn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case th.TIMEOUT:ue(gn,`RPC '${e}' ${f} timed out`),p(new pe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const C=y.getStatus();if(ue(gn,`RPC '${e}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const $=V?.error;if($&&$.status&&$.message){const Y=(function(ie){const se=ie.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(se)>=0?se:ee.UNKNOWN})($.status);p(new pe(Y,$.message))}else p(new pe(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new pe(ee.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(gn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue(gn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Um(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=l0(),m=o0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(gn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let C=!1,V=!1;const $=new M2({Yo:F=>{V?ue(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(C||(ue(gn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),C=!0),ue(gn,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Zo:()=>T.close()}),Y=(F,ie,se)=>{F.listen(ie,(te=>{try{se(te)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return Y(T,Vl.EventType.OPEN,(()=>{V||(ue(gn,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),Y(T,Vl.EventType.CLOSE,(()=>{V||(V=!0,ue(gn,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(T))})),Y(T,Vl.EventType.ERROR,(F=>{V||(V=!0,_o(gn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),$.a_(new pe(ee.UNAVAILABLE,"The operation could not be completed")))})),Y(T,Vl.EventType.MESSAGE,(F=>{if(!V){const ie=F.data[0];Je(!!ie,16349);const se=ie,te=se?.error||se[0]?.error;if(te){ue(gn,`RPC '${e}' stream ${o} received error:`,te);const ce=te.status;let fe=(function(A){const w=Ut[A];if(w!==void 0)return B0(w)})(ce),le=te.message;fe===void 0&&(fe=ee.INTERNAL,le="Unknown error status: "+ce+" with message "+te.message),V=!0,$.a_(new pe(fe,le)),T.close()}else ue(gn,`RPC '${e}' stream ${o} received:`,ie),$.u_(ie)}})),Y(m,a0.STAT_EVENT,(F=>{F.stat===wm.PROXY?ue(gn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===wm.NOPROXY&&ue(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function cm(){return typeof document<"u"?document:null}function Gh(r){return new PI(r,!0)}class tS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const OE="PersistentStream";class nS{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new pe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(OE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(OE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class k2 extends nS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?$i(f.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=km(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Nm(p)?{documents:FI(u,p)}:{query:GI(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=F0(u,f.resumeToken);const y=xm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=bh(u,f.snapshotVersion.toTimestamp());const y=xm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=YI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.q_(n)}}class L2 extends nS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HI(e.writeResults,e.commitTime),s=$i(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=km(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>qI(this.serializer,s)))};this.q_(n)}}class U2{}class P2 extends U2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Mm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Mm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class z2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Or(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class j2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{va(this)&&(ue(ma,"Restarting streams for network reachability change."),await(async function(p){const y=Re(p);y.Ea.add(4),await yu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Qh(y)})(this))}))})),this.Ra=new z2(s,o)}}async function Qh(r){if(va(r))for(const e of r.da)await e(!0)}async function yu(r){for(const e of r.da)await e(!1)}function iS(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rg(n)?wg(n):Oo(n).O_()&&Ag(n,e))}function bg(r,e){const n=Re(r),s=Oo(n);n.Ia.delete(e),s.O_()&&rS(n,e),n.Ia.size===0&&(s.O_()?s.L_():va(n)&&n.Ra.set("Unknown"))}function Ag(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(r).Y_(e)}function rS(r,e){r.Va.Ue(e),Oo(r).Z_(e)}function wg(r){r.Va=new VI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.Ra.ua()}function Rg(r){return va(r)&&!Oo(r).x_()&&r.Ia.size>0}function va(r){return Re(r).Ea.size===0}function sS(r){r.Va=void 0}async function B2(r){r.Ra.set("Online")}async function q2(r){r.Ia.forEach(((e,n)=>{Ag(r,e)}))}async function H2(r,e){sS(r),Rg(r)?(r.Ra.ha(e),wg(r)):r.Ra.set("Unknown")}async function F2(r,e,n){if(r.Ra.set("Online"),e instanceof H0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ue(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wh(r,s)}else if(e instanceof sh?r.Va.Ze(e):e instanceof q0?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await eS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(un.EMPTY_BYTE_STRING,E.snapshotVersion)),rS(u,p);const T=new _s(E.target,p,y,E.sequenceNumber);Ag(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue(ma,"Failed to raise snapshot:",s),await wh(r,s)}}async function wh(r,e,n){if(!No(e))throw e;r.Ea.add(1),await yu(r),r.Ra.set("Offline"),n||(n=()=>eS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(ma,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Qh(r)}))}function aS(r,e){return e().catch((n=>wh(r,n,e)))}async function Yh(r){const e=Re(r),n=Ds(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ug;for(;G2(e);)try{const o=await R2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,Q2(e,o)}catch(o){await wh(e,o)}oS(e)&&lS(e)}function G2(r){return va(r)&&r.Ta.length<10}function Q2(r,e){r.Ta.push(e);const n=Ds(r);n.O_()&&n.X_&&n.ea(e.mutations)}function oS(r){return va(r)&&!Ds(r).x_()&&r.Ta.length>0}function lS(r){Ds(r).start()}async function Y2(r){Ds(r).ra()}async function K2(r){const e=Ds(r);for(const n of r.Ta)e.ea(n.mutations)}async function X2(r,e,n){const s=r.Ta.shift(),o=pg.from(s,e,n);await aS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Yh(r)}async function $2(r,e){e&&Ds(r).X_&&await(async function(s,o){if((function(f){return OI(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();Ds(s).B_(),await aS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Yh(s)}})(r,e),oS(r)&&lS(r)}async function xE(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),ue(ma,"RemoteStore received new credentials");const s=va(n);n.Ea.add(3),await yu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qh(n)}async function J2(r,e){const n=Re(r);e?(n.Ea.delete(2),await Qh(n)):e||(n.Ea.add(2),await yu(n),n.Ra.set("Unknown"))}function Oo(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new k2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:B2.bind(null,r),t_:q2.bind(null,r),r_:H2.bind(null,r),H_:F2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Rg(r)?wg(r):r.Ra.set("Unknown")):(await r.ma.stop(),sS(r))}))),r.ma}function Ds(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new L2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Y2.bind(null,r),r_:$2.bind(null,r),ta:K2.bind(null,r),na:X2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Yh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(ma,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Cg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Cg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(r,e){if(Or("AsyncQueue",`${e}: ${r}`),No(r))return new pe(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class ME{constructor(){this.ga=new _t(Ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ao{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Ao(e,n,go.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class Z2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class W2{constructor(){this.queries=VE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=VE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new pe(ee.ABORTED,"Firestore shutting down"))}}function VE(){return new pa((r=>I0(r)),jh)}async function eD(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new Z2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Ig(f,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Dg(n)}async function tD(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function nD(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Dg(n)}function iD(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Dg(r){r.Ca.forEach((e=>{e.next()}))}var Pm,kE;(kE=Pm||(Pm={})).Ma="default",kE.Cache="cache";class rD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}class uS{constructor(e){this.key=e}}class cS{constructor(e){this.key=e}}class sD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=D0(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ME,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const C=o.get(E),V=Bh(this.query,T)?T:null,$=!!C&&this.mutatedKeys.has(C.key),Y=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;C&&V?C.data.isEqual(V.data)?$!==Y&&(s.track({type:3,doc:V}),F=!0):this.su(C,V)||(s.track({type:2,doc:V}),F=!0,(p&&this.eu(V,p)>0||y&&this.eu(V,y)<0)&&(m=!0)):!C&&V?(s.track({type:0,doc:V}),F=!0):C&&!V&&(s.track({type:1,doc:C}),F=!0,(p||y)&&(m=!0)),F&&(V?(f=f.add(V),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(V,$){const Y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:F})}};return Y(V)-Y($)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new Ao(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ME,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new cS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new uS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ng="SyncEngine";class aD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class oD{constructor(e){this.key=e,this.hu=!1}}class lD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new pa((m=>I0(m)),jh),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ee.comparator),this.Au=new Map,this.Ru=new _g,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uD(r,e,n=!0){const s=pS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await hS(s,e,n,!0),o}async function cD(r,e){const n=pS(r);await hS(n,e,!0,!1)}async function hS(r,e,n,s){const o=await C2(r.localStore,Xi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await hD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&iS(r.remoteStore,o),m}async function hD(r,e,n,s,o){r.pu=(T,C,V)=>(async function(Y,F,ie,se){let te=F.view.ru(ie);te.Cs&&(te=await CE(Y.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,te))));const ce=se&&se.targetChanges.get(F.targetId),fe=se&&se.targetMismatches.get(F.targetId)!=null,le=F.view.applyChanges(te,Y.isPrimaryClient,ce,fe);return UE(Y,F.targetId,le.au),le.snapshot})(r,T,C,V);const u=await CE(r.localStore,e,!0),f=new sD(e,u.Qs),m=f.ru(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);UE(r,n,y.au);const E=new aD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function fD(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!jh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&bg(s.remoteStore,o.targetId),zm(s,o.targetId)})).catch(Do)):(zm(s,o.targetId),await Lm(s.localStore,o.targetId,!0))}async function dD(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bg(n.remoteStore,s.targetId))}async function mD(r,e,n){const s=TD(r);try{const o=await(function(f,m){const p=Re(f),y=ht.now(),E=m.reduce(((V,$)=>V.add($.key)),Be());let T,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let $=xr(),Y=Be();return p.Ns.getEntries(V,E).next((F=>{$=F,$.forEach(((ie,se)=>{se.isValidDocument()||(Y=Y.add(ie))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,$))).next((F=>{T=F;const ie=[];for(const se of m){const te=RI(se,T.get(se.key).overlayedDocument);te!=null&&ie.push(new ya(se.key,te,T0(te.value.mapValue),Ir.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,ie,m)})).next((F=>{C=F;const ie=F.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(V,F.batchId,ie)}))})).then((()=>({batchId:C.batchId,changes:O0(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new _t(je)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await vu(s,o.changes),await Yh(s.remoteStore)}catch(o){const u=Ig(o,"Failed to persist write");n.reject(u)}}async function fS(r,e){const n=Re(r);try{const s=await A2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Je(f.hu,14607):o.removedDocuments.size>0&&(Je(f.hu,42227),f.hu=!1))})),await vu(n,s,e)}catch(s){await Do(s)}}function LE(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Re(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const C of T.Sa)C.va(m)&&(y=!0)})),y&&Dg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gD(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new _t(Ee.comparator);f=f.insert(u,yn.newNoDocument(u,Ae.min()));const m=Be().add(u),p=new Fh(Ae.min(),new Map,new _t(je),f,m);await fS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Og(s)}else await Lm(s.localStore,e,!1).then((()=>zm(s,e,n))).catch(Do)}async function pD(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await b2(n.localStore,e);mS(n,s,null),dS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await vu(n,o)}catch(o){await Do(o)}}async function yD(r,e,n){const s=Re(r);try{const o=await(function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Je(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);mS(s,e,n),dS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await vu(s,o)}catch(o){await Do(o)}}function dS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function mS(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function zm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||gS(r,s)}))}function gS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(bg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Og(r))}function UE(r,e,n){for(const s of n)s instanceof uS?(r.Ru.addReference(s.key,e),vD(r,s)):s instanceof cS?(ue(Ng,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||gS(r,s.key)):Se(19791,{wu:s})}function vD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(Ng,"New document in limbo: "+n),r.Eu.add(s),Og(r))}function Og(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ee(vt.fromString(e)),s=r.fu.next();r.Au.set(s,new oD(n)),r.du=r.du.insert(n,s),iS(r.remoteStore,new _s(Xi(mg(n.path)),s,"TargetPurposeLimboResolution",Lh.ce))}}async function vu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Tg.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>W.forEach(y,(C=>W.forEach(C.Es,(V=>E.persistence.referenceDelegate.addReference(T,C.targetId,V))).next((()=>W.forEach(C.ds,(V=>E.persistence.referenceDelegate.removeReference(T,C.targetId,V)))))))))}catch(T){if(!No(T))throw T;ue(Sg,"Failed to update sequence numbers: "+T)}for(const T of y){const C=T.targetId;if(!T.fromCache){const V=E.Ms.get(C),$=V.snapshotVersion,Y=V.withLastLimboFreeSnapshotVersion($);E.Ms=E.Ms.insert(C,Y)}}})(s.localStore,u))}async function _D(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){ue(Ng,"User change. New user:",e.toKey());const s=await W0(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new pe(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vu(n,s.Ls)}}function ED(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function pS(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=fS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ED.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gD.bind(null,e),e.Pu.H_=nD.bind(null,e.eventManager),e.Pu.yu=iD.bind(null,e.eventManager),e}function TD(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yD.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return S2(this.persistence,new _2,e.initialUser,this.serializer)}Cu(e){return new Z0(Eg.mi,this.serializer)}Du(e){return new D2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class SD extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof Ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new r2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new Z0((s=>Ah.mi(s,n)),this.serializer)}}class jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>LE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_D.bind(null,this.syncEngine),await J2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new W2})()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),s=(function(u){return new V2(u)})(e.databaseInfo);return(function(u,f,m,p){return new P2(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new j2(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>LE(this.syncEngine,n,0)),(function(){return NE.v()?new NE:new N2})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new lD(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);ue(ma,"RemoteStore shutting down."),s.Ea.add(5),await yu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jm.provider={build:()=>new jm};class bD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ns="FirestoreClient";class AD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(Ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(Ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ig(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function hm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Ns,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await W0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function PE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await wD(r);ue(Ns,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>xE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>xE(e.remoteStore,o))),r._onlineComponents=e}async function wD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Ns,"Using user provided OfflineComponentProvider");try{await hm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await hm(r,new Rh)}}else ue(Ns,"Using default OfflineComponentProvider"),await hm(r,new SD(void 0));return r._offlineComponents}async function yS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Ns,"Using user provided OnlineComponentProvider"),await PE(r,r._uninitializedComponentsProvider._online)):(ue(Ns,"Using default OnlineComponentProvider"),await PE(r,new jm))),r._onlineComponents}function RD(r){return yS(r).then((e=>e.syncEngine))}async function CD(r){const e=await yS(r),n=e.eventManager;return n.onListen=uD.bind(null,e.syncEngine),n.onUnlisten=fD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dD.bind(null,e.syncEngine),n}function ID(r,e,n={}){const s=new As;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new bD({next:C=>{E.Nu(),f.enqueueAndForget((()=>tD(u,T)));const V=C.docs.has(m);!V&&C.fromCache?y.reject(new pe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&C.fromCache&&p&&p.source==="server"?y.reject(new pe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),T=new rD(mg(m.path),E,{includeMetadataChanges:!0,qa:!0});return eD(u,T)})(await CD(r),r.asyncQueue,e,n,s))),s.promise}function vS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const zE=new Map;const _S="firestore.googleapis.com",jE=!0;class BE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_S,this.ssl=jE}else this.host=e.host,this.ssl=e.ssl??jE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n2)throw new pe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new IC;switch(s.type){case"firstParty":return new xC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=zE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),zE.delete(n),s.terminate())})(this),Promise.resolve()}}function DD(r,e,n,s={}){r=Jl(r,xg);const o=wo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(_T(`https://${m}`),ET("Firestore",!0)),u.host!==_S&&u.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ca(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=pn.MOCK_USER;else{y=ZA(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new pe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new pn(T)}r._authCredentials=new DC(new c0(y,E))}}class Mg{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mg(this.firestore,e,this._query)}}class Zt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(mu(n,Zt._jsonSchema))return new Zt(e,s||null,new Ee(vt.fromString(n.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:Pt("string",Zt._jsonSchemaVersion),referencePath:Pt("string")};class ru extends Mg{constructor(e,n,s){super(e,n,mg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new Ee(e))}withConverter(e){return new ru(this.firestore,e,this._path)}}function qE(r,e,...n){if(r=pi(r),arguments.length===1&&(e=og.newId()),PC("doc","path",e),r instanceof xg){const s=vt.fromString(e,...n);return tE(s),new Zt(r,null,new Ee(s))}{if(!(r instanceof Zt||r instanceof ru))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(vt.fromString(e,...n));return tE(s),new Zt(r.firestore,r instanceof ru?r.converter:null,new Ee(s))}}const HE="AsyncQueue";class FE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tS(this,"async_queue_retry"),this._c=()=>{const s=cm();s&&ue(HE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new As;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;ue(HE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Or("INTERNAL UNHANDLED ERROR: ",GE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Cg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:GE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function GE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Vg extends xg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new FE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FE(e),this._firestoreClient=void 0,await e}}}function ND(r,e){const n=typeof r=="object"?r:AT(),s=typeof r=="string"?r:yh,o=Xm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$A("firestore");u&&DD(o,...u)}return o}function ES(r){if(r._terminated)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||OD(r),r._firestoreClient}function OD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new $C(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,vS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new AD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(un.fromBase64String(e))}catch(n){throw new pe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gi(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,gi._jsonSchema))return gi.fromBase64String(e.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Pt("string",gi._jsonSchemaVersion),bytes:Pt("string")};class kg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class TS{constructor(e){this._methodName=e}}class Ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if(mu(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:Pt("string",Ji._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class Zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zi(e.vectorValues);throw new pe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Pt("string",Zi._jsonSchemaVersion),vectorValues:Pt("object")};const xD=/^__.*__$/;class MD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}function SS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class Lg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SS(this.Ac)&&xD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(e)}Cc(e,n,s,o=!1){return new Lg({Ac:e,methodName:n,Dc:s,path:ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kD(r){const e=r._freezeSettings(),n=Gh(r._databaseId);return new VD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function LD(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);RS("Data must be an object, but it was:",f,s);const m=AS(s,f);let p,y;if(u.merge)p=new Ci(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const C=UD(e,T,n);if(!f.contains(C))throw new pe(ee.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);zD(E,C)||E.push(C)}p=new Ci(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new MD(new mi(m),p,y)}function bS(r,e){if(wS(r=pi(r)))return RS("Unsupported field value:",e,r),AS(r,e);if(r instanceof TS)return(function(s,o){if(!SS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=bS(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=pi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return EI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ht.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof ht){const u=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof Ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gi)return{bytesValue:F0(o.serializer,s._byteString)};if(s instanceof Zt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Zi)return(function(f,m){return{mapValue:{fields:{[_0]:{stringValue:E0},[vh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return gg(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${lg(s)}`)})(r,e)}function AS(r,e){const n={};return d0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(r,((s,o)=>{const u=bS(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function wS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ht||r instanceof Ji||r instanceof gi||r instanceof Zt||r instanceof TS||r instanceof Zi)}function RS(r,e,n){if(!wS(n)||!h0(n)){const s=lg(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function UD(r,e,n){if((e=pi(e))instanceof kg)return e._internalPath;if(typeof e=="string")return CS(r,e);throw Ch("Field path arguments must be of type string or ",r,!1,void 0,n)}const PD=new RegExp("[~\\*/\\[\\]]");function CS(r,e,n){if(e.search(PD)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new kg(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ch(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new pe(ee.INVALID_ARGUMENT,m+r+p)}function zD(r,e){return r.some((n=>n.isEqual(e)))}class IS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(DS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jD extends IS{data(){return super.data()}}function DS(r,e){return typeof e=="string"?CS(r,e):e instanceof kg?e._internalPath:e._delegate._internalPath}class BD{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ga(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[vh].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new Zi(n)}convertGeoPoint(e){return new Ji(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=Rs(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=vt.fromString(e);Je($0(s),9688,{name:e});const o=new eu(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||Or(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function qD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends IS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(DS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Pt("string",ua._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class ah extends ua{data(e={}){return super.data(e)}}class Gl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ah(this._firestore,this._userDataWriter,s.key,s,new Ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:HD(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}function FD(r){r=Jl(r,Zt);const e=Jl(r.firestore,Vg);return ID(ES(e),r._key).then((n=>KD(e,r,n)))}Gl._jsonSchemaVersion="firestore/querySnapshot/1.0",Gl._jsonSchema={type:Pt("string",Gl._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class GD extends BD{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function QD(r,e,n){r=Jl(r,Zt);const s=Jl(r.firestore,Vg),o=qD(r.converter,e);return YD(s,[LD(kD(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ir.none())])}function YD(r,e){return(function(s,o){const u=new As;return s.asyncQueue.enqueueAndForget((async()=>mD(await RD(s),o,u))),u.promise})(ES(r),e)}function KD(r,e,n){const s=n.docs.get(e._key),o=new GD(r);return new ua(r,o,e._key,s,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Io=o})(Ro),yo(new ha("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Vg(new NC(s.getProvider("auth-internal")),new MC(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ss(J_,Z_,e),Ss(J_,Z_,"esm2020")})();const XD={apiKey:"AIzaSyDA7JElzU6qiRo7JInsyFOyCwV584gZ5Ag",authDomain:"track-my-reps.firebaseapp.com",projectId:"track-my-reps",storageBucket:"track-my-reps.firebasestorage.app",messagingSenderId:"164703762100",appId:"1:164703762100:web:1d75ecf0d08a101135c9e1",measurementId:"G-1RHC65C2N3"},NS=bT(XD),fm=RC(NS),QE=ND(NS),$D=new wr,JD=()=>{const[r,e]=q.useState(null),[n,s]=q.useState(!0);return q.useEffect(()=>{const f=mR(fm,m=>{e(m?{id:m.uid,email:m.email,user_metadata:{full_name:m.displayName,avatar_url:m.photoURL}}:null),s(!1)});return()=>f()},[]),{user:r,loading:n,signInWithGoogle:async()=>{try{await kR(fm,$D)}catch(f){console.error("Error signing in:",f),f.code!=="auth/popup-closed-by-user"&&alert("Failed to sign in. Please try again.")}},signOut:async()=>{try{await gR(fm)}catch(f){console.error("Error signing out:",f)}}}},YE=(r,e,n)=>({loadData:async()=>{if(!r)return e;try{const u=qE(QE,"users",r.id,n,"data"),f=await FD(u);return f.exists()?(console.log(` Loaded ${n} from Firestore:`,f.data().value),f.data().value):(console.log(`No ${n} found, using default`),e)}catch(u){return console.error(`Error loading ${n}:`,u),e}},saveData:async u=>{if(r)try{const f=qE(QE,"users",r.id,n,"data");await QD(f,{value:u,updated_at:new Date().toISOString()}),console.log(` Saved ${n} to Firestore`)}catch(f){console.error(` Error saving ${n}:`,f)}}}),KE=r=>{let e;const n=new Set,s=(y,E)=>{const T=typeof y=="function"?y(e):y;if(!Object.is(T,e)){const C=e;e=E??(typeof T!="object"||T===null)?T:Object.assign({},e,T),n.forEach(V=>V(e,C))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>p,subscribe:y=>(n.add(y),()=>n.delete(y))},p=e=r(s,o,m);return m},ZD=(r=>r?KE(r):KE),WD=r=>r;function eN(r,e=WD){const n=Jt.useSyncExternalStore(r.subscribe,Jt.useCallback(()=>e(r.getState()),[r,e]),Jt.useCallback(()=>e(r.getInitialState()),[r,e]));return Jt.useDebugValue(n),n}const XE=r=>{const e=ZD(r),n=s=>eN(e,s);return Object.assign(n,e),n},tN=(r=>r?XE(r):XE);var Pl=fT();function nN(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return q.useMemo(()=>s=>{e.forEach(o=>o(s))},e)}const Kh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xo(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function Ug(r){return"nodeType"in r}function kn(r){var e,n;return r?xo(r)?r:Ug(r)&&(e=(n=r.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Pg(r){const{Document:e}=kn(r);return r instanceof e}function _u(r){return xo(r)?!1:r instanceof kn(r).HTMLElement}function OS(r){return r instanceof kn(r).SVGElement}function Mo(r){return r?xo(r)?r.document:Ug(r)?Pg(r)?r:_u(r)||OS(r)?r.ownerDocument:document:document:document}const nr=Kh?q.useLayoutEffect:q.useEffect;function zg(r){const e=q.useRef(r);return nr(()=>{e.current=r}),q.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e.current==null?void 0:e.current(...s)},[])}function iN(){const r=q.useRef(null),e=q.useCallback((s,o)=>{r.current=setInterval(s,o)},[]),n=q.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,n]}function su(r,e){e===void 0&&(e=[r]);const n=q.useRef(r);return nr(()=>{n.current!==r&&(n.current=r)},e),n}function Eu(r,e){const n=q.useRef();return q.useMemo(()=>{const s=r(n.current);return n.current=s,s},[...e])}function Ih(r){const e=zg(r),n=q.useRef(null),s=q.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,s]}function Bm(r){const e=q.useRef();return q.useEffect(()=>{e.current=r},[r]),e.current}let dm={};function Tu(r,e){return q.useMemo(()=>{if(e)return e;const n=dm[r]==null?0:dm[r]+1;return dm[r]=n,r+"-"+n},[r,e])}function xS(r){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((u,f)=>{const m=Object.entries(f);for(const[p,y]of m){const E=u[p];E!=null&&(u[p]=E+r*y)}return u},{...e})}}const po=xS(1),au=xS(-1);function rN(r){return"clientX"in r&&"clientY"in r}function jg(r){if(!r)return!1;const{KeyboardEvent:e}=kn(r.target);return e&&r instanceof e}function sN(r){if(!r)return!1;const{TouchEvent:e}=kn(r.target);return e&&r instanceof e}function qm(r){if(sN(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:n}=r.touches[0];return{x:e,y:n}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:n}=r.changedTouches[0];return{x:e,y:n}}}return rN(r)?{x:r.clientX,y:r.clientY}:null}const ou=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:n}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:n}=r;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(r){if(r)return[ou.Translate.toString(r),ou.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:n,easing:s}=r;return e+" "+n+"ms "+s}}}),$E="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function aN(r){return r.matches($E)?r:r.querySelector($E)}const oN={display:"none"};function lN(r){let{id:e,value:n}=r;return Jt.createElement("div",{id:e,style:oN},n)}function uN(r){let{id:e,announcement:n,ariaLiveType:s="assertive"}=r;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Jt.createElement("div",{id:e,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function cN(){const[r,e]=q.useState("");return{announce:q.useCallback(s=>{s!=null&&e(s)},[]),announcement:r}}const MS=q.createContext(null);function hN(r){const e=q.useContext(MS);q.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function fN(){const[r]=q.useState(()=>new Set),e=q.useCallback(s=>(r.add(s),()=>r.delete(s)),[r]);return[q.useCallback(s=>{let{type:o,event:u}=s;r.forEach(f=>{var m;return(m=f[o])==null?void 0:m.call(f,u)})},[r]),e]}const dN={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},mN={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:n}=r;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:n}=r;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function gN(r){let{announcements:e=mN,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=dN}=r;const{announce:u,announcement:f}=cN(),m=Tu("DndLiveRegion"),[p,y]=q.useState(!1);if(q.useEffect(()=>{y(!0)},[]),hN(q.useMemo(()=>({onDragStart(T){let{active:C}=T;u(e.onDragStart({active:C}))},onDragMove(T){let{active:C,over:V}=T;e.onDragMove&&u(e.onDragMove({active:C,over:V}))},onDragOver(T){let{active:C,over:V}=T;u(e.onDragOver({active:C,over:V}))},onDragEnd(T){let{active:C,over:V}=T;u(e.onDragEnd({active:C,over:V}))},onDragCancel(T){let{active:C,over:V}=T;u(e.onDragCancel({active:C,over:V}))}}),[u,e])),!p)return null;const E=Jt.createElement(Jt.Fragment,null,Jt.createElement(lN,{id:s,value:o.draggable}),Jt.createElement(uN,{id:m,announcement:f}));return n?Pl.createPortal(E,n):E}var Bt;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(Bt||(Bt={}));function Dh(){}function JE(r,e){return q.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function pN(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return q.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const Di=Object.freeze({x:0,y:0});function VS(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function kS(r,e){let{data:{value:n}}=r,{data:{value:s}}=e;return n-s}function yN(r,e){let{data:{value:n}}=r,{data:{value:s}}=e;return s-n}function ZE(r){let{left:e,top:n,height:s,width:o}=r;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+s},{x:e+o,y:n+s}]}function LS(r,e){if(!r||r.length===0)return null;const[n]=r;return n[e]}function WE(r,e,n){return e===void 0&&(e=r.left),n===void 0&&(n=r.top),{x:e+r.width*.5,y:n+r.height*.5}}const vN=r=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=r;const o=WE(e,e.left,e.top),u=[];for(const f of s){const{id:m}=f,p=n.get(m);if(p){const y=VS(WE(p),o);u.push({id:m,data:{droppableContainer:f,value:y}})}}return u.sort(kS)},_N=r=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=r;const o=ZE(e),u=[];for(const f of s){const{id:m}=f,p=n.get(m);if(p){const y=ZE(p),E=o.reduce((C,V,$)=>C+VS(y[$],V),0),T=Number((E/4).toFixed(4));u.push({id:m,data:{droppableContainer:f,value:T}})}}return u.sort(kS)};function EN(r,e){const n=Math.max(e.top,r.top),s=Math.max(e.left,r.left),o=Math.min(e.left+e.width,r.left+r.width),u=Math.min(e.top+e.height,r.top+r.height),f=o-s,m=u-n;if(s<o&&n<u){const p=e.width*e.height,y=r.width*r.height,E=f*m,T=E/(p+y-E);return Number(T.toFixed(4))}return 0}const TN=r=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=r;const o=[];for(const u of s){const{id:f}=u,m=n.get(f);if(m){const p=EN(m,e);p>0&&o.push({id:f,data:{droppableContainer:u,value:p}})}}return o.sort(yN)};function SN(r,e,n){return{...r,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function US(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:Di}function bN(r){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return o.reduce((f,m)=>({...f,top:f.top+r*m.y,bottom:f.bottom+r*m.y,left:f.left+r*m.x,right:f.right+r*m.x}),{...n})}}const AN=bN(1);function wN(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function RN(r,e,n){const s=wN(e);if(!s)return r;const{scaleX:o,scaleY:u,x:f,y:m}=s,p=r.left-f-(1-o)*parseFloat(n),y=r.top-m-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),E=o?r.width/o:r.width,T=u?r.height/u:r.height;return{width:E,height:T,top:y,right:p+E,bottom:y+T,left:p}}const CN={ignoreTransform:!1};function Vo(r,e){e===void 0&&(e=CN);let n=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:y,transformOrigin:E}=kn(r).getComputedStyle(r);y&&(n=RN(n,y,E))}const{top:s,left:o,width:u,height:f,bottom:m,right:p}=n;return{top:s,left:o,width:u,height:f,bottom:m,right:p}}function eT(r){return Vo(r,{ignoreTransform:!0})}function IN(r){const e=r.innerWidth,n=r.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function DN(r,e){return e===void 0&&(e=kn(r).getComputedStyle(r)),e.position==="fixed"}function NN(r,e){e===void 0&&(e=kn(r).getComputedStyle(r));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=e[o];return typeof u=="string"?n.test(u):!1})}function Xh(r,e){const n=[];function s(o){if(e!=null&&n.length>=e||!o)return n;if(Pg(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!_u(o)||OS(o)||n.includes(o))return n;const u=kn(r).getComputedStyle(o);return o!==r&&NN(o,u)&&n.push(o),DN(o,u)?n:s(o.parentNode)}return r?s(r):n}function PS(r){const[e]=Xh(r,1);return e??null}function mm(r){return!Kh||!r?null:xo(r)?r:Ug(r)?Pg(r)||r===Mo(r).scrollingElement?window:_u(r)?r:null:null}function zS(r){return xo(r)?r.scrollX:r.scrollLeft}function jS(r){return xo(r)?r.scrollY:r.scrollTop}function Hm(r){return{x:zS(r),y:jS(r)}}var $t;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})($t||($t={}));function BS(r){return!Kh||!r?!1:r===document.scrollingElement}function qS(r){const e={x:0,y:0},n=BS(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},s={x:r.scrollWidth-n.width,y:r.scrollHeight-n.height},o=r.scrollTop<=e.y,u=r.scrollLeft<=e.x,f=r.scrollTop>=s.y,m=r.scrollLeft>=s.x;return{isTop:o,isLeft:u,isBottom:f,isRight:m,maxScroll:s,minScroll:e}}const ON={x:.2,y:.2};function xN(r,e,n,s,o){let{top:u,left:f,right:m,bottom:p}=n;s===void 0&&(s=10),o===void 0&&(o=ON);const{isTop:y,isBottom:E,isLeft:T,isRight:C}=qS(r),V={x:0,y:0},$={x:0,y:0},Y={height:e.height*o.y,width:e.width*o.x};return!y&&u<=e.top+Y.height?(V.y=$t.Backward,$.y=s*Math.abs((e.top+Y.height-u)/Y.height)):!E&&p>=e.bottom-Y.height&&(V.y=$t.Forward,$.y=s*Math.abs((e.bottom-Y.height-p)/Y.height)),!C&&m>=e.right-Y.width?(V.x=$t.Forward,$.x=s*Math.abs((e.right-Y.width-m)/Y.width)):!T&&f<=e.left+Y.width&&(V.x=$t.Backward,$.x=s*Math.abs((e.left+Y.width-f)/Y.width)),{direction:V,speed:$}}function MN(r){if(r===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:e,left:n,right:s,bottom:o}=r.getBoundingClientRect();return{top:e,left:n,right:s,bottom:o,width:r.clientWidth,height:r.clientHeight}}function HS(r){return r.reduce((e,n)=>po(e,Hm(n)),Di)}function VN(r){return r.reduce((e,n)=>e+zS(n),0)}function kN(r){return r.reduce((e,n)=>e+jS(n),0)}function LN(r,e){if(e===void 0&&(e=Vo),!r)return;const{top:n,left:s,bottom:o,right:u}=e(r);PS(r)&&(o<=0||u<=0||n>=window.innerHeight||s>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const UN=[["x",["left","right"],VN],["y",["top","bottom"],kN]];class Bg{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Xh(n),o=HS(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[u,f,m]of UN)for(const p of f)Object.defineProperty(this,p,{get:()=>{const y=m(s),E=o[u]-y;return this.rect[p]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ql{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var o;(o=this.target)==null||o.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function PN(r){const{EventTarget:e}=kn(r);return r instanceof e?r:Mo(r)}function gm(r,e){const n=Math.abs(r.x),s=Math.abs(r.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var di;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(di||(di={}));function tT(r){r.preventDefault()}function zN(r){r.stopPropagation()}var Fe;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Fe||(Fe={}));const FS={start:[Fe.Space,Fe.Enter],cancel:[Fe.Esc],end:[Fe.Space,Fe.Enter,Fe.Tab]},jN=(r,e)=>{let{currentCoordinates:n}=e;switch(r.code){case Fe.Right:return{...n,x:n.x+25};case Fe.Left:return{...n,x:n.x-25};case Fe.Down:return{...n,y:n.y+25};case Fe.Up:return{...n,y:n.y-25}}};class qg{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ql(Mo(n)),this.windowListeners=new Ql(kn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(di.Resize,this.handleCancel),this.windowListeners.add(di.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(di.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&LN(s),n(Di)}handleKeyDown(e){if(jg(e)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:u=FS,coordinateGetter:f=jN,scrollBehavior:m="smooth"}=o,{code:p}=e;if(u.end.includes(p)){this.handleEnd(e);return}if(u.cancel.includes(p)){this.handleCancel(e);return}const{collisionRect:y}=s.current,E=y?{x:y.left,y:y.top}:Di;this.referenceCoordinates||(this.referenceCoordinates=E);const T=f(e,{active:n,context:s.current,currentCoordinates:E});if(T){const C=au(T,E),V={x:0,y:0},{scrollableAncestors:$}=s.current;for(const Y of $){const F=e.code,{isTop:ie,isRight:se,isLeft:te,isBottom:ce,maxScroll:fe,minScroll:le}=qS(Y),R=MN(Y),A={x:Math.min(F===Fe.Right?R.right-R.width/2:R.right,Math.max(F===Fe.Right?R.left:R.left+R.width/2,T.x)),y:Math.min(F===Fe.Down?R.bottom-R.height/2:R.bottom,Math.max(F===Fe.Down?R.top:R.top+R.height/2,T.y))},w=F===Fe.Right&&!se||F===Fe.Left&&!te,O=F===Fe.Down&&!ce||F===Fe.Up&&!ie;if(w&&A.x!==T.x){const D=Y.scrollLeft+C.x,k=F===Fe.Right&&D<=fe.x||F===Fe.Left&&D>=le.x;if(k&&!C.y){Y.scrollTo({left:D,behavior:m});return}k?V.x=Y.scrollLeft-D:V.x=F===Fe.Right?Y.scrollLeft-fe.x:Y.scrollLeft-le.x,V.x&&Y.scrollBy({left:-V.x,behavior:m});break}else if(O&&A.y!==T.y){const D=Y.scrollTop+C.y,k=F===Fe.Down&&D<=fe.y||F===Fe.Up&&D>=le.y;if(k&&!C.x){Y.scrollTo({top:D,behavior:m});return}k?V.y=Y.scrollTop-D:V.y=F===Fe.Down?Y.scrollTop-fe.y:Y.scrollTop-le.y,V.y&&Y.scrollBy({top:-V.y,behavior:m});break}}this.handleMove(e,po(au(T,this.referenceCoordinates),V))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}qg.activators=[{eventName:"onKeyDown",handler:(r,e,n)=>{let{keyboardCodes:s=FS,onActivation:o}=e,{active:u}=n;const{code:f}=r.nativeEvent;if(s.start.includes(f)){const m=u.activatorNode.current;return m&&r.target!==m?!1:(r.preventDefault(),o?.({event:r.nativeEvent}),!0)}return!1}}];function nT(r){return!!(r&&"distance"in r)}function iT(r){return!!(r&&"delay"in r)}class Hg{constructor(e,n,s){var o;s===void 0&&(s=PN(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:u}=e,{target:f}=u;this.props=e,this.events=n,this.document=Mo(f),this.documentListeners=new Ql(this.document),this.listeners=new Ql(s),this.windowListeners=new Ql(kn(f)),this.initialCoordinates=(o=qm(u))!=null?o:Di,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(di.Resize,this.handleCancel),this.windowListeners.add(di.DragStart,tT),this.windowListeners.add(di.VisibilityChange,this.handleCancel),this.windowListeners.add(di.ContextMenu,tT),this.documentListeners.add(di.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(iT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(nT(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:o}=this.props;o(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(di.Click,zN,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(di.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:o,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!o)return;const p=(n=qm(e))!=null?n:Di,y=au(o,p);if(!s&&m){if(nT(m)){if(m.tolerance!=null&&gm(y,m.tolerance))return this.handleCancel();if(gm(y,m.distance))return this.handleStart()}if(iT(m)&&gm(y,m.tolerance))return this.handleCancel();this.handlePending(m,y);return}e.cancelable&&e.preventDefault(),f(p)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Fe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const BN={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Fg extends Hg{constructor(e){const{event:n}=e,s=Mo(n.target);super(e,BN,s)}}Fg.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:n}=r,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const qN={move:{name:"mousemove"},end:{name:"mouseup"}};var Fm;(function(r){r[r.RightClick=2]="RightClick"})(Fm||(Fm={}));class HN extends Hg{constructor(e){super(e,qN,Mo(e.event.target))}}HN.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:n}=r,{onActivation:s}=e;return n.button===Fm.RightClick?!1:(s?.({event:n}),!0)}}];const pm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class FN extends Hg{constructor(e){super(e,pm)}static setup(){return window.addEventListener(pm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(pm.move.name,e)};function e(){}}}FN.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:n}=r,{onActivation:s}=e;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var Yl;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Yl||(Yl={}));var Nh;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Nh||(Nh={}));function GN(r){let{acceleration:e,activator:n=Yl.Pointer,canScroll:s,draggingRect:o,enabled:u,interval:f=5,order:m=Nh.TreeOrder,pointerCoordinates:p,scrollableAncestors:y,scrollableAncestorRects:E,delta:T,threshold:C}=r;const V=YN({delta:T,disabled:!u}),[$,Y]=iN(),F=q.useRef({x:0,y:0}),ie=q.useRef({x:0,y:0}),se=q.useMemo(()=>{switch(n){case Yl.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case Yl.DraggableRect:return o}},[n,o,p]),te=q.useRef(null),ce=q.useCallback(()=>{const le=te.current;if(!le)return;const R=F.current.x*ie.current.x,A=F.current.y*ie.current.y;le.scrollBy(R,A)},[]),fe=q.useMemo(()=>m===Nh.TreeOrder?[...y].reverse():y,[m,y]);q.useEffect(()=>{if(!u||!y.length||!se){Y();return}for(const le of fe){if(s?.(le)===!1)continue;const R=y.indexOf(le),A=E[R];if(!A)continue;const{direction:w,speed:O}=xN(le,A,se,e,C);for(const D of["x","y"])V[D][w[D]]||(O[D]=0,w[D]=0);if(O.x>0||O.y>0){Y(),te.current=le,$(ce,f),F.current=O,ie.current=w;return}}F.current={x:0,y:0},ie.current={x:0,y:0},Y()},[e,ce,s,Y,u,f,JSON.stringify(se),JSON.stringify(V),$,y,fe,E,JSON.stringify(C)])}const QN={x:{[$t.Backward]:!1,[$t.Forward]:!1},y:{[$t.Backward]:!1,[$t.Forward]:!1}};function YN(r){let{delta:e,disabled:n}=r;const s=Bm(e);return Eu(o=>{if(n||!s||!o)return QN;const u={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[$t.Backward]:o.x[$t.Backward]||u.x===-1,[$t.Forward]:o.x[$t.Forward]||u.x===1},y:{[$t.Backward]:o.y[$t.Backward]||u.y===-1,[$t.Forward]:o.y[$t.Forward]||u.y===1}}},[n,e,s])}function KN(r,e){const n=e!=null?r.get(e):void 0,s=n?n.node.current:null;return Eu(o=>{var u;return e==null?null:(u=s??o)!=null?u:null},[s,e])}function XN(r,e){return q.useMemo(()=>r.reduce((n,s)=>{const{sensor:o}=s,u=o.activators.map(f=>({eventName:f.eventName,handler:e(f.handler,s)}));return[...n,...u]},[]),[r,e])}var lu;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(lu||(lu={}));var Gm;(function(r){r.Optimized="optimized"})(Gm||(Gm={}));const rT=new Map;function $N(r,e){let{dragging:n,dependencies:s,config:o}=e;const[u,f]=q.useState(null),{frequency:m,measure:p,strategy:y}=o,E=q.useRef(r),T=F(),C=su(T),V=q.useCallback(function(ie){ie===void 0&&(ie=[]),!C.current&&f(se=>se===null?ie:se.concat(ie.filter(te=>!se.includes(te))))},[C]),$=q.useRef(null),Y=Eu(ie=>{if(T&&!n)return rT;if(!ie||ie===rT||E.current!==r||u!=null){const se=new Map;for(let te of r){if(!te)continue;if(u&&u.length>0&&!u.includes(te.id)&&te.rect.current){se.set(te.id,te.rect.current);continue}const ce=te.node.current,fe=ce?new Bg(p(ce),ce):null;te.rect.current=fe,fe&&se.set(te.id,fe)}return se}return ie},[r,u,n,T,p]);return q.useEffect(()=>{E.current=r},[r]),q.useEffect(()=>{T||V()},[n,T]),q.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),q.useEffect(()=>{T||typeof m!="number"||$.current!==null||($.current=setTimeout(()=>{V(),$.current=null},m))},[m,T,V,...s]),{droppableRects:Y,measureDroppableContainers:V,measuringScheduled:u!=null};function F(){switch(y){case lu.Always:return!1;case lu.BeforeDragging:return n;default:return!n}}}function GS(r,e){return Eu(n=>r?n||(typeof e=="function"?e(r):r):null,[e,r])}function JN(r,e){return GS(r,e)}function ZN(r){let{callback:e,disabled:n}=r;const s=zg(e),o=q.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,n]);return q.useEffect(()=>()=>o?.disconnect(),[o]),o}function $h(r){let{callback:e,disabled:n}=r;const s=zg(e),o=q.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[n]);return q.useEffect(()=>()=>o?.disconnect(),[o]),o}function WN(r){return new Bg(Vo(r),r)}function sT(r,e,n){e===void 0&&(e=WN);const[s,o]=q.useState(null);function u(){o(p=>{if(!r)return null;if(r.isConnected===!1){var y;return(y=p??n)!=null?y:null}const E=e(r);return JSON.stringify(p)===JSON.stringify(E)?p:E})}const f=ZN({callback(p){if(r)for(const y of p){const{type:E,target:T}=y;if(E==="childList"&&T instanceof HTMLElement&&T.contains(r)){u();break}}}}),m=$h({callback:u});return nr(()=>{u(),r?(m?.observe(r),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[r]),s}function eO(r){const e=GS(r);return US(r,e)}const aT=[];function tO(r){const e=q.useRef(r),n=Eu(s=>r?s&&s!==aT&&r&&e.current&&r.parentNode===e.current.parentNode?s:Xh(r):aT,[r]);return q.useEffect(()=>{e.current=r},[r]),n}function nO(r){const[e,n]=q.useState(null),s=q.useRef(r),o=q.useCallback(u=>{const f=mm(u.target);f&&n(m=>m?(m.set(f,Hm(f)),new Map(m)):null)},[]);return q.useEffect(()=>{const u=s.current;if(r!==u){f(u);const m=r.map(p=>{const y=mm(p);return y?(y.addEventListener("scroll",o,{passive:!0}),[y,Hm(y)]):null}).filter(p=>p!=null);n(m.length?new Map(m):null),s.current=r}return()=>{f(r),f(u)};function f(m){m.forEach(p=>{const y=mm(p);y?.removeEventListener("scroll",o)})}},[o,r]),q.useMemo(()=>r.length?e?Array.from(e.values()).reduce((u,f)=>po(u,f),Di):HS(r):Di,[r,e])}function oT(r,e){e===void 0&&(e=[]);const n=q.useRef(null);return q.useEffect(()=>{n.current=null},e),q.useEffect(()=>{const s=r!==Di;s&&!n.current&&(n.current=r),!s&&n.current&&(n.current=null)},[r]),n.current?au(r,n.current):Di}function iO(r){q.useEffect(()=>{if(!Kh)return;const e=r.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},r.map(e=>{let{sensor:n}=e;return n}))}function rO(r,e){return q.useMemo(()=>r.reduce((n,s)=>{let{eventName:o,handler:u}=s;return n[o]=f=>{u(f,e)},n},{}),[r,e])}function QS(r){return q.useMemo(()=>r?IN(r):null,[r])}const lT=[];function sO(r,e){e===void 0&&(e=Vo);const[n]=r,s=QS(n?kn(n):null),[o,u]=q.useState(lT);function f(){u(()=>r.length?r.map(p=>BS(p)?s:new Bg(e(p),p)):lT)}const m=$h({callback:f});return nr(()=>{m?.disconnect(),f(),r.forEach(p=>m?.observe(p))},[r]),o}function aO(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return _u(e)?e:r}function oO(r){let{measure:e}=r;const[n,s]=q.useState(null),o=q.useCallback(y=>{for(const{target:E}of y)if(_u(E)){s(T=>{const C=e(E);return T?{...T,width:C.width,height:C.height}:C});break}},[e]),u=$h({callback:o}),f=q.useCallback(y=>{const E=aO(y);u?.disconnect(),E&&u?.observe(E),s(E?e(E):null)},[e,u]),[m,p]=Ih(f);return q.useMemo(()=>({nodeRef:m,rect:n,setRef:p}),[n,m,p])}const lO=[{sensor:Fg,options:{}},{sensor:qg,options:{}}],uO={current:{}},oh={draggable:{measure:eT},droppable:{measure:eT,strategy:lu.WhileDragging,frequency:Gm.Optimized},dragOverlay:{measure:Vo}};class Kl extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const cO={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Kl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Dh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:oh,measureDroppableContainers:Dh,windowRect:null,measuringScheduled:!1},hO={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Dh,draggableNodes:new Map,over:null,measureDroppableContainers:Dh},Jh=q.createContext(hO),YS=q.createContext(cO);function fO(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Kl}}}function dO(r,e){switch(e.type){case Bt.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Bt.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case Bt.DragEnd:case Bt.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Bt.RegisterDroppable:{const{element:n}=e,{id:s}=n,o=new Kl(r.droppable.containers);return o.set(s,n),{...r,droppable:{...r.droppable,containers:o}}}case Bt.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=e,u=r.droppable.containers.get(n);if(!u||s!==u.key)return r;const f=new Kl(r.droppable.containers);return f.set(n,{...u,disabled:o}),{...r,droppable:{...r.droppable,containers:f}}}case Bt.UnregisterDroppable:{const{id:n,key:s}=e,o=r.droppable.containers.get(n);if(!o||s!==o.key)return r;const u=new Kl(r.droppable.containers);return u.delete(n),{...r,droppable:{...r.droppable,containers:u}}}default:return r}}function mO(r){let{disabled:e}=r;const{active:n,activatorEvent:s,draggableNodes:o}=q.useContext(Jh),u=Bm(s),f=Bm(n?.id);return q.useEffect(()=>{if(!e&&!s&&u&&f!=null){if(!jg(u)||document.activeElement===u.target)return;const m=o.get(f);if(!m)return;const{activatorNode:p,node:y}=m;if(!p.current&&!y.current)return;requestAnimationFrame(()=>{for(const E of[p.current,y.current]){if(!E)continue;const T=aN(E);if(T){T.focus();break}}})}},[s,e,o,f,u]),null}function gO(r,e){let{transform:n,...s}=e;return r!=null&&r.length?r.reduce((o,u)=>u({transform:o,...s}),n):n}function pO(r){return q.useMemo(()=>({draggable:{...oh.draggable,...r?.draggable},droppable:{...oh.droppable,...r?.droppable},dragOverlay:{...oh.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function yO(r){let{activeNode:e,measure:n,initialRect:s,config:o=!0}=r;const u=q.useRef(!1),{x:f,y:m}=typeof o=="boolean"?{x:o,y:o}:o;nr(()=>{if(!f&&!m||!e){u.current=!1;return}if(u.current||!s)return;const y=e?.node.current;if(!y||y.isConnected===!1)return;const E=n(y),T=US(E,s);if(f||(T.x=0),m||(T.y=0),u.current=!0,Math.abs(T.x)>0||Math.abs(T.y)>0){const C=PS(y);C&&C.scrollBy({top:T.y,left:T.x})}},[e,f,m,s,n])}const KS=q.createContext({...Di,scaleX:1,scaleY:1});var gs;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(gs||(gs={}));const vO=q.memo(function(e){var n,s,o,u;let{id:f,accessibility:m,autoScroll:p=!0,children:y,sensors:E=lO,collisionDetection:T=TN,measuring:C,modifiers:V,...$}=e;const Y=q.useReducer(dO,void 0,fO),[F,ie]=Y,[se,te]=fN(),[ce,fe]=q.useState(gs.Uninitialized),le=ce===gs.Initialized,{draggable:{active:R,nodes:A,translate:w},droppable:{containers:O}}=F,D=R!=null?A.get(R):null,k=q.useRef({initial:null,translated:null}),I=q.useMemo(()=>{var Me;return R!=null?{id:R,data:(Me=D?.data)!=null?Me:uO,rect:k}:null},[R,D]),ge=q.useRef(null),[xe,Q]=q.useState(null),[ne,me]=q.useState(null),Ce=su($,Object.values($)),qe=Tu("DndDescribedBy",f),x=q.useMemo(()=>O.getEnabled(),[O]),K=pO(C),{droppableRects:re,measureDroppableContainers:oe,measuringScheduled:_e}=$N(x,{dragging:le,dependencies:[w.x,w.y],config:K.droppable}),ve=KN(A,R),Oe=q.useMemo(()=>ne?qm(ne):null,[ne]),tt=ar(),Ge=JN(ve,K.draggable.measure);yO({activeNode:R!=null?A.get(R):null,config:tt.layoutShiftCompensation,initialRect:Ge,measure:K.draggable.measure});const Le=sT(ve,K.draggable.measure,Ge),Jn=sT(ve?ve.parentElement:null),Wt=q.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ln=O.getNodeFor((n=Wt.current.over)==null?void 0:n.id),It=oO({measure:K.dragOverlay.measure}),Zn=(s=It.nodeRef.current)!=null?s:ve,wn=le?(o=It.rect)!=null?o:Le:null,Vr=!!(It.nodeRef.current&&It.rect),kr=eO(Vr?null:Le),ft=QS(Zn?kn(Zn):null),nt=tO(le?Ln??ve:null),Un=sO(nt),Lr=gO(V,{transform:{x:w.x-kr.x,y:w.y-kr.y,scaleX:1,scaleY:1},activatorEvent:ne,active:I,activeNodeRect:Le,containerNodeRect:Jn,draggingNodeRect:wn,over:Wt.current.over,overlayNodeRect:It.rect,scrollableAncestors:nt,scrollableAncestorRects:Un,windowRect:ft}),Os=Oe?po(Oe,w):null,Ft=nO(nt),ir=oT(Ft),xs=oT(Ft,[Le]),Wn=po(Lr,ir),_n=wn?AN(wn,Lr):null,rr=I&&_n?T({active:I,collisionRect:_n,droppableRects:re,droppableContainers:x,pointerCoordinates:Os}):null,Ms=LS(rr,"id"),[Pn,Vs]=q.useState(null),zn=Vr?Lr:po(Lr,xs),zt=SN(zn,(u=Pn?.rect)!=null?u:null,Le),cn=q.useRef(null),dt=q.useCallback((Me,mt)=>{let{sensor:gt,options:Dt}=mt;if(ge.current==null)return;const hn=A.get(ge.current);if(!hn)return;const Gt=Me.nativeEvent,St=new gt({active:ge.current,activeNode:hn,event:Gt,options:Dt,context:Wt,onAbort(bt){if(!A.get(bt))return;const{onDragAbort:dn}=Ce.current,En={id:bt};dn?.(En),se({type:"onDragAbort",event:En})},onPending(bt,fn,dn,En){if(!A.get(bt))return;const{onDragPending:Tn}=Ce.current,Bn={id:bt,constraint:fn,initialCoordinates:dn,offset:En};Tn?.(Bn),se({type:"onDragPending",event:Bn})},onStart(bt){const fn=ge.current;if(fn==null)return;const dn=A.get(fn);if(!dn)return;const{onDragStart:En}=Ce.current,jn={activatorEvent:Gt,active:{id:fn,data:dn.data,rect:k}};Pl.unstable_batchedUpdates(()=>{En?.(jn),fe(gs.Initializing),ie({type:Bt.DragStart,initialCoordinates:bt,active:fn}),se({type:"onDragStart",event:jn}),Q(cn.current),me(Gt)})},onMove(bt){ie({type:Bt.DragMove,coordinates:bt})},onEnd:Rn(Bt.DragEnd),onCancel:Rn(Bt.DragCancel)});cn.current=St;function Rn(bt){return async function(){const{active:dn,collisions:En,over:jn,scrollAdjustedTranslate:Tn}=Wt.current;let Bn=null;if(dn&&Tn){const{cancelDrop:en}=Ce.current;Bn={activatorEvent:Gt,active:dn,collisions:En,delta:Tn,over:jn},bt===Bt.DragEnd&&typeof en=="function"&&await Promise.resolve(en(Bn))&&(bt=Bt.DragCancel)}ge.current=null,Pl.unstable_batchedUpdates(()=>{ie({type:bt}),fe(gs.Uninitialized),Vs(null),Q(null),me(null),cn.current=null;const en=bt===Bt.DragEnd?"onDragEnd":"onDragCancel";if(Bn){const Sn=Ce.current[en];Sn?.(Bn),se({type:en,event:Bn})}})}}},[A]),_a=q.useCallback((Me,mt)=>(gt,Dt)=>{const hn=gt.nativeEvent,Gt=A.get(Dt);if(ge.current!==null||!Gt||hn.dndKit||hn.defaultPrevented)return;const St={active:Gt};Me(gt,mt.options,St)===!0&&(hn.dndKit={capturedBy:mt.sensor},ge.current=Dt,dt(gt,mt))},[A,dt]),sr=XN(E,_a);iO(E),nr(()=>{Le&&ce===gs.Initializing&&fe(gs.Initialized)},[Le,ce]),q.useEffect(()=>{const{onDragMove:Me}=Ce.current,{active:mt,activatorEvent:gt,collisions:Dt,over:hn}=Wt.current;if(!mt||!gt)return;const Gt={active:mt,activatorEvent:gt,collisions:Dt,delta:{x:Wn.x,y:Wn.y},over:hn};Pl.unstable_batchedUpdates(()=>{Me?.(Gt),se({type:"onDragMove",event:Gt})})},[Wn.x,Wn.y]),q.useEffect(()=>{const{active:Me,activatorEvent:mt,collisions:gt,droppableContainers:Dt,scrollAdjustedTranslate:hn}=Wt.current;if(!Me||ge.current==null||!mt||!hn)return;const{onDragOver:Gt}=Ce.current,St=Dt.get(Ms),Rn=St&&St.rect.current?{id:St.id,rect:St.rect.current,data:St.data,disabled:St.disabled}:null,bt={active:Me,activatorEvent:mt,collisions:gt,delta:{x:hn.x,y:hn.y},over:Rn};Pl.unstable_batchedUpdates(()=>{Vs(Rn),Gt?.(bt),se({type:"onDragOver",event:bt})})},[Ms]),nr(()=>{Wt.current={activatorEvent:ne,active:I,activeNode:ve,collisionRect:_n,collisions:rr,droppableRects:re,draggableNodes:A,draggingNode:Zn,draggingNodeRect:wn,droppableContainers:O,over:Pn,scrollableAncestors:nt,scrollAdjustedTranslate:Wn},k.current={initial:wn,translated:_n}},[I,ve,rr,_n,A,Zn,wn,re,O,Pn,nt,Wn]),GN({...tt,delta:w,draggingRect:_n,pointerCoordinates:Os,scrollableAncestors:nt,scrollableAncestorRects:Un});const Ea=q.useMemo(()=>({active:I,activeNode:ve,activeNodeRect:Le,activatorEvent:ne,collisions:rr,containerNodeRect:Jn,dragOverlay:It,draggableNodes:A,droppableContainers:O,droppableRects:re,over:Pn,measureDroppableContainers:oe,scrollableAncestors:nt,scrollableAncestorRects:Un,measuringConfiguration:K,measuringScheduled:_e,windowRect:ft}),[I,ve,Le,ne,rr,Jn,It,A,O,re,Pn,oe,nt,Un,K,_e,ft]),ei=q.useMemo(()=>({activatorEvent:ne,activators:sr,active:I,activeNodeRect:Le,ariaDescribedById:{draggable:qe},dispatch:ie,draggableNodes:A,over:Pn,measureDroppableContainers:oe}),[ne,sr,I,Le,ie,qe,A,Pn,oe]);return Jt.createElement(MS.Provider,{value:te},Jt.createElement(Jh.Provider,{value:ei},Jt.createElement(YS.Provider,{value:Ea},Jt.createElement(KS.Provider,{value:zt},y)),Jt.createElement(mO,{disabled:m?.restoreFocus===!1})),Jt.createElement(gN,{...m,hiddenTextDescribedById:qe}));function ar(){const Me=xe?.autoScrollEnabled===!1,mt=typeof p=="object"?p.enabled===!1:p===!1,gt=le&&!Me&&!mt;return typeof p=="object"?{...p,enabled:gt}:{enabled:gt}}}),_O=q.createContext(null),uT="button",EO="Draggable";function TO(r){let{id:e,data:n,disabled:s=!1,attributes:o}=r;const u=Tu(EO),{activators:f,activatorEvent:m,active:p,activeNodeRect:y,ariaDescribedById:E,draggableNodes:T,over:C}=q.useContext(Jh),{role:V=uT,roleDescription:$="draggable",tabIndex:Y=0}=o??{},F=p?.id===e,ie=q.useContext(F?KS:_O),[se,te]=Ih(),[ce,fe]=Ih(),le=rO(f,e),R=su(n);nr(()=>(T.set(e,{id:e,key:u,node:se,activatorNode:ce,data:R}),()=>{const w=T.get(e);w&&w.key===u&&T.delete(e)}),[T,e]);const A=q.useMemo(()=>({role:V,tabIndex:Y,"aria-disabled":s,"aria-pressed":F&&V===uT?!0:void 0,"aria-roledescription":$,"aria-describedby":E.draggable}),[s,V,Y,F,$,E.draggable]);return{active:p,activatorEvent:m,activeNodeRect:y,attributes:A,isDragging:F,listeners:s?void 0:le,node:se,over:C,setNodeRef:te,setActivatorNodeRef:fe,transform:ie}}function SO(){return q.useContext(YS)}const bO="Droppable",AO={timeout:25};function wO(r){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:o}=r;const u=Tu(bO),{active:f,dispatch:m,over:p,measureDroppableContainers:y}=q.useContext(Jh),E=q.useRef({disabled:n}),T=q.useRef(!1),C=q.useRef(null),V=q.useRef(null),{disabled:$,updateMeasurementsFor:Y,timeout:F}={...AO,...o},ie=su(Y??s),se=q.useCallback(()=>{if(!T.current){T.current=!0;return}V.current!=null&&clearTimeout(V.current),V.current=setTimeout(()=>{y(Array.isArray(ie.current)?ie.current:[ie.current]),V.current=null},F)},[F]),te=$h({callback:se,disabled:$||!f}),ce=q.useCallback((A,w)=>{te&&(w&&(te.unobserve(w),T.current=!1),A&&te.observe(A))},[te]),[fe,le]=Ih(ce),R=su(e);return q.useEffect(()=>{!te||!fe.current||(te.disconnect(),T.current=!1,te.observe(fe.current))},[fe,te]),q.useEffect(()=>(m({type:Bt.RegisterDroppable,element:{id:s,key:u,disabled:n,node:fe,rect:C,data:R}}),()=>m({type:Bt.UnregisterDroppable,key:u,id:s})),[s]),q.useEffect(()=>{n!==E.current.disabled&&(m({type:Bt.SetDroppableDisabled,id:s,key:u,disabled:n}),E.current.disabled=n)},[s,u,n,m]),{active:f,rect:C,isOver:p?.id===s,node:fe,over:p,setNodeRef:le}}function Gg(r,e,n){const s=r.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function RO(r,e){return r.reduce((n,s,o)=>{const u=e.get(s);return u&&(n[o]=u),n},Array(r.length))}function Xc(r){return r!==null&&r>=0}function CO(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let n=0;n<r.length;n++)if(r[n]!==e[n])return!1;return!0}function IO(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const XS=r=>{let{rects:e,activeIndex:n,overIndex:s,index:o}=r;const u=Gg(e,s,n),f=e[o],m=u[o];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},$c={scaleX:1,scaleY:1},DO=r=>{var e;let{activeIndex:n,activeNodeRect:s,index:o,rects:u,overIndex:f}=r;const m=(e=u[n])!=null?e:s;if(!m)return null;if(o===n){const y=u[f];return y?{x:0,y:n<f?y.top+y.height-(m.top+m.height):y.top-m.top,...$c}:null}const p=NO(u,o,n);return o>n&&o<=f?{x:0,y:-m.height-p,...$c}:o<n&&o>=f?{x:0,y:m.height+p,...$c}:{x:0,y:0,...$c}};function NO(r,e,n){const s=r[e],o=r[e-1],u=r[e+1];return s?n<e?o?s.top-(o.top+o.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const $S="Sortable",JS=Jt.createContext({activeIndex:-1,containerId:$S,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:XS,disabled:{draggable:!1,droppable:!1}});function OO(r){let{children:e,id:n,items:s,strategy:o=XS,disabled:u=!1}=r;const{active:f,dragOverlay:m,droppableRects:p,over:y,measureDroppableContainers:E}=SO(),T=Tu($S,n),C=m.rect!==null,V=q.useMemo(()=>s.map(le=>typeof le=="object"&&"id"in le?le.id:le),[s]),$=f!=null,Y=f?V.indexOf(f.id):-1,F=y?V.indexOf(y.id):-1,ie=q.useRef(V),se=!CO(V,ie.current),te=F!==-1&&Y===-1||se,ce=IO(u);nr(()=>{se&&$&&E(V)},[se,V,$,E]),q.useEffect(()=>{ie.current=V},[V]);const fe=q.useMemo(()=>({activeIndex:Y,containerId:T,disabled:ce,disableTransforms:te,items:V,overIndex:F,useDragOverlay:C,sortedRects:RO(V,p),strategy:o}),[Y,T,ce.draggable,ce.droppable,te,V,F,p,C,o]);return Jt.createElement(JS.Provider,{value:fe},e)}const xO=r=>{let{id:e,items:n,activeIndex:s,overIndex:o}=r;return Gg(n,s,o).indexOf(e)},MO=r=>{let{containerId:e,isSorting:n,wasDragging:s,index:o,items:u,newIndex:f,previousItems:m,previousContainerId:p,transition:y}=r;return!y||!s||m!==u&&o===f?!1:n?!0:f!==o&&e===p},VO={duration:200,easing:"ease"},ZS="transform",kO=ou.Transition.toString({property:ZS,duration:0,easing:"linear"}),LO={roleDescription:"sortable"};function UO(r){let{disabled:e,index:n,node:s,rect:o}=r;const[u,f]=q.useState(null),m=q.useRef(n);return nr(()=>{if(!e&&n!==m.current&&s.current){const p=o.current;if(p){const y=Vo(s.current,{ignoreTransform:!0}),E={x:p.left-y.left,y:p.top-y.top,scaleX:p.width/y.width,scaleY:p.height/y.height};(E.x||E.y)&&f(E)}}n!==m.current&&(m.current=n)},[e,n,s,o]),q.useEffect(()=>{u&&f(null)},[u]),u}function PO(r){let{animateLayoutChanges:e=MO,attributes:n,disabled:s,data:o,getNewIndex:u=xO,id:f,strategy:m,resizeObserverConfig:p,transition:y=VO}=r;const{items:E,containerId:T,activeIndex:C,disabled:V,disableTransforms:$,sortedRects:Y,overIndex:F,useDragOverlay:ie,strategy:se}=q.useContext(JS),te=zO(s,V),ce=E.indexOf(f),fe=q.useMemo(()=>({sortable:{containerId:T,index:ce,items:E},...o}),[T,o,ce,E]),le=q.useMemo(()=>E.slice(E.indexOf(f)),[E,f]),{rect:R,node:A,isOver:w,setNodeRef:O}=wO({id:f,data:fe,disabled:te.droppable,resizeObserverConfig:{updateMeasurementsFor:le,...p}}),{active:D,activatorEvent:k,activeNodeRect:I,attributes:ge,setNodeRef:xe,listeners:Q,isDragging:ne,over:me,setActivatorNodeRef:Ce,transform:qe}=TO({id:f,data:fe,attributes:{...LO,...n},disabled:te.draggable}),x=nN(O,xe),K=!!D,re=K&&!$&&Xc(C)&&Xc(F),oe=!ie&&ne,_e=oe&&re?qe:null,Oe=re?_e??(m??se)({rects:Y,activeNodeRect:I,activeIndex:C,overIndex:F,index:ce}):null,tt=Xc(C)&&Xc(F)?u({id:f,items:E,activeIndex:C,overIndex:F}):ce,Ge=D?.id,Le=q.useRef({activeId:Ge,items:E,newIndex:tt,containerId:T}),Jn=E!==Le.current.items,Wt=e({active:D,containerId:T,isDragging:ne,isSorting:K,id:f,index:ce,items:E,newIndex:Le.current.newIndex,previousItems:Le.current.items,previousContainerId:Le.current.containerId,transition:y,wasDragging:Le.current.activeId!=null}),Ln=UO({disabled:!Wt,index:ce,node:A,rect:R});return q.useEffect(()=>{K&&Le.current.newIndex!==tt&&(Le.current.newIndex=tt),T!==Le.current.containerId&&(Le.current.containerId=T),E!==Le.current.items&&(Le.current.items=E)},[K,tt,T,E]),q.useEffect(()=>{if(Ge===Le.current.activeId)return;if(Ge!=null&&Le.current.activeId==null){Le.current.activeId=Ge;return}const Zn=setTimeout(()=>{Le.current.activeId=Ge},50);return()=>clearTimeout(Zn)},[Ge]),{active:D,activeIndex:C,attributes:ge,data:fe,rect:R,index:ce,newIndex:tt,items:E,isOver:w,isSorting:K,isDragging:ne,listeners:Q,node:A,overIndex:F,over:me,setNodeRef:x,setActivatorNodeRef:Ce,setDroppableNodeRef:O,setDraggableNodeRef:xe,transform:Ln??Oe,transition:It()};function It(){if(Ln||Jn&&Le.current.newIndex===ce)return kO;if(!(oe&&!jg(k)||!y)&&(K||Wt))return ou.Transition.toString({...y,property:ZS})}}function zO(r,e){var n,s;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(n=r?.draggable)!=null?n:e.draggable,droppable:(s=r?.droppable)!=null?s:e.droppable}}function Oh(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const jO=[Fe.Down,Fe.Right,Fe.Up,Fe.Left],BO=(r,e)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:u,over:f,scrollableAncestors:m}}=e;if(jO.includes(r.code)){if(r.preventDefault(),!n||!s)return;const p=[];u.getEnabled().forEach(T=>{if(!T||T!=null&&T.disabled)return;const C=o.get(T.id);if(C)switch(r.code){case Fe.Down:s.top<C.top&&p.push(T);break;case Fe.Up:s.top>C.top&&p.push(T);break;case Fe.Left:s.left>C.left&&p.push(T);break;case Fe.Right:s.left<C.left&&p.push(T);break}});const y=_N({collisionRect:s,droppableRects:o,droppableContainers:p});let E=LS(y,"id");if(E===f?.id&&y.length>1&&(E=y[1].id),E!=null){const T=u.get(n.id),C=u.get(E),V=C?o.get(C.id):null,$=C?.node.current;if($&&V&&T&&C){const F=Xh($).some((le,R)=>m[R]!==le),ie=WS(T,C),se=qO(T,C),te=F||!ie?{x:0,y:0}:{x:se?s.width-V.width:0,y:se?s.height-V.height:0},ce={x:V.left,y:V.top};return te.x&&te.y?ce:au(ce,te)}}}};function WS(r,e){return!Oh(r)||!Oh(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function qO(r,e){return!Oh(r)||!Oh(e)||!WS(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const Zh=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],lt=()=>crypto.randomUUID(),HO=r=>{const e={};for(const n of Zh)r[n]&&(e[n]={...r[n],exercises:(r[n].exercises||[]).map(s=>({...s,id:s.id||lt()}))});return e},eb={Monday:{isRest:!1,exercises:[{id:lt(),name:"Back Squat",sets:4,reps:"",weight:null},{id:lt(),name:"Bench Press",sets:4,reps:"",weight:null},{id:lt(),name:"Wide Row",sets:3,reps:"",weight:null},{id:lt(),name:"RDL",sets:3,reps:"",weight:null},{id:lt(),name:"Barbell Curl",sets:3,reps:"",weight:null},{id:lt(),name:"Behind-Back Wrist Curl",sets:2,reps:"",weight:null}]},Tuesday:{isRest:!1,exercises:[{id:lt(),name:"HIIT: 20s/40s 10",sets:1,reps:"10 rounds",weight:null}]},Wednesday:{isRest:!1,exercises:[{id:lt(),name:"Deadlift",sets:4,reps:"",weight:null},{id:lt(),name:"OHP",sets:4,reps:"",weight:null},{id:lt(),name:"Underhand Row",sets:3,reps:"",weight:null},{id:lt(),name:"Barbell Curl",sets:3,reps:"",weight:null},{id:lt(),name:"Reverse Curl",sets:2,reps:"",weight:null},{id:lt(),name:"Barbell Hold",sets:2,reps:"",weight:null}]},Thursday:{isRest:!1,exercises:[{id:lt(),name:"Steady Cardio",sets:1,reps:"20-30 min",weight:null}]},Friday:{isRest:!1,exercises:[{id:lt(),name:"Front Squat",sets:4,reps:"",weight:null},{id:lt(),name:"Incline Bench",sets:4,reps:"",weight:null},{id:lt(),name:"Med Row",sets:3,reps:"",weight:null},{id:lt(),name:"Sumo DL",sets:3,reps:"",weight:null},{id:lt(),name:"Wrist Curl Up",sets:2,reps:"",weight:null},{id:lt(),name:"Wrist Curl Down",sets:2,reps:"",weight:null}]},Saturday:{isRest:!1,exercises:[{id:lt(),name:"Light Back Squat",sets:4,reps:"",weight:null},{id:lt(),name:"Light OHP",sets:4,reps:"",weight:null},{id:lt(),name:"Row Variation",sets:3,reps:"",weight:null},{id:lt(),name:"RDL/GM",sets:3,reps:"",weight:null},{id:lt(),name:"Curl+RevCurl",sets:3,reps:"",weight:null}]},Sunday:{isRest:!0,exercises:[]}},cT=[{name:"Back Squat",category:"Legs"},{name:"Front Squat",category:"Legs"},{name:"Deadlift",category:"Back"},{name:"Sumo Deadlift",category:"Back"},{name:"Romanian Deadlift",category:"Back"},{name:"Bench Press",category:"Chest"},{name:"Incline Bench Press",category:"Chest"},{name:"Overhead Press",category:"Shoulders"},{name:"Barbell Row",category:"Back"},{name:"Pull-ups",category:"Back"},{name:"Chin-ups",category:"Back"},{name:"Dips",category:"Chest"},{name:"Barbell Curl",category:"Arms"},{name:"Dumbbell Curl",category:"Arms"},{name:"Hammer Curl",category:"Arms"},{name:"Tricep Pushdown",category:"Arms"},{name:"Skull Crushers",category:"Arms"},{name:"Lateral Raise",category:"Shoulders"},{name:"Face Pull",category:"Shoulders"},{name:"Leg Press",category:"Legs"},{name:"Leg Curl",category:"Legs"},{name:"Leg Extension",category:"Legs"},{name:"Calf Raise",category:"Legs"},{name:"Cable Fly",category:"Chest"},{name:"Lat Pulldown",category:"Back"},{name:"Seated Row",category:"Back"},{name:"HIIT",category:"Cardio"},{name:"Steady State Cardio",category:"Cardio"},{name:"Running",category:"Cardio"},{name:"Cycling",category:"Cardio"},{name:"Rowing",category:"Cardio"}],tb=tN((r,e)=>({view:"tracker",setView:n=>r({view:n}),currentDay:(()=>{const n=new Date().getDay();return Zh[n===0?6:n-1]})(),setCurrentDay:n=>r({currentDay:n}),weeklyPlan:eb,setWeeklyPlan:n=>r({weeklyPlan:n}),completedSets:{},setCompletedSets:n=>r({completedSets:n}),isAddExerciseModalOpen:!1,addExerciseModalDay:null,openAddExerciseModal:n=>r({isAddExerciseModalOpen:!0,addExerciseModalDay:n}),closeAddExerciseModal:()=>r({isAddExerciseModalOpen:!1,addExerciseModalDay:null}),toggleSet:(n,s)=>{const{currentDay:o,completedSets:u,weeklyPlan:f}=e();let m=u[o]||{};const p=`${n}-${s}`;if(Object.keys(m).length===0){const E=f[o];if(!E.exercises)return;m={},E.exercises.forEach((T,C)=>{for(let V=0;V<T.sets;V++)m[`${C}-${V}`]=!1})}if(s>0){const E=`${n}-${s-1}`;if(!m[E])return}const y={...m,[p]:!m[p]};r({completedSets:{...u,[o]:y}})},resetAll:()=>{const{currentDay:n,weeklyPlan:s}=e();if(window.confirm("Reset all checkboxes for today?")){const o=s[n];if(!o.exercises)return;const u={};o.exercises.forEach((f,m)=>{for(let p=0;p<f.sets;p++)u[`${m}-${p}`]=!1}),r({completedSets:{...e().completedSets,[n]:u}})}},getTotalProgress:()=>{const{currentDay:n,weeklyPlan:s,completedSets:o}=e(),u=s[n];if(!u?.exercises||u.exercises.length===0)return{completed:0,total:0,percentage:0};const f=o[n]||{};let m=0,p=0;return u.exercises.forEach((y,E)=>{for(let T=0;T<y.sets;T++)p++,f[`${E}-${T}`]&&m++}),{completed:m,total:p,percentage:p>0?Math.round(m/p*100):0}},toggleRestDay:n=>{const{weeklyPlan:s}=e();r({weeklyPlan:{...s,[n]:{...s[n],isRest:!s[n].isRest,exercises:s[n].isRest?s[n].exercises:[]}}})},addExercise:(n,s)=>{if(!s.name||s.name.trim()==="")return{success:!1,error:"Exercise name is required"};if(!s.sets||s.sets<1||s.sets>20)return{success:!1,error:"Sets must be between 1 and 20"};const{weeklyPlan:o}=e();return r({weeklyPlan:{...o,[n]:{...o[n],exercises:[...o[n].exercises||[],{id:lt(),name:s.name.trim(),sets:parseInt(s.sets),reps:s.reps||"",weight:s.weight||null,notes:s.notes||""}]}}}),{success:!0}},removeExercise:(n,s,o)=>{if(!window.confirm(`Remove "${o||"this exercise"}" from ${n}?`))return;const{weeklyPlan:u}=e();r({weeklyPlan:{...u,[n]:{...u[n],exercises:u[n].exercises.filter((f,m)=>m!==s)}}})},updateExerciseName:(n,s,o)=>{const{weeklyPlan:u}=e();r({weeklyPlan:{...u,[n]:{...u[n],exercises:u[n].exercises.map((f,m)=>m===s?{...f,name:o}:f)}}})},updateExerciseSets:(n,s,o)=>{const{weeklyPlan:u}=e(),f=Math.max(1,Math.min(20,parseInt(o)||1));r({weeklyPlan:{...u,[n]:{...u[n],exercises:u[n].exercises.map((m,p)=>p===s?{...m,sets:f}:m)}}})},updateExerciseReps:(n,s,o)=>{const{weeklyPlan:u}=e();r({weeklyPlan:{...u,[n]:{...u[n],exercises:u[n].exercises.map((f,m)=>m===s?{...f,reps:o}:f)}}})},updateExerciseWeight:(n,s,o)=>{const{weeklyPlan:u}=e();r({weeklyPlan:{...u,[n]:{...u[n],exercises:u[n].exercises.map((f,m)=>m===s?{...f,weight:o}:f)}}})},updateExerciseNotes:(n,s,o)=>{const{weeklyPlan:u}=e();r({weeklyPlan:{...u,[n]:{...u[n],exercises:u[n].exercises.map((f,m)=>m===s?{...f,notes:o}:f)}}})},handleDragEnd:(n,s)=>{const{active:o,over:u}=s;if(!u||o.id===u.id)return;const{weeklyPlan:f}=e(),m=f[n].exercises||[],p=m.findIndex(T=>T.id===o.id),y=m.findIndex(T=>T.id===u.id);if(p===-1||y===-1)return;const E=Gg(m,p,y);r({weeklyPlan:{...f,[n]:{...f[n],exercises:E}}})}})),hT=q.memo(function(){const{isAddExerciseModalOpen:e,addExerciseModalDay:n,closeAddExerciseModal:s,addExercise:o}=tb(),[u,f]=q.useState(""),[m,p]=q.useState(3),[y,E]=q.useState("8-12"),[T,C]=q.useState(""),[V,$]=q.useState(""),[Y,F]=q.useState(""),[ie,se]=q.useState(!1),[te,ce]=q.useState(""),fe=q.useMemo(()=>{if(!Y.trim())return cT;const w=Y.toLowerCase();return cT.filter(O=>O.name.toLowerCase().includes(w)||O.category.toLowerCase().includes(w))},[Y]),le=q.useCallback(w=>{f(w),F(w),se(!1)},[]),R=q.useCallback(w=>{w.preventDefault(),ce("");const O=o(n,{name:u||Y,sets:m,reps:y,weight:T?parseFloat(T):null,notes:V});O.success?(f(""),p(3),E("8-12"),C(""),$(""),F(""),s()):ce(O.error)},[u,Y,m,y,T,V,n,o,s]),A=q.useCallback(()=>{ce(""),f(""),p(3),E("8-12"),C(""),$(""),F(""),s()},[s]);return e?U.jsx("div",{className:"modal-overlay",onClick:A,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:U.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[U.jsxs("div",{className:"modal-header",children:[U.jsxs("h2",{id:"modal-title",children:["Add Exercise to ",n]}),U.jsx("button",{className:"modal-close-btn",onClick:A,"aria-label":"Close modal",children:""})]}),U.jsxs("form",{onSubmit:R,className:"modal-form",children:[te&&U.jsx("div",{className:"modal-error",role:"alert",children:te}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"exercise-name",children:"Exercise Name *"}),U.jsxs("div",{className:"search-container",children:[U.jsx("input",{id:"exercise-name",type:"text",value:Y,onChange:w=>{F(w.target.value),f(""),se(!0)},onFocus:()=>se(!0),placeholder:"Search or type exercise name...",autoComplete:"off","aria-autocomplete":"list","aria-controls":"exercise-suggestions",required:!0}),ie&&fe.length>0&&U.jsx("ul",{id:"exercise-suggestions",className:"suggestions-list",role:"listbox",children:fe.slice(0,8).map((w,O)=>U.jsxs("li",{onClick:()=>le(w.name),role:"option",tabIndex:0,onKeyDown:D=>D.key==="Enter"&&le(w.name),children:[U.jsx("span",{className:"exercise-suggestion-name",children:w.name}),U.jsx("span",{className:"exercise-suggestion-category",children:w.category})]},O))})]})]}),U.jsxs("div",{className:"form-row",children:[U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"exercise-sets",children:"Sets *"}),U.jsx("input",{id:"exercise-sets",type:"number",value:m,onChange:w=>p(parseInt(w.target.value)||1),min:"1",max:"20",required:!0})]}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"exercise-reps",children:"Reps"}),U.jsx("input",{id:"exercise-reps",type:"text",value:y,onChange:w=>E(w.target.value),placeholder:"e.g., 8-12"})]})]}),U.jsx("div",{className:"form-row",children:U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"exercise-weight",children:"Weight (kg)"}),U.jsx("input",{id:"exercise-weight",type:"number",value:T,onChange:w=>C(w.target.value),placeholder:"Optional",step:"0.5",min:"0"})]})}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"exercise-notes",children:"Notes"}),U.jsx("textarea",{id:"exercise-notes",value:V,onChange:w=>$(w.target.value),placeholder:"Optional notes (e.g., focus on form)",rows:2})]}),U.jsxs("div",{className:"modal-actions",children:[U.jsx("button",{type:"button",className:"btn-secondary",onClick:A,children:"Cancel"}),U.jsx("button",{type:"submit",className:"btn-primary",children:"Add Exercise"})]})]})]})}):null});class FO extends q.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){this.setState({errorInfo:n}),console.error("Error caught by boundary:",e,n)}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?U.jsx("div",{className:"error-boundary",children:U.jsxs("div",{className:"error-content",children:[U.jsx("div",{className:"error-icon",children:""}),U.jsx("h2",{children:"Something went wrong"}),U.jsx("p",{children:"We're sorry, but something unexpected happened."}),this.props.showDetails&&this.state.error&&U.jsxs("details",{className:"error-details",children:[U.jsx("summary",{children:"Error Details"}),U.jsx("pre",{children:this.state.error.toString()}),this.state.errorInfo&&U.jsx("pre",{children:this.state.errorInfo.componentStack})]}),U.jsxs("div",{className:"error-actions",children:[U.jsx("button",{onClick:this.handleRetry,className:"retry-btn",children:"Try Again"}),U.jsx("button",{onClick:()=>window.location.reload(),className:"reload-btn",children:"Reload Page"})]})]})}):this.props.children}}const GO=q.memo(function({exercise:e,index:n,day:s,updateExerciseName:o,updateExerciseSets:u,updateExerciseReps:f,updateExerciseWeight:m,removeExercise:p}){const{attributes:y,listeners:E,setNodeRef:T,transform:C,transition:V,isDragging:$}=PO({id:e.id}),Y={transform:ou.Transform.toString(C),transition:V,opacity:$?.5:1,zIndex:$?1e3:1,boxShadow:$?"0 8px 24px rgba(0,0,0,0.2)":"none"};return U.jsxs("div",{ref:T,style:Y,className:`exercise-edit ${$?"dragging":""}`,role:"listitem","aria-label":`Exercise: ${e.name}`,children:[U.jsx("div",{className:"drag-handle",...y,...E,role:"button","aria-label":"Drag to reorder",tabIndex:0,children:""}),U.jsxs("div",{className:"exercise-info",children:[U.jsx("input",{type:"text",className:"exercise-name-input",value:e.name,onChange:F=>o(s,n,F.target.value),placeholder:"Exercise name","aria-label":"Exercise name"}),U.jsxs("div",{className:"exercise-sets-reps",children:[U.jsx("input",{type:"number",className:"sets-input",value:e.sets,onChange:F=>u(s,n,parseInt(F.target.value)||1),min:"1",max:"20","aria-label":"Number of sets"}),U.jsx("span",{"aria-hidden":"true",children:""}),U.jsx("input",{type:"text",className:"reps-input",value:e.reps,onChange:F=>f(s,n,F.target.value),placeholder:"reps","aria-label":"Reps"})]}),U.jsxs("div",{className:"exercise-weight-input",children:[U.jsx("input",{type:"number",className:"weight-input",value:e.weight||"",onChange:F=>m(s,n,F.target.value?parseFloat(F.target.value):null),placeholder:"kg",step:"0.5",min:"0","aria-label":"Weight in kg"}),U.jsx("span",{className:"weight-label",children:"kg"})]})]}),U.jsx("button",{className:"remove-btn-small",onClick:()=>p(s,n,e.name),"aria-label":`Remove ${e.name}`,children:""})]})}),QO=q.memo(function({exercise:e,exerciseIndex:n,currentDay:s,completedSets:o,toggleSet:u}){return U.jsxs("div",{className:"exercise-card",role:"article","aria-label":`${e.name} exercise`,children:[U.jsxs("div",{className:"exercise-header",children:[U.jsx("h3",{className:"exercise-name",children:e.name}),U.jsxs("span",{className:"exercise-reps",children:[e.sets,"  ",e.reps||"reps"]})]}),e.weight&&U.jsx("div",{className:"exercise-weight-display",children:U.jsxs("span",{className:"weight-badge",children:[e.weight," kg"]})}),e.notes&&U.jsx("div",{className:"exercise-notes-display",children:U.jsx("span",{className:"notes-text",children:e.notes})}),U.jsx("div",{className:"sets-container",role:"group","aria-label":"Sets",children:Array.from({length:e.sets},(f,m)=>U.jsxs("label",{className:"set-checkbox",children:[U.jsx("input",{type:"checkbox",checked:o[s]?.[`${n}-${m}`]||!1,onChange:()=>u(n,m),"aria-label":`Set ${m+1} of ${e.name}`}),U.jsxs("span",{className:"checkbox-label",children:["Set ",m+1]})]},m))})]})}),YO=q.memo(function({currentDay:e,setCurrentDay:n,weeklyPlan:s}){return U.jsx("div",{className:"day-selector",role:"tablist","aria-label":"Select day",children:Zh.map(o=>U.jsx("button",{role:"tab","aria-selected":e===o,className:`day-btn ${e===o?"active":""} ${s[o]?.isRest?"rest":""}`,onClick:()=>n(o),children:o.slice(0,3)},o))})}),KO=q.memo(function({progress:e}){return U.jsxs("div",{className:"progress-section",role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100",children:[U.jsx("div",{className:"progress-bar-container",children:U.jsx("div",{className:"progress-bar",style:{width:`${e.percentage}%`}})}),U.jsxs("p",{className:"progress-text",children:[e.completed," / ",e.total," sets completed (",e.percentage,"%)"]})]})});function XO(){const{user:r,loading:e,signInWithGoogle:n,signOut:s}=JD(),{loadData:o,saveData:u}=YE(r,eb,"weekly_plans"),{loadData:f,saveData:m}=YE(r,{},"completed_sets"),{view:p,setView:y,currentDay:E,setCurrentDay:T,weeklyPlan:C,setWeeklyPlan:V,completedSets:$,setCompletedSets:Y,toggleSet:F,resetAll:ie,getTotalProgress:se,toggleRestDay:te,removeExercise:ce,updateExerciseName:fe,updateExerciseSets:le,updateExerciseReps:R,updateExerciseWeight:A,handleDragEnd:w,openAddExerciseModal:O}=tb();q.useEffect(()=>{(async()=>{if(r){const xe=await o();xe&&V(HO(xe));const Q=await f();Q&&Y(Q)}})()},[r]),q.useEffect(()=>{if(!r)return;const ge=setTimeout(()=>{u(C)},1e3);return()=>clearTimeout(ge)},[C,r]),q.useEffect(()=>{if(!r)return;const ge=setTimeout(()=>{m($)},1e3);return()=>clearTimeout(ge)},[$,r]);const D=pN(JE(Fg,{activationConstraint:{distance:8}}),JE(qg,{coordinateGetter:BO})),k=se(),I=C[E];return e?U.jsx("div",{className:"app",children:U.jsxs("div",{className:"loading-screen",children:[U.jsx("div",{className:"loading-spinner","aria-label":"Loading"}),U.jsx("p",{children:"Loading..."})]})}):r?p==="planner"?U.jsxs("div",{className:"app",children:[U.jsxs("header",{className:"header",children:[U.jsx("h1",{children:" Weekly Planner"}),U.jsxs("div",{className:"header-buttons",children:[U.jsx("button",{className:"nav-button",onClick:()=>y("tracker"),children:"Back to Tracker"}),U.jsxs("div",{className:"user-info",children:[U.jsx("img",{src:r.user_metadata?.avatar_url,alt:r.user_metadata?.full_name||"User",className:"user-avatar"}),U.jsx("button",{className:"sign-out-btn",onClick:s,children:"Sign Out"})]})]})]}),U.jsx("div",{className:"planner-container",role:"list","aria-label":"Weekly plan",children:Zh.map(ge=>U.jsxs("div",{className:"day-planner",role:"listitem",children:[U.jsxs("div",{className:"day-header",children:[U.jsx("h2",{children:ge}),U.jsx("div",{className:"day-controls",children:U.jsxs("label",{className:"rest-toggle",children:[U.jsx("input",{type:"checkbox",checked:C[ge]?.isRest||!1,onChange:()=>te(ge),"aria-label":`Mark ${ge} as rest day`}),U.jsx("span",{children:"Rest Day"})]})})]}),C[ge]?.isRest?U.jsx("div",{className:"rest-day-message","aria-label":"Rest day",children:" Rest & Recovery"}):U.jsxs(U.Fragment,{children:[U.jsx(vO,{sensors:D,collisionDetection:vN,onDragEnd:xe=>w(ge,xe),children:U.jsx(OO,{items:(C[ge]?.exercises||[]).map(xe=>xe.id),strategy:DO,children:U.jsx("div",{className:"exercises-list",role:"list","aria-label":`${ge} exercises`,children:(C[ge]?.exercises||[]).map((xe,Q)=>U.jsx(GO,{exercise:xe,index:Q,day:ge,updateExerciseName:fe,updateExerciseSets:le,updateExerciseReps:R,updateExerciseWeight:A,removeExercise:ce},xe.id))})})}),U.jsx("button",{className:"add-exercise-btn",onClick:()=>O(ge),"aria-label":`Add exercise to ${ge}`,children:"+ Add Exercise"})]})]},ge))}),U.jsx(hT,{})]}):U.jsxs("div",{className:"app",children:[U.jsxs("header",{className:"header",children:[U.jsxs("div",{className:"header-top",children:[U.jsx("h1",{children:" Workout Tracker"}),U.jsx("div",{className:"header-actions",children:U.jsxs("div",{className:"user-info",children:[U.jsx("img",{src:r.user_metadata?.avatar_url,alt:r.user_metadata?.full_name||"User",className:"user-avatar"}),U.jsx("button",{className:"sign-out-btn",onClick:s,children:"Sign Out"})]})})]}),U.jsx(YO,{currentDay:E,setCurrentDay:T,weeklyPlan:C}),U.jsx("p",{className:"date",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),I?.isRest?U.jsx("div",{className:"rest-day-view",children:U.jsxs("div",{className:"rest-card",children:[U.jsx("div",{className:"rest-icon","aria-hidden":"true",children:""}),U.jsx("h2",{children:"Rest Day"}),U.jsx("p",{children:"Take it easy and let your muscles recover!"}),U.jsx("button",{className:"edit-plan-btn",onClick:()=>y("planner"),children:"Edit Weekly Plan"})]})}):U.jsxs(U.Fragment,{children:[U.jsx(KO,{progress:k}),U.jsx("div",{className:"workout-container",role:"main","aria-label":"Today's workout",children:(I?.exercises||[]).map((ge,xe)=>U.jsx(QO,{exercise:ge,exerciseIndex:xe,currentDay:E,completedSets:$,toggleSet:F},ge.id||xe))}),U.jsxs("div",{className:"footer",children:[U.jsx("button",{className:"edit-plan-btn",onClick:()=>y("planner"),children:" Weekly Plan"}),U.jsx("button",{className:"reset-button",onClick:ie,children:" Reset Today"})]})]}),U.jsxs("nav",{className:"bottom-nav","aria-label":"Main navigation",children:[U.jsxs("button",{className:`nav-item ${p==="tracker"?"active":""}`,onClick:()=>y("tracker"),"aria-current":p==="tracker"?"page":void 0,children:[U.jsx("div",{className:"nav-icon","aria-hidden":"true",children:""}),U.jsx("span",{children:"Tracker"})]}),U.jsxs("button",{className:`nav-item ${p==="planner"?"active":""}`,onClick:()=>y("planner"),"aria-current":p==="planner"?"page":void 0,children:[U.jsx("div",{className:"nav-icon","aria-hidden":"true",children:""}),U.jsx("span",{children:"Plan"})]}),U.jsxs("button",{className:"nav-item",onClick:ie,"aria-label":"Reset today's progress",children:[U.jsx("div",{className:"nav-icon","aria-hidden":"true",children:""}),U.jsx("span",{children:"Reset"})]})]}),U.jsx(hT,{})]}):U.jsx("div",{className:"app",children:U.jsx("div",{className:"sign-in-screen",children:U.jsxs("div",{className:"sign-in-card",children:[U.jsx("h1",{children:" Workout Tracker"}),U.jsx("p",{className:"sign-in-subtitle",children:"Track your workouts across all devices"}),U.jsxs("div",{className:"features-list",children:[U.jsxs("div",{className:"feature-item",children:[U.jsx("span",{className:"feature-icon","aria-hidden":"true",children:""}),U.jsx("span",{children:"Custom weekly workout plans"})]}),U.jsxs("div",{className:"feature-item",children:[U.jsx("span",{className:"feature-icon","aria-hidden":"true",children:""}),U.jsx("span",{children:"Track your progress daily"})]}),U.jsxs("div",{className:"feature-item",children:[U.jsx("span",{className:"feature-icon","aria-hidden":"true",children:""}),U.jsx("span",{children:"Sync across all devices"})]}),U.jsxs("div",{className:"feature-item",children:[U.jsx("span",{className:"feature-icon","aria-hidden":"true",children:""}),U.jsx("span",{children:"Mobile-friendly interface"})]})]}),U.jsxs("button",{className:"google-sign-in-btn",onClick:n,children:[U.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24","aria-hidden":"true",children:[U.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),U.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),U.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),U.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),U.jsx("p",{className:"privacy-note",children:"Your data is private and synced securely to your Google account"})]})})})}function $O(){return U.jsx(FO,{showDetails:!1,children:U.jsx(XO,{})})}BA.createRoot(document.getElementById("root")).render(U.jsx(q.StrictMode,{children:U.jsx($O,{})}));
