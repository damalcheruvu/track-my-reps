(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Km={exports:{}},nu={};var dT;function sI(){if(dT)return nu;dT=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:c,ref:o!==void 0?o:null,props:u}}return nu.Fragment=t,nu.jsx=n,nu.jsxs=n,nu}var mT;function aI(){return mT||(mT=1,Km.exports=sI()),Km.exports}var Z=aI(),Qm={exports:{}},Dt={};var gT;function oI(){if(gT)return Dt;gT=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function j(N){return N===null||typeof N!="object"?null:(N=I&&N[I]||N["@@iterator"],typeof N=="function"?N:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,W={};function dt(N,K,st){this.props=N,this.context=K,this.refs=W,this.updater=st||$}dt.prototype.isReactComponent={},dt.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},dt.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function gt(){}gt.prototype=dt.prototype;function at(N,K,st){this.props=N,this.context=K,this.refs=W,this.updater=st||$}var bt=at.prototype=new gt;bt.constructor=at,tt(bt,dt.prototype),bt.isPureReactComponent=!0;var Ct=Array.isArray;function vt(){}var R={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function D(N,K,st){var lt=st.ref;return{$$typeof:s,type:N,key:K,ref:lt!==void 0?lt:null,props:st}}function x(N,K){return D(N.type,K,N.props)}function O(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function k(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(st){return K[st]})}var w=/\/+/g;function se(N,K){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):K.toString(36)}function nt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(vt,vt):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function M(N,K,st,lt,St){var It=typeof N;(It==="undefined"||It==="boolean")&&(N=null);var jt=!1;if(N===null)jt=!0;else switch(It){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(N.$$typeof){case s:case t:jt=!0;break;case T:return jt=N._init,M(jt(N._payload),K,st,lt,St)}}if(jt)return St=St(N),jt=lt===""?"."+se(N,0):lt,Ct(St)?(st="",jt!=null&&(st=jt.replace(w,"$&/")+"/"),M(St,K,st,"",function(gs){return gs})):St!=null&&(O(St)&&(St=x(St,st+(St.key==null||N&&N.key===St.key?"":(""+St.key).replace(w,"$&/")+"/")+jt)),K.push(St)),1;jt=0;var Me=lt===""?".":lt+":";if(Ct(N))for(var ue=0;ue<N.length;ue++)lt=N[ue],It=Me+se(lt,ue),jt+=M(lt,K,st,It,St);else if(ue=j(N),typeof ue=="function")for(N=ue.call(N),ue=0;!(lt=N.next()).done;)lt=lt.value,It=Me+se(lt,ue++),jt+=M(lt,K,st,It,St);else if(It==="object"){if(typeof N.then=="function")return M(nt(N),K,st,lt,St);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return jt}function J(N,K,st){if(N==null)return N;var lt=[],St=0;return M(N,lt,"","",function(It){return K.call(st,It,St++)}),lt}function it(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(st){(N._status===0||N._status===-1)&&(N._status=1,N._result=st)},function(st){(N._status===0||N._status===-1)&&(N._status=2,N._result=st)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var ft=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Et={map:J,forEach:function(N,K,st){J(N,function(){K.apply(this,arguments)},st)},count:function(N){var K=0;return J(N,function(){K++}),K},toArray:function(N){return J(N,function(K){return K})||[]},only:function(N){if(!O(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Dt.Activity=S,Dt.Children=Et,Dt.Component=dt,Dt.Fragment=n,Dt.Profiler=o,Dt.PureComponent=at,Dt.StrictMode=r,Dt.Suspense=g,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return R.H.useMemoCache(N)}},Dt.cache=function(N){return function(){return N.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(N,K,st){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var lt=tt({},N.props),St=N.key;if(K!=null)for(It in K.key!==void 0&&(St=""+K.key),K)!b.call(K,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&K.ref===void 0||(lt[It]=K[It]);var It=arguments.length-2;if(It===1)lt.children=st;else if(1<It){for(var jt=Array(It),Me=0;Me<It;Me++)jt[Me]=arguments[Me+2];lt.children=jt}return D(N.type,St,lt)},Dt.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Dt.createElement=function(N,K,st){var lt,St={},It=null;if(K!=null)for(lt in K.key!==void 0&&(It=""+K.key),K)b.call(K,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(St[lt]=K[lt]);var jt=arguments.length-2;if(jt===1)St.children=st;else if(1<jt){for(var Me=Array(jt),ue=0;ue<jt;ue++)Me[ue]=arguments[ue+2];St.children=Me}if(N&&N.defaultProps)for(lt in jt=N.defaultProps,jt)St[lt]===void 0&&(St[lt]=jt[lt]);return D(N,It,St)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(N){return{$$typeof:m,render:N}},Dt.isValidElement=O,Dt.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:it}},Dt.memo=function(N,K){return{$$typeof:y,type:N,compare:K===void 0?null:K}},Dt.startTransition=function(N){var K=R.T,st={};R.T=st;try{var lt=N(),St=R.S;St!==null&&St(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(vt,ft)}catch(It){ft(It)}finally{K!==null&&st.types!==null&&(K.types=st.types),R.T=K}},Dt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Dt.use=function(N){return R.H.use(N)},Dt.useActionState=function(N,K,st){return R.H.useActionState(N,K,st)},Dt.useCallback=function(N,K){return R.H.useCallback(N,K)},Dt.useContext=function(N){return R.H.useContext(N)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(N,K){return R.H.useDeferredValue(N,K)},Dt.useEffect=function(N,K){return R.H.useEffect(N,K)},Dt.useEffectEvent=function(N){return R.H.useEffectEvent(N)},Dt.useId=function(){return R.H.useId()},Dt.useImperativeHandle=function(N,K,st){return R.H.useImperativeHandle(N,K,st)},Dt.useInsertionEffect=function(N,K){return R.H.useInsertionEffect(N,K)},Dt.useLayoutEffect=function(N,K){return R.H.useLayoutEffect(N,K)},Dt.useMemo=function(N,K){return R.H.useMemo(N,K)},Dt.useOptimistic=function(N,K){return R.H.useOptimistic(N,K)},Dt.useReducer=function(N,K,st){return R.H.useReducer(N,K,st)},Dt.useRef=function(N){return R.H.useRef(N)},Dt.useState=function(N){return R.H.useState(N)},Dt.useSyncExternalStore=function(N,K,st){return R.H.useSyncExternalStore(N,K,st)},Dt.useTransition=function(){return R.H.useTransition()},Dt.version="19.2.1",Dt}var pT;function Kg(){return pT||(pT=1,Qm.exports=oI()),Qm.exports}var ne=Kg(),Ym={exports:{}},iu={},Xm={exports:{}},Jm={};var yT;function lI(){return yT||(yT=1,(function(s){function t(M,J){var it=M.length;M.push(J);t:for(;0<it;){var ft=it-1>>>1,Et=M[ft];if(0<o(Et,J))M[ft]=J,M[it]=Et,it=ft;else break t}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var J=M[0],it=M.pop();if(it!==J){M[0]=it;t:for(var ft=0,Et=M.length,N=Et>>>1;ft<N;){var K=2*(ft+1)-1,st=M[K],lt=K+1,St=M[lt];if(0>o(st,it))lt<Et&&0>o(St,st)?(M[ft]=St,M[lt]=it,ft=lt):(M[ft]=st,M[K]=it,ft=K);else if(lt<Et&&0>o(St,it))M[ft]=St,M[lt]=it,ft=lt;else break t}}return J}function o(M,J){var it=M.sortIndex-J.sortIndex;return it!==0?it:M.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();s.unstable_now=function(){return c.now()-m}}var g=[],y=[],T=1,S=null,I=3,j=!1,$=!1,tt=!1,W=!1,dt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function bt(M){for(var J=n(y);J!==null;){if(J.callback===null)r(y);else if(J.startTime<=M)r(y),J.sortIndex=J.expirationTime,t(g,J);else break;J=n(y)}}function Ct(M){if(tt=!1,bt(M),!$)if(n(g)!==null)$=!0,vt||(vt=!0,k());else{var J=n(y);J!==null&&nt(Ct,J.startTime-M)}}var vt=!1,R=-1,b=5,D=-1;function x(){return W?!0:!(s.unstable_now()-D<b)}function O(){if(W=!1,vt){var M=s.unstable_now();D=M;var J=!0;try{t:{$=!1,tt&&(tt=!1,gt(R),R=-1),j=!0;var it=I;try{e:{for(bt(M),S=n(g);S!==null&&!(S.expirationTime>M&&x());){var ft=S.callback;if(typeof ft=="function"){S.callback=null,I=S.priorityLevel;var Et=ft(S.expirationTime<=M);if(M=s.unstable_now(),typeof Et=="function"){S.callback=Et,bt(M),J=!0;break e}S===n(g)&&r(g),bt(M)}else r(g);S=n(g)}if(S!==null)J=!0;else{var N=n(y);N!==null&&nt(Ct,N.startTime-M),J=!1}}break t}finally{S=null,I=it,j=!1}J=void 0}}finally{J?k():vt=!1}}}var k;if(typeof at=="function")k=function(){at(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,se=w.port2;w.port1.onmessage=O,k=function(){se.postMessage(null)}}else k=function(){dt(O,0)};function nt(M,J){R=dt(function(){M(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(M){switch(I){case 1:case 2:case 3:var J=3;break;default:J=I}var it=I;I=J;try{return M()}finally{I=it}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(M,J){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var it=I;I=M;try{return J()}finally{I=it}},s.unstable_scheduleCallback=function(M,J,it){var ft=s.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?ft+it:ft):it=ft,M){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=it+Et,M={id:T++,callback:J,priorityLevel:M,startTime:it,expirationTime:Et,sortIndex:-1},it>ft?(M.sortIndex=it,t(y,M),n(g)===null&&M===n(y)&&(tt?(gt(R),R=-1):tt=!0,nt(Ct,it-ft))):(M.sortIndex=Et,t(g,M),$||j||($=!0,vt||(vt=!0,k()))),M},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(M){var J=I;return function(){var it=I;I=J;try{return M.apply(this,arguments)}finally{I=it}}}})(Jm)),Jm}var _T;function uI(){return _T||(_T=1,Xm.exports=lI()),Xm.exports}var $m={exports:{}},Ze={};var vT;function cI(){if(vT)return Ze;vT=1;var s=Kg();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:T}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ze.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,T)},Ze.flushSync=function(g){var y=c.T,T=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=y,r.p=T,r.d.f()}},Ze.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Ze.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Ze.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:j}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:I,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Ze.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Ze.requestFormReset=function(g){r.d.r(g)},Ze.unstable_batchedUpdates=function(g,y){return g(y)},Ze.useFormState=function(g,y,T){return c.H.useFormState(g,y,T)},Ze.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ze.version="19.2.1",Ze}var TT;function hI(){if(TT)return $m.exports;TT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),$m.exports=cI(),$m.exports}var ET;function fI(){if(ET)return iu;ET=1;var s=uI(),t=Kg(),n=hI();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),e;if(d===l)return g(f),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,E=f.child;E;){if(E===a){_=!0,a=f,l=d;break}if(E===l){_=!0,l=f,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,l=f;break}if(E===l){_=!0,l=d,a=f;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),at=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case dt:return"Profiler";case W:return"StrictMode";case Ct:return"Suspense";case vt:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case at:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case bt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:se(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return se(e(i))}catch{}}return null}var nt=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},ft=[],Et=-1;function N(e){return{current:e}}function K(e){0>Et||(e.current=ft[Et],ft[Et]=null,Et--)}function st(e,i){Et++,ft[Et]=e.current,e.current=i}var lt=N(null),St=N(null),It=N(null),jt=N(null);function Me(e,i){switch(st(It,i),st(St,e),st(lt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?kv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=kv(i),e=Uv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(lt),st(lt,e)}function ue(){K(lt),K(St),K(It)}function gs(e){e.memoizedState!==null&&st(jt,e);var i=lt.current,a=Uv(i,e.type);i!==a&&(st(St,e),st(lt,a))}function Sa(e){St.current===e&&(K(lt),K(St)),jt.current===e&&(K(jt),Zl._currentValue=it)}var Aa,ba;function ui(e){if(Aa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Aa=i&&i[1]||"",ba=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+e+ba}var Zo=!1;function ps(e,i){if(!e||Zo)return"";Zo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var q=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){q=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){q=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var C=_.split(`
`),B=E.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===B.length)for(l=C.length-1,f=B.length-1;1<=l&&0<=f&&C[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==B[f]){var G=`
`+C[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=f);break}}}finally{Zo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ui(a):""}function Wo(e,i){switch(e.tag){case 26:case 27:case 5:return ui(e.type);case 16:return ui("Lazy");case 13:return e.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return ps(e.type,!1);case 11:return ps(e.type.render,!1);case 1:return ps(e.type,!0);case 31:return ui("Activity");default:return""}}function tl(e){try{var i="",a=null;do i+=Wo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,Pe=s.unstable_scheduleCallback,pr=s.unstable_cancelCallback,Yf=s.unstable_shouldYield,tc=s.unstable_requestPaint,nn=s.unstable_now,ys=s.unstable_getCurrentPriorityLevel,el=s.unstable_ImmediatePriority,nl=s.unstable_UserBlockingPriority,yr=s.unstable_NormalPriority,Xf=s.unstable_LowPriority,ec=s.unstable_IdlePriority,nc=s.log,ic=s.unstable_setDisableYieldValue,Qn=null,He=null;function Nn(e){if(typeof nc=="function"&&ic(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Qn,e)}catch{}}var _e=Math.clz32?Math.clz32:sc,rc=Math.log,Ia=Math.LN2;function sc(e){return e>>>=0,e===0?32:31-(rc(e)/Ia|0)|0}var ci=256,_s=262144,Ae=4194304;function hi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?f=hi(l):(_&=E,_!==0?f=hi(_):a||(a=E&~e,a!==0&&(f=hi(a))))):(E=l&~d,E!==0?f=hi(E):_!==0?f=hi(_):a||(a=l&~e,a!==0&&(f=hi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Yn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Jf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ac(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function di(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function vs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $f(e,i,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,B=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-_e(a),Y=1<<G;E[G]=0,C[G]=-1;var q=B[G];if(q!==null)for(B[G]=null,G=0;G<q.length;G++){var H=q[G];H!==null&&(H.lane&=-536870913)}a&=~Y}l!==0&&Ts(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Ts(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-_e(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function il(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-_e(a),f=1<<l;f&i|e[l]&i&&(e[l]|=i),a&=~f}}function rl(e,i){var a=i&-i;return a=(a&42)!==0?1:Es(a),(a&(e.suspendedLanes|i))!==0?0:a}function Es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function oc(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:aT(e.type))}function Xn(e,i){var a=J.p;try{return J.p=e,i()}finally{J.p=a}}var Jn=Math.random().toString(36).slice(2),be="__reactFiber$"+Jn,Be="__reactProps$"+Jn,mi="__reactContainer$"+Jn,wa="__reactEvents$"+Jn,Zf="__reactListeners$"+Jn,lc="__reactHandles$"+Jn,uc="__reactResources$"+Jn,gi="__reactMarker$"+Jn;function Ra(e){delete e[be],delete e[Be],delete e[wa],delete e[Zf],delete e[lc]}function pi(e){var i=e[be];if(i)return i;for(var a=e.parentNode;a;){if(i=a[mi]||a[be]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Hv(e);e!==null;){if(a=e[be])return a;e=Hv(e)}return i}e=a,a=e.parentNode}return null}function Vn(e){if(e=e[be]||e[mi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function yi(e){var i=e[uc];return i||(i=e[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ie(e){e[gi]=!0}var sl=new Set,al={};function _i(e,i){vi(e,i),vi(e+"Capture",i)}function vi(e,i){for(al[e]=i,e=0;e<i.length;e++)sl.add(i[e])}var ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ll={},ul={};function cc(e){return Se.call(ul,e)?!0:Se.call(ll,e)?!1:ol.test(e)?ul[e]=!0:(ll[e]=!0,!1)}function Ca(e,i,a){if(cc(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function yn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function we(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _r(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function cl(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=_r(e)?"checked":"value";e._valueTracker=cl(e,i,""+e[i])}}function Ss(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=_r(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var As=/[\n"\\]/g;function ln(e){return e.replace(As,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Da(e,i,a,l,f,d,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+je(i)):e.value!==""+je(i)&&(e.value=""+je(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?hl(e,_,je(i)):a!=null?hl(e,_,je(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+je(E):e.removeAttribute("name")}function hc(e,i,a,l,f,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+je(a):"",i=i!=null?""+je(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function hl(e,i,a){i==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vr(e,i,a,l){if(e=e.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=i.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+je(a),i=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function fc(e,i,a){if(i!=null&&(i=""+je(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+je(a):""}function Tr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(nt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=je(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Qt(e)}function un(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||dc.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function dl(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&fl(e,f,l)}else for(var d in i)i.hasOwnProperty(d)&&fl(e,d,i[d])}function Na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(e){return Er.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var ml=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sr=null,Ei=null;function bs(e){var i=Vn(e);if(i&&(e=i.stateNode)){var a=e[Be]||null;t:switch(e=i.stateNode,i.type){case"input":if(Da(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var f=l[Be]||null;if(!f)throw Error(r(90));Da(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ss(l)}break t;case"textarea":fc(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&vr(e,!!a.multiple,i,!1)}}}var Oa=!1;function Ar(e,i,a){if(Oa)return e(i,a);Oa=!0;try{var l=e(i);return l}finally{if(Oa=!1,(Sr!==null||Ei!==null)&&(oh(),Sr&&(i=Sr,e=Ei,Ei=Sr=null,bs(i),e)))for(i=0;i<e.length;i++)bs(e[i])}}function Zn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Be]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(xn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Is=!1}var Si=null,gl=null,ws=null;function pl(){if(ws)return ws;var e,i=gl,a=i.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(e=0;e<a&&i[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return ws=f.slice(e,1<l?1-l:void 0)}function Rs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Wn(){return!1}function Ge(e){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Wn,this.isPropagationStopped=Wn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Ge(ji),br=S({},ji,{view:0,detail:0}),yl=Ge(br),Ir,xa,bi,Ma=S({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Ir=e.screenX-bi.screenX,xa=e.screenY-bi.screenY):xa=Ir=0,bi=e),Ir)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),_l=Ge(Ma),Cs=S({},Ma,{dataTransfer:0}),gc=Ge(Cs),pc=S({},br,{relatedTarget:0}),Ds=Ge(pc),vl=S({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),yc=Ge(vl),Pa=S({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_c=Ge(Pa),vc=S({},ji,{data:0}),Ii=Ge(vc),Tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ac(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Sc[e])?!!i[e]:!1}function wr(){return Ac}var rn=S({},br,{key:function(e){if(e.key){var i=Tc[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ec[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bc=Ge(rn),Ic=S({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Ge(Ic),h=S({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),p=Ge(h),v=S({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ge(v),L=S({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ge(L),rt=S({},ji,{newState:0,oldState:0}),Nt=Ge(rt),ve=[9,13,27,32],Gt=xn&&"CompositionEvent"in window,ce=null;xn&&"documentMode"in document&&(ce=document.documentMode);var Mn=xn&&"TextEvent"in window&&!ce,wi=xn&&(!Gt||ce&&8<ce&&11>=ce),ti=" ",ei=!1;function Ns(e,i){switch(e){case"keyup":return ve.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ua=!1;function Db(e,i){switch(e){case"compositionend":return ka(i);case"keypress":return i.which!==32?null:(ei=!0,ti);case"textInput":return e=i.data,e===ti&&ei?null:e;default:return null}}function Nb(e,i){if(Ua)return e==="compositionend"||!Gt&&Ns(e,i)?(e=pl(),ws=gl=Si=null,Ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var Vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Vb[e.type]:i==="textarea"}function Yp(e,i,a,l){Sr?Ei?Ei.push(l):Ei=[l]:Sr=l,i=mh(i,"onChange"),0<i.length&&(a=new Ai("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Tl=null,El=null;function Ob(e){Nv(e,0)}function wc(e){var i=pn(e);if(Ss(i))return e}function Xp(e,i){if(e==="change")return i}var Jp=!1;if(xn){var Wf;if(xn){var td="oninput"in document;if(!td){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),td=typeof $p.oninput=="function"}Wf=td}else Wf=!1;Jp=Wf&&(!document.documentMode||9<document.documentMode)}function Zp(){Tl&&(Tl.detachEvent("onpropertychange",Wp),El=Tl=null)}function Wp(e){if(e.propertyName==="value"&&wc(El)){var i=[];Yp(i,El,e,On(e)),Ar(Ob,i)}}function xb(e,i,a){e==="focusin"?(Zp(),Tl=i,El=a,Tl.attachEvent("onpropertychange",Wp)):e==="focusout"&&Zp()}function Mb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wc(El)}function Pb(e,i){if(e==="click")return wc(i)}function kb(e,i){if(e==="input"||e==="change")return wc(i)}function Ub(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:Ub;function Sl(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Se.call(i,f)||!_n(e[f],i[f]))return!1}return!0}function ty(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ey(e,i){var a=ty(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ty(a)}}function ny(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ny(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function iy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ti(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ti(e.document)}return i}function ed(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Lb=xn&&"documentMode"in document&&11>=document.documentMode,La=null,nd=null,Al=null,id=!1;function ry(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;id||La==null||La!==Ti(l)||(l=La,"selectionStart"in l&&ed(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Al&&Sl(Al,l)||(Al=l,l=mh(nd,"onSelect"),0<l.length&&(i=new Ai("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=La)))}function Vs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var za={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},rd={},sy={};xn&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Os(e){if(rd[e])return rd[e];if(!za[e])return e;var i=za[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in sy)return rd[e]=i[a];return e}var ay=Os("animationend"),oy=Os("animationiteration"),ly=Os("animationstart"),zb=Os("transitionrun"),Bb=Os("transitionstart"),jb=Os("transitioncancel"),uy=Os("transitionend"),cy=new Map,sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sd.push("scrollEnd");function ni(e,i){cy.set(e,i),_i(i,[e])}var Rc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pn=[],Ba=0,ad=0;function Cc(){for(var e=Ba,i=ad=Ba=0;i<e;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var f=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&hy(a,f,d)}}function Dc(e,i,a,l){Pn[Ba++]=e,Pn[Ba++]=i,Pn[Ba++]=a,Pn[Ba++]=l,ad|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function od(e,i,a,l){return Dc(e,i,a,l),Nc(e)}function xs(e,i){return Dc(e,null,null,i),Nc(e)}function hy(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&i!==null&&(f=31-_e(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Nc(e){if(50<Gl)throw Gl=0,pm=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ja={};function qb(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,a,l){return new qb(e,i,a,l)}function ld(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fi(e,i){var a=e.alternate;return a===null?(a=vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function fy(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Vc(e,i,a,l,f,d){var _=0;if(l=e,typeof e=="function")ld(e)&&(_=1);else if(typeof e=="string")_=Q1(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=vn(31,a,i,f),e.elementType=D,e.lanes=d,e;case tt:return Ms(a.children,f,d,i);case W:_=8,f|=24;break;case dt:return e=vn(12,a,i,f|2),e.elementType=dt,e.lanes=d,e;case Ct:return e=vn(13,a,i,f),e.elementType=Ct,e.lanes=d,e;case vt:return e=vn(19,a,i,f),e.elementType=vt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case at:_=10;break t;case gt:_=9;break t;case bt:_=11;break t;case R:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=vn(_,a,i,f),i.elementType=e,i.type=l,i.lanes=d,i}function Ms(e,i,a,l){return e=vn(7,e,l,i),e.lanes=a,e}function ud(e,i,a){return e=vn(6,e,null,i),e.lanes=a,e}function dy(e){var i=vn(18,null,null,0);return i.stateNode=e,i}function cd(e,i,a){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var my=new WeakMap;function kn(e,i){if(typeof e=="object"&&e!==null){var a=my.get(e);return a!==void 0?a:(i={value:e,source:i,stack:tl(i)},my.set(e,i),i)}return{value:e,source:i,stack:tl(i)}}var qa=[],Fa=0,Oc=null,bl=0,Un=[],Ln=0,Rr=null,Ri=1,Ci="";function Hi(e,i){qa[Fa++]=bl,qa[Fa++]=Oc,Oc=e,bl=i}function gy(e,i,a){Un[Ln++]=Ri,Un[Ln++]=Ci,Un[Ln++]=Rr,Rr=e;var l=Ri;e=Ci;var f=32-_e(l)-1;l&=~(1<<f),a+=1;var d=32-_e(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ri=1<<32-_e(i)+f|a<<f|l,Ci=d+e}else Ri=1<<d|a<<f|l,Ci=e}function hd(e){e.return!==null&&(Hi(e,1),gy(e,1,0))}function fd(e){for(;e===Oc;)Oc=qa[--Fa],qa[Fa]=null,bl=qa[--Fa],qa[Fa]=null;for(;e===Rr;)Rr=Un[--Ln],Un[Ln]=null,Ci=Un[--Ln],Un[Ln]=null,Ri=Un[--Ln],Un[Ln]=null}function py(e,i){Un[Ln++]=Ri,Un[Ln++]=Ci,Un[Ln++]=Rr,Ri=i.id,Ci=i.overflow,Rr=e}var Ke=null,oe=null,zt=!1,Cr=null,zn=!1,dd=Error(r(519));function Dr(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(kn(i,e)),dd}function yy(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[be]=e,i[Be]=l,a){case"dialog":Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":case"embed":Pt("load",i);break;case"video":case"audio":for(a=0;a<Ql.length;a++)Pt(Ql[a],i);break;case"source":Pt("error",i);break;case"img":case"image":case"link":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"input":Pt("invalid",i),hc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pt("invalid",i);break;case"textarea":Pt("invalid",i),Tr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Mv(i.textContent,a)?(l.popover!=null&&(Pt("beforetoggle",i),Pt("toggle",i)),l.onScroll!=null&&Pt("scroll",i),l.onScrollEnd!=null&&Pt("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Dr(e,!0)}function _y(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ke=Ke.return}}function Ha(e){if(e!==Ke)return!1;if(!zt)return _y(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Vm(e.type,e.memoizedProps)),a=!a),a&&oe&&Dr(e),_y(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));oe=Fv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));oe=Fv(e)}else i===27?(i=oe,Fr(e.type)?(e=km,km=null,oe=e):oe=i):oe=Ke?jn(e.stateNode.nextSibling):null;return!0}function Ps(){oe=Ke=null,zt=!1}function md(){var e=Cr;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Cr=null),e}function Il(e){Cr===null?Cr=[e]:Cr.push(e)}var gd=N(null),ks=null,Gi=null;function Nr(e,i,a){st(gd,i._currentValue),i._currentValue=a}function Ki(e){e._currentValue=gd.current,K(gd)}function pd(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function yd(e,i,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=f;for(var C=0;C<i.length;C++)if(E.context===i[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),pd(d.return,a,e),l||(_=null);break t}d=E.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),pd(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ga(e,i,a,l){e=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=f.type;_n(f.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(f===jt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Zl):e=[Zl])}f=f.return}e!==null&&yd(i,e,a,l),i.flags|=262144}function xc(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Us(e){ks=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return vy(ks,e)}function Mc(e,i){return ks===null&&Us(e),vy(e,i)}function vy(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(e===null)throw Error(r(308));Gi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Gi=Gi.next=i;return a}var Fb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Hb=s.unstable_scheduleCallback,Gb=s.unstable_NormalPriority,Re={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new Fb,data:new Map,refCount:0}}function wl(e){e.refCount--,e.refCount===0&&Hb(Gb,function(){e.controller.abort()})}var Rl=null,vd=0,Ka=0,Qa=null;function Kb(e,i){if(Rl===null){var a=Rl=[];vd=0,Ka=Sm(),Qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vd++,i.then(Ty,Ty),i}function Ty(){if(--vd===0&&Rl!==null){Qa!==null&&(Qa.status="fulfilled");var e=Rl;Rl=null,Ka=0,Qa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Qb(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ey=M.S;M.S=function(e,i){rv=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Kb(e,i),Ey!==null&&Ey(e,i)};var Ls=N(null);function Td(){var e=Ls.current;return e!==null?e:ae.pooledCache}function Pc(e,i){i===null?st(Ls,Ls.current):st(Ls,i.pool)}function Sy(){var e=Td();return e===null?null:{parent:Re._currentValue,pool:e}}var Ya=Error(r(460)),Ed=Error(r(474)),kc=Error(r(542)),Uc={then:function(){}};function Ay(e){return e=e.status,e==="fulfilled"||e==="rejected"}function by(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wy(e),e;default:if(typeof i.status=="string")i.then($n,$n);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wy(e),e}throw Bs=i,Ya}}function zs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bs=a,Ya):a}}var Bs=null;function Iy(){if(Bs===null)throw Error(r(459));var e=Bs;return Bs=null,e}function wy(e){if(e===Ya||e===kc)throw Error(r(483))}var Xa=null,Cl=0;function Lc(e){var i=Cl;return Cl+=1,Xa===null&&(Xa=[]),by(Xa,e,i)}function Dl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function zc(e,i){throw i.$$typeof===I?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ry(e){function i(P,V){if(e){var z=P.deletions;z===null?(P.deletions=[V],P.flags|=16):z.push(V)}}function a(P,V){if(!e)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function f(P,V){return P=Fi(P,V),P.index=0,P.sibling=null,P}function d(P,V,z){return P.index=z,e?(z=P.alternate,z!==null?(z=z.index,z<V?(P.flags|=67108866,V):z):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,V,z,Q){return V===null||V.tag!==6?(V=ud(z,P.mode,Q),V.return=P,V):(V=f(V,z),V.return=P,V)}function C(P,V,z,Q){var yt=z.type;return yt===tt?G(P,V,z.props.children,Q,z.key):V!==null&&(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===b&&zs(yt)===V.type)?(V=f(V,z.props),Dl(V,z),V.return=P,V):(V=Vc(z.type,z.key,z.props,null,P.mode,Q),Dl(V,z),V.return=P,V)}function B(P,V,z,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=cd(z,P.mode,Q),V.return=P,V):(V=f(V,z.children||[]),V.return=P,V)}function G(P,V,z,Q,yt){return V===null||V.tag!==7?(V=Ms(z,P.mode,Q,yt),V.return=P,V):(V=f(V,z),V.return=P,V)}function Y(P,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ud(""+V,P.mode,z),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return z=Vc(V.type,V.key,V.props,null,P.mode,z),Dl(z,V),z.return=P,z;case $:return V=cd(V,P.mode,z),V.return=P,V;case b:return V=zs(V),Y(P,V,z)}if(nt(V)||k(V))return V=Ms(V,P.mode,z,null),V.return=P,V;if(typeof V.then=="function")return Y(P,Lc(V),z);if(V.$$typeof===at)return Y(P,Mc(P,V),z);zc(P,V)}return null}function q(P,V,z,Q){var yt=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return yt!==null?null:E(P,V,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return z.key===yt?C(P,V,z,Q):null;case $:return z.key===yt?B(P,V,z,Q):null;case b:return z=zs(z),q(P,V,z,Q)}if(nt(z)||k(z))return yt!==null?null:G(P,V,z,Q,null);if(typeof z.then=="function")return q(P,V,Lc(z),Q);if(z.$$typeof===at)return q(P,V,Mc(P,z),Q);zc(P,z)}return null}function H(P,V,z,Q,yt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(z)||null,E(V,P,""+Q,yt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return P=P.get(Q.key===null?z:Q.key)||null,C(V,P,Q,yt);case $:return P=P.get(Q.key===null?z:Q.key)||null,B(V,P,Q,yt);case b:return Q=zs(Q),H(P,V,z,Q,yt)}if(nt(Q)||k(Q))return P=P.get(z)||null,G(V,P,Q,yt,null);if(typeof Q.then=="function")return H(P,V,z,Lc(Q),yt);if(Q.$$typeof===at)return H(P,V,z,Mc(V,Q),yt);zc(V,Q)}return null}function ct(P,V,z,Q){for(var yt=null,Ft=null,mt=V,Ot=V=0,Ut=null;mt!==null&&Ot<z.length;Ot++){mt.index>Ot?(Ut=mt,mt=null):Ut=mt.sibling;var Ht=q(P,mt,z[Ot],Q);if(Ht===null){mt===null&&(mt=Ut);break}e&&mt&&Ht.alternate===null&&i(P,mt),V=d(Ht,V,Ot),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht,mt=Ut}if(Ot===z.length)return a(P,mt),zt&&Hi(P,Ot),yt;if(mt===null){for(;Ot<z.length;Ot++)mt=Y(P,z[Ot],Q),mt!==null&&(V=d(mt,V,Ot),Ft===null?yt=mt:Ft.sibling=mt,Ft=mt);return zt&&Hi(P,Ot),yt}for(mt=l(mt);Ot<z.length;Ot++)Ut=H(mt,P,Ot,z[Ot],Q),Ut!==null&&(e&&Ut.alternate!==null&&mt.delete(Ut.key===null?Ot:Ut.key),V=d(Ut,V,Ot),Ft===null?yt=Ut:Ft.sibling=Ut,Ft=Ut);return e&&mt.forEach(function(Yr){return i(P,Yr)}),zt&&Hi(P,Ot),yt}function Tt(P,V,z,Q){if(z==null)throw Error(r(151));for(var yt=null,Ft=null,mt=V,Ot=V=0,Ut=null,Ht=z.next();mt!==null&&!Ht.done;Ot++,Ht=z.next()){mt.index>Ot?(Ut=mt,mt=null):Ut=mt.sibling;var Yr=q(P,mt,Ht.value,Q);if(Yr===null){mt===null&&(mt=Ut);break}e&&mt&&Yr.alternate===null&&i(P,mt),V=d(Yr,V,Ot),Ft===null?yt=Yr:Ft.sibling=Yr,Ft=Yr,mt=Ut}if(Ht.done)return a(P,mt),zt&&Hi(P,Ot),yt;if(mt===null){for(;!Ht.done;Ot++,Ht=z.next())Ht=Y(P,Ht.value,Q),Ht!==null&&(V=d(Ht,V,Ot),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return zt&&Hi(P,Ot),yt}for(mt=l(mt);!Ht.done;Ot++,Ht=z.next())Ht=H(mt,P,Ot,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&mt.delete(Ht.key===null?Ot:Ht.key),V=d(Ht,V,Ot),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return e&&mt.forEach(function(rI){return i(P,rI)}),zt&&Hi(P,Ot),yt}function ee(P,V,z,Q){if(typeof z=="object"&&z!==null&&z.type===tt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case j:t:{for(var yt=z.key;V!==null;){if(V.key===yt){if(yt=z.type,yt===tt){if(V.tag===7){a(P,V.sibling),Q=f(V,z.props.children),Q.return=P,P=Q;break t}}else if(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===b&&zs(yt)===V.type){a(P,V.sibling),Q=f(V,z.props),Dl(Q,z),Q.return=P,P=Q;break t}a(P,V);break}else i(P,V);V=V.sibling}z.type===tt?(Q=Ms(z.props.children,P.mode,Q,z.key),Q.return=P,P=Q):(Q=Vc(z.type,z.key,z.props,null,P.mode,Q),Dl(Q,z),Q.return=P,P=Q)}return _(P);case $:t:{for(yt=z.key;V!==null;){if(V.key===yt)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(P,V.sibling),Q=f(V,z.children||[]),Q.return=P,P=Q;break t}else{a(P,V);break}else i(P,V);V=V.sibling}Q=cd(z,P.mode,Q),Q.return=P,P=Q}return _(P);case b:return z=zs(z),ee(P,V,z,Q)}if(nt(z))return ct(P,V,z,Q);if(k(z)){if(yt=k(z),typeof yt!="function")throw Error(r(150));return z=yt.call(z),Tt(P,V,z,Q)}if(typeof z.then=="function")return ee(P,V,Lc(z),Q);if(z.$$typeof===at)return ee(P,V,Mc(P,z),Q);zc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(P,V.sibling),Q=f(V,z),Q.return=P,P=Q):(a(P,V),Q=ud(z,P.mode,Q),Q.return=P,P=Q),_(P)):a(P,V)}return function(P,V,z,Q){try{Cl=0;var yt=ee(P,V,z,Q);return Xa=null,yt}catch(mt){if(mt===Ya||mt===kc)throw mt;var Ft=vn(29,mt,null,P.mode);return Ft.lanes=Q,Ft.return=P,Ft}finally{}}}var js=Ry(!0),Cy=Ry(!1),Vr=!1;function Sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Or(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Nc(e),hy(e,null,a),i}return Dc(e,l,i,a),Nc(e)}function Nl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,il(e,a)}}function bd(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Id=!1;function Vl(){if(Id){var e=Qa;if(e!==null)throw e}}function Ol(e,i,a,l){Id=!1;var f=e.updateQueue;Vr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var C=E,B=C.next;C.next=null,_===null?d=B:_.next=B,_=C;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=C))}if(d!==null){var Y=f.baseState;_=0,G=B=C=null,E=d;do{var q=E.lane&-536870913,H=q!==E.lane;if(H?(kt&q)===q:(l&q)===q){q!==0&&q===Ka&&(Id=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,Tt=E;q=i;var ee=a;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){Y=ct.call(ee,Y,q);break t}Y=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,q=typeof ct=="function"?ct.call(ee,Y,q):ct,q==null)break t;Y=S({},Y,q);break t;case 2:Vr=!0}}q=E.callback,q!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[q]:H.push(q))}else H={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=H,C=Y):G=G.next=H,_|=q;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;H=E,E=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);G===null&&(C=Y),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=G,d===null&&(f.shared.lanes=0),Lr|=_,e.lanes=_,e.memoizedState=Y}}function Dy(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Ny(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Dy(a[e],i)}var Ja=N(null),Bc=N(0);function Vy(e,i){e=er,st(Bc,e),st(Ja,i),er=e|i.baseLanes}function wd(){st(Bc,er),st(Ja,Ja.current)}function Rd(){er=Bc.current,K(Ja),K(Bc)}var Tn=N(null),Bn=null;function Mr(e){var i=e.alternate;st(Te,Te.current&1),st(Tn,e),Bn===null&&(i===null||Ja.current!==null||i.memoizedState!==null)&&(Bn=e)}function Cd(e){st(Te,Te.current),st(Tn,e),Bn===null&&(Bn=e)}function Oy(e){e.tag===22?(st(Te,Te.current),st(Tn,e),Bn===null&&(Bn=e)):Pr()}function Pr(){st(Te,Te.current),st(Tn,Tn.current)}function En(e){K(Tn),Bn===e&&(Bn=null),K(Te)}var Te=N(0);function jc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mm(a)||Pm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Vt=null,Wt=null,Ce=null,qc=!1,$a=!1,qs=!1,Fc=0,xl=0,Za=null,Yb=0;function ge(){throw Error(r(321))}function Dd(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!_n(e[a],i[a]))return!1;return!0}function Nd(e,i,a,l,f,d){return Qi=d,Vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,M.H=e===null||e.memoizedState===null?g_:Gd,qs=!1,d=a(l,f),qs=!1,$a&&(d=My(i,a,l,f)),xy(e),d}function xy(e){M.H=kl;var i=Wt!==null&&Wt.next!==null;if(Qi=0,Ce=Wt=Vt=null,qc=!1,xl=0,Za=null,i)throw Error(r(300));e===null||De||(e=e.dependencies,e!==null&&xc(e)&&(De=!0))}function My(e,i,a,l){Vt=e;var f=0;do{if($a&&(Za=null),xl=0,$a=!1,25<=f)throw Error(r(301));if(f+=1,Ce=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=p_,d=i(a,l)}while($a);return d}function Xb(){var e=M.H,i=e.useState()[0];return i=typeof i.then=="function"?Ml(i):i,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Vt.flags|=1024),i}function Vd(){var e=Fc!==0;return Fc=0,e}function Od(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function xd(e){if(qc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}qc=!1}Qi=0,Ce=Wt=Vt=null,$a=!1,xl=Fc=0,Za=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Vt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function Ee(){if(Wt===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var i=Ce===null?Vt.memoizedState:Ce.next;if(i!==null)Ce=i,Wt=e;else{if(e===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ce===null?Vt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(e){var i=xl;return xl+=1,Za===null&&(Za=[]),e=by(Za,e,i),i=Vt,(Ce===null?i.memoizedState:Ce.next)===null&&(i=i.alternate,M.H=i===null||i.memoizedState===null?g_:Gd),e}function Gc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ml(e);if(e.$$typeof===at)return Qe(e)}throw Error(r(438,String(e)))}function Md(e){var i=null,a=Vt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Hc(),Vt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=x;return i.index++,a}function Yi(e,i){return typeof i=="function"?i(e):i}function Kc(e){var i=Ee();return Pd(i,Wt,e)}function Pd(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{i=f.next;var E=_=null,C=null,B=i,G=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(kt&Y)===Y:(Qi&Y)===Y){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Ka&&(G=!0);else if((Qi&q)===q){B=B.next,q===Ka&&(G=!0);continue}else Y={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=Y,_=d):C=C.next=Y,Vt.lanes|=q,Lr|=q;Y=B.action,qs&&a(d,Y),d=B.hasEagerState?B.eagerState:a(d,Y)}else q={lane:Y,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=q,_=d):C=C.next=q,Vt.lanes|=Y,Lr|=Y;B=B.next}while(B!==null&&B!==i);if(C===null?_=d:C.next=E,!_n(d,e.memoizedState)&&(De=!0,G&&(a=Qa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function kd(e){var i=Ee(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);_n(d,i.memoizedState)||(De=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Py(e,i,a){var l=Vt,f=Ee(),d=zt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!_n((Wt||f).memoizedState,a);if(_&&(f.memoizedState=a,De=!0),f=f.queue,zd(Ly.bind(null,l,f,e),[e]),f.getSnapshot!==i||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},Uy.bind(null,l,f,a,i),null),ae===null)throw Error(r(349));d||(Qi&127)!==0||ky(l,i,a)}return a}function ky(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Vt.updateQueue,i===null?(i=Hc(),Vt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Uy(e,i,a,l){i.value=a,i.getSnapshot=l,zy(i)&&By(e)}function Ly(e,i,a){return a(function(){zy(i)&&By(e)})}function zy(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!_n(e,a)}catch{return!0}}function By(e){var i=xs(e,2);i!==null&&mn(i,e,2)}function Ud(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),qs){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},i}function jy(e,i,a,l){return e.baseState=a,Pd(e,Wt,typeof l=="function"?l:Yi)}function Jb(e,i,a,l,f){if(Xc(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};M.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,qy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function qy(e,i){var a=i.action,l=i.payload,f=e.state;if(i.isTransition){var d=M.T,_={};M.T=_;try{var E=a(f,l),C=M.S;C!==null&&C(_,E),Fy(e,i,E)}catch(B){Ld(e,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),M.T=d}}else try{d=a(f,l),Fy(e,i,d)}catch(B){Ld(e,i,B)}}function Fy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hy(e,i,l)},function(l){return Ld(e,i,l)}):Hy(e,i,a)}function Hy(e,i,a){i.status="fulfilled",i.value=a,Gy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,qy(e,a)))}function Ld(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Gy(i),i=i.next;while(i!==l)}e.action=null}function Gy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ky(e,i){return i}function Qy(e,i){if(zt){var a=ae.formState;if(a!==null){t:{var l=Vt;if(zt){if(oe){e:{for(var f=oe,d=zn;f.nodeType!==8;){if(!d){f=null;break e}if(f=jn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){oe=jn(f.nextSibling),l=f.data==="F!";break t}}Dr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ky,lastRenderedState:i},a.queue=l,a=f_.bind(null,Vt,l),l.dispatch=a,l=Ud(!1),d=Hd.bind(null,Vt,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:e,pending:null},l.queue=f,a=Jb.bind(null,Vt,f,d,a),f.dispatch=a,l.memoizedState=e,[i,a,!1]}function Yy(e){var i=Ee();return Xy(i,Wt,e)}function Xy(e,i,a){if(i=Pd(e,i,Ky)[0],e=Kc(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ml(i)}catch(_){throw _===Ya?kc:_}else l=i;i=Ee();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Vt.flags|=2048,Wa(9,{destroy:void 0},$b.bind(null,f,a),null)),[l,d,e]}function $b(e,i){e.action=i}function Jy(e){var i=Ee(),a=Wt;if(a!==null)return Xy(i,a,e);Ee(),i=i.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Wa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Vt.updateQueue,i===null&&(i=Hc(),Vt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function $y(){return Ee().memoizedState}function Qc(e,i,a,l){var f=sn();Vt.flags|=e,f.memoizedState=Wa(1|i,{destroy:void 0},a,l===void 0?null:l)}function Yc(e,i,a,l){var f=Ee();l=l===void 0?null:l;var d=f.memoizedState.inst;Wt!==null&&l!==null&&Dd(l,Wt.memoizedState.deps)?f.memoizedState=Wa(i,d,a,l):(Vt.flags|=e,f.memoizedState=Wa(1|i,d,a,l))}function Zy(e,i){Qc(8390656,8,e,i)}function zd(e,i){Yc(2048,8,e,i)}function Zb(e){Vt.flags|=4;var i=Vt.updateQueue;if(i===null)i=Hc(),Vt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Wy(e){var i=Ee().memoizedState;return Zb({ref:i,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function t_(e,i){return Yc(4,2,e,i)}function e_(e,i){return Yc(4,4,e,i)}function n_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function i_(e,i,a){a=a!=null?a.concat([e]):null,Yc(4,4,n_.bind(null,i,e),a)}function Bd(){}function r_(e,i){var a=Ee();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Dd(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function s_(e,i){var a=Ee();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Dd(i,l[1]))return l[0];if(l=e(),qs){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function jd(e,i,a){return a===void 0||(Qi&1073741824)!==0&&(kt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=av(),Vt.lanes|=e,Lr|=e,a)}function a_(e,i,a,l){return _n(a,i)?a:Ja.current!==null?(e=jd(e,a,l),_n(e,i)||(De=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(kt&261930)===0?(De=!0,e.memoizedState=a):(e=av(),Vt.lanes|=e,Lr|=e,i)}function o_(e,i,a,l,f){var d=J.p;J.p=d!==0&&8>d?d:8;var _=M.T,E={};M.T=E,Hd(e,!1,i,a);try{var C=f(),B=M.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=Qb(C,l);Pl(e,i,G,bn(e))}else Pl(e,i,l,bn(e))}catch(Y){Pl(e,i,{then:function(){},status:"rejected",reason:Y},bn())}finally{J.p=d,_!==null&&E.types!==null&&(_.types=E.types),M.T=_}}function Wb(){}function qd(e,i,a,l){if(e.tag!==5)throw Error(r(476));var f=l_(e).queue;o_(e,f,i,it,a===null?Wb:function(){return u_(e),a(l)})}function l_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:it},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function u_(e){var i=l_(e);i.next===null&&(i=e.alternate.memoizedState),Pl(e,i.next.queue,{},bn())}function Fd(){return Qe(Zl)}function c_(){return Ee().memoizedState}function h_(){return Ee().memoizedState}function t1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();e=Or(a);var l=xr(i,e,a);l!==null&&(mn(l,i,a),Nl(l,i,a)),i={cache:_d()},e.payload=i;return}i=i.return}}function e1(e,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xc(e)?d_(i,a):(a=od(e,i,a,l),a!==null&&(mn(a,e,l),m_(a,i,l)))}function f_(e,i,a){var l=bn();Pl(e,i,a,l)}function Pl(e,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xc(e))d_(i,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,E=d(_,a);if(f.hasEagerState=!0,f.eagerState=E,_n(E,_))return Dc(e,i,f,0),ae===null&&Cc(),!1}catch{}finally{}if(a=od(e,i,f,l),a!==null)return mn(a,e,l),m_(a,i,l),!0}return!1}function Hd(e,i,a,l){if(l={lane:2,revertLane:Sm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xc(e)){if(i)throw Error(r(479))}else i=od(e,a,l,2),i!==null&&mn(i,e,2)}function Xc(e){var i=e.alternate;return e===Vt||i!==null&&i===Vt}function d_(e,i){$a=qc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function m_(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,il(e,a)}}var kl={readContext:Qe,use:Gc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};kl.useEffectEvent=ge;var g_={readContext:Qe,use:Gc,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:Zy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Qc(4194308,4,n_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Qc(4194308,4,e,i)},useInsertionEffect:function(e,i){Qc(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(qs){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var f=a(i);if(qs){Nn(!0);try{a(i)}finally{Nn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=e1.bind(null,Vt,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Ud(e);var i=e.queue,a=f_.bind(null,Vt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Bd,useDeferredValue:function(e,i){var a=sn();return jd(a,e,i)},useTransition:function(){var e=Ud(!1);return e=o_.bind(null,Vt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Vt,f=sn();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ae===null)throw Error(r(349));(kt&127)!==0||ky(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Zy(Ly.bind(null,l,d,e),[e]),l.flags|=2048,Wa(9,{destroy:void 0},Uy.bind(null,l,d,a,i),null),a},useId:function(){var e=sn(),i=ae.identifierPrefix;if(zt){var a=Ci,l=Ri;a=(l&~(1<<32-_e(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Fc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Yb++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Fd,useFormState:Qy,useActionState:Qy,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Hd.bind(null,Vt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Md,useCacheRefresh:function(){return sn().memoizedState=t1.bind(null,Vt)},useEffectEvent:function(e){var i=sn(),a={impl:e};return i.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Gd={readContext:Qe,use:Gc,useCallback:r_,useContext:Qe,useEffect:zd,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:e_,useMemo:s_,useReducer:Kc,useRef:$y,useState:function(){return Kc(Yi)},useDebugValue:Bd,useDeferredValue:function(e,i){var a=Ee();return a_(a,Wt.memoizedState,e,i)},useTransition:function(){var e=Kc(Yi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:Ml(e),i]},useSyncExternalStore:Py,useId:c_,useHostTransitionStatus:Fd,useFormState:Yy,useActionState:Yy,useOptimistic:function(e,i){var a=Ee();return jy(a,Wt,e,i)},useMemoCache:Md,useCacheRefresh:h_};Gd.useEffectEvent=Wy;var p_={readContext:Qe,use:Gc,useCallback:r_,useContext:Qe,useEffect:zd,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:e_,useMemo:s_,useReducer:kd,useRef:$y,useState:function(){return kd(Yi)},useDebugValue:Bd,useDeferredValue:function(e,i){var a=Ee();return Wt===null?jd(a,e,i):a_(a,Wt.memoizedState,e,i)},useTransition:function(){var e=kd(Yi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:Ml(e),i]},useSyncExternalStore:Py,useId:c_,useHostTransitionStatus:Fd,useFormState:Jy,useActionState:Jy,useOptimistic:function(e,i){var a=Ee();return Wt!==null?jy(a,Wt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Md,useCacheRefresh:h_};p_.useEffectEvent=Wy;function Kd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Qd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=bn(),f=Or(l);f.payload=i,a!=null&&(f.callback=a),i=xr(e,f,l),i!==null&&(mn(i,e,l),Nl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=bn(),f=Or(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=xr(e,f,l),i!==null&&(mn(i,e,l),Nl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=bn(),l=Or(a);l.tag=2,i!=null&&(l.callback=i),i=xr(e,l,a),i!==null&&(mn(i,e,a),Nl(i,e,a))}};function y_(e,i,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Sl(a,l)||!Sl(f,d):!0}function __(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Qd.enqueueReplaceState(i,i.state,null)}function Fs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function v_(e){Rc(e)}function T_(e){console.error(e)}function E_(e){Rc(e)}function Jc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function S_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Yd(e,i,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){Jc(e,i)},a}function A_(e){return e=Or(e),e.tag=3,e}function b_(e,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){S_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){S_(i,a,l),typeof f!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function n1(e,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ga(i,a,f,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?lh():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Uc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),vm(e,l,f)),!1;case 22:return a.flags|=65536,l===Uc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),vm(e,l,f)),!1}throw Error(r(435,a.tag))}return vm(e,l,f),lh(),!1}if(zt)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==dd&&(e=Error(r(422),{cause:l}),Il(kn(e,a)))):(l!==dd&&(i=Error(r(423),{cause:l}),Il(kn(i,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=kn(l,a),f=Yd(e.stateNode,l,f),bd(e,f),pe!==4&&(pe=2)),!1;var d=Error(r(520),{cause:l});if(d=kn(d,a),Hl===null?Hl=[d]:Hl.push(d),pe!==4&&(pe=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Yd(a.stateNode,l,e),bd(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=A_(f),b_(f,e,a,l),bd(a,f),!1}a=a.return}while(a!==null);return!1}var Xd=Error(r(461)),De=!1;function Ye(e,i,a,l){i.child=e===null?Cy(i,null,a,l):js(i,e.child,a,l)}function I_(e,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return Us(i),l=Nd(e,i,a,_,d,f),E=Vd(),e!==null&&!De?(Od(e,i,f),Xi(e,i,f)):(zt&&E&&hd(i),i.flags|=1,Ye(e,i,l,f),i.child)}function w_(e,i,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!ld(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,R_(e,i,d,l,f)):(e=Vc(a.type,null,l,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!im(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(_,l)&&e.ref===i.ref)return Xi(e,i,f)}return i.flags|=1,e=Fi(d,l),e.ref=i.ref,e.return=i,i.child=e}function R_(e,i,a,l,f){if(e!==null){var d=e.memoizedProps;if(Sl(d,l)&&e.ref===i.ref)if(De=!1,i.pendingProps=l=d,im(e,f))(e.flags&131072)!==0&&(De=!0);else return i.lanes=e.lanes,Xi(e,i,f)}return Jd(e,i,a,l,f)}function C_(e,i,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return D_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pc(i,d!==null?d.cachePool:null),d!==null?Vy(i,d):wd(),Oy(i);else return l=i.lanes=536870912,D_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Pc(i,d.cachePool),Vy(i,d),Pr(),i.memoizedState=null):(e!==null&&Pc(i,null),wd(),Pr());return Ye(e,i,f,a),i.child}function Ul(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function D_(e,i,a,l,f){var d=Td();return d=d===null?null:{parent:Re._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Pc(i,null),wd(),Oy(i),e!==null&&Ga(e,i,l,!0),i.childLanes=f,null}function $c(e,i){return i=Wc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function N_(e,i,a){return js(i,e.child,null,a),e=$c(i,i.pendingProps),e.flags|=2,En(i),i.memoizedState=null,e}function i1(e,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=$c(i,l),i.lanes=536870912,Ul(null,e);if(Cd(i),(e=oe)?(e=qv(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=dy(e),a.return=i,i.child=a,Ke=i,oe=null)):e=null,e===null)throw Dr(i);return i.lanes=536870912,null}return $c(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Cd(i),f)if(i.flags&256)i.flags&=-257,i=N_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(De||Ga(e,i,a,!1),f=(a&e.childLanes)!==0,De||f){if(l=ae,l!==null&&(_=rl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,xs(e,_),mn(l,e,_),Xd;lh(),i=N_(e,i,a)}else e=d.treeContext,oe=jn(_.nextSibling),Ke=i,zt=!0,Cr=null,zn=!1,e!==null&&py(i,e),i=$c(i,l),i.flags|=4096;return i}return e=Fi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Zc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Jd(e,i,a,l,f){return Us(i),a=Nd(e,i,a,l,void 0,f),l=Vd(),e!==null&&!De?(Od(e,i,f),Xi(e,i,f)):(zt&&l&&hd(i),i.flags|=1,Ye(e,i,a,f),i.child)}function V_(e,i,a,l,f,d){return Us(i),i.updateQueue=null,a=My(i,l,a,f),xy(e),l=Vd(),e!==null&&!De?(Od(e,i,d),Xi(e,i,d)):(zt&&l&&hd(i),i.flags|=1,Ye(e,i,a,d),i.child)}function O_(e,i,a,l,f){if(Us(i),i.stateNode===null){var d=ja,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qe(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Sd(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qe(_):ja,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Kd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Qd.enqueueReplaceState(d,d.state,null),Ol(i,l,d,f),Vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,C=Fs(a,E);d.props=C;var B=d.context,G=a.contextType;_=ja,typeof G=="object"&&G!==null&&(_=Qe(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||B!==_)&&__(i,d,l,_),Vr=!1;var q=i.memoizedState;d.state=q,Ol(i,l,d,f),Vl(),B=i.memoizedState,E||q!==B||Vr?(typeof Y=="function"&&(Kd(i,a,Y,l),B=i.memoizedState),(C=Vr||y_(i,a,C,l,q,B,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Ad(e,i),_=i.memoizedProps,G=Fs(a,_),d.props=G,Y=i.pendingProps,q=d.context,B=a.contextType,C=ja,typeof B=="object"&&B!==null&&(C=Qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Y||q!==C)&&__(i,d,l,C),Vr=!1,q=i.memoizedState,d.state=q,Ol(i,l,d,f),Vl();var H=i.memoizedState;_!==Y||q!==H||Vr||e!==null&&e.dependencies!==null&&xc(e.dependencies)?(typeof E=="function"&&(Kd(i,a,E,l),H=i.memoizedState),(G=Vr||y_(i,a,G,l,q,H,C)||e!==null&&e.dependencies!==null&&xc(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=C,l=G):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Zc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=js(i,e.child,null,f),i.child=js(i,null,a,f)):Ye(e,i,a,f),i.memoizedState=d.state,e=i.child):e=Xi(e,i,f),e}function x_(e,i,a,l){return Ps(),i.flags|=256,Ye(e,i,a,l),i.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(e){return{baseLanes:e,cachePool:Sy()}}function Wd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=An),e}function M_(e,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(f?Mr(i):Pr(),(e=oe)?(e=qv(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=dy(e),a.return=i,i.child=a,Ke=i,oe=null)):e=null,e===null)throw Dr(i);return Pm(e)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,f?(Pr(),f=i.mode,E=Wc({mode:"hidden",children:E},f),l=Ms(l,f,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=Zd(a),l.childLanes=Wd(e,_,a),i.memoizedState=$d,Ul(null,l)):(Mr(i),tm(i,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(d)i.flags&256?(Mr(i),i.flags&=-257,i=em(e,i,a)):i.memoizedState!==null?(Pr(),i.child=e.child,i.flags|=128,i=null):(Pr(),E=l.fallback,f=i.mode,l=Wc({mode:"visible",children:l.children},f),E=Ms(E,f,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,js(i,e.child,null,a),l=i.child,l.memoizedState=Zd(a),l.childLanes=Wd(e,_,a),i.memoizedState=$d,i=Ul(null,l));else if(Mr(i),Pm(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(r(419)),l.stack="",l.digest=_,Il({value:l,source:null,stack:null}),i=em(e,i,a)}else if(De||Ga(e,i,a,!1),_=(a&e.childLanes)!==0,De||_){if(_=ae,_!==null&&(l=rl(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,xs(e,l),mn(_,e,l),Xd;Mm(E)||lh(),i=em(e,i,a)}else Mm(E)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,oe=jn(E.nextSibling),Ke=i,zt=!0,Cr=null,zn=!1,e!==null&&py(i,e),i=tm(i,l.children),i.flags|=4096);return i}return f?(Pr(),E=l.fallback,f=i.mode,C=e.child,B=C.sibling,l=Fi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?E=Fi(B,E):(E=Ms(E,f,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,Ul(null,l),l=i.child,E=e.child.memoizedState,E===null?E=Zd(a):(f=E.cachePool,f!==null?(C=Re._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=Sy(),E={baseLanes:E.baseLanes|a,cachePool:f}),l.memoizedState=E,l.childLanes=Wd(e,_,a),i.memoizedState=$d,Ul(e.child,l)):(Mr(i),a=e.child,e=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function tm(e,i){return i=Wc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Wc(e,i){return e=vn(22,e,null,i),e.lanes=0,e}function em(e,i,a){return js(i,e.child,null,a),e=tm(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function P_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),pd(e.return,i,a)}function nm(e,i,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function k_(e,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Te.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,st(Te,_),Ye(e,i,l,a),l=zt?bl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P_(e,a,i);else if(e.tag===19)P_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)e=a.alternate,e!==null&&jc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),nm(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&jc(e)===null){i.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}nm(i,!0,a,null,d,l);break;case"together":nm(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Xi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Lr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ga(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Fi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Fi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function im(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&xc(e)))}function r1(e,i,a){switch(i.tag){case 3:Me(i,i.stateNode.containerInfo),Nr(i,Re,e.memoizedState.cache),Ps();break;case 27:case 5:gs(i);break;case 4:Me(i,i.stateNode.containerInfo);break;case 10:Nr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Cd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Mr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?M_(e,i,a):(Mr(i),e=Xi(e,i,a),e!==null?e.sibling:null);Mr(i);break;case 19:var f=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ga(e,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return k_(e,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(Te,Te.current),l)break;return null;case 22:return i.lanes=0,C_(e,i,a,i.pendingProps);case 24:Nr(i,Re,e.memoizedState.cache)}return Xi(e,i,a)}function U_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)De=!0;else{if(!im(e,a)&&(i.flags&128)===0)return De=!1,r1(e,i,a);De=(e.flags&131072)!==0}else De=!1,zt&&(i.flags&1048576)!==0&&gy(i,bl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=zs(i.elementType),i.type=e,typeof e=="function")ld(e)?(l=Fs(e,l),i.tag=1,i=O_(null,i,e,l,a)):(i.tag=0,i=Jd(null,i,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===bt){i.tag=11,i=I_(null,i,e,l,a);break t}else if(f===R){i.tag=14,i=w_(null,i,e,l,a);break t}}throw i=se(e)||e,Error(r(306,i,""))}}return i;case 0:return Jd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Fs(l,i.pendingProps),O_(e,i,l,f,a);case 3:t:{if(Me(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Ad(e,i),Ol(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Nr(i,Re,l),l!==d.cache&&yd(i,[Re],a,!0),Vl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=x_(e,i,l,a);break t}else if(l!==f){f=kn(Error(r(424)),i),Il(f),i=x_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=jn(e.firstChild),Ke=i,zt=!0,Cr=null,zn=!0,a=Cy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ps(),l===f){i=Xi(e,i,a);break t}Ye(e,i,l,a)}i=i.child}return i;case 26:return Zc(e,i),e===null?(a=Yv(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=gh(It.current).createElement(a),l[be]=i,l[Be]=e,Xe(l,a,e),Ie(l),i.stateNode=l):i.memoizedState=Yv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return gs(i),e===null&&zt&&(l=i.stateNode=Gv(i.type,i.pendingProps,It.current),Ke=i,zn=!0,f=oe,Fr(i.type)?(km=f,oe=jn(l.firstChild)):oe=f),Ye(e,i,i.pendingProps.children,a),Zc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((f=l=oe)&&(l=M1(l,i.type,i.pendingProps,zn),l!==null?(i.stateNode=l,Ke=i,oe=jn(l.firstChild),zn=!1,f=!0):f=!1),f||Dr(i)),gs(i),f=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Vm(f,d)?l=null:_!==null&&Vm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Nd(e,i,Xb,null,null,a),Zl._currentValue=f),Zc(e,i),Ye(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=oe)&&(a=P1(a,i.pendingProps,zn),a!==null?(i.stateNode=a,Ke=i,oe=null,e=!0):e=!1),e||Dr(i)),null;case 13:return M_(e,i,a);case 4:return Me(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=js(i,null,l,a):Ye(e,i,l,a),i.child;case 11:return I_(e,i,i.type,i.pendingProps,a);case 7:return Ye(e,i,i.pendingProps,a),i.child;case 8:return Ye(e,i,i.pendingProps.children,a),i.child;case 12:return Ye(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Nr(i,i.type,l.value),Ye(e,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Us(i),f=Qe(f),l=l(f),i.flags|=1,Ye(e,i,l,a),i.child;case 14:return w_(e,i,i.type,i.pendingProps,a);case 15:return R_(e,i,i.type,i.pendingProps,a);case 19:return k_(e,i,a);case 31:return i1(e,i,a);case 22:return C_(e,i,a,i.pendingProps);case 24:return Us(i),l=Qe(Re),e===null?(f=Td(),f===null&&(f=ae,d=_d(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Sd(i),Nr(i,Re,f)):((e.lanes&a)!==0&&(Ad(e,i),Ol(i,null,null,a),Vl()),f=e.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Nr(i,Re,l)):(l=d.cache,Nr(i,Re,l),l!==f.cache&&yd(i,[Re],a,!0))),Ye(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ji(e){e.flags|=4}function rm(e,i,a,l,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(cv())e.flags|=8192;else throw Bs=Uc,Ed}else e.flags&=-16777217}function L_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wv(i))if(cv())e.flags|=8192;else throw Bs=Uc,Ed}function th(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ac():536870912,e.lanes|=i,io|=i)}function Ll(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function le(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function s1(e,i,a){var l=i.pendingProps;switch(fd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(i),null;case 1:return le(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ki(Re),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ha(i)?Ji(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,md())),le(i),null;case 26:var f=i.type,d=i.memoizedState;return e===null?(Ji(i),d!==null?(le(i),L_(i,d)):(le(i),rm(i,f,null,l,a))):d?d!==e.memoizedState?(Ji(i),le(i),L_(i,d)):(le(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ji(i),le(i),rm(i,f,e,l,a)),null;case 27:if(Sa(i),a=It.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return le(i),null}e=lt.current,Ha(i)?yy(i):(e=Gv(f,l,a),i.stateNode=e,Ji(i))}return le(i),null;case 5:if(Sa(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return le(i),null}if(d=lt.current,Ha(i))yy(i);else{var _=gh(It.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[be]=i,d[Be]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Xe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ji(i)}}return le(i),rm(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=It.current,Ha(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,f=Ke,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[be]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Mv(e.nodeValue,a)),e||Dr(i,!0)}else e=gh(e).createTextNode(l),e[be]=i,i.stateNode=e}return le(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ha(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[be]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;le(i),e=!1}else a=md(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return le(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ha(i),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[be]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;le(i),f=!1}else f=md(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),th(i,i.updateQueue),le(i),null);case 4:return ue(),e===null&&wm(i.stateNode.containerInfo),le(i),null;case 10:return Ki(i.type),le(i),null;case 19:if(K(Te),l=i.memoizedState,l===null)return le(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Ll(l,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=jc(e),d!==null){for(i.flags|=128,Ll(l,!1),e=d.updateQueue,i.updateQueue=e,th(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)fy(a,e),a=a.sibling;return st(Te,Te.current&1|2),zt&&Hi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&nn()>sh&&(i.flags|=128,f=!0,Ll(l,!1),i.lanes=4194304)}else{if(!f)if(e=jc(d),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,th(i,e),Ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return le(i),null}else 2*nn()-l.renderingStartTime>sh&&a!==536870912&&(i.flags|=128,f=!0,Ll(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=nn(),e.sibling=null,a=Te.current,st(Te,f?a&1|2:a&1),zt&&Hi(i,l.treeForkCount),e):(le(i),null);case 22:case 23:return En(i),Rd(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(le(i),i.subtreeFlags&6&&(i.flags|=8192)):le(i),a=i.updateQueue,a!==null&&th(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&K(Ls),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ki(Re),le(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function a1(e,i){switch(fd(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ki(Re),ue(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Sa(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Ps()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(En(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ps()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return K(Te),null;case 4:return ue(),null;case 10:return Ki(i.type),null;case 22:case 23:return En(i),Rd(),e!==null&&K(Ls),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ki(Re),null;case 25:return null;default:return null}}function z_(e,i){switch(fd(i),i.tag){case 3:Ki(Re),ue();break;case 26:case 27:case 5:Sa(i);break;case 4:ue();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:K(Te);break;case 10:Ki(i.type);break;case 22:case 23:En(i),Rd(),e!==null&&K(Ls);break;case 24:Ki(Re)}}function zl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(E){Xt(i,i.return,E)}}function kr(e,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,f=i;var C=a,B=E;try{B()}catch(G){Xt(f,C,G)}}}l=l.next}while(l!==d)}}catch(G){Xt(i,i.return,G)}}function B_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ny(i,a)}catch(l){Xt(e,e.return,l)}}}function j_(e,i,a){a.props=Fs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(e,i,l)}}function Bl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Xt(e,i,f)}}function Di(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xt(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(e,i,f)}else a.current=null}function q_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xt(e,e.return,f)}}function sm(e,i,a){try{var l=e.stateNode;C1(l,e.type,a,i),l[Be]=i}catch(f){Xt(e,e.return,f)}}function F_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fr(e.type)||e.tag===4}function am(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||F_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function om(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&Fr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(om(e,i,a),e=e.sibling;e!==null;)om(e,i,a),e=e.sibling}function eh(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Fr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(eh(e,i,a),e=e.sibling;e!==null;)eh(e,i,a),e=e.sibling}function H_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Xe(i,l,a),i[be]=e,i[Be]=a}catch(d){Xt(e,e.return,d)}}var $i=!1,Ne=!1,lm=!1,G_=typeof WeakSet=="function"?WeakSet:Set,qe=null;function o1(e,i){if(e=e.containerInfo,Dm=Sh,e=iy(e),ed(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,E=-1,C=-1,B=0,G=0,Y=e,q=null;e:for(;;){for(var H;Y!==a||f!==0&&Y.nodeType!==3||(E=_+f),Y!==d||l!==0&&Y.nodeType!==3||(C=_+l),Y.nodeType===3&&(_+=Y.nodeValue.length),(H=Y.firstChild)!==null;)q=Y,Y=H;for(;;){if(Y===e)break e;if(q===a&&++B===f&&(E=_),q===d&&++G===l&&(C=_),(H=Y.nextSibling)!==null)break;Y=q,q=Y.parentNode}Y=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nm={focusedElem:e,selectionRange:a},Sh=!1,qe=i;qe!==null;)if(i=qe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,qe=e;else for(;qe!==null;){switch(i=qe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=Fs(a.type,f);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Xt(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)xm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,qe=e;break}qe=i.return}}function K_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(e,a),l&4&&zl(5,a);break;case 1:if(Wi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Xt(a,a.return,_)}else{var f=Fs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(a,a.return,_)}}l&64&&B_(a),l&512&&Bl(a,a.return);break;case 3:if(Wi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ny(e,i)}catch(_){Xt(a,a.return,_)}}break;case 27:i===null&&l&4&&H_(a);case 26:case 5:Wi(e,a),i===null&&l&4&&q_(a),l&512&&Bl(a,a.return);break;case 12:Wi(e,a);break;case 31:Wi(e,a),l&4&&X_(e,a);break;case 13:Wi(e,a),l&4&&J_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=p1.bind(null,a),k1(e,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){i=i!==null&&i.memoizedState!==null||Ne,f=$i;var d=Ne;$i=l,(Ne=i)&&!d?tr(e,a,(a.subtreeFlags&8772)!==0):Wi(e,a),$i=f,Ne=d}break;case 30:break;default:Wi(e,a)}}function Q_(e){var i=e.alternate;i!==null&&(e.alternate=null,Q_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ra(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,cn=!1;function Zi(e,i,a){for(a=a.child;a!==null;)Y_(e,i,a),a=a.sibling}function Y_(e,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:Ne||Di(a,i),Zi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||Di(a,i);var l=he,f=cn;Fr(a.type)&&(he=a.stateNode,cn=!1),Zi(e,i,a),Xl(a.stateNode),he=l,cn=f;break;case 5:Ne||Di(a,i);case 6:if(l=he,f=cn,he=null,Zi(e,i,a),he=l,cn=f,he!==null)if(cn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(a.stateNode)}catch(d){Xt(a,i,d)}else try{he.removeChild(a.stateNode)}catch(d){Xt(a,i,d)}break;case 18:he!==null&&(cn?(e=he,Bv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ho(e)):Bv(he,a.stateNode));break;case 4:l=he,f=cn,he=a.stateNode.containerInfo,cn=!0,Zi(e,i,a),he=l,cn=f;break;case 0:case 11:case 14:case 15:kr(2,a,i),Ne||kr(4,a,i),Zi(e,i,a);break;case 1:Ne||(Di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&j_(a,i,l)),Zi(e,i,a);break;case 21:Zi(e,i,a);break;case 22:Ne=(l=Ne)||a.memoizedState!==null,Zi(e,i,a),Ne=l;break;default:Zi(e,i,a)}}function X_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ho(e)}catch(a){Xt(i,i.return,a)}}}function J_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ho(e)}catch(a){Xt(i,i.return,a)}}function l1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new G_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new G_),i;default:throw Error(r(435,e.tag))}}function nh(e,i){var a=l1(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=y1.bind(null,e,l);l.then(f,f)}})}function hn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(Fr(E.type)){he=E.stateNode,cn=!1;break t}break;case 5:he=E.stateNode,cn=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(he===null)throw Error(r(160));Y_(d,_,f),he=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)$_(i,e),i=i.sibling}var ii=null;function $_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),l&4&&(kr(3,e,e.return),zl(3,e),kr(5,e,e.return));break;case 1:hn(i,e),fn(e),l&512&&(Ne||a===null||Di(a,a.return)),l&64&&$i&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ii;if(hn(i,e),fn(e),l&512&&(Ne||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gi]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xe(d,l,a),d[be]=e,Ie(d),l=d;break t;case"link":var _=$v("link","href",f).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;case"meta":if(_=$v("meta","content",f).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[be]=e,Ie(d),l=d}e.stateNode=l}else Zv(f,e.type,e.stateNode);else e.stateNode=Jv(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Zv(f,e.type,e.stateNode):Jv(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&sm(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),l&512&&(Ne||a===null||Di(a,a.return)),a!==null&&l&4&&sm(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),l&512&&(Ne||a===null||Di(a,a.return)),e.flags&32){f=e.stateNode;try{un(f,"")}catch(ct){Xt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,sm(e,f,a!==null?a.memoizedProps:f)),l&1024&&(lm=!0);break;case 6:if(hn(i,e),fn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Xt(e,e.return,ct)}}break;case 3:if(_h=null,f=ii,ii=ph(i.containerInfo),hn(i,e),ii=f,fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(i.containerInfo)}catch(ct){Xt(e,e.return,ct)}lm&&(lm=!1,Z_(e));break;case 4:l=ii,ii=ph(e.stateNode.containerInfo),hn(i,e),fn(e),ii=l;break;case 12:hn(i,e),fn(e);break;case 31:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nh(e,l)));break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rh=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nh(e,l)));break;case 22:f=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=$i,G=Ne;if($i=B||f,Ne=G||C,hn(i,e),Ne=G,$i=B,fn(e),l&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||C||$i||Ne||Hs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,q=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ct){Xt(C,C.return,ct)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(ct){Xt(C,C.return,ct)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;f?jv(H,!0):jv(C.stateNode,!1)}catch(ct){Xt(C,C.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nh(e,a))));break;case 19:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nh(e,l)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(F_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=am(e);eh(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var E=am(e);eh(e,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,B=am(e);om(e,B,C);break;default:throw Error(r(161))}}catch(G){Xt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Z_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Z_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Wi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)K_(e,i.alternate,i),i=i.sibling}function Hs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),Hs(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&j_(i,i.return,a),Hs(i);break;case 27:Xl(i.stateNode);case 26:case 5:Di(i,i.return),Hs(i);break;case 22:i.memoizedState===null&&Hs(i);break;case 30:Hs(i);break;default:Hs(i)}e=e.sibling}}function tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:tr(f,d,a),zl(4,d);break;case 1:if(tr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var E=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Dy(C[f],E)}catch(B){Xt(l,l.return,B)}}a&&_&64&&B_(d),Bl(d,d.return);break;case 27:H_(d);case 26:case 5:tr(f,d,a),a&&l===null&&_&4&&q_(d),Bl(d,d.return);break;case 12:tr(f,d,a);break;case 31:tr(f,d,a),a&&_&4&&X_(f,d);break;case 13:tr(f,d,a),a&&_&4&&J_(f,d);break;case 22:d.memoizedState===null&&tr(f,d,a),Bl(d,d.return);break;case 30:break;default:tr(f,d,a)}i=i.sibling}}function um(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&wl(a))}function cm(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&wl(e))}function ri(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W_(e,i,a,l),i=i.sibling}function W_(e,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i,a,l),f&2048&&zl(9,i);break;case 1:ri(e,i,a,l);break;case 3:ri(e,i,a,l),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&wl(e)));break;case 12:if(f&2048){ri(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Xt(i,i.return,C)}}else ri(e,i,a,l);break;case 31:ri(e,i,a,l);break;case 13:ri(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ri(e,i,a,l):jl(e,i):d._visibility&2?ri(e,i,a,l):(d._visibility|=2,to(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&um(_,i);break;case 24:ri(e,i,a,l),f&2048&&cm(i.alternate,i);break;default:ri(e,i,a,l)}}function to(e,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,E=a,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:to(d,_,E,C,f),zl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?to(d,_,E,C,f):jl(d,_):(G._visibility|=2,to(d,_,E,C,f)),f&&B&2048&&um(_.alternate,_);break;case 24:to(d,_,E,C,f),f&&B&2048&&cm(_.alternate,_);break;default:to(d,_,E,C,f)}i=i.sibling}}function jl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,f=l.flags;switch(l.tag){case 22:jl(a,l),f&2048&&um(l.alternate,l);break;case 24:jl(a,l),f&2048&&cm(l.alternate,l);break;default:jl(a,l)}i=i.sibling}}var ql=8192;function eo(e,i,a){if(e.subtreeFlags&ql)for(e=e.child;e!==null;)tv(e,i,a),e=e.sibling}function tv(e,i,a){switch(e.tag){case 26:eo(e,i,a),e.flags&ql&&e.memoizedState!==null&&Y1(a,ii,e.memoizedState,e.memoizedProps);break;case 5:eo(e,i,a);break;case 3:case 4:var l=ii;ii=ph(e.stateNode.containerInfo),eo(e,i,a),ii=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ql,ql=16777216,eo(e,i,a),ql=l):eo(e,i,a));break;default:eo(e,i,a)}}function ev(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Fl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qe=l,iv(l,e)}ev(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nv(e),e=e.sibling}function nv(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&kr(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ih(e)):Fl(e);break;default:Fl(e)}}function ih(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qe=l,iv(l,e)}ev(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:kr(8,i,i.return),ih(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ih(i));break;default:ih(i)}e=e.sibling}}function iv(e,i){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qe=l;else t:for(a=e;qe!==null;){l=qe;var f=l.sibling,d=l.return;if(Q_(l),l===a){qe=null;break t}if(f!==null){f.return=d,qe=f;break t}qe=d}}}var u1={getCacheForType:function(e){var i=Qe(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Qe(Re).controller.signal}},c1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,Mt=null,kt=0,Yt=0,Sn=null,Ur=!1,no=!1,hm=!1,er=0,pe=0,Lr=0,Gs=0,fm=0,An=0,io=0,Hl=null,dn=null,dm=!1,rh=0,rv=0,sh=1/0,ah=null,zr=null,ke=0,Br=null,ro=null,nr=0,mm=0,gm=null,sv=null,Gl=0,pm=null;function bn(){return(Kt&2)!==0&&kt!==0?kt&-kt:M.T!==null?Sm():oc()}function av(){if(An===0)if((kt&536870912)===0||zt){var e=_s;_s<<=1,(_s&3932160)===0&&(_s=262144),An=e}else An=536870912;return e=Tn.current,e!==null&&(e.flags|=32),An}function mn(e,i,a){(e===ae&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(so(e,0),jr(e,kt,An,!1)),vs(e,a),((Kt&2)===0||e!==ae)&&(e===ae&&((Kt&2)===0&&(Gs|=a),pe===4&&jr(e,kt,An,!1)),Ni(e))}function ov(e,i,a){if((Kt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Yn(e,i),f=l?d1(e,i):_m(e,i,!0),d=l;do{if(f===0){no&&!l&&jr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!h1(a)){f=_m(e,i,!1),d=!1;continue}if(f===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;f=Hl;var C=E.current.memoizedState.isDehydrated;if(C&&(so(E,_).flags|=256),_=_m(E,_,!1),_!==2){if(hm&&!C){E.errorRecoveryDisabledLanes|=d,Gs|=d,f=4;break t}d=dn,dn=f,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){so(e,0),jr(e,i,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:jr(l,i,An,!Ur);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=rh+300-nn(),10<f)){if(jr(l,i,An,!Ur),fi(l,0,!0)!==0)break t;nr=i,l.timeoutHandle=Lv(lv.bind(null,l,a,dn,ah,dm,i,An,Gs,io,Ur,d,"Throttled",-0,0),f);break t}lv(l,a,dn,ah,dm,i,An,Gs,io,Ur,d,null,-0,0)}}break}while(!0);Ni(e)}function lv(e,i,a,l,f,d,_,E,C,B,G,Y,q,H){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},tv(i,d,Y);var ct=(d&62914560)===d?rh-nn():(d&4194048)===d?rv-nn():0;if(ct=X1(Y,ct),ct!==null){nr=d,e.cancelPendingCommit=ct(pv.bind(null,e,i,d,a,l,f,_,E,C,G,Y,null,q,H)),jr(e,d,_,!B);return}}pv(e,i,d,a,l,f,_,E,C)}function h1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function jr(e,i,a,l){i&=~fm,i&=~Gs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var f=i;0<f;){var d=31-_e(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ts(e,a,i)}function oh(){return(Kt&6)===0?(Kl(0),!1):!0}function ym(){if(Mt!==null){if(Yt===0)var e=Mt.return;else e=Mt,Gi=ks=null,xd(e),Xa=null,Cl=0,e=Mt;for(;e!==null;)z_(e.alternate,e),e=e.return;Mt=null}}function so(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,V1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),nr=0,ym(),ae=e,Mt=a=Fi(e.current,null),kt=i,Yt=0,Sn=null,Ur=!1,no=Yn(e,i),hm=!1,io=An=fm=Gs=Lr=pe=0,dn=Hl=null,dm=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var f=31-_e(l),d=1<<f;i|=e[f],l&=~d}return er=i,Cc(),a}function uv(e,i){Vt=null,M.H=kl,i===Ya||i===kc?(i=Iy(),Yt=3):i===Ed?(i=Iy(),Yt=4):Yt=i===Xd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Mt===null&&(pe=1,Jc(e,kn(i,e.current)))}function cv(){var e=Tn.current;return e===null?!0:(kt&4194048)===kt?Bn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Bn:!1}function hv(){var e=M.H;return M.H=kl,e===null?kl:e}function fv(){var e=M.A;return M.A=u1,e}function lh(){pe=4,Ur||(kt&4194048)!==kt&&Tn.current!==null||(no=!0),(Lr&134217727)===0&&(Gs&134217727)===0||ae===null||jr(ae,kt,An,!1)}function _m(e,i,a){var l=Kt;Kt|=2;var f=hv(),d=fv();(ae!==e||kt!==i)&&(ah=null,so(e,i)),i=!1;var _=pe;t:do try{if(Yt!==0&&Mt!==null){var E=Mt,C=Sn;switch(Yt){case 8:ym(),_=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var B=Yt;if(Yt=0,Sn=null,ao(e,E,C,B),a&&no){_=0;break t}break;default:B=Yt,Yt=0,Sn=null,ao(e,E,C,B)}}f1(),_=pe;break}catch(G){uv(e,G)}while(!0);return i&&e.shellSuspendCounter++,Gi=ks=null,Kt=l,M.H=f,M.A=d,Mt===null&&(ae=null,kt=0,Cc()),_}function f1(){for(;Mt!==null;)dv(Mt)}function d1(e,i){var a=Kt;Kt|=2;var l=hv(),f=fv();ae!==e||kt!==i?(ah=null,sh=nn()+500,so(e,i)):no=Yn(e,i);t:do try{if(Yt!==0&&Mt!==null){i=Mt;var d=Sn;e:switch(Yt){case 1:Yt=0,Sn=null,ao(e,i,d,1);break;case 2:case 9:if(Ay(d)){Yt=0,Sn=null,mv(i);break}i=function(){Yt!==2&&Yt!==9||ae!==e||(Yt=7),Ni(e)},d.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Ay(d)?(Yt=0,Sn=null,mv(i)):(Yt=0,Sn=null,ao(e,i,d,7));break;case 5:var _=null;switch(Mt.tag){case 26:_=Mt.memoizedState;case 5:case 27:var E=Mt;if(_?Wv(_):E.stateNode.complete){Yt=0,Sn=null;var C=E.sibling;if(C!==null)Mt=C;else{var B=E.return;B!==null?(Mt=B,uh(B)):Mt=null}break e}}Yt=0,Sn=null,ao(e,i,d,5);break;case 6:Yt=0,Sn=null,ao(e,i,d,6);break;case 8:ym(),pe=6;break t;default:throw Error(r(462))}}m1();break}catch(G){uv(e,G)}while(!0);return Gi=ks=null,M.H=l,M.A=f,Kt=a,Mt!==null?0:(ae=null,kt=0,Cc(),pe)}function m1(){for(;Mt!==null&&!Yf();)dv(Mt)}function dv(e){var i=U_(e.alternate,e,er);e.memoizedProps=e.pendingProps,i===null?uh(e):Mt=i}function mv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=V_(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=V_(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:xd(i);default:z_(a,i),i=Mt=fy(i,er),i=U_(a,i,er)}e.memoizedProps=e.pendingProps,i===null?uh(e):Mt=i}function ao(e,i,a,l){Gi=ks=null,xd(i),Xa=null,Cl=0;var f=i.return;try{if(n1(e,f,i,a,kt)){pe=1,Jc(e,kn(a,e.current)),Mt=null;return}}catch(d){if(f!==null)throw Mt=f,d;pe=1,Jc(e,kn(a,e.current)),Mt=null;return}i.flags&32768?(zt||l===1?e=!0:no||(kt&536870912)!==0?e=!1:(Ur=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gv(i,e)):uh(i)}function uh(e){var i=e;do{if((i.flags&32768)!==0){gv(i,Ur);return}e=i.return;var a=s1(i.alternate,i,er);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);pe===0&&(pe=5)}function gv(e,i){do{var a=a1(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);pe=6,Mt=null}function pv(e,i,a,l,f,d,_,E,C){e.cancelPendingCommit=null;do ch();while(ke!==0);if((Kt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=ad,$f(e,a,d,_,E,C),e===ae&&(Mt=ae=null,kt=0),ro=i,Br=e,nr=a,mm=d,gm=f,sv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_1(yr,function(){return Ev(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,f=J.p,J.p=2,_=Kt,Kt|=4;try{o1(e,i,a)}finally{Kt=_,J.p=f,M.T=l}}ke=1,yv(),_v(),vv()}}function yv(){if(ke===1){ke=0;var e=Br,i=ro,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=J.p;J.p=2;var f=Kt;Kt|=4;try{$_(i,e);var d=Nm,_=iy(e.containerInfo),E=d.focusedElem,C=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&ny(E.ownerDocument.documentElement,E)){if(C!==null&&ed(E)){var B=C.start,G=C.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,q=Y&&Y.defaultView||window;if(q.getSelection){var H=q.getSelection(),ct=E.textContent.length,Tt=Math.min(C.start,ct),ee=C.end===void 0?Tt:Math.min(C.end,ct);!H.extend&&Tt>ee&&(_=ee,ee=Tt,Tt=_);var P=ey(E,Tt),V=ey(E,ee);if(P&&V&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var z=Y.createRange();z.setStart(P.node,P.offset),H.removeAllRanges(),Tt>ee?(H.addRange(z),H.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),H.addRange(z))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sh=!!Dm,Nm=Dm=null}finally{Kt=f,J.p=l,M.T=a}}e.current=i,ke=2}}function _v(){if(ke===2){ke=0;var e=Br,i=ro,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=J.p;J.p=2;var f=Kt;Kt|=4;try{K_(e,i.alternate,i)}finally{Kt=f,J.p=l,M.T=a}}ke=3}}function vv(){if(ke===4||ke===3){ke=0,tc();var e=Br,i=ro,a=nr,l=sv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ke=5:(ke=0,ro=Br=null,Tv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(zr=null),zi(a),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=M.T,f=J.p,J.p=2,M.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var E=l[_];d(E.value,{componentStack:E.stack})}}finally{M.T=i,J.p=f}}(nr&3)!==0&&ch(),Ni(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===pm?Gl++:(Gl=0,pm=e):Gl=0,Kl(0)}}function Tv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,wl(i)))}function ch(){return yv(),_v(),vv(),Ev()}function Ev(){if(ke!==5)return!1;var e=Br,i=mm;mm=0;var a=zi(nr),l=M.T,f=J.p;try{J.p=32>a?32:a,M.T=null,a=gm,gm=null;var d=Br,_=nr;if(ke=0,ro=Br=null,nr=0,(Kt&6)!==0)throw Error(r(331));var E=Kt;if(Kt|=4,nv(d.current),W_(d,d.current,_,a),Kt=E,Kl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{J.p=f,M.T=l,Tv(e,i)}}function Sv(e,i,a){i=kn(a,i),i=Yd(e.stateNode,i,2),e=xr(e,i,2),e!==null&&(vs(e,2),Ni(e))}function Xt(e,i,a){if(e.tag===3)Sv(e,e,a);else for(;i!==null;){if(i.tag===3){Sv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){e=kn(a,e),a=A_(2),l=xr(i,a,2),l!==null&&(b_(a,l,i,e),vs(l,2),Ni(l));break}}i=i.return}}function vm(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new c1;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(hm=!0,f.add(a),e=g1.bind(null,e,i,a),i.then(e,e))}function g1(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ae===e&&(kt&a)===a&&(pe===4||pe===3&&(kt&62914560)===kt&&300>nn()-rh?(Kt&2)===0&&so(e,0):fm|=a,io===kt&&(io=0)),Ni(e)}function Av(e,i){i===0&&(i=ac()),e=xs(e,i),e!==null&&(vs(e,i),Ni(e))}function p1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Av(e,a)}function y1(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Av(e,a)}function _1(e,i){return Pe(e,i)}var hh=null,oo=null,Tm=!1,fh=!1,Em=!1,qr=0;function Ni(e){e!==oo&&e.next===null&&(oo===null?hh=oo=e:oo=oo.next=e),fh=!0,Tm||(Tm=!0,T1())}function Kl(e,i){if(!Em&&fh){Em=!0;do for(var a=!1,l=hh;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-_e(42|e)+1)-1,d&=f&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Rv(l,d))}else d=kt,d=fi(l,l===ae?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,Rv(l,d));l=l.next}while(a);Em=!1}}function v1(){bv()}function bv(){fh=Tm=!1;var e=0;qr!==0&&N1()&&(e=qr);for(var i=nn(),a=null,l=hh;l!==null;){var f=l.next,d=Iv(l,i);d===0?(l.next=null,a===null?hh=f:a.next=f,f===null&&(oo=a)):(a=l,(e!==0||(d&3)!==0)&&(fh=!0)),l=f}ke!==0&&ke!==5||Kl(e),qr!==0&&(qr=0)}function Iv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-_e(d),E=1<<_,C=f[_];C===-1?((E&a)===0||(E&l)!==0)&&(f[_]=Jf(E,i)):C<=i&&(e.expiredLanes|=E),d&=~E}if(i=ae,a=kt,a=fi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&pr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&pr(l),zi(a)){case 2:case 8:a=nl;break;case 32:a=yr;break;case 268435456:a=ec;break;default:a=yr}return l=wv.bind(null,e),a=Pe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&pr(l),e.callbackPriority=2,e.callbackNode=null,2}function wv(e,i){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ch()&&e.callbackNode!==a)return null;var l=kt;return l=fi(e,e===ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ov(e,l,i),Iv(e,nn()),e.callbackNode!=null&&e.callbackNode===a?wv.bind(null,e):null)}function Rv(e,i){if(ch())return null;ov(e,i,!0)}function T1(){O1(function(){(Kt&6)!==0?Pe(el,v1):bv()})}function Sm(){if(qr===0){var e=Ka;e===0&&(e=ci,ci<<=1,(ci&261888)===0&&(ci=256)),qr=e}return qr}function Cv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Va(""+e)}function Dv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function E1(e,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Cv((f[Be]||null).action),_=l.submitter;_&&(i=(i=_[Be]||null)?Cv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var E=new Ai("action","action",null,l,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qr!==0){var C=_?Dv(f,_):new FormData(f);qd(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=_?Dv(f,_):new FormData(f),qd(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Am=0;Am<sd.length;Am++){var bm=sd[Am],S1=bm.toLowerCase(),A1=bm[0].toUpperCase()+bm.slice(1);ni(S1,"on"+A1)}ni(ay,"onAnimationEnd"),ni(oy,"onAnimationIteration"),ni(ly,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(zb,"onTransitionRun"),ni(Bb,"onTransitionStart"),ni(jb,"onTransitionCancel"),ni(uy,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function Nv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var E=l[_],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=B;try{d(f)}catch(G){Rc(G)}f.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(E=l[_],C=E.instance,B=E.currentTarget,E=E.listener,C!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=B;try{d(f)}catch(G){Rc(G)}f.currentTarget=null,d=C}}}}function Pt(e,i){var a=i[wa];a===void 0&&(a=i[wa]=new Set);var l=e+"__bubble";a.has(l)||(Vv(i,e,2,!1),a.add(l))}function Im(e,i,a){var l=0;i&&(l|=4),Vv(a,e,l,i)}var dh="_reactListening"+Math.random().toString(36).slice(2);function wm(e){if(!e[dh]){e[dh]=!0,sl.forEach(function(a){a!=="selectionchange"&&(b1.has(a)||Im(a,!1,e),Im(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[dh]||(i[dh]=!0,Im("selectionchange",!1,i))}}function Vv(e,i,a,l){switch(aT(i)){case 2:var f=Z1;break;case 8:f=W1;break;default:f=jm}a=f.bind(null,i,a,e),f=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(i,a,{capture:!0,passive:f}):e.addEventListener(i,a,!0):f!==void 0?e.addEventListener(i,a,{passive:f}):e.addEventListener(i,a,!1)}function Rm(e,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===f)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;E!==null;){if(_=pi(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}E=E.parentNode}}l=l.return}Ar(function(){var B=d,G=On(a),Y=[];t:{var q=cy.get(e);if(q!==void 0){var H=Ai,ct=e;switch(e){case"keypress":if(Rs(a)===0)break t;case"keydown":case"keyup":H=bc;break;case"focusin":ct="focus",H=Ds;break;case"focusout":ct="blur",H=Ds;break;case"beforeblur":case"afterblur":H=Ds;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case ay:case oy:case ly:H=yc;break;case uy:H=A;break;case"scroll":case"scrollend":H=yl;break;case"wheel":H=F;break;case"copy":case"cut":case"paste":H=_c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=qi;break;case"toggle":case"beforetoggle":H=Nt}var Tt=(i&4)!==0,ee=!Tt&&(e==="scroll"||e==="scrollend"),P=Tt?q!==null?q+"Capture":null:q;Tt=[];for(var V=B,z;V!==null;){var Q=V;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||P===null||(Q=Zn(V,P),Q!=null&&Tt.push(Yl(V,Q,z))),ee)break;V=V.return}0<Tt.length&&(q=new H(q,ct,null,a,G),Y.push({event:q,listeners:Tt}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",q&&a!==ml&&(ct=a.relatedTarget||a.fromElement)&&(pi(ct)||ct[mi]))break t;if((H||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=B,ct=ct?pi(ct):null,ct!==null&&(ee=u(ct),Tt=ct.tag,ct!==ee||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(H=null,ct=B),H!==ct)){if(Tt=_l,Q="onMouseLeave",P="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=qi,Q="onPointerLeave",P="onPointerEnter",V="pointer"),ee=H==null?q:pn(H),z=ct==null?q:pn(ct),q=new Tt(Q,V+"leave",H,a,G),q.target=ee,q.relatedTarget=z,Q=null,pi(G)===B&&(Tt=new Tt(P,V+"enter",ct,a,G),Tt.target=z,Tt.relatedTarget=ee,Q=Tt),ee=Q,H&&ct)e:{for(Tt=I1,P=H,V=ct,z=0,Q=P;Q;Q=Tt(Q))z++;Q=0;for(var yt=V;yt;yt=Tt(yt))Q++;for(;0<z-Q;)P=Tt(P),z--;for(;0<Q-z;)V=Tt(V),Q--;for(;z--;){if(P===V||V!==null&&P===V.alternate){Tt=P;break e}P=Tt(P),V=Tt(V)}Tt=null}else Tt=null;H!==null&&Ov(Y,q,H,Tt,!1),ct!==null&&ee!==null&&Ov(Y,ee,ct,Tt,!0)}}t:{if(q=B?pn(B):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var Ft=Xp;else if(Qp(q))if(Jp)Ft=kb;else{Ft=Mb;var mt=xb}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Na(B.elementType)&&(Ft=Xp):Ft=Pb;if(Ft&&(Ft=Ft(e,B))){Yp(Y,Ft,a,G);break t}mt&&mt(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&hl(q,"number",q.value)}switch(mt=B?pn(B):window,e){case"focusin":(Qp(mt)||mt.contentEditable==="true")&&(La=mt,nd=B,Al=null);break;case"focusout":Al=nd=La=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,ry(Y,a,G);break;case"selectionchange":if(Lb)break;case"keydown":case"keyup":ry(Y,a,G)}var Ot;if(Gt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Ua?Ns(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(wi&&a.locale!=="ko"&&(Ua||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Ua&&(Ot=pl()):(Si=G,gl="value"in Si?Si.value:Si.textContent,Ua=!0)),mt=mh(B,Ut),0<mt.length&&(Ut=new Ii(Ut,e,null,a,G),Y.push({event:Ut,listeners:mt}),Ot?Ut.data=Ot:(Ot=ka(a),Ot!==null&&(Ut.data=Ot)))),(Ot=Mn?Db(e,a):Nb(e,a))&&(Ut=mh(B,"onBeforeInput"),0<Ut.length&&(mt=new Ii("onBeforeInput","beforeinput",null,a,G),Y.push({event:mt,listeners:Ut}),mt.data=Ot)),E1(Y,e,B,a,G)}Nv(Y,i)})}function Yl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function mh(e,i){for(var a=i+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Zn(e,a),f!=null&&l.unshift(Yl(e,f,d)),f=Zn(e,i),f!=null&&l.push(Yl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function I1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ov(e,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var E=a,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||B===null||(C=B,f?(B=Zn(a,d),B!=null&&_.unshift(Yl(a,B,C))):f||(B=Zn(a,d),B!=null&&_.push(Yl(a,B,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var w1=/\r\n?/g,R1=/\u0000|\uFFFD/g;function xv(e){return(typeof e=="string"?e:""+e).replace(w1,`
`).replace(R1,"")}function Mv(e,i){return i=xv(i),xv(e)===i}function te(e,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&un(e,""+l);break;case"className":yn(e,"class",l);break;case"tabIndex":yn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,l);break;case"style":dl(e,l,d);break;case"data":if(i!=="object"){yn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Va(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&te(e,i,"name",f.name,f,null),te(e,i,"formEncType",f.formEncType,f,null),te(e,i,"formMethod",f.formMethod,f,null),te(e,i,"formTarget",f.formTarget,f,null)):(te(e,i,"encType",f.encType,f,null),te(e,i,"method",f.method,f,null),te(e,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Va(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Va(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),Ca(e,"popover",l);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ca(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mc.get(a)||a,Ca(e,a,l))}}function Cm(e,i,a,l,f,d){switch(a){case"style":dl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=e[Be]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ca(e,a,l)}}}function Xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:te(e,i,d,_,a,null)}}f&&te(e,i,"srcSet",a.srcSet,a,null),l&&te(e,i,"src",a.src,a,null);return;case"input":Pt("invalid",e);var E=d=_=f=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":f=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":B=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:te(e,i,l,G,a,null)}}hc(e,d,E,C,B,_,f,!1);return;case"select":Pt("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:te(e,i,f,E,a,null)}i=d,a=_,e.multiple=!!l,i!=null?vr(e,!!l,i,!1):a!=null&&vr(e,!!l,a,!0);return;case"textarea":Pt("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":f=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:te(e,i,_,E,a,null)}Tr(e,l,f,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,i,C,l,a,null)}return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(l=0;l<Ql.length;l++)Pt(Ql[l],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:te(e,i,B,l,a,null)}return;default:if(Na(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Cm(e,i,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&te(e,i,E,l,a,null))}function C1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,E=null,C=null,B=null,G=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(H)||te(e,i,H,null,l,Y)}}for(var q in l){var H=l[q];if(Y=a[q],l.hasOwnProperty(q)&&(H!=null||Y!=null))switch(q){case"type":d=H;break;case"name":f=H;break;case"checked":B=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Y&&te(e,i,q,H,l,Y)}}Da(e,_,E,C,B,G,d,f);return;case"select":H=_=E=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||te(e,i,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":q=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==C&&te(e,i,f,d,l,C)}i=E,a=_,l=H,q!=null?vr(e,!!a,q,!1):!!l!=!!a&&(i!=null?vr(e,!!a,i,!0):vr(e,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,i,E,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&te(e,i,_,f,l,d)}fc(e,q,H);return;case"option":for(var ct in a)if(q=a[ct],a.hasOwnProperty(ct)&&q!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:te(e,i,ct,null,l,q)}for(C in l)if(q=l[C],H=a[C],l.hasOwnProperty(C)&&q!==H&&(q!=null||H!=null))switch(C){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:te(e,i,C,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)q=a[Tt],a.hasOwnProperty(Tt)&&q!=null&&!l.hasOwnProperty(Tt)&&te(e,i,Tt,null,l,q);for(B in l)if(q=l[B],H=a[B],l.hasOwnProperty(B)&&q!==H&&(q!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:te(e,i,B,q,l,H)}return;default:if(Na(i)){for(var ee in a)q=a[ee],a.hasOwnProperty(ee)&&q!==void 0&&!l.hasOwnProperty(ee)&&Cm(e,i,ee,void 0,l,q);for(G in l)q=l[G],H=a[G],!l.hasOwnProperty(G)||q===H||q===void 0&&H===void 0||Cm(e,i,G,q,l,H);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&te(e,i,P,null,l,q);for(Y in l)q=l[Y],H=a[Y],!l.hasOwnProperty(Y)||q===H||q==null&&H==null||te(e,i,Y,q,l,H)}function Pv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,E=f.duration;if(d&&E&&Pv(_)){for(_=0,E=f.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>E)break;var G=C.transferSize,Y=C.initiatorType;G&&Pv(Y)&&(C=C.responseEnd,_+=G*(C<E?1:(E-B)/(C-B)))}if(--l,i+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dm=null,Nm=null;function gh(e){return e.nodeType===9?e:e.ownerDocument}function kv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Vm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Om=null;function N1(){var e=window.event;return e&&e.type==="popstate"?e===Om?!1:(Om=e,!0):(Om=null,!1)}var Lv=typeof setTimeout=="function"?setTimeout:void 0,V1=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,O1=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(e){return zv.resolve(null).then(e).catch(x1)}:Lv;function x1(e){setTimeout(function(){throw e})}function Fr(e){return e==="head"}function Bv(e,i){var a=i,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),ho(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Xl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Xl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,E=d.nodeName;d[gi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Xl(e.ownerDocument.body);a=f}while(a);ho(i)}function jv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function xm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xm(a),Ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function M1(e,i,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[gi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function P1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function qv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=jn(e.nextSibling),e===null))return null;return e}function Mm(e){return e.data==="$?"||e.data==="$~"}function Pm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function k1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var km=null;function Fv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return jn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Hv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Gv(e,i,a){switch(i=gh(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Xl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ra(e)}var qn=new Map,Kv=new Set;function ph(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ir=J.d;J.d={f:U1,r:L1,D:z1,C:B1,L:j1,m:q1,X:H1,S:F1,M:G1};function U1(){var e=ir.f(),i=oh();return e||i}function L1(e){var i=Vn(e);i!==null&&i.tag===5&&i.type==="form"?u_(i):ir.r(e)}var lo=typeof document>"u"?null:document;function Qv(e,i,a){var l=lo;if(l&&typeof i=="string"&&i){var f=ln(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Kv.has(f)||(Kv.add(f),e={rel:e,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Xe(i,"link",e),Ie(i),l.head.appendChild(i)))}}function z1(e){ir.D(e),Qv("dns-prefetch",e,null)}function B1(e,i){ir.C(e,i),Qv("preconnect",e,i)}function j1(e,i,a){ir.L(e,i,a);var l=lo;if(l&&e&&i){var f='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ln(a.imageSizes)+'"]')):f+='[href="'+ln(e)+'"]';var d=f;switch(i){case"style":d=uo(e);break;case"script":d=co(e)}qn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),qn.set(d,e),l.querySelector(f)!==null||i==="style"&&l.querySelector(Jl(d))||i==="script"&&l.querySelector($l(d))||(i=l.createElement("link"),Xe(i,"link",e),Ie(i),l.head.appendChild(i)))}}function q1(e,i){ir.m(e,i);var a=lo;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(e)}if(!qn.has(d)&&(e=S({rel:"modulepreload",href:e},i),qn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(d)))return}l=a.createElement("link"),Xe(l,"link",e),Ie(l),a.head.appendChild(l)}}}function F1(e,i,a){ir.S(e,i,a);var l=lo;if(l&&e){var f=yi(l).hoistableStyles,d=uo(e);i=i||"default";var _=f.get(d);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Jl(d)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=qn.get(d))&&Um(e,a);var C=_=l.createElement("link");Ie(C),Xe(C,"link",e),C._p=new Promise(function(B,G){C.onload=B,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:E},f.set(d,_)}}}function H1(e,i){ir.X(e,i);var a=lo;if(a&&e){var l=yi(a).hoistableScripts,f=co(e),d=l.get(f);d||(d=a.querySelector($l(f)),d||(e=S({src:e,async:!0},i),(i=qn.get(f))&&Lm(e,i),d=a.createElement("script"),Ie(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function G1(e,i){ir.M(e,i);var a=lo;if(a&&e){var l=yi(a).hoistableScripts,f=co(e),d=l.get(f);d||(d=a.querySelector($l(f)),d||(e=S({src:e,async:!0,type:"module"},i),(i=qn.get(f))&&Lm(e,i),d=a.createElement("script"),Ie(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Yv(e,i,a,l){var f=(f=It.current)?ph(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=uo(a.href),a=yi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=uo(a.href);var d=yi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Jl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(e,a),d||K1(f,e,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=co(a),a=yi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function uo(e){return'href="'+ln(e)+'"'}function Jl(e){return'link[rel="stylesheet"]['+e+"]"}function Xv(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function K1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xe(i,"link",a),Ie(i),e.head.appendChild(i))}function co(e){return'[src="'+ln(e)+'"]'}function $l(e){return"script[async]"+e}function Jv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,Ie(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ie(l),Xe(l,"style",f),yh(l,a.precedence,e),i.instance=l;case"stylesheet":f=uo(a.href);var d=e.querySelector(Jl(f));if(d)return i.state.loading|=4,i.instance=d,Ie(d),d;l=Xv(a),(f=qn.get(f))&&Um(l,f),d=(e.ownerDocument||e).createElement("link"),Ie(d);var _=d;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Xe(d,"link",l),i.state.loading|=4,yh(d,a.precedence,e),i.instance=d;case"script":return d=co(a.src),(f=e.querySelector($l(d)))?(i.instance=f,Ie(f),f):(l=a,(f=qn.get(d))&&(l=S({},a),Lm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ie(f),Xe(f,"link",l),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,yh(l,a.precedence,e));return i.instance}function yh(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===i)d=E;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Um(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Lm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var _h=null;function $v(e,i,a){if(_h===null){var l=new Map,f=_h=new Map;f.set(a,l)}else f=_h,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[gi]||d[be]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var E=l.get(_);E?E.push(d):l.set(_,[d])}}return l}function Zv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Q1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Y1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=uo(l.href),d=i.querySelector(Jl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=vh.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ie(d);return}d=i.ownerDocument||i,l=Xv(l),(f=qn.get(f))&&Um(l,f),d=d.createElement("link"),Ie(d);var _=d;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Xe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vh.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var zm=0;function X1(e,i){return e.stylesheets&&e.count===0&&Eh(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Eh(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&zm===0&&(zm=62500*D1());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Eh(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>zm?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Th=null;function Eh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Th=new Map,i.forEach(J1,e),Th=null,vh.call(e))}function J1(e,i){if(!(i.state.loading&4)){var a=Th.get(e);if(a)var l=a.get(null);else{a=new Map,Th.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=vh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var Zl={$$typeof:at,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function $1(e,i,a,l,f,d,_,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function tT(e,i,a,l,f,d,_,E,C,B,G,Y){return e=new $1(e,i,a,_,C,B,G,Y,E),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),e.current=d,d.stateNode=e,i=_d(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Sd(d),e}function eT(e){return e?(e=ja,e):ja}function nT(e,i,a,l,f,d){f=eT(f),l.context===null?l.context=f:l.pendingContext=f,l=Or(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xr(e,l,i),a!==null&&(mn(a,e,i),Nl(a,e,i))}function iT(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Bm(e,i){iT(e,i),(e=e.alternate)&&iT(e,i)}function rT(e){if(e.tag===13||e.tag===31){var i=xs(e,67108864);i!==null&&mn(i,e,67108864),Bm(e,67108864)}}function sT(e){if(e.tag===13||e.tag===31){var i=bn();i=Es(i);var a=xs(e,i);a!==null&&mn(a,e,i),Bm(e,i)}}var Sh=!0;function Z1(e,i,a,l){var f=M.T;M.T=null;var d=J.p;try{J.p=2,jm(e,i,a,l)}finally{J.p=d,M.T=f}}function W1(e,i,a,l){var f=M.T;M.T=null;var d=J.p;try{J.p=8,jm(e,i,a,l)}finally{J.p=d,M.T=f}}function jm(e,i,a,l){if(Sh){var f=qm(l);if(f===null)Rm(e,i,l,Ah,a),oT(e,l);else if(eI(f,e,i,a,l))l.stopPropagation();else if(oT(e,l),i&4&&-1<tI.indexOf(e)){for(;f!==null;){var d=Vn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hi(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-_e(_);E.entanglements[1]|=C,_&=~C}Ni(d),(Kt&6)===0&&(sh=nn()+500,Kl(0))}}break;case 31:case 13:E=xs(d,2),E!==null&&mn(E,d,2),oh(),Bm(d,2)}if(d=qm(l),d===null&&Rm(e,i,l,Ah,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Rm(e,i,l,null,a)}}function qm(e){return e=On(e),Fm(e)}var Ah=null;function Fm(e){if(Ah=null,e=pi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=c(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ah=e,null}function aT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ys()){case el:return 2;case nl:return 8;case yr:case Xf:return 32;case ec:return 268435456;default:return 32}default:return 32}}var Hm=!1,Hr=null,Gr=null,Kr=null,Wl=new Map,tu=new Map,Qr=[],tI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oT(e,i){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(i.pointerId)}}function eu(e,i,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Vn(i),i!==null&&rT(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function eI(e,i,a,l,f){switch(i){case"focusin":return Hr=eu(Hr,e,i,a,l,f),!0;case"dragenter":return Gr=eu(Gr,e,i,a,l,f),!0;case"mouseover":return Kr=eu(Kr,e,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Wl.set(d,eu(Wl.get(d)||null,e,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,tu.set(d,eu(tu.get(d)||null,e,i,a,l,f)),!0}return!1}function lT(e){var i=pi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){e.blockedOn=i,Xn(e.priority,function(){sT(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Xn(e.priority,function(){sT(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=qm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ml=l,a.target.dispatchEvent(l),ml=null}else return i=Vn(a),i!==null&&rT(i),e.blockedOn=a,!1;i.shift()}return!0}function uT(e,i,a){bh(e)&&a.delete(i)}function nI(){Hm=!1,Hr!==null&&bh(Hr)&&(Hr=null),Gr!==null&&bh(Gr)&&(Gr=null),Kr!==null&&bh(Kr)&&(Kr=null),Wl.forEach(uT),tu.forEach(uT)}function Ih(e,i){e.blockedOn===i&&(e.blockedOn=null,Hm||(Hm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nI)))}var wh=null;function cT(e){wh!==e&&(wh=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wh===e&&(wh=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],f=e[i+2];if(typeof l!="function"){if(Fm(l||a)===null)continue;break}var d=Vn(a);d!==null&&(e.splice(i,3),i-=3,qd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ho(e){function i(C){return Ih(C,e)}Hr!==null&&Ih(Hr,e),Gr!==null&&Ih(Gr,e),Kr!==null&&Ih(Kr,e),Wl.forEach(i),tu.forEach(i);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)lT(a),a.blockedOn===null&&Qr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Be]||null;if(typeof d=="function")_||cT(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Be]||null)E=_.formAction;else if(Fm(f)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),cT(a)}}}function hT(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Gm(e){this._internalRoot=e}Rh.prototype.render=Gm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=bn();nT(a,l,e,i,null,null)},Rh.prototype.unmount=Gm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;nT(e.current,2,null,e,null,null),oh(),i[mi]=null}};function Rh(e){this._internalRoot=e}Rh.prototype.unstable_scheduleHydration=function(e){if(e){var i=oc();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Qr.length&&i!==0&&i<Qr[a].priority;a++);Qr.splice(a,0,e),a===0&&lT(e)}};var fT=t.version;if(fT!=="19.2.1")throw Error(r(527,fT,"19.2.1"));J.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var iI={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{Qn=Ch.inject(iI),He=Ch}catch{}}return iu.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",f=v_,d=T_,_=E_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=tT(e,1,!1,null,null,a,l,null,f,d,_,hT),e[mi]=i.current,wm(e),new Gm(i)},iu.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,f="",d=v_,_=T_,E=E_,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=tT(e,1,!0,i,a??null,l,f,C,d,_,E,hT),i.context=eT(null),a=i.current,l=bn(),l=Es(l),f=Or(l),f.callback=null,xr(a,f,l),a=l,i.current.lanes=a,vs(i,a),Ni(i),e[mi]=i.current,wm(e),new Rh(i)},iu.version="19.2.1",iu}var ST;function dI(){if(ST)return Ym.exports;ST=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ym.exports=fI(),Ym.exports}var mI=dI();const gI=()=>{};var AT={};const _0=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},pI=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],c=s[n++],m=s[n++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],c=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],c=o+1<s.length,m=c?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,T=u>>2,S=(u&3)<<4|m>>4;let I=(m&15)<<2|y>>6,j=y&63;g||(j=64,c||(I=64)),r.push(n[T],n[S],n[I],n[j])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(_0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):pI(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new yI;const I=u<<2|m>>4;if(r.push(I),y!==64){const j=m<<4&240|y>>2;if(r.push(j),S!==64){const $=y<<6&192|S;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class yI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _I=function(s){const t=_0(s);return v0.encodeByteArray(t,!0)},Wh=function(s){return _I(s).replace(/\./g,"")},T0=function(s){try{return v0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function E0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vI=()=>E0().__FIREBASE_DEFAULTS__,TI=()=>{if(typeof process>"u"||typeof AT>"u")return;const s=AT.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},EI=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&T0(s[1]);return t&&JSON.parse(t)},wf=()=>{try{return gI()||vI()||TI()||EI()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},S0=s=>wf()?.emulatorHosts?.[s],SI=s=>{const t=S0(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},A0=()=>wf()?.config,b0=s=>wf()?.[`_${s}`];class AI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function Ko(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I0(s){return(await fetch(s,{credentials:"include"})).ok}function bI(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wh(JSON.stringify(n)),Wh(JSON.stringify(c)),""].join(".")}const gu={};function II(){const s={prod:[],emulator:[]};for(const t of Object.keys(gu))gu[t]?s.emulator.push(t):s.prod.push(t);return s}function wI(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let bT=!1;function w0(s,t){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||gu[s]===t||gu[s]||bT)return;gu[s]=t;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",u=II().prod.length>0;function c(){const I=document.getElementById(r);I&&I.remove()}function m(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,j){I.setAttribute("width","24"),I.setAttribute("id",j),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{bT=!0,c()},I}function T(I,j){I.setAttribute("id",j),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=wI(r),j=n("text"),$=document.getElementById(j)||document.createElement("span"),tt=n("learnmore"),W=document.getElementById(tt)||document.createElement("a"),dt=n("preprendIcon"),gt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const at=I.element;m(at),T(W,tt);const bt=y();g(gt,dt),at.append(gt,$,W,bt),document.body.appendChild(at)}u?($.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function R0(){const s=wf()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DI(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function NI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VI(){const s=Le();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function C0(){return!R0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D0(){return!R0()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function N0(){try{return typeof indexedDB=="object"}catch{return!1}}function OI(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const xI="FirebaseError";class mr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=xI,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?MI(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new mr(o,m,r)}}function MI(s,t){return s.replace(PI,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const PI=/\{\$([^}]+)}/g;function kI(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function la(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],c=t[o];if(IT(u)&&IT(c)){if(!la(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function IT(s){return s!==null&&typeof s=="object"}function ju(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function UI(s,t){const n=new LI(s,t);return n.subscribe.bind(n)}class LI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zI(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Zm),o.error===void 0&&(o.error=Zm),o.complete===void 0&&(o.complete=Zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zI(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Zm(){}function Cn(s){return s&&s._delegate?s._delegate:s}class ua{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Qs="[DEFAULT]";class BI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new AI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qI(t))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qs){return this.instances.has(t)}getOptions(t=Qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Qs){return this.component?this.component.multipleInstances?t:Qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jI(s){return s===Qs?void 0:s}function qI(s){return s.instantiationMode==="EAGER"}class FI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new BI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const HI={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},GI=Lt.INFO,KI={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},QI=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=KI[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qg{constructor(t){this.name=t,this._logLevel=GI,this._logHandler=QI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const YI=(s,t)=>t.some(n=>s instanceof n);let wT,RT;function XI(){return wT||(wT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JI(){return RT||(RT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,dg=new WeakMap,O0=new WeakMap,Wm=new WeakMap,Yg=new WeakMap;function $I(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",c)},u=()=>{n(rs(s.result)),o()},c=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&V0.set(n,s)}).catch(()=>{}),Yg.set(t,s),t}function ZI(s){if(dg.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",c),s.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",c),s.addEventListener("abort",c)});dg.set(s,t)}let mg={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return dg.get(s);if(t==="objectStoreNames")return s.objectStoreNames||O0.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function WI(s){mg=s(mg)}function tw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(tg(this),t,...n);return O0.set(r,t.sort?t.sort():[t]),rs(r)}:JI().includes(s)?function(...t){return s.apply(tg(this),t),rs(V0.get(this))}:function(...t){return rs(s.apply(tg(this),t))}}function ew(s){return typeof s=="function"?tw(s):(s instanceof IDBTransaction&&ZI(s),YI(s,XI())?new Proxy(s,mg):s)}function rs(s){if(s instanceof IDBRequest)return $I(s);if(Wm.has(s))return Wm.get(s);const t=ew(s);return t!==s&&(Wm.set(s,t),Yg.set(t,s)),t}const tg=s=>Yg.get(s);function nw(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(s,t),m=rs(c);return r&&c.addEventListener("upgradeneeded",g=>{r(rs(c.result),g.oldVersion,g.newVersion,rs(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const iw=["get","getKey","getAll","getAllKeys","count"],rw=["put","add","delete","clear"],eg=new Map;function CT(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(eg.get(t))return eg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=rw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||iw.includes(n)))return;const u=async function(c,...m){const g=this.transaction(c,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return eg.set(t,u),u}WI(s=>({...s,get:(t,n,r)=>CT(t,n)||s.get(t,n,r),has:(t,n)=>!!CT(t,n)||s.has(t,n)}));class sw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aw(s){return s.getComponent()?.type==="VERSION"}const gg="@firebase/app",DT="0.14.6";const cr=new Qg("@firebase/app"),ow="@firebase/app-compat",lw="@firebase/analytics-compat",uw="@firebase/analytics",cw="@firebase/app-check-compat",hw="@firebase/app-check",fw="@firebase/auth",dw="@firebase/auth-compat",mw="@firebase/database",gw="@firebase/data-connect",pw="@firebase/database-compat",yw="@firebase/functions",_w="@firebase/functions-compat",vw="@firebase/installations",Tw="@firebase/installations-compat",Ew="@firebase/messaging",Sw="@firebase/messaging-compat",Aw="@firebase/performance",bw="@firebase/performance-compat",Iw="@firebase/remote-config",ww="@firebase/remote-config-compat",Rw="@firebase/storage",Cw="@firebase/storage-compat",Dw="@firebase/firestore",Nw="@firebase/ai",Vw="@firebase/firestore-compat",Ow="firebase",xw="12.6.0";const pg="[DEFAULT]",Mw={[gg]:"fire-core",[ow]:"fire-core-compat",[uw]:"fire-analytics",[lw]:"fire-analytics-compat",[hw]:"fire-app-check",[cw]:"fire-app-check-compat",[fw]:"fire-auth",[dw]:"fire-auth-compat",[mw]:"fire-rtdb",[gw]:"fire-data-connect",[pw]:"fire-rtdb-compat",[yw]:"fire-fn",[_w]:"fire-fn-compat",[vw]:"fire-iid",[Tw]:"fire-iid-compat",[Ew]:"fire-fcm",[Sw]:"fire-fcm-compat",[Aw]:"fire-perf",[bw]:"fire-perf-compat",[Iw]:"fire-rc",[ww]:"fire-rc-compat",[Rw]:"fire-gcs",[Cw]:"fire-gcs-compat",[Dw]:"fire-fst",[Vw]:"fire-fst-compat",[Nw]:"fire-vertex","fire-js":"fire-js",[Ow]:"fire-js-all"};const tf=new Map,Pw=new Map,yg=new Map;function NT(s,t){try{s.container.addComponent(t)}catch(n){cr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function No(s){const t=s.name;if(yg.has(t))return cr.debug(`There were multiple attempts to register component ${t}.`),!1;yg.set(t,s);for(const n of tf.values())NT(n,s);for(const n of Pw.values())NT(n,s);return!0}function Xg(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function ai(s){return s==null?!1:s.settings!==void 0}const kw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Bu("app","Firebase",kw);class Uw{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}const Qo=xw;function x0(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:pg,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(n||(n=A0()),!n)throw ss.create("no-options");const u=tf.get(o);if(u){if(la(n,u.options)&&la(r,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const c=new FI(o);for(const g of yg.values())c.addComponent(g);const m=new Uw(n,r,c);return tf.set(o,m),m}function M0(s=pg){const t=tf.get(s);if(!t&&s===pg&&A0())return x0();if(!t)throw ss.create("no-app",{appName:s});return t}function as(s,t,n){let r=Mw[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cr.warn(c.join(" "));return}No(new ua(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Lw="firebase-heartbeat-database",zw=1,Iu="firebase-heartbeat-store";let ng=null;function P0(){return ng||(ng=nw(Lw,zw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Iu)}catch(n){console.warn(n)}}}}).catch(s=>{throw ss.create("idb-open",{originalErrorMessage:s.message})})),ng}async function Bw(s){try{const n=(await P0()).transaction(Iu),r=await n.objectStore(Iu).get(k0(s));return await n.done,r}catch(t){if(t instanceof mr)cr.warn(t.message);else{const n=ss.create("idb-get",{originalErrorMessage:t?.message});cr.warn(n.message)}}}async function VT(s,t){try{const r=(await P0()).transaction(Iu,"readwrite");await r.objectStore(Iu).put(t,k0(s)),await r.done}catch(n){if(n instanceof mr)cr.warn(n.message);else{const r=ss.create("idb-set",{originalErrorMessage:n?.message});cr.warn(r.message)}}}function k0(s){return`${s.name}!${s.options.appId}`}const jw=1024,qw=30;class Fw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=OT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>qw){const o=Kw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){cr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=OT(),{heartbeatsToSend:n,unsentEntries:r}=Hw(this._heartbeatsCache.heartbeats),o=Wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return cr.warn(t),""}}}function OT(){return new Date().toISOString().substring(0,10)}function Hw(s,t=jw){const n=[];let r=s.slice();for(const o of s){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),xT(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xT(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Gw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N0()?OI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return VT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return VT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function xT(s){return Wh(JSON.stringify({version:2,heartbeats:s})).length}function Kw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function Qw(s){No(new ua("platform-logger",t=>new sw(t),"PRIVATE")),No(new ua("heartbeat",t=>new Fw(t),"PRIVATE")),as(gg,DT,s),as(gg,DT,"esm2020"),as("fire-js","")}Qw("");function U0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yw=U0,L0=new Bu("auth","Firebase",U0());const ef=new Qg("@firebase/auth");function Xw(s,...t){ef.logLevel<=Lt.WARN&&ef.warn(`Auth (${Qo}): ${s}`,...t)}function Uh(s,...t){ef.logLevel<=Lt.ERROR&&ef.error(`Auth (${Qo}): ${s}`,...t)}function Ui(s,...t){throw $g(s,...t)}function li(s,...t){return $g(s,...t)}function Jg(s,t,n){const r={...Yw(),[t]:n};return new Bu("auth","Firebase",r).create(t,{appName:s.name})}function ia(s){return Jg(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jw(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ui(s,"argument-error"),Jg(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $g(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return L0.create(s,...t)}function At(s,t,...n){if(!s)throw $g(t,...n)}function sr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Uh(t),new Error(t)}function hr(s,t){s||sr(t)}function _g(){return typeof self<"u"&&self.location?.href||""}function $w(){return MT()==="http:"||MT()==="https:"}function MT(){return typeof self<"u"&&self.location?.protocol||null}function Zw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($w()||DI()||"connection"in navigator)?navigator.onLine:!0}function Ww(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class qu{constructor(t,n){this.shortDelay=t,this.longDelay=n,hr(n>t,"Short delay should be less than long delay!"),this.isMobile=RI()||NI()}get(){return Zw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zg(s,t){hr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class z0{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nR=new qu(3e4,6e4);function Wg(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Yo(s,t,n,r,o={}){return B0(s,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=ju({key:s.config.apiKey,...c}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:g,...u};return CI()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Ko(s.emulatorConfig.host)&&(y.credentials="include"),z0.fetch()(await j0(s,s.config.apiHost,n,m),y)})}async function B0(s,t,n){s._canInitEmulator=!1;const r={...tR,...t};try{const o=new rR(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Dh(s,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(s,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw Dh(s,"email-already-in-use",c);if(g==="USER_DISABLED")throw Dh(s,"user-disabled",c);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Jg(s,T,y);Ui(s,T)}}catch(o){if(o instanceof mr)throw o;Ui(s,"network-request-failed",{message:String(o)})}}async function iR(s,t,n,r,o={}){const u=await Yo(s,t,n,r,o);return"mfaPendingCredential"in u&&Ui(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function j0(s,t,n,r){const o=`${t}${n}?${r}`,u=s,c=u.config.emulator?Zg(s.config,o):`${s.config.apiScheme}://${o}`;return eR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class rR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),nR.get())})}}function Dh(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=li(s,t,r);return o.customData._tokenResponse=n,o}async function sR(s,t){return Yo(s,"POST","/v1/accounts:delete",t)}async function nf(s,t){return Yo(s,"POST","/v1/accounts:lookup",t)}function pu(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aR(s,t=!1){const n=Cn(s),r=await n.getIdToken(t),o=tp(r);At(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:pu(ig(o.auth_time)),issuedAtTime:pu(ig(o.iat)),expirationTime:pu(ig(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ig(s){return Number(s)*1e3}function tp(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=T0(n);return o?JSON.parse(o):(Uh("Failed to decode base64 JWT payload"),null)}catch(o){return Uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function PT(s){const t=tp(s);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wu(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof mr&&oR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function oR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class lR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rf(s){const t=s.auth,n=await s.getIdToken(),r=await wu(s,nf(t,{idToken:n}));At(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?q0(o.providerUserInfo):[],c=cR(s.providerData,u),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!c?.length,y=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function uR(s){const t=Cn(s);await rf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cR(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function q0(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function hR(s,t){const n=await B0(s,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,c=await j0(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&Ko(s.emulatorConfig.host)&&(g.credentials="include"),z0.fetch()(c,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fR(s,t){return Yo(s,"POST","/v2/accounts:revokeToken",Wg(s,t))}class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):PT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=PT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await hR(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new Io;return r&&(At(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(At(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(At(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Xr(s,t){At(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class oi{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new lR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await wu(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return aR(this,t)}reload(){return uR(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new oi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await rf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(ia(this.auth));const t=await this.getIdToken();return await wu(this,sR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:j,providerData:$,stsTokenManager:tt}=n;At(S&&tt,t,"internal-error");const W=Io.fromJSON(this.name,tt);At(typeof S=="string",t,"internal-error"),Xr(r,t.name),Xr(o,t.name),At(typeof I=="boolean",t,"internal-error"),At(typeof j=="boolean",t,"internal-error"),Xr(u,t.name),Xr(c,t.name),Xr(m,t.name),Xr(g,t.name),Xr(y,t.name),Xr(T,t.name);const dt=new oi({uid:S,auth:t,email:o,emailVerified:I,displayName:r,isAnonymous:j,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:W,createdAt:y,lastLoginAt:T});return $&&Array.isArray($)&&(dt.providerData=$.map(gt=>({...gt}))),g&&(dt._redirectEventId=g),dt}static async _fromIdTokenResponse(t,n,r=!1){const o=new Io;o.updateFromServerResponse(n);const u=new oi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await rf(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];At(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?q0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Io;m.updateFromIdToken(r);const g=new oi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const kT=new Map;function ar(s){hr(s instanceof Function,"Expected a class definition");let t=kT.get(s);return t?(hr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,kT.set(s,t),t)}class F0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}F0.type="NONE";const UT=F0;function Lh(s,t,n){return`firebase:${s}:${t}:${n}`}class wo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await nf(this.auth,{idToken:t}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new wo(ar(UT),t,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ar(UT);const c=Lh(r,t.config.apiKey,t.name);let m=null;for(const y of n)try{const T=await y._get(c);if(T){let S;if(typeof T=="string"){const I=await nf(t,{idToken:T}).catch(()=>{});if(!I)break;S=await oi._fromGetAccountInfoResponse(t,I,T)}else S=oi._fromJSON(t,T);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new wo(u,t,r):(u=g[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(c)}catch{}})),new wo(u,t,r))}}function LT(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Q0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(H0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(X0(t))return"Blackberry";if(J0(t))return"Webos";if(G0(t))return"Safari";if((t.includes("chrome/")||K0(t))&&!t.includes("edge/"))return"Chrome";if(Y0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function H0(s=Le()){return/firefox\//i.test(s)}function G0(s=Le()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function K0(s=Le()){return/crios\//i.test(s)}function Q0(s=Le()){return/iemobile/i.test(s)}function Y0(s=Le()){return/android/i.test(s)}function X0(s=Le()){return/blackberry/i.test(s)}function J0(s=Le()){return/webos/i.test(s)}function ep(s=Le()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function dR(s=Le()){return ep(s)&&!!window.navigator?.standalone}function mR(){return VI()&&document.documentMode===10}function $0(s=Le()){return ep(s)||Y0(s)||J0(s)||X0(s)||/windows phone/i.test(s)||Q0(s)}function Z0(s,t=[]){let n;switch(s){case"Browser":n=LT(Le());break;case"Worker":n=`${LT(Le())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${r}`}class gR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((c,m)=>{try{const g=t(u);c(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function pR(s,t={}){return Yo(s,"GET","/v2/passwordPolicy",Wg(s,t))}const yR=6;class _R{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class vR{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zT(this),this.idTokenSubscription=new zT(this),this.beforeStateQueue=new gR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await nf(this,{idToken:t}),r=await oi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ai(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await rf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ww()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(ia(this));const n=t?Cn(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pR(this),n=new _R(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ar(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,r,o);return()=>{c=!0,g()}}else{const g=t.addObserver(n);return()=>{c=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Xw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Rf(s){return Cn(s)}class zT{constructor(t){this.auth=t,this.observer=null,this.addObserver=UI(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TR(s){np=s}function ER(s){return np.loadJS(s)}function SR(){return np.gapiScript}function AR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function bR(s,t){const n=Xg(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(la(u,t??{}))return o;Ui(o,"already-initialized")}return n.initialize({options:t})}function IR(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ar);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function wR(s,t,n){const r=Rf(s);At(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=W0(t),{host:c,port:m}=RR(t),g=m===null?"":`:${m}`,y={url:`${u}//${c}${g}/`},T=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){At(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),At(la(y,r.config.emulator)&&la(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Ko(c)?(I0(`${u}//${c}${g}`),w0("Auth",!0)):CR()}function W0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function RR(s){const t=W0(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:BT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:BT(c)}}}function BT(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function CR(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class tS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(t){return sr("not implemented")}_linkToIdToken(t,n){return sr("not implemented")}_getReauthenticationResolver(t){return sr("not implemented")}}async function Ro(s,t){return iR(s,"POST","/v1/accounts:signInWithIdp",Wg(s,t))}const DR="http://localhost";class ca extends tS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const c=new ca(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Ro(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ro(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ro(t,n)}buildRequest(){const t={requestUri:DR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ju(n)}return t}}class ip{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fu extends ip{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Wr extends Fu{constructor(){super("facebook.com")}static credential(t){return ca._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class rr extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ca._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return rr.credential(n,r)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ts extends Fu{constructor(){super("github.com")}static credential(t){return ca._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class es extends Fu{constructor(){super("twitter.com")}static credential(t,n){return ca._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return es.credential(n,r)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";class Vo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await oi._fromIdTokenResponse(t,r,o),c=jT(r);return new Vo({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=jT(r);return new Vo({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function jT(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class sf extends mr{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,sf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new sf(t,n,r,o)}}function eS(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?sf._fromErrorAndOperation(s,u,t,r):u})}async function NR(s,t,n=!1){const r=await wu(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Vo._forOperation(s,"link",r)}async function VR(s,t,n=!1){const{auth:r}=s;if(ai(r.app))return Promise.reject(ia(r));const o="reauthenticate";try{const u=await wu(s,eS(r,o,t,s),n);At(u.idToken,r,"internal-error");const c=tp(u.idToken);At(c,r,"internal-error");const{sub:m}=c;return At(s.uid===m,r,"user-mismatch"),Vo._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ui(r,"user-mismatch"),u}}async function OR(s,t,n=!1){if(ai(s.app))return Promise.reject(ia(s));const r="signIn",o=await eS(s,r,t),u=await Vo._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function xR(s,t,n,r){return Cn(s).onIdTokenChanged(t,n,r)}function MR(s,t,n){return Cn(s).beforeAuthStateChanged(t,n)}function PR(s,t,n,r){return Cn(s).onAuthStateChanged(t,n,r)}function kR(s){return Cn(s).signOut()}const af="__sak";class nS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const UR=1e3,LR=10;class iS extends nS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,m,g)=>{this.notifyListeners(c,g)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);mR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,LR):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},UR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}iS.type="LOCAL";const zR=iS;class rS extends nS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}rS.type="SESSION";const sS=rS;function BR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Cf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Cf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async y=>y(n.origin,u)),g=await BR(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cf.receivers=[];function rp(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class jR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,g)=>{const y=rp("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(S){const I=S;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Mi(){return window}function qR(s){Mi().location.href=s}function aS(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function FR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HR(){return navigator?.serviceWorker?.controller||null}function GR(){return aS()?self:null}const oS="firebaseLocalStorageDb",KR=1,of="firebaseLocalStorage",lS="fbase_key";class Hu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Df(s,t){return s.transaction([of],t?"readwrite":"readonly").objectStore(of)}function QR(){const s=indexedDB.deleteDatabase(oS);return new Hu(s).toPromise()}function Tg(){const s=indexedDB.open(oS,KR);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(of,{keyPath:lS})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(of)?t(r):(r.close(),await QR(),t(await Tg()))})})}async function qT(s,t,n){const r=Df(s,!0).put({[lS]:t,value:n});return new Hu(r).toPromise()}async function YR(s,t){const n=Df(s,!1).get(t),r=await new Hu(n).toPromise();return r===void 0?null:r.value}function FT(s,t){const n=Df(s,!0).delete(t);return new Hu(n).toPromise()}const XR=800,JR=3;class uS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>JR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cf._getInstance(GR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FR(),!this.activeServiceWorker)return;this.sender=new jR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Tg();return await qT(t,af,"1"),await FT(t,af),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qT(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>YR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>FT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Df(o,!1).getAll();return new Hu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uS.type="LOCAL";const $R=uS;new qu(3e4,6e4);function cS(s,t){return t?ar(t):(At(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class sp extends tS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ZR(s){return OR(s.auth,new sp(s),s.bypassAuthState)}function WR(s){const{auth:t,user:n}=s;return At(n,t,"internal-error"),VR(n,new sp(s),s.bypassAuthState)}async function tC(s){const{auth:t,user:n}=s;return At(n,t,"internal-error"),NR(n,new sp(s),s.bypassAuthState)}class hS{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ZR;case"linkViaPopup":case"linkViaRedirect":return tC;case"reauthViaPopup":case"reauthViaRedirect":return WR;default:Ui(this.auth,"internal-error")}}resolve(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eC=new qu(2e3,1e4);async function nC(s,t,n){if(ai(s.app))return Promise.reject(li(s,"operation-not-supported-in-this-environment"));const r=Rf(s);Jw(s,t,ip);const o=cS(r,n);return new ta(r,"signInViaPopup",t,o).executeNotNull()}class ta extends hS{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const t=rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,eC.get())};t()}}ta.currentPopupAction=null;const iC="pendingRedirect",zh=new Map;class rC extends hS{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=zh.get(this.auth._key());if(!t){try{const r=await sC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}zh.set(this.auth._key(),t)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sC(s,t){const n=lC(t),r=oC(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function aC(s,t){zh.set(s._key(),t)}function oC(s){return ar(s._redirectPersistence)}function lC(s){return Lh(iC,s.config.apiKey,s.name)}async function uC(s,t,n=!1){if(ai(s.app))return Promise.reject(ia(s));const r=Rf(s),o=cS(r,t),c=await new rC(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const cC=600*1e3;class hC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!fS(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(li(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cC&&this.cachedEventUids.clear(),this.cachedEventUids.has(HT(t))}saveEventToCache(t){this.cachedEventUids.add(HT(t)),this.lastProcessedEventTime=Date.now()}}function HT(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function fS({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function fC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fS(s);default:return!1}}async function dC(s,t={}){return Yo(s,"GET","/v1/projects",t)}const mC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^https?/;async function pC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await dC(s);for(const n of t)try{if(yC(n))return}catch{}Ui(s,"unauthorized-domain")}function yC(s){const t=_g(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const c=new URL(s);return c.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!gC.test(n))return!1;if(mC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const _C=new qu(3e4,6e4);function GT(){const s=Mi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function vC(s){return new Promise((t,n)=>{function r(){GT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{GT(),n(li(s,"network-request-failed"))},timeout:_C.get()})}if(Mi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Mi().gapi?.load)r();else{const o=AR("iframefcb");return Mi()[o]=()=>{gapi.load?r():n(li(s,"network-request-failed"))},ER(`${SR()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Bh=null,t})}let Bh=null;function TC(s){return Bh=Bh||vC(s),Bh}const EC=new qu(5e3,15e3),SC="__/auth/iframe",AC="emulator/auth/iframe",bC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wC(s){const t=s.config;At(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Zg(t,AC):`https://${s.config.authDomain}/${SC}`,r={apiKey:t.apiKey,appName:s.name,v:Qo},o=IC.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${ju(r).slice(1)}`}async function RC(s){const t=await TC(s),n=Mi().gapi;return At(n,s,"internal-error"),t.open({where:document.body,url:wC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bC,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=li(s,"network-request-failed"),m=Mi().setTimeout(()=>{u(c)},EC.get());function g(){Mi().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(c)})}))}const CC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DC=500,NC=600,VC="_blank",OC="http://localhost";class KT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xC(s,t,n,r=DC,o=NC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...CC,width:r.toString(),height:o.toString(),top:u,left:c},y=Le().toLowerCase();n&&(m=K0(y)?VC:n),H0(y)&&(t=t||OC,g.scrollbars="yes");const T=Object.entries(g).reduce((I,[j,$])=>`${I}${j}=${$},`,"");if(dR(y)&&m!=="_self")return MC(t||"",m),new KT(null);const S=window.open(t||"",m,T);At(S,s,"popup-blocked");try{S.focus()}catch{}return new KT(S)}function MC(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const PC="__/auth/handler",kC="emulator/auth/handler",UC=encodeURIComponent("fac");async function QT(s,t,n,r,o,u){At(s.config.authDomain,s,"auth-domain-config-required"),At(s.config.apiKey,s,"invalid-api-key");const c={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Qo,eventId:o};if(t instanceof ip){t.setDefaultLanguage(s.languageCode),c.providerId=t.providerId||"",kI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))c[T]=S}if(t instanceof Fu){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(c.scopes=T.join(","))}s.tenantId&&(c.tid=s.tenantId);const m=c;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await s._getAppCheckToken(),y=g?`#${UC}=${encodeURIComponent(g)}`:"";return`${LC(s)}?${ju(m).slice(1)}${y}`}function LC({config:s}){return s.emulator?Zg(s,kC):`https://${s.authDomain}/${PC}`}const rg="webStorageSupport";class zC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sS,this._completeRedirectFn=uC,this._overrideRedirectResult=aC}async _openPopup(t,n,r,o){hr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await QT(t,n,r,_g(),o);return xC(t,u,rp())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await QT(t,n,r,_g(),o);return qR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await RC(t),r=new hC(t);return n.register("authEvent",o=>(At(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(rg,{type:rg},o=>{const u=o?.[0]?.[rg];u!==void 0&&n(!!u),Ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return $0()||G0()||ep()}}const BC=zC;var YT="@firebase/auth",XT="1.11.1";class jC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(s){No(new ua("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;At(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:c,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z0(s)},y=new vR(r,o,u,g);return IR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),No(new ua("auth-internal",t=>{const n=Rf(t.getProvider("auth").getImmediate());return(r=>new jC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(YT,XT,qC(s)),as(YT,XT,"esm2020")}const HC=300,GC=b0("authIdTokenMaxAge")||HC;let JT=null;const KC=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GC)return;const o=n?.token;JT!==o&&(JT=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QC(s=M0()){const t=Xg(s,"auth");if(t.isInitialized())return t.getImmediate();const n=bR(s,{popupRedirectResolver:BC,persistence:[$R,zR,sS]}),r=b0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=KC(u.toString());MR(n,c,()=>c(n.currentUser)),xR(n,m=>c(m))}}const o=S0("auth");return o&&wR(n,`http://${o}`),n}function YC(){return document.getElementsByTagName("head")?.[0]??document}TR({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=li("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",YC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");var $T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,dS;(function(){var s;function t(R,b){function D(){}D.prototype=b.prototype,R.F=b.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(x,O,k){for(var w=Array(arguments.length-2),se=2;se<arguments.length;se++)w[se-2]=arguments[se];return b.prototype[O].apply(x,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,b,D){D||(D=0);const x=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)x[O]=b.charCodeAt(D++)|b.charCodeAt(D++)<<8|b.charCodeAt(D++)<<16|b.charCodeAt(D++)<<24;else for(O=0;O<16;++O)x[O]=b[D++]|b[D++]<<8|b[D++]<<16|b[D++]<<24;b=R.g[0],D=R.g[1],O=R.g[2];let k=R.g[3],w;w=b+(k^D&(O^k))+x[0]+3614090360&4294967295,b=D+(w<<7&4294967295|w>>>25),w=k+(O^b&(D^O))+x[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=O+(D^k&(b^D))+x[2]+606105819&4294967295,O=k+(w<<17&4294967295|w>>>15),w=D+(b^O&(k^b))+x[3]+3250441966&4294967295,D=O+(w<<22&4294967295|w>>>10),w=b+(k^D&(O^k))+x[4]+4118548399&4294967295,b=D+(w<<7&4294967295|w>>>25),w=k+(O^b&(D^O))+x[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=O+(D^k&(b^D))+x[6]+2821735955&4294967295,O=k+(w<<17&4294967295|w>>>15),w=D+(b^O&(k^b))+x[7]+4249261313&4294967295,D=O+(w<<22&4294967295|w>>>10),w=b+(k^D&(O^k))+x[8]+1770035416&4294967295,b=D+(w<<7&4294967295|w>>>25),w=k+(O^b&(D^O))+x[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=O+(D^k&(b^D))+x[10]+4294925233&4294967295,O=k+(w<<17&4294967295|w>>>15),w=D+(b^O&(k^b))+x[11]+2304563134&4294967295,D=O+(w<<22&4294967295|w>>>10),w=b+(k^D&(O^k))+x[12]+1804603682&4294967295,b=D+(w<<7&4294967295|w>>>25),w=k+(O^b&(D^O))+x[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=O+(D^k&(b^D))+x[14]+2792965006&4294967295,O=k+(w<<17&4294967295|w>>>15),w=D+(b^O&(k^b))+x[15]+1236535329&4294967295,D=O+(w<<22&4294967295|w>>>10),w=b+(O^k&(D^O))+x[1]+4129170786&4294967295,b=D+(w<<5&4294967295|w>>>27),w=k+(D^O&(b^D))+x[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=O+(b^D&(k^b))+x[11]+643717713&4294967295,O=k+(w<<14&4294967295|w>>>18),w=D+(k^b&(O^k))+x[0]+3921069994&4294967295,D=O+(w<<20&4294967295|w>>>12),w=b+(O^k&(D^O))+x[5]+3593408605&4294967295,b=D+(w<<5&4294967295|w>>>27),w=k+(D^O&(b^D))+x[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=O+(b^D&(k^b))+x[15]+3634488961&4294967295,O=k+(w<<14&4294967295|w>>>18),w=D+(k^b&(O^k))+x[4]+3889429448&4294967295,D=O+(w<<20&4294967295|w>>>12),w=b+(O^k&(D^O))+x[9]+568446438&4294967295,b=D+(w<<5&4294967295|w>>>27),w=k+(D^O&(b^D))+x[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=O+(b^D&(k^b))+x[3]+4107603335&4294967295,O=k+(w<<14&4294967295|w>>>18),w=D+(k^b&(O^k))+x[8]+1163531501&4294967295,D=O+(w<<20&4294967295|w>>>12),w=b+(O^k&(D^O))+x[13]+2850285829&4294967295,b=D+(w<<5&4294967295|w>>>27),w=k+(D^O&(b^D))+x[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=O+(b^D&(k^b))+x[7]+1735328473&4294967295,O=k+(w<<14&4294967295|w>>>18),w=D+(k^b&(O^k))+x[12]+2368359562&4294967295,D=O+(w<<20&4294967295|w>>>12),w=b+(D^O^k)+x[5]+4294588738&4294967295,b=D+(w<<4&4294967295|w>>>28),w=k+(b^D^O)+x[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=O+(k^b^D)+x[11]+1839030562&4294967295,O=k+(w<<16&4294967295|w>>>16),w=D+(O^k^b)+x[14]+4259657740&4294967295,D=O+(w<<23&4294967295|w>>>9),w=b+(D^O^k)+x[1]+2763975236&4294967295,b=D+(w<<4&4294967295|w>>>28),w=k+(b^D^O)+x[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=O+(k^b^D)+x[7]+4139469664&4294967295,O=k+(w<<16&4294967295|w>>>16),w=D+(O^k^b)+x[10]+3200236656&4294967295,D=O+(w<<23&4294967295|w>>>9),w=b+(D^O^k)+x[13]+681279174&4294967295,b=D+(w<<4&4294967295|w>>>28),w=k+(b^D^O)+x[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=O+(k^b^D)+x[3]+3572445317&4294967295,O=k+(w<<16&4294967295|w>>>16),w=D+(O^k^b)+x[6]+76029189&4294967295,D=O+(w<<23&4294967295|w>>>9),w=b+(D^O^k)+x[9]+3654602809&4294967295,b=D+(w<<4&4294967295|w>>>28),w=k+(b^D^O)+x[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=O+(k^b^D)+x[15]+530742520&4294967295,O=k+(w<<16&4294967295|w>>>16),w=D+(O^k^b)+x[2]+3299628645&4294967295,D=O+(w<<23&4294967295|w>>>9),w=b+(O^(D|~k))+x[0]+4096336452&4294967295,b=D+(w<<6&4294967295|w>>>26),w=k+(D^(b|~O))+x[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=O+(b^(k|~D))+x[14]+2878612391&4294967295,O=k+(w<<15&4294967295|w>>>17),w=D+(k^(O|~b))+x[5]+4237533241&4294967295,D=O+(w<<21&4294967295|w>>>11),w=b+(O^(D|~k))+x[12]+1700485571&4294967295,b=D+(w<<6&4294967295|w>>>26),w=k+(D^(b|~O))+x[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=O+(b^(k|~D))+x[10]+4293915773&4294967295,O=k+(w<<15&4294967295|w>>>17),w=D+(k^(O|~b))+x[1]+2240044497&4294967295,D=O+(w<<21&4294967295|w>>>11),w=b+(O^(D|~k))+x[8]+1873313359&4294967295,b=D+(w<<6&4294967295|w>>>26),w=k+(D^(b|~O))+x[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=O+(b^(k|~D))+x[6]+2734768916&4294967295,O=k+(w<<15&4294967295|w>>>17),w=D+(k^(O|~b))+x[13]+1309151649&4294967295,D=O+(w<<21&4294967295|w>>>11),w=b+(O^(D|~k))+x[4]+4149444226&4294967295,b=D+(w<<6&4294967295|w>>>26),w=k+(D^(b|~O))+x[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=O+(b^(k|~D))+x[2]+718787259&4294967295,O=k+(w<<15&4294967295|w>>>17),w=D+(k^(O|~b))+x[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+k&4294967295}r.prototype.v=function(R,b){b===void 0&&(b=R.length);const D=b-this.blockSize,x=this.C;let O=this.h,k=0;for(;k<b;){if(O==0)for(;k<=D;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<b;)if(x[O++]=R.charCodeAt(k++),O==this.blockSize){o(this,x),O=0;break}}else for(;k<b;)if(x[O++]=R[k++],O==this.blockSize){o(this,x),O=0;break}}this.h=O,this.o+=b},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,D=0;D<4;++D)for(let x=0;x<32;x+=8)R[b++]=this.g[D]>>>x&255;return R};function u(R,b){var D=m;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=b(R)}function c(R,b){this.h=b;const D=[];let x=!0;for(let O=R.length-1;O>=0;O--){const k=R[O]|0;x&&k==b||(D[O]=k,x=!1)}this.g=D}var m={};function g(R){return-128<=R&&R<128?u(R,function(b){return new c([b|0],b<0?-1:0)}):new c([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return S;if(R<0)return W(y(-R));const b=[];let D=1;for(let x=0;R>=D;x++)b[x]=R/D|0,D*=4294967296;return new c(b,0)}function T(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return W(T(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(b,8));let x=S;for(let k=0;k<R.length;k+=8){var O=Math.min(8,R.length-k);const w=parseInt(R.substring(k,k+O),b);O<8?(O=y(Math.pow(b,O)),x=x.j(O).add(y(w))):(x=x.j(D),x=x.add(y(w)))}return x}var S=g(0),I=g(1),j=g(16777216);s=c.prototype,s.m=function(){if(tt(this))return-W(this).m();let R=0,b=1;for(let D=0;D<this.g.length;D++){const x=this.i(D);R+=(x>=0?x:4294967296+x)*b,b*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if($(this))return"0";if(tt(this))return"-"+W(this).toString(R);const b=y(Math.pow(R,6));var D=this;let x="";for(;;){const O=bt(D,b).g;D=dt(D,O.j(b));let k=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=O,$(D))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function $(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function tt(R){return R.h==-1}s.l=function(R){return R=dt(this,R),tt(R)?-1:$(R)?0:1};function W(R){const b=R.g.length,D=[];for(let x=0;x<b;x++)D[x]=~R.g[x];return new c(D,~R.h).add(I)}s.abs=function(){return tt(this)?W(this):this},s.add=function(R){const b=Math.max(this.g.length,R.g.length),D=[];let x=0;for(let O=0;O<=b;O++){let k=x+(this.i(O)&65535)+(R.i(O)&65535),w=(k>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);x=w>>>16,k&=65535,w&=65535,D[O]=w<<16|k}return new c(D,D[D.length-1]&-2147483648?-1:0)};function dt(R,b){return R.add(W(b))}s.j=function(R){if($(this)||$(R))return S;if(tt(this))return tt(R)?W(this).j(W(R)):W(W(this).j(R));if(tt(R))return W(this.j(W(R)));if(this.l(j)<0&&R.l(j)<0)return y(this.m()*R.m());const b=this.g.length+R.g.length,D=[];for(var x=0;x<2*b;x++)D[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<R.g.length;O++){const k=this.i(x)>>>16,w=this.i(x)&65535,se=R.i(O)>>>16,nt=R.i(O)&65535;D[2*x+2*O]+=w*nt,gt(D,2*x+2*O),D[2*x+2*O+1]+=k*nt,gt(D,2*x+2*O+1),D[2*x+2*O+1]+=w*se,gt(D,2*x+2*O+1),D[2*x+2*O+2]+=k*se,gt(D,2*x+2*O+2)}for(R=0;R<b;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=b;R<2*b;R++)D[R]=0;return new c(D,0)};function gt(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function at(R,b){this.g=R,this.h=b}function bt(R,b){if($(b))throw Error("division by zero");if($(R))return new at(S,S);if(tt(R))return b=bt(W(R),b),new at(W(b.g),W(b.h));if(tt(b))return b=bt(R,W(b)),new at(W(b.g),b.h);if(R.g.length>30){if(tt(R)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var D=I,x=b;x.l(R)<=0;)D=Ct(D),x=Ct(x);var O=vt(D,1),k=vt(x,1);for(x=vt(x,2),D=vt(D,2);!$(x);){var w=k.add(x);w.l(R)<=0&&(O=O.add(D),k=w),x=vt(x,1),D=vt(D,1)}return b=dt(R,O.j(b)),new at(O,b)}for(O=S;R.l(b)>=0;){for(D=Math.max(1,Math.floor(R.m()/b.m())),x=Math.ceil(Math.log(D)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=y(D),w=k.j(b);tt(w)||w.l(R)>0;)D-=x,k=y(D),w=k.j(b);$(k)&&(k=I),O=O.add(k),R=dt(R,w)}return new at(O,R)}s.B=function(R){return bt(this,R).h},s.and=function(R){const b=Math.max(this.g.length,R.g.length),D=[];for(let x=0;x<b;x++)D[x]=this.i(x)&R.i(x);return new c(D,this.h&R.h)},s.or=function(R){const b=Math.max(this.g.length,R.g.length),D=[];for(let x=0;x<b;x++)D[x]=this.i(x)|R.i(x);return new c(D,this.h|R.h)},s.xor=function(R){const b=Math.max(this.g.length,R.g.length),D=[];for(let x=0;x<b;x++)D[x]=this.i(x)^R.i(x);return new c(D,this.h^R.h)};function Ct(R){const b=R.g.length+1,D=[];for(let x=0;x<b;x++)D[x]=R.i(x)<<1|R.i(x-1)>>>31;return new c(D,R.h)}function vt(R,b){const D=b>>5;b%=32;const x=R.g.length-D,O=[];for(let k=0;k<x;k++)O[k]=b>0?R.i(k+D)>>>b|R.i(k+D+1)<<32-b:R.i(k+D);return new c(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=T,os=c}).apply(typeof $T<"u"?$T:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mS,cu,gS,jh,Eg,pS,yS,_S;(function(){var s,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var p=0;p<h.length;++p){var v=h[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(h,p){if(p)t:{var v=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var L=h[A];if(!(L in v))break t;v=v[L]}h=h[h.length-1],A=v[h],p=p(A),p!=A&&p!=null&&t(v,h,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},c=this||self;function m(h){var p=typeof h;return p=="object"&&h!=null||p=="function"}function g(h,p,v){return h.call.apply(h.bind,arguments)}function y(h,p,v){return y=g,y.apply(null,arguments)}function T(h,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function S(h,p){function v(){}v.prototype=p.prototype,h.Z=p.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(A,L,F){for(var rt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)rt[Nt-2]=arguments[Nt];return p.prototype[L].apply(A,rt)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function j(h){const p=h.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=h[A];return v}return[]}function $(h,p){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=h.length||0;const F=L.length||0;h.length=v+F;for(let rt=0;rt<F;rt++)h[v+rt]=L[rt]}else h.push(L)}}class tt{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function W(h){c.setTimeout(()=>{throw h},0)}function dt(){var h=R;let p=null;return h.g&&(p=h.g,h.g=h.g.next,h.g||(h.h=null),p.next=null),p}class gt{constructor(){this.h=this.g=null}add(p,v){const A=at.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var at=new tt(()=>new bt,h=>h.reset());class bt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,vt=!1,R=new gt,b=()=>{const h=Promise.resolve(void 0);Ct=()=>{h.then(D)}};function D(){for(var h;h=dt();){try{h.h.call(h.g)}catch(v){W(v)}var p=at;p.j(h),p.h<100&&(p.h++,h.next=p.g,p.g=h)}vt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,p){this.type=h,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,p=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,p),c.removeEventListener("test",v,p)}catch{}return h})();function w(h){return/^[\s\xa0]*$/.test(h)}function se(h,p){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,p)}S(se,O),se.prototype.init=function(h,p){const v=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=p,p=h.relatedTarget,p||(v=="mouseover"?p=h.fromElement:v=="mouseout"&&(p=h.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var nt="closure_listenable_"+(Math.random()*1e6|0),M=0;function J(h,p,v,A,L){this.listener=h,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=L,this.key=++M,this.da=this.fa=!1}function it(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ft(h,p,v){for(const A in h)p.call(v,h[A],A,h)}function Et(h,p){for(const v in h)p.call(void 0,h[v],v,h)}function N(h){const p={};for(const v in h)p[v]=h[v];return p}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(h,p){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)h[v]=A[v];for(let F=0;F<K.length;F++)v=K[F],Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}}function lt(h){this.src=h,this.g={},this.h=0}lt.prototype.add=function(h,p,v,A,L){const F=h.toString();h=this.g[F],h||(h=this.g[F]=[],this.h++);const rt=It(h,p,A,L);return rt>-1?(p=h[rt],v||(p.fa=!1)):(p=new J(p,this.src,F,!!A,L),p.fa=v,h.push(p)),p};function St(h,p){const v=p.type;if(v in h.g){var A=h.g[v],L=Array.prototype.indexOf.call(A,p,void 0),F;(F=L>=0)&&Array.prototype.splice.call(A,L,1),F&&(it(p),h.g[v].length==0&&(delete h.g[v],h.h--))}}function It(h,p,v,A){for(let L=0;L<h.length;++L){const F=h[L];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==A)return L}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Me={};function ue(h,p,v,A,L){if(Array.isArray(p)){for(let F=0;F<p.length;F++)ue(h,p[F],v,A,L);return null}return v=tl(v),h&&h[nt]?h.J(p,v,m(A)?!!A.capture:!1,L):gs(h,p,v,!1,A,L)}function gs(h,p,v,A,L,F){if(!p)throw Error("Invalid event type");const rt=m(L)?!!L.capture:!!L;let Nt=ps(h);if(Nt||(h[jt]=Nt=new lt(h)),v=Nt.add(p,v,A,rt,F),v.proxy)return v;if(A=Sa(),v.proxy=A,A.src=h,A.listener=v,h.addEventListener)k||(L=rt),L===void 0&&(L=!1),h.addEventListener(p.toString(),A,L);else if(h.attachEvent)h.attachEvent(ui(p.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Sa(){function h(v){return p.call(h.src,h.listener,v)}const p=Zo;return h}function Aa(h,p,v,A,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)Aa(h,p[F],v,A,L);else A=m(A)?!!A.capture:!!A,v=tl(v),h&&h[nt]?(h=h.i,F=String(p).toString(),F in h.g&&(p=h.g[F],v=It(p,v,A,L),v>-1&&(it(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete h.g[F],h.h--)))):h&&(h=ps(h))&&(p=h.g[p.toString()],h=-1,p&&(h=It(p,v,A,L)),(v=h>-1?p[h]:null)&&ba(v))}function ba(h){if(typeof h!="number"&&h&&!h.da){var p=h.src;if(p&&p[nt])St(p.i,h);else{var v=h.type,A=h.proxy;p.removeEventListener?p.removeEventListener(v,A,h.capture):p.detachEvent?p.detachEvent(ui(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=ps(p))?(St(v,h),v.h==0&&(v.src=null,p[jt]=null)):it(h)}}}function ui(h){return h in Me?Me[h]:Me[h]="on"+h}function Zo(h,p){if(h.da)h=!0;else{p=new se(p,this);const v=h.listener,A=h.ha||h.src;h.fa&&ba(h),h=v.call(A,p)}return h}function ps(h){return h=h[jt],h instanceof lt?h:null}var Wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function tl(h){return typeof h=="function"?h:(h[Wo]||(h[Wo]=function(p){return h.handleEvent(p)}),h[Wo])}function Se(){x.call(this),this.i=new lt(this),this.M=this,this.G=null}S(Se,x),Se.prototype[nt]=!0,Se.prototype.removeEventListener=function(h,p,v,A){Aa(this,h,p,v,A)};function Pe(h,p){var v,A=h.G;if(A)for(v=[];A;A=A.G)v.push(A);if(h=h.M,A=p.type||p,typeof p=="string")p=new O(p,h);else if(p instanceof O)p.target=p.target||h;else{var L=p;p=new O(A,h),st(p,L)}L=!0;let F,rt;if(v)for(rt=v.length-1;rt>=0;rt--)F=p.g=v[rt],L=pr(F,A,!0,p)&&L;if(F=p.g=h,L=pr(F,A,!0,p)&&L,L=pr(F,A,!1,p)&&L,v)for(rt=0;rt<v.length;rt++)F=p.g=v[rt],L=pr(F,A,!1,p)&&L}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const p in h.g){const v=h.g[p];for(let A=0;A<v.length;A++)it(v[A]);delete h.g[p],h.h--}}this.G=null},Se.prototype.J=function(h,p,v,A){return this.i.add(String(h),p,!1,v,A)},Se.prototype.K=function(h,p,v,A){return this.i.add(String(h),p,!0,v,A)};function pr(h,p,v,A){if(p=h.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let F=0;F<p.length;++F){const rt=p[F];if(rt&&!rt.da&&rt.capture==v){const Nt=rt.listener,ve=rt.ha||rt.src;rt.fa&&St(h.i,rt),L=Nt.call(ve,A)!==!1&&L}}return L&&!A.defaultPrevented}function Yf(h,p){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:c.setTimeout(h,p||0)}function tc(h){h.g=Yf(()=>{h.g=null,h.i&&(h.i=!1,tc(h))},h.l);const p=h.h;h.h=null,h.m.apply(null,p)}class nn extends x{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:tc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(h){x.call(this),this.h=h,this.g={}}S(ys,x);var el=[];function nl(h){ft(h.g,function(p,v){this.g.hasOwnProperty(v)&&ba(p)},h),h.g={}}ys.prototype.N=function(){ys.Z.N.call(this),nl(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=c.JSON.stringify,Xf=c.JSON.parse,ec=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function nc(){}function ic(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){O.call(this,"d")}S(He,O);function Nn(){O.call(this,"c")}S(Nn,O);var _e={},rc=null;function Ia(){return rc=rc||new Se}_e.Ia="serverreachability";function sc(h){O.call(this,_e.Ia,h)}S(sc,O);function ci(h){const p=Ia();Pe(p,new sc(p))}_e.STAT_EVENT="statevent";function _s(h,p){O.call(this,_e.STAT_EVENT,h),this.stat=p}S(_s,O);function Ae(h){const p=Ia();Pe(p,new _s(p,h))}_e.Ja="timingevent";function hi(h,p){O.call(this,_e.Ja,h),this.size=p}S(hi,O);function fi(h,p){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},p)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Jf(h,p,v,A,L,F){h.info(function(){if(h.g)if(F){var rt="",Nt=F.split("&");for(let Gt=0;Gt<Nt.length;Gt++){var ve=Nt[Gt].split("=");if(ve.length>1){const ce=ve[0];ve=ve[1];const Mn=ce.split("_");rt=Mn.length>=2&&Mn[1]=="type"?rt+(ce+"="+ve+"&"):rt+(ce+"=redacted&")}}}else rt=null;else rt=F;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+v+`
`+rt})}function ac(h,p,v,A,L,F,rt){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+v+`
`+F+" "+rt})}function di(h,p,v,A){h.info(function(){return"XMLHTTP TEXT ("+p+"): "+$f(h,v)+(A?" "+A:"")})}function vs(h,p){h.info(function(){return"TIMEOUT: "+p})}Yn.prototype.info=function(){};function $f(h,p){if(!h.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(h=0;h<F.length;h++)if(Array.isArray(F[h])){var v=F[h];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let rt=1;rt<A.length;rt++)A[rt]=""}}}}return yr(F)}catch{return p}}var Ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rl;function Es(){}S(Es,nc),Es.prototype.g=function(){return new XMLHttpRequest},rl=new Es;function zi(h){return encodeURIComponent(String(h))}function oc(h){var p=1;h=h.split(":");const v=[];for(;p>0&&h.length;)v.push(h.shift()),p--;return h.length&&v.push(h.join(":")),v}function Xn(h,p,v,A){this.j=h,this.i=p,this.l=v,this.S=A||1,this.V=new ys(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var be={},Be={};function mi(h,p,v){h.M=1,h.A=Ss(we(p)),h.u=v,h.R=!0,wa(h,null)}function wa(h,p){h.F=Date.now(),gi(h),h.B=we(h.A);var v=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Na(v.i,"t",A),h.C=0,v=h.j.L,h.h=new Jn,h.g=Sc(h.j,v?p:null,!h.u),h.P>0&&(h.O=new nn(y(h.Y,h,h.g),h.P)),p=h.V,v=h.g,A=h.ba;var L="readystatechange";Array.isArray(L)||(L&&(el[0]=L.toString()),L=el);for(let F=0;F<L.length;F++){const rt=ue(v,L[F],A||p.handleEvent,!1,p.h||p);if(!rt)break;p.g[rt.key]=rt}p=h.J?N(h.J):{},h.u?(h.v||(h.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,p)):(h.v="GET",h.g.ea(h.B,h.v,null,p)),ci(),Jf(h.i,h.v,h.B,h.l,h.S,h.u)}Xn.prototype.ba=function(h){h=h.target;const p=this.O;p&&Wn(h)==3?p.j():this.Y(h)},Xn.prototype.Y=function(h){try{if(h==this.g)t:{const Nt=Wn(this.g),ve=this.g.ya(),Gt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Nt!=4||ve==7||(ve==8||Gt<=0?ci(3):ci(2)),pi(this);var p=this.g.ca();this.X=p;var v=Zf(this);if(this.o=p==200,ac(this.i,this.v,this.B,this.l,this.S,Nt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var F=A;break e}}F=null}if(h=F)di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,h);else{this.o=!1,this.m=3,Ae(12),pn(this),Vn(this);break t}}if(this.R){h=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=uc(this,v),ce==Be){Nt==4&&(this.m=4,Ae(14),h=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==be){this.m=4,Ae(15),di(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else di(this.i,this.l,ce,null),yi(this,ce);if(lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)di(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Vn(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),vl(rt),rt.P=!0,Ae(11))}}else di(this.i,this.l,v,null),yi(this,v);Nt==4&&pn(this),this.o&&!this.K&&(Nt==4?_c(this.j,this):(this.o=!1,gi(this)))}else ji(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),pn(this),Vn(this)}}}catch{}finally{}};function Zf(h){if(!lc(h))return h.g.la();const p=Ge(h.g);if(p==="")return"";let v="";const A=p.length,L=Wn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return pn(h),Vn(h),"";h.h.i=new c.TextDecoder}for(let F=0;F<A;F++)h.h.h=!0,v+=h.h.i.decode(p[F],{stream:!(L&&F==A-1)});return p.length=0,h.h.g+=v,h.C=0,h.h.g}function lc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function uc(h,p){var v=h.C,A=p.indexOf(`
`,v);return A==-1?Be:(v=Number(p.substring(v,A)),isNaN(v)?be:(A+=1,A+v>p.length?Be:(p=p.slice(A,A+v),h.C=A+v,p)))}Xn.prototype.cancel=function(){this.K=!0,pn(this)};function gi(h){h.T=Date.now()+h.H,Ra(h,h.H)}function Ra(h,p){if(h.D!=null)throw Error("WatchDog timer not null");h.D=fi(y(h.aa,h),p)}function pi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Xn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(vs(this.i,this.B),this.M!=2&&(ci(),Ae(17)),pn(this),this.m=2,Vn(this)):Ra(this,this.T-h)};function Vn(h){h.j.I==0||h.K||_c(h.j,h)}function pn(h){pi(h);var p=h.O;p&&typeof p.dispose=="function"&&p.dispose(),h.O=null,nl(h.V),h.g&&(p=h.g,h.g=null,p.abort(),p.dispose())}function yi(h,p){try{var v=h.j;if(v.I!=0&&(v.g==h||vi(v.h,h))){if(!h.L&&vi(v.h,h)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)Pa(v),Ir(v);else break t;Ds(v),Ae(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(y(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((h.L||v.g==h)&&Pa(v),!w(p))for(L=v.Ba.g.parse(p),p=0;p<L.length;p++){let Gt=L[p];const ce=Gt[0];if(!(ce<=v.K))if(v.K=ce,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const Mn=Gt[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const wi=Gt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const ti=Gt[5];ti!=null&&typeof ti=="number"&&ti>0&&(A=1.5*ti,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ei=h.g;if(ei){const Ns=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var F=A.h;F.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ol(F,F.h),F.h=null))}if(A.G){const ka=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(A.wa=ka,Qt(A.J,A.G,ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var rt=h;if(A.na=Ec(A,A.L?A.ba:null,A.W),rt.L){ll(A.h,rt);var Nt=rt,ve=A.O;ve&&(Nt.H=ve),Nt.D&&(pi(Nt),gi(Nt)),A.g=rt}else pc(A);v.i.length>0&&bi(v)}else Gt[0]!="stop"&&Gt[0]!="close"||Ii(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ii(v,7):yl(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}ci(4)}catch{}}var Ie=class{constructor(h,p){this.g=h,this.map=p}};function sl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function al(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _i(h){return h.h?1:h.g?h.g.size:0}function vi(h,p){return h.h?h.h==p:h.g?h.g.has(p):!1}function ol(h,p){h.g?h.g.add(p):h.h=p}function ll(h,p){h.h&&h.h==p?h.h=null:h.g&&h.g.has(p)&&h.g.delete(p)}sl.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ul(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let p=h.i;for(const v of h.g.values())p=p.concat(v.G);return p}return j(h.i)}var cc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(h,p){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const A=h[v].indexOf("=");let L,F=null;A>=0?(L=h[v].substring(0,A),F=h[v].substring(A+1)):L=h[v],p(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function yn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;h instanceof yn?(this.l=h.l,je(this,h.j),this.o=h.o,this.g=h.g,_r(this,h.u),this.h=h.h,cl(this,mc(h.i)),this.m=h.m):h&&(p=String(h).match(cc))?(this.l=!1,je(this,p[1]||"",!0),this.o=Ti(p[2]||""),this.g=Ti(p[3]||"",!0),_r(this,p[4]),this.h=Ti(p[5]||"",!0),cl(this,p[6]||"",!0),this.m=Ti(p[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}yn.prototype.toString=function(){const h=[];var p=this.j;p&&h.push(As(p,Da,!0),":");var v=this.g;return(v||p=="file")&&(h.push("//"),(p=this.o)&&h.push(As(p,Da,!0),"@"),h.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(As(v,v.charAt(0)=="/"?hl:hc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",As(v,fc)),h.join("")},yn.prototype.resolve=function(h){const p=we(this);let v=!!h.j;v?je(p,h.j):v=!!h.o,v?p.o=h.o:v=!!h.g,v?p.g=h.g:v=h.u!=null;var A=h.h;if(v)_r(p,h.u);else if(v=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=p.h.lastIndexOf("/");L!=-1&&(A=p.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let rt=0;rt<L.length;){const Nt=L[rt++];Nt=="."?A&&rt==L.length&&F.push(""):Nt==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&rt==L.length&&F.push("")):(F.push(Nt),A=!0)}A=F.join("/")}else A=L}return v?p.h=A:v=h.i.toString()!=="",v?cl(p,mc(h.i)):v=!!h.m,v&&(p.m=h.m),p};function we(h){return new yn(h)}function je(h,p,v){h.j=v?Ti(p,!0):p,h.j&&(h.j=h.j.replace(/:$/,""))}function _r(h,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);h.u=p}else h.u=null}function cl(h,p,v){p instanceof Tr?(h.i=p,Va(h.i,h.l)):(v||(p=As(p,vr)),h.i=new Tr(p,h.l))}function Qt(h,p,v){h.i.set(p,v)}function Ss(h){return Qt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ti(h,p){return h?p?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function As(h,p,v){return typeof h=="string"?(h=encodeURI(h).replace(p,ln),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ln(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Da=/[#\/\?@]/g,hc=/[#\?:]/g,hl=/[#\?]/g,vr=/[#\?@]/g,fc=/#/g;function Tr(h,p){this.h=this.g=null,this.i=h||null,this.j=!!p}function un(h){h.g||(h.g=new Map,h.h=0,h.i&&Ca(h.i,function(p,v){h.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=Tr.prototype,s.add=function(h,p){un(this),this.i=null,h=Er(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(p),this.h+=1,this};function dc(h,p){un(h),p=Er(h,p),h.g.has(p)&&(h.i=null,h.h-=h.g.get(p).length,h.g.delete(p))}function fl(h,p){return un(h),p=Er(h,p),h.g.has(p)}s.forEach=function(h,p){un(this),this.g.forEach(function(v,A){v.forEach(function(L){h.call(p,L,A,this)},this)},this)};function dl(h,p){un(h);let v=[];if(typeof p=="string")fl(h,p)&&(v=v.concat(h.g.get(Er(h,p))));else for(h=Array.from(h.g.values()),p=0;p<h.length;p++)v=v.concat(h[p]);return v}s.set=function(h,p){return un(this),this.i=null,h=Er(this,h),fl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[p]),this.h+=1,this},s.get=function(h,p){return h?(h=dl(this,h),h.length>0?String(h[0]):p):p};function Na(h,p,v){dc(h,p),v.length>0&&(h.i=null,h.g.set(Er(h,p),j(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const L=zi(v);v=dl(this,v);for(let F=0;F<v.length;F++){let rt=L;v[F]!==""&&(rt+="="+zi(v[F])),h.push(rt)}}return this.i=h.join("&")};function mc(h){const p=new Tr;return p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),p}function Er(h,p){return p=String(p),h.j&&(p=p.toLowerCase()),p}function Va(h,p){p&&!h.j&&(un(h),h.i=null,h.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(dc(this,A),Na(this,L,v))},h)),h.j=p}function $n(h,p){const v=new Yn;if(c.Image){const A=new Image;A.onload=T(On,v,"TestLoadImage: loaded",!0,p,A),A.onerror=T(On,v,"TestLoadImage: error",!1,p,A),A.onabort=T(On,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=T(On,v,"TestLoadImage: timeout",!1,p,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else p(!1)}function ml(h,p){const v=new Yn,A=new AbortController,L=setTimeout(()=>{A.abort(),On(v,"TestPingServer: timeout",!1,p)},1e4);fetch(h,{signal:A.signal}).then(F=>{clearTimeout(L),F.ok?On(v,"TestPingServer: ok",!0,p):On(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),On(v,"TestPingServer: error",!1,p)})}function On(h,p,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function Sr(){this.g=new ec}function Ei(h){this.i=h.Sb||null,this.h=h.ab||!1}S(Ei,nc),Ei.prototype.g=function(){return new bs(this.i,this.h)};function bs(h,p){Se.call(this),this.H=h,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(bs,Se),s=bs.prototype,s.open=function(h,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=p,this.readyState=1,Zn(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(p.body=h),(this.H||c).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var p=h.value?h.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!h.done}))&&(this.response=this.responseText+=p)}h.done?Ar(this):Zn(this),this.readyState==3&&Oa(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Ar(this))},s.Na=function(h){this.g&&(this.response=h,Ar(this))},s.ga=function(){this.g&&Ar(this)};function Ar(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Zn(h)}s.setRequestHeader=function(h,p){this.A.append(h,p)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=p.next();return h.join(`\r
`)};function Zn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xn(h){let p="";return ft(h,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Is(h,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=xn(v),typeof h=="string"?v!=null&&zi(v):Qt(h,p,v))}function Zt(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Zt,Se);var Si=/^https?$/i,gl=["POST","PUT"];s=Zt.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);p=p?p.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rl.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(h),!0),this.B=!1}catch(F){ws(this,F);return}if(h=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),L=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(gl,p,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,rt]of v)this.g.setRequestHeader(F,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(F){ws(this,F)}};function ws(h,p){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=p,h.o=5,pl(h),Bi(h)}function pl(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pe(this,"complete"),Pe(this,"abort"),Bi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Zt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Rs(this):this.Xa())},s.Xa=function(){Rs(this)};function Rs(h){if(h.h&&typeof u<"u"){if(h.v&&Wn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pe(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const F=h.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=F===0){let rt=String(h.D).match(cc)[1]||null;!rt&&c.self&&c.self.location&&(rt=c.self.location.protocol.slice(0,-1)),A=!Si.test(rt?rt.toLowerCase():"")}v=A}if(v)Pe(h,"complete"),Pe(h,"success");else{h.o=6;try{var L=Wn(h)>2?h.g.statusText:""}catch{L=""}h.l=L+" ["+h.ca()+"]",pl(h)}}finally{Bi(h)}}}}function Bi(h,p){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,p||Pe(h,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}s.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var p=this.g.responseText;return h&&p.indexOf(h)==0&&(p=p.substring(h.length)),Xf(p)}};function Ge(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(h){const p={};h=(h.g&&Wn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(w(h[A]))continue;var v=oc(h[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[L]||[];p[L]=F,F.push(v)}Et(p,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(h,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||p}function br(h){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,h),this.Za=Ai("retryDelaySeedMs",1e4,h),this.Ta=Ai("forwardChannelMaxRetries",2,h),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new sl(h&&h.concurrentRequestLimit),this.Ba=new Sr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=br.prototype,s.ka=8,s.I=1,s.connect=function(h,p,v,A){Ae(0),this.W=h,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ec(this,null,this.W),bi(this)};function yl(h){if(xa(h),h.I==3){var p=h.V++,v=we(h.J);if(Qt(v,"SID",h.M),Qt(v,"RID",p),Qt(v,"TYPE","terminate"),Cs(h,v),p=new Xn(h,h.j,p),p.M=2,p.A=Ss(we(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=p.A,v=!0),v||(p.g=Sc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),gi(p)}Tc(h)}function Ir(h){h.g&&(vl(h),h.g.cancel(),h.g=null)}function xa(h){Ir(h),h.v&&(c.clearTimeout(h.v),h.v=null),Pa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function bi(h){if(!al(h.h)&&!h.m){h.m=!0;var p=h.Ea;Ct||b(),vt||(Ct(),vt=!0),R.add(p,h),h.D=0}}function Ma(h,p){return _i(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=p.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=fi(y(h.Ea,h,p),vc(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const L=new Xn(this,this.j,h);let F=this.o;if(this.U&&(F?(F=N(F),st(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=gc(this,L,p),v=we(this.J),Qt(v,"RID",h),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Cs(this,v),F&&(this.R?p="headers="+zi(xn(F))+"&"+p:this.u&&Is(v,this.u,F)),ol(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",p),Qt(v,"SID","null"),L.U=!0,mi(L,v,null)):mi(L,v,p),this.I=2}}else this.I==3&&(h?_l(this,h):this.i.length==0||al(this.h)||_l(this))};function _l(h,p){var v;p?v=p.l:v=h.V++;const A=we(h.J);Qt(A,"SID",h.M),Qt(A,"RID",v),Qt(A,"AID",h.K),Cs(h,A),h.u&&h.o&&Is(A,h.u,h.o),v=new Xn(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),p&&(h.i=p.G.concat(h.i)),p=gc(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ol(h.h,v),mi(v,A,p)}function Cs(h,p){h.H&&ft(h.H,function(v,A){Qt(p,A,v)}),h.l&&ft({},function(v,A){Qt(p,A,v)})}function gc(h,p,v){v=Math.min(h.i.length,v);const A=h.l?y(h.l.Ka,h.l,h):null;t:{var L=h.i;let Nt=-1;for(;;){const ve=["count="+v];Nt==-1?v>0?(Nt=L[0].g,ve.push("ofs="+Nt)):Nt=0:ve.push("ofs="+Nt);let Gt=!0;for(let ce=0;ce<v;ce++){var F=L[ce].g;const Mn=L[ce].map;if(F-=Nt,F<0)Nt=Math.max(0,L[ce].g-100),Gt=!1;else try{F="req"+F+"_"||"";try{var rt=Mn instanceof Map?Mn:Object.entries(Mn);for(const[wi,ti]of rt){let ei=ti;m(ti)&&(ei=yr(ti)),ve.push(F+wi+"="+encodeURIComponent(ei))}}catch(wi){throw ve.push(F+"type="+encodeURIComponent("_badmap")),wi}}catch{A&&A(Mn)}}if(Gt){rt=ve.join("&");break t}}rt=void 0}return h=h.i.splice(0,v),p.G=h,rt}function pc(h){if(!h.g&&!h.v){h.Y=1;var p=h.Da;Ct||b(),vt||(Ct(),vt=!0),R.add(p,h),h.A=0}}function Ds(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=fi(y(h.Da,h),vc(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,yc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=fi(y(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Ir(this),yc(this))};function vl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function yc(h){h.g=new Xn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var p=we(h.na);Qt(p,"RID","rpc"),Qt(p,"SID",h.M),Qt(p,"AID",h.K),Qt(p,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qt(p,"TO",h.ia),Qt(p,"TYPE","xmlhttp"),Cs(h,p),h.u&&h.o&&Is(p,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Ss(we(p)),v.u=null,v.R=!0,wa(v,h)}s.Va=function(){this.C!=null&&(this.C=null,Ir(this),Ds(this),Ae(19))};function Pa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function _c(h,p){var v=null;if(h.g==p){Pa(h),vl(h),h.g=null;var A=2}else if(vi(h.h,p))v=p.G,ll(h.h,p),A=1;else return;if(h.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var L=h.D;A=Ia(),Pe(A,new hi(A,v)),bi(h)}else pc(h);else if(L=p.m,L==3||L==0&&p.X>0||!(A==1&&Ma(h,p)||A==2&&Ds(h)))switch(v&&v.length>0&&(p=h.h,p.i=p.i.concat(v)),L){case 1:Ii(h,5);break;case 4:Ii(h,10);break;case 3:Ii(h,6);break;default:Ii(h,2)}}}function vc(h,p){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*p}function Ii(h,p){if(h.j.info("Error code "+p),p==2){var v=y(h.bb,h),A=h.Ua;const L=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||je(A,"https"),Ss(A),L?$n(A.toString(),v):ml(A.toString(),v)}else Ae(2);h.I=0,h.l&&h.l.pa(p),Tc(h),xa(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Tc(h){if(h.I=0,h.ja=[],h.l){const p=ul(h.h);(p.length!=0||h.i.length!=0)&&($(h.ja,p),$(h.ja,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.oa()}}function Ec(h,p,v){var A=v instanceof yn?we(v):new yn(v);if(A.g!="")p&&(A.g=p+"."+A.g),_r(A,A.u);else{var L=c.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const F=new yn(null);A&&je(F,A),p&&(F.g=p),L&&_r(F,L),v&&(F.h=v),A=F}return v=h.G,p=h.wa,v&&p&&Qt(A,v,p),Qt(A,"VER",h.ka),Cs(h,A),A}function Sc(h,p,v){if(p&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=h.Aa&&!h.ma?new Zt(new Ei({ab:v})):new Zt(h.ma),p.Fa(h.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ac(){}s=Ac.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function wr(){}wr.prototype.g=function(h,p){return new rn(h,p)};function rn(h,p){Se.call(this),this.g=new br(p),this.l=h,this.h=p&&p.messageUrlParams||null,h=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(h?h["X-WebChannel-Content-Type"]=p.messageContentType:h={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(h?h["X-WebChannel-Client-Profile"]=p.sa:h={"X-WebChannel-Client-Profile":p.sa}),this.g.U=h,(h=p&&p.Qb)&&!w(h)&&(this.g.u=h),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.G=p,h=this.h,h!==null&&p in h&&(h=this.h,p in h&&delete h[p])),this.j=new qi(this)}S(rn,Se),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){yl(this.g)},rn.prototype.o=function(h){var p=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=yr(h),h=v);p.i.push(new Ie(p.Ya++,h)),p.I==3&&bi(p)},rn.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,rn.Z.N.call(this)};function bc(h){He.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var p=h.__sm__;if(p){t:{for(const v in p){h=v;break t}h=void 0}(this.i=h)&&(h=this.i,p=p!==null&&h in p?p[h]:void 0),this.data=p}else this.data=h}S(bc,He);function Ic(){Nn.call(this),this.status=1}S(Ic,Nn);function qi(h){this.g=h}S(qi,Ac),qi.prototype.ra=function(){Pe(this.g,"a")},qi.prototype.qa=function(h){Pe(this.g,new bc(h))},qi.prototype.pa=function(h){Pe(this.g,new Ic)},qi.prototype.oa=function(){Pe(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,_S=function(){return new wr},yS=function(){return Ia()},pS=_e,Eg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,jh=Ts,il.COMPLETE="complete",gS=il,ic.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,cu=ic,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,mS=Zt}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const ZT="@firebase/firestore",WT="4.9.2";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let Xo="12.3.0";const ha=new Qg("@firebase/firestore");function vo(){return ha.logLevel}function et(s,...t){if(ha.logLevel<=Lt.DEBUG){const n=t.map(ap);ha.debug(`Firestore (${Xo}): ${s}`,...n)}}function an(s,...t){if(ha.logLevel<=Lt.ERROR){const n=t.map(ap);ha.error(`Firestore (${Xo}): ${s}`,...n)}}function fa(s,...t){if(ha.logLevel<=Lt.WARN){const n=t.map(ap);ha.warn(`Firestore (${Xo}): ${s}`,...n)}}function ap(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function ht(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,vS(s,r,n)}function vS(s,t,n){let r=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw an(r),new Error(r)}function pt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||vS(t,o,r)}function Rt(s,t){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends mr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class TS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class JC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $C{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){pt(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string",31837,{l:r}),new TS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return pt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class ZC{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WC{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){pt(this.o===void 0,3512);const r=u=>{u.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,et("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function e2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class op{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=e2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function wt(s,t){return s<t?-1:s>t?1:0}function Sg(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return sg(o)===sg(u)?wt(o,u):sg(o)?1:-1}return wt(s.length,t.length)}const n2=55296,i2=57343;function sg(s){const t=s.charCodeAt(0);return t>=n2&&t<=i2}function Oo(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}function ES(s){return s+"\0"}const eE="__name__";class Vi{constructor(t,n,r){n===void 0?n=0:n>t.length&&ht(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&ht(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Vi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return wt(t.length,n.length)}static compareSegments(t,n){const r=Vi.isNumericId(t),o=Vi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Vi.extractNumericId(t).compare(Vi.extractNumericId(n)):Sg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return os.fromString(t.substring(4,t.length-2))}}class ie extends Vi{construct(t,n,r){return new ie(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ut(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ie(n)}static emptyPath(){return new ie([])}}const r2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class me extends Vi{construct(t,n,r){return new me(t,n,r)}static isValidIdentifier(t){return r2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),me.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eE}static keyField(){return new me([eE])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ut(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ut(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new ut(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new me(n)}static emptyPath(){return new me([])}}class ot{constructor(t){this.path=t}static fromPath(t){return new ot(ie.fromString(t))}static fromName(t){return new ot(ie.fromString(t).popFirst(5))}static empty(){return new ot(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ot(new ie(t.slice()))}}function s2(s,t,n){if(!n)throw new ut(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function a2(s,t,n,r){if(t===!0&&r===!0)throw new ut(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function nE(s){if(!ot.isDocumentKey(s))throw new ut(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function SS(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function lp(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":ht(12329,{type:typeof s})}function ur(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lp(s);throw new ut(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Oe(s,t){const n={typeString:s};return t&&(n.value=t),n}function Gu(s,t){if(!SS(s))throw new ut(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const c=s[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ut(X.INVALID_ARGUMENT,n);return!0}const iE=-62135596800,rE=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*rE);return new Jt(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<iE)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rE}_compareTo(t){return this.seconds===t.seconds?wt(this.nanoseconds,t.nanoseconds):wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gu(t,Jt._jsonSchema))return new Jt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-iE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Oe("string",Jt._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new Jt(0,0))}static max(){return new _t(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ru=-1;class lf{constructor(t,n,r,o){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=o}}function Ag(s){return s.fields.find((t=>t.kind===2))}function Ys(s){return s.fields.filter((t=>t.kind!==2))}lf.UNKNOWN_ID=-1;class qh{constructor(t,n){this.fieldPath=t,this.kind=n}}class Cu{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new Cu(0,Dn.min())}}function o2(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new Dn(o,ot.empty(),t)}function AS(s){return new Dn(s.readTime,s.key,Ru)}class Dn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Dn(_t.min(),ot.empty(),Ru)}static max(){return new Dn(_t.max(),ot.empty(),Ru)}}function up(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=ot.comparator(s.documentKey,t.documentKey),n!==0?n:wt(s.largestBatchId,t.largestBatchId))}const bS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function va(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==bS)throw s;et("LocalStore","Unexpectedly lost primary lease")}class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new U(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):U.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):U.reject(n)}static resolve(t){return new U(((n,r)=>{n(t)}))}static reject(t){return new U(((n,r)=>{r(t)}))}static waitFor(t){return new U(((n,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(g=>r(g)))})),c=!0,u===o&&n()}))}static or(t){let n=U.resolve(!1);for(const r of t)n=n.next((o=>o?U.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new U(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((T=>{c[y]=T,++m,m===u&&r(c)}),(T=>o(T)))}}))}static doWhile(t,n){return new U(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}const In="SimpleDb";class Nf{static open(t,n,r,o){try{return new Nf(n,t.transaction(o,r))}catch(u){throw new yu(n,u)}}constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.S=new lr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new yu(t,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const o=cp(r.target.error);this.S.reject(new yu(t,o))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(et(In,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new u2(n)}}class ls{static delete(t){return et(In,"Removing database:",t),Js(E0().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!N0())return!1;if(ls.F())return!0;const t=Le(),n=ls.M(t),r=0<n&&n<10,o=wS(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||u)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,n){return t.store(n)}static M(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,n,r){this.name=t,this.version=n,this.N=r,this.B=null,ls.M(Le())===12.2&&an("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(et(In,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=u=>{const c=u.target.result;n(c)},o.onblocked=()=>{r(new yu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const c=u.target.error;c.name==="VersionError"?r(new ut(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new ut(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new yu(t,c))},o.onupgradeneeded=u=>{et(In,'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const c=u.target.result;this.N.k(c,o.transaction,u.oldVersion,this.version).next((()=>{et(In,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(t){this.q=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,o){const u=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(t);const m=Nf.open(this.db,t,u?"readonly":"readwrite",r),g=o(m).next((y=>(m.C(),y))).catch((y=>(m.abort(y),U.reject(y)))).toPromise();return g.catch((()=>{})),await m.D,g}catch(m){const g=m,y=g.name!=="FirebaseError"&&c<3;if(et(In,"Transaction failed with error:",g.message,"Retrying:",y),this.close(),!y)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function wS(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class l2{constructor(t){this.U=t,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(t){this.U=t}done(){this.K=!0}j(t){this.W=t}delete(){return Js(this.U.delete())}}class yu extends ut{constructor(t,n){super(X.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ds(s){return s.name==="IndexedDbTransactionError"}class u2{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(et(In,"PUT",this.store.name,t,n),r=this.store.put(n,t)):(et(In,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Js(r)}add(t){return et(In,"ADD",this.store.name,t,t),Js(this.store.add(t))}get(t){return Js(this.store.get(t)).next((n=>(n===void 0&&(n=null),et(In,"GET",this.store.name,t,n),n)))}delete(t){return et(In,"DELETE",this.store.name,t),Js(this.store.delete(t))}count(){return et(In,"COUNT",this.store.name),Js(this.store.count())}J(t,n){const r=this.options(t,n),o=r.index?this.store.index(r.index):this.store;if(typeof o.getAll=="function"){const u=o.getAll(r.range);return new U(((c,m)=>{u.onerror=g=>{m(g.target.error)},u.onsuccess=g=>{c(g.target.result)}}))}{const u=this.cursor(r),c=[];return this.H(u,((m,g)=>{c.push(g)})).next((()=>c))}}Y(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new U(((o,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{o(c.target.result)}}))}Z(t,n){et(In,"DELETE ALL",this.store.name);const r=this.options(t,n);r.X=!1;const o=this.cursor(r);return this.H(o,((u,c,m)=>m.delete()))}ee(t,n){let r;n?r=t:(r={},n=t);const o=this.cursor(r);return this.H(o,n)}te(t){const n=this.cursor({});return new U(((r,o)=>{n.onerror=u=>{const c=cp(u.target.error);o(c)},n.onsuccess=u=>{const c=u.target.result;c?t(c.primaryKey,c.value).next((m=>{m?c.continue():r()})):r()}}))}H(t,n){const r=[];return new U(((o,u)=>{t.onerror=c=>{u(c.target.error)},t.onsuccess=c=>{const m=c.target.result;if(!m)return void o();const g=new l2(m),y=n(m.primaryKey,m.value,g);if(y instanceof U){const T=y.catch((S=>(g.done(),U.reject(S))));r.push(T)}g.isDone?o():g.G===null?m.continue():m.continue(g.G)}})).next((()=>U.waitFor(r)))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.X?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Js(s){return new U(((t,n)=>{s.onsuccess=r=>{const o=r.target.result;t(o)},s.onerror=r=>{const o=cp(r.target.error);n(o)}}))}let sE=!1;function cp(s){const t=ls.M(Le());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(n)>=0){const r=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sE||(sE=!0,setTimeout((()=>{throw r}),0)),r}}return s}const _u="IndexBackfiller";class c2{constructor(t,n){this.asyncQueue=t,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){et(_u,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const n=await this.ne.ie();et(_u,`Documents written: ${n}`)}catch(n){ds(n)?et(_u,"Ignoring IndexedDB error during index backfill: ",n):await va(n)}await this.re(6e4)}))}}class h2{constructor(t,n){this.localStore=t,this.persistence=n}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,t)))}se(t,n){const r=new Set;let o=n,u=!0;return U.doWhile((()=>u===!0&&o>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((c=>{if(c!==null&&!r.has(c))return et(_u,`Processing collection: ${c}`),this.oe(t,c,o).next((m=>{o-=m,r.add(c)}));u=!1})))).next((()=>n-o))}oe(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next((o=>this.localStore.localDocuments.getNextDocuments(t,n,o,r).next((u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next((()=>this._e(o,u))).next((m=>(et(_u,`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,n,m)))).next((()=>c.size))}))))}_e(t,n){let r=t;return n.changes.forEach(((o,u)=>{const c=AS(u);up(c,r)>0&&(r=c)})),new Dn(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}class Hn{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Hn.ce=-1;const ra=-1;function Vf(s){return s==null}function Du(s){return s===0&&1/s==-1/0}function f2(s){return typeof s=="number"&&Number.isInteger(s)&&!Du(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const uf="";function en(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=aE(t)),t=d2(s.get(n),t);return aE(t)}function d2(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case uf:n+="";break;default:n+=u}}return n}function aE(s){return s+uf+""}function Oi(s){const t=s.length;if(pt(t>=2,64408,{path:s}),t===2)return pt(s.charAt(0)===uf&&s.charAt(1)==="",56145,{path:s}),ie.emptyPath();const n=t-2,r=[];let o="";for(let u=0;u<t;){const c=s.indexOf(uf,u);switch((c<0||c>n)&&ht(50515,{path:s}),s.charAt(c+1)){case"":const m=s.substring(u,c);let g;o.length===0?g=m:(o+=m,g=o,o=""),r.push(g);break;case"":o+=s.substring(u,c),o+="\0";break;case"":o+=s.substring(u,c+1);break;default:ht(61167,{path:s})}u=c+2}return new ie(r)}const Xs="remoteDocuments",Ku="owner",fo="owner",Nu="mutationQueues",m2="userId",si="mutations",oE="batchId",ea="userMutationsIndex",lE=["userId","batchId"];function Fh(s,t){return[s,en(t)]}function RS(s,t,n){return[s,en(t),n]}const g2={},xo="documentMutations",cf="remoteDocumentsV14",p2=["prefixPath","collectionGroup","readTime","documentId"],Hh="documentKeyIndex",y2=["prefixPath","collectionGroup","documentId"],CS="collectionGroupIndex",_2=["collectionGroup","readTime","prefixPath","documentId"],Vu="remoteDocumentGlobal",bg="remoteDocumentGlobalKey",Mo="targets",DS="queryTargetsIndex",v2=["canonicalId","targetId"],Po="targetDocuments",T2=["targetId","path"],hp="documentTargetsIndex",E2=["path","targetId"],hf="targetGlobalKey",sa="targetGlobal",Ou="collectionParents",S2=["collectionId","parent"],ko="clientMetadata",A2="clientId",Of="bundles",b2="bundleId",xf="namedQueries",I2="name",fp="indexConfiguration",w2="indexId",Ig="collectionGroupIndex",R2="collectionGroup",vu="indexState",C2=["indexId","uid"],NS="sequenceNumberIndex",D2=["uid","sequenceNumber"],Tu="indexEntries",N2=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VS="documentKeyIndex",V2=["indexId","uid","orderedDocumentKey"],Mf="documentOverlays",O2=["userId","collectionPath","documentId"],wg="collectionPathOverlayIndex",x2=["userId","collectionPath","largestBatchId"],OS="collectionGroupOverlayIndex",M2=["userId","collectionGroup","largestBatchId"],dp="globals",P2="name",xS=[Nu,si,xo,Xs,Mo,Ku,sa,Po,ko,Vu,Ou,Of,xf],k2=[...xS,Mf],MS=[Nu,si,xo,cf,Mo,Ku,sa,Po,ko,Vu,Ou,Of,xf,Mf],PS=MS,mp=[...PS,fp,vu,Tu],U2=mp,kS=[...mp,dp],L2=kS;class Rg extends IS{constructor(t,n){super(),this.le=t,this.currentSequenceNumber=n}}function ze(s,t){const n=Rt(s);return ls.O(n.le,t)}function uE(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function Ta(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function US(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class de{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new de(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vh(this.root,t,this.comparator,!0)}}class Vh{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new $e(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ht(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new cE(this.data.getIterator())}getIteratorFrom(t){return new cE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof $t)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new $t(this.comparator);return n.data=t,n}}class cE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mo(s){return s.hasNext()?s.getNext():void 0}class Gn{constructor(t){this.fields=t,t.sort(me.comparator)}static empty(){return new Gn([])}unionWith(t){let n=new $t(me.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Gn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Oo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class LS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new LS("Invalid base64 string: "+u):u}})(t);return new xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xe.EMPTY_BYTE_STRING=new xe("");const z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(pt(!!s,39018),typeof s=="string"){let t=0;const n=z2.exec(s);if(pt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:fe(s.seconds),nanos:fe(s.nanos)}}function fe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?xe.fromBase64String(s):xe.fromUint8Array(s)}const zS="server_timestamp",BS="__type__",jS="__previous_value__",qS="__local_write_time__";function gp(s){return(s?.mapValue?.fields||{})[BS]?.stringValue===zS}function Pf(s){const t=s.mapValue.fields[jS];return gp(t)?Pf(t):t}function xu(s){const t=fr(s.mapValue.fields[qS].timestampValue);return new Jt(t.seconds,t.nanos)}class B2{constructor(t,n,r,o,u,c,m,g,y,T){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const ff="(default)";class da{constructor(t,n){this.projectId=t,this.database=n||ff}static empty(){return new da("","")}get isDefaultDatabase(){return this.database===ff}isEqual(t){return t instanceof da&&t.projectId===this.projectId&&t.database===this.database}}const pp="__type__",FS="__max__",is={mapValue:{fields:{__type__:{stringValue:FS}}}},yp="__vector__",Uo="value",Gh={nullValue:"NULL_VALUE"};function us(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?gp(s)?4:HS(s)?9007199254740991:kf(s)?10:11:ht(28295,{value:s})}function Li(s,t){if(s===t)return!0;const n=us(s);if(n!==us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return xu(s).isEqual(xu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=fr(o.timestampValue),m=fr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return dr(o.bytesValue).isEqual(dr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return fe(o.geoPointValue.latitude)===fe(u.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return fe(o.integerValue)===fe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=fe(o.doubleValue),m=fe(u.doubleValue);return c===m?Du(c)===Du(m):isNaN(c)&&isNaN(m)}return!1})(s,t);case 9:return Oo(s.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(uE(c)!==uE(m))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(m[g]===void 0||!Li(c[g],m[g])))return!1;return!0})(s,t);default:return ht(52216,{left:s})}}function Mu(s,t){return(s.values||[]).find((n=>Li(n,t)))!==void 0}function cs(s,t){if(s===t)return 0;const n=us(s),r=us(t);if(n!==r)return wt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return wt(s.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=fe(u.integerValue||u.doubleValue),g=fe(c.integerValue||c.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,t);case 3:return hE(s.timestampValue,t.timestampValue);case 4:return hE(xu(s),xu(t));case 5:return Sg(s.stringValue,t.stringValue);case 6:return(function(u,c){const m=dr(u),g=dr(c);return m.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),g=c.split("/");for(let y=0;y<m.length&&y<g.length;y++){const T=wt(m[y],g[y]);if(T!==0)return T}return wt(m.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=wt(fe(u.latitude),fe(c.latitude));return m!==0?m:wt(fe(u.longitude),fe(c.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return fE(s.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},g=c.fields||{},y=m[Uo]?.arrayValue,T=g[Uo]?.arrayValue,S=wt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:fE(y,T)})(s.mapValue,t.mapValue);case 11:return(function(u,c){if(u===is.mapValue&&c===is.mapValue)return 0;if(u===is.mapValue)return 1;if(c===is.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=c.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const I=Sg(g[S],T[S]);if(I!==0)return I;const j=cs(m[g[S]],y[T[S]]);if(j!==0)return j}return wt(g.length,T.length)})(s.mapValue,t.mapValue);default:throw ht(23264,{he:n})}}function hE(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return wt(s,t);const n=fr(s),r=fr(t),o=wt(n.seconds,r.seconds);return o!==0?o:wt(n.nanos,r.nanos)}function fE(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=cs(n[o],r[o]);if(u)return u}return wt(n.length,r.length)}function Lo(s){return Cg(s)}function Cg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=fr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return dr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ot.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Cg(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Cg(n.fields[c])}`;return o+"}"})(s.mapValue):ht(61005,{value:s})}function Kh(s){switch(us(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Pf(s);return t?16+Kh(t):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Kh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ta(r.fields,((u,c)=>{o+=u.length+Kh(c)})),o})(s.mapValue);default:throw ht(13486,{value:s})}}function _p(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Dg(s){return!!s&&"integerValue"in s}function Pu(s){return!!s&&"arrayValue"in s}function dE(s){return!!s&&"nullValue"in s}function mE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qh(s){return!!s&&"mapValue"in s}function kf(s){return(s?.mapValue?.fields||{})[pp]?.stringValue===yp}function Eu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Ta(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Eu(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Eu(s.arrayValue.values[n]);return t}return{...s}}function HS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===FS}const GS={mapValue:{fields:{[pp]:{stringValue:yp},[Uo]:{arrayValue:{}}}}};function j2(s){return"nullValue"in s?Gh:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?_p(da.empty(),ot.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?kf(s)?GS:{mapValue:{}}:ht(35942,{value:s})}function q2(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?_p(da.empty(),ot.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?GS:"mapValue"in s?kf(s)?{mapValue:{}}:is:ht(61959,{value:s})}function gE(s,t){const n=cs(s.value,t.value);return n!==0?n:s.inclusive&&!t.inclusive?-1:!s.inclusive&&t.inclusive?1:0}function pE(s,t){const n=cs(s.value,t.value);return n!==0?n:s.inclusive&&!t.inclusive?1:!s.inclusive&&t.inclusive?-1:0}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Qh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eu(n)}setAll(t){let n=me.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}c?r[m.lastSegment()]=Eu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Qh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){Ta(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new gn(Eu(this.value))}}function KS(s){const t=[];return Ta(s.fields,((n,r)=>{const o=new me([n]);if(Qh(r)){const u=KS(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Gn(t)}class ye{constructor(t,n,r,o,u,c,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new ye(t,0,_t.min(),_t.min(),_t.min(),gn.empty(),0)}static newFoundDocument(t,n,r,o){return new ye(t,1,n,_t.min(),r,o,0)}static newNoDocument(t,n){return new ye(t,2,n,_t.min(),_t.min(),gn.empty(),0)}static newUnknownDocument(t,n){return new ye(t,3,n,_t.min(),_t.min(),gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zo{constructor(t,n){this.position=t,this.inclusive=n}}function yE(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],c=s.position[o];if(u.field.isKeyField()?r=ot.comparator(ot.fromName(c.referenceValue),n.key):r=cs(c,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function _E(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Li(s.position[n],t.position[n]))return!1;return!0}class df{constructor(t,n="asc"){this.field=t,this.dir=n}}function F2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class QS{}class Bt extends QS{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new H2(t,n,r):n==="array-contains"?new Q2(t,r):n==="in"?new WS(t,r):n==="not-in"?new Y2(t,r):n==="array-contains-any"?new X2(t,r):new Bt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new G2(t,r):new K2(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cs(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(cs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class re extends QS{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new re(t,n)}matches(t){return Bo(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bo(s){return s.op==="and"}function Ng(s){return s.op==="or"}function vp(s){return YS(s)&&Bo(s)}function YS(s){for(const t of s.filters)if(t instanceof re)return!1;return!0}function Vg(s){if(s instanceof Bt)return s.field.canonicalString()+s.op.toString()+Lo(s.value);if(vp(s))return s.filters.map((t=>Vg(t))).join(",");{const t=s.filters.map((n=>Vg(n))).join(",");return`${s.op}(${t})`}}function XS(s,t){return s instanceof Bt?(function(r,o){return o instanceof Bt&&r.op===o.op&&r.field.isEqual(o.field)&&Li(r.value,o.value)})(s,t):s instanceof re?(function(r,o){return o instanceof re&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&XS(c,o.filters[m])),!0):!1})(s,t):void ht(19439)}function JS(s,t){const n=s.filters.concat(t);return re.create(n,s.op)}function $S(s){return s instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(s):s instanceof re?(function(n){return n.op.toString()+" {"+n.getFilters().map($S).join(" ,")+"}"})(s):"Filter"}class H2 extends Bt{constructor(t,n,r){super(t,n,r),this.key=ot.fromName(r.referenceValue)}matches(t){const n=ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class G2 extends Bt{constructor(t,n){super(t,"in",n),this.keys=ZS("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class K2 extends Bt{constructor(t,n){super(t,"not-in",n),this.keys=ZS("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function ZS(s,t){return(t.arrayValue?.values||[]).map((n=>ot.fromName(n.referenceValue)))}class Q2 extends Bt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Pu(n)&&Mu(n.arrayValue,this.value)}}class WS extends Bt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Mu(this.value.arrayValue,n)}}class Y2 extends Bt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mu(this.value.arrayValue,n)}}class X2 extends Bt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Pu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Mu(this.value.arrayValue,r)))}}class J2{constructor(t,n=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function Og(s,t=null,n=[],r=[],o=null,u=null,c=null){return new J2(s,t,n,r,o,u,c)}function ma(s){const t=Rt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Vg(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Vf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Lo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Lo(r))).join(",")),t.Te=n}return t.Te}function Qu(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!F2(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!XS(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!_E(s.startAt,t.startAt)&&_E(s.endAt,t.endAt)}function mf(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function gf(s,t){return s.filters.filter((n=>n instanceof Bt&&n.field.isEqual(t)))}function vE(s,t,n){let r=Gh,o=!0;for(const u of gf(s,t)){let c=Gh,m=!0;switch(u.op){case"<":case"<=":c=j2(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,m=!1;break;case"!=":case"not-in":c=Gh}gE({value:r,inclusive:o},{value:c,inclusive:m})<0&&(r=c,o=m)}if(n!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(t)){const c=n.position[u];gE({value:r,inclusive:o},{value:c,inclusive:n.inclusive})<0&&(r=c,o=n.inclusive);break}}return{value:r,inclusive:o}}function TE(s,t,n){let r=is,o=!0;for(const u of gf(s,t)){let c=is,m=!0;switch(u.op){case">=":case">":c=q2(u.value),m=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,m=!1;break;case"!=":case"not-in":c=is}pE({value:r,inclusive:o},{value:c,inclusive:m})>0&&(r=c,o=m)}if(n!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(t)){const c=n.position[u];pE({value:r,inclusive:o},{value:c,inclusive:n.inclusive})>0&&(r=c,o=n.inclusive);break}}return{value:r,inclusive:o}}class Uf{constructor(t,n=null,r=[],o=[],u=null,c="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $2(s,t,n,r,o,u,c,m){return new Uf(s,t,n,r,o,u,c,m)}function Yu(s){return new Uf(s)}function EE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Z2(s){return s.collectionGroup!==null}function Su(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new $t(me.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new df(u,r))})),n.has(me.keyField().canonicalString())||t.Ie.push(new df(me.keyField(),r))}return t.Ie}function Kn(s){const t=Rt(s);return t.Ee||(t.Ee=W2(t,Su(s))),t.Ee}function W2(s,t){if(s.limitType==="F")return Og(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new df(o.field,u)}));const n=s.endAt?new zo(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new zo(s.startAt.position,s.startAt.inclusive):null;return Og(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function xg(s,t,n){return new Uf(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Lf(s,t){return Qu(Kn(s),Kn(t))&&s.limitType===t.limitType}function tA(s){return`${ma(Kn(s))}|lt:${s.limitType}`}function To(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>$S(o))).join(", ")}]`),Vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${r})`})(Kn(s))}; limitType=${s.limitType})`}function Xu(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ot.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of Su(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,g){const y=yE(c,m,g);return c.inclusive?y<=0:y<0})(r.startAt,Su(r),o)||r.endAt&&!(function(c,m,g){const y=yE(c,m,g);return c.inclusive?y>=0:y>0})(r.endAt,Su(r),o))})(s,t)}function tD(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function eA(s){return(t,n)=>{let r=!1;for(const o of Su(s)){const u=eD(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function eD(s,t,n){const r=s.field.isKeyField()?ot.comparator(t.key,n.key):(function(u,c,m){const g=c.data.field(u),y=m.data.field(u);return g!==null&&y!==null?cs(g,y):ht(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ht(19790,{direction:s.dir})}}class gr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ta(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return US(this.inner)}size(){return this.innerSize}}const nD=new de(ot.comparator);function wn(){return nD}const nA=new de(ot.comparator);function hu(...s){let t=nA;for(const n of s)t=t.insert(n.key,n);return t}function iA(s){let t=nA;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function xi(){return Au()}function rA(){return Au()}function Au(){return new gr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const iD=new de(ot.comparator),rD=new $t(ot.comparator);function xt(...s){let t=rD;for(const n of s)t=t.add(n);return t}const sD=new $t(wt);function aD(){return sD}function Tp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(t)?"-0":t}}function sA(s){return{integerValue:""+s}}function oD(s,t){return f2(t)?sA(t):Tp(s,t)}class zf{constructor(){this._=void 0}}function lD(s,t,n){return s instanceof ku?(function(o,u){const c={fields:{[BS]:{stringValue:zS},[qS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=Pf(u)),u&&(c.fields[jS]=u),{mapValue:c}})(n,t):s instanceof jo?oA(s,t):s instanceof qo?lA(s,t):(function(o,u){const c=aA(o,u),m=SE(c)+SE(o.Ae);return Dg(c)&&Dg(o.Ae)?sA(m):Tp(o.serializer,m)})(s,t)}function uD(s,t,n){return s instanceof jo?oA(s,t):s instanceof qo?lA(s,t):n}function aA(s,t){return s instanceof Uu?(function(r){return Dg(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class ku extends zf{}class jo extends zf{constructor(t){super(),this.elements=t}}function oA(s,t){const n=uA(t);for(const r of s.elements)n.some((o=>Li(o,r)))||n.push(r);return{arrayValue:{values:n}}}class qo extends zf{constructor(t){super(),this.elements=t}}function lA(s,t){let n=uA(t);for(const r of s.elements)n=n.filter((o=>!Li(o,r)));return{arrayValue:{values:n}}}class Uu extends zf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function SE(s){return fe(s.integerValue||s.doubleValue)}function uA(s){return Pu(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class cD{constructor(t,n){this.field=t,this.transform=n}}function hD(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof jo&&o instanceof jo||r instanceof qo&&o instanceof qo?Oo(r.elements,o.elements,Li):r instanceof Uu&&o instanceof Uu?Li(r.Ae,o.Ae):r instanceof ku&&o instanceof ku})(s.transform,t.transform)}class fD{constructor(t,n){this.version=t,this.transformResults=n}}class Rn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Rn}static exists(t){return new Rn(void 0,t)}static updateTime(t){return new Rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Bf{}function cA(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Ep(s.key,Rn.none()):new Jo(s.key,s.data,Rn.none());{const n=s.data,r=gn.empty();let o=new $t(me.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new ms(s.key,r,new Gn(o.toArray()),Rn.none())}}function dD(s,t,n){s instanceof Jo?(function(o,u,c){const m=o.value.clone(),g=bE(o.fieldTransforms,u,c.transformResults);m.setAll(g),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(s,t,n):s instanceof ms?(function(o,u,c){if(!Yh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=bE(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(hA(o)),g.setAll(m),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(s,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function bu(s,t,n,r){return s instanceof Jo?(function(u,c,m,g){if(!Yh(u.precondition,c))return m;const y=u.value.clone(),T=IE(u.fieldTransforms,g,c);return y.setAll(T),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(s,t,n,r):s instanceof ms?(function(u,c,m,g){if(!Yh(u.precondition,c))return m;const y=IE(u.fieldTransforms,g,c),T=c.data;return T.setAll(hA(u)),T.setAll(y),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,t,n,r):(function(u,c,m){return Yh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(s,t,n)}function mD(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=aA(r.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(r.field,u))}return n||null}function AE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Oo(r,o,((u,c)=>hD(u,c)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Jo extends Bf{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends Bf{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hA(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function bE(s,t,n){const r=new Map;pt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,uD(c,m,n[o]))}return r}function IE(s,t,n){const r=new Map;for(const o of s){const u=o.transform,c=n.data.field(o.field);r.set(o.field,lD(u,c,t))}return r}class Ep extends Bf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fA extends Bf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sp{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&dD(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=bu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=bu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=rA();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const g=cA(c,m);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),xt())}isEqual(t){return this.batchId===t.batchId&&Oo(this.mutations,t.mutations,((n,r)=>AE(n,r)))&&Oo(this.baseMutations,t.baseMutations,((n,r)=>AE(n,r)))}}class Ap{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){pt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return iD})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Ap(t,n,r,o)}}class bp{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gD{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ve,qt;function pD(s){switch(s){case X.OK:return ht(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ht(15467,{code:s})}}function dA(s){if(s===void 0)return an("GRPC error has no .code"),X.UNKNOWN;switch(s){case Ve.OK:return X.OK;case Ve.CANCELLED:return X.CANCELLED;case Ve.UNKNOWN:return X.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return X.INTERNAL;case Ve.UNAVAILABLE:return X.UNAVAILABLE;case Ve.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ve.NOT_FOUND:return X.NOT_FOUND;case Ve.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ve.ABORTED:return X.ABORTED;case Ve.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ve.DATA_LOSS:return X.DATA_LOSS;default:return ht(39323,{code:s})}}(qt=Ve||(Ve={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function yD(){return new TextEncoder}const _D=new os([4294967295,4294967295],0);function wE(s){const t=yD().encode(s),n=new dS;return n.update(t),new Uint8Array(n.digest())}function RE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new os([n,r],0),new os([o,u],0)]}class Ip{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fu(`Invalid padding: ${n}`);if(r<0)throw new fu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=os.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(os.fromNumber(r)));return o.compare(_D)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=wE(t),[r,o]=RE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Ip(u,o,n);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const n=wE(t),[r,o]=RE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jf{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Ju.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new jf(_t.min(),o,new de(wt),wn(),xt())}}class Ju{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ju(r,n,xt(),xt(),xt())}}class Xh{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class mA{constructor(t,n){this.targetId=t,this.Ce=n}}class gA{constructor(t,n,r=xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class CE{constructor(){this.ve=0,this.Fe=DE(),this.Me=xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),n=xt(),r=xt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ht(38017,{changeType:u})}})),new Ju(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=DE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vD{constructor(t){this.Ge=t,this.ze=new Map,this.je=wn(),this.Je=Oh(),this.He=Oh(),this.Ye=new de(wt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:ht(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(mf(u))if(r===0){const c=new ot(u.path);this.et(n,c,ye.newNoDocument(c,_t.min()))}else pt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const m=this.ut(t),g=m?this.ct(m,t,c):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=dr(r).toUint8Array()}catch(g){if(g instanceof LS)return fa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ip(c,o,u)}catch(g){return fa(g instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&mf(m.target)){const g=new ot(m.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,ye.newNoDocument(g,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let r=xt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new jf(t,n,this.Ye,this.je,r);return this.je=wn(),this.Je=Oh(),this.He=Oh(),this.Ye=new de(wt),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new CE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new $t(wt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new $t(wt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||et("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new CE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Oh(){return new de(ot.comparator)}function DE(){return new de(ot.comparator)}const TD={asc:"ASCENDING",desc:"DESCENDING"},ED={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SD={and:"AND",or:"OR"};class AD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Mg(s,t){return s.useProto3Json||Vf(t)?t:{value:t}}function Fo(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pA(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function bD(s,t){return Fo(s,t.toTimestamp())}function on(s){return pt(!!s,49232),_t.fromTimestamp((function(n){const r=fr(n);return new Jt(r.seconds,r.nanos)})(s))}function wp(s,t){return Pg(s,t).canonicalString()}function Pg(s,t){const n=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function yA(s){const t=ie.fromString(s);return pt(wA(t),10190,{key:t.toString()}),t}function pf(s,t){return wp(s.databaseId,t.path)}function aa(s,t){const n=yA(t);if(n.get(1)!==s.databaseId.projectId)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ot(TA(n))}function _A(s,t){return wp(s.databaseId,t)}function vA(s){const t=yA(s);return t.length===4?ie.emptyPath():TA(t)}function kg(s){return new ie(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function TA(s){return pt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function NE(s,t,n){return{name:pf(s,t),fields:n.value.mapValue.fields}}function ID(s,t,n){const r=aa(s,t.name),o=on(t.updateTime),u=t.createTime?on(t.createTime):_t.min(),c=new gn({mapValue:{fields:t.fields}}),m=ye.newFoundDocument(r,o,u,c);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function wD(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ht(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(pt(T===void 0||typeof T=="string",58123),xe.fromBase64String(T||"")):(pt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),xe.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(y){const T=y.code===void 0?X.UNKNOWN:dA(y.code);return new ut(T,y.message||"")})(c);n=new gA(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=aa(s,r.document.name),u=on(r.document.updateTime),c=r.document.createTime?on(r.document.createTime):_t.min(),m=new gn({mapValue:{fields:r.document.fields}}),g=ye.newFoundDocument(o,u,c,m),y=r.targetIds||[],T=r.removedTargetIds||[];n=new Xh(y,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=aa(s,r.document),u=r.readTime?on(r.readTime):_t.min(),c=ye.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Xh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=aa(s,r.document),u=r.removedTargetIds||[];n=new Xh([],u,o,null)}else{if(!("filter"in t))return ht(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new gD(o,u),m=r.targetId;n=new mA(m,c)}}return n}function yf(s,t){let n;if(t instanceof Jo)n={update:NE(s,t.key,t.value)};else if(t instanceof Ep)n={delete:pf(s,t.key)};else if(t instanceof ms)n={update:NE(s,t.key,t.data),updateMask:OD(t.fieldMask)};else{if(!(t instanceof fA))return ht(16599,{Vt:t.type});n={verify:pf(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof ku)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof jo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof qo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uu)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw ht(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:bD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ht(27497)})(s,t.precondition)),n}function Ug(s,t){const n=t.currentDocument?(function(u){return u.updateTime!==void 0?Rn.updateTime(on(u.updateTime)):u.exists!==void 0?Rn.exists(u.exists):Rn.none()})(t.currentDocument):Rn.none(),r=t.updateTransforms?t.updateTransforms.map((o=>(function(c,m){let g=null;if("setToServerValue"in m)pt(m.setToServerValue==="REQUEST_TIME",16630,{proto:m}),g=new ku;else if("appendMissingElements"in m){const T=m.appendMissingElements.values||[];g=new jo(T)}else if("removeAllFromArray"in m){const T=m.removeAllFromArray.values||[];g=new qo(T)}else"increment"in m?g=new Uu(c,m.increment):ht(16584,{proto:m});const y=me.fromServerFormat(m.fieldPath);return new cD(y,g)})(s,o))):[];if(t.update){t.update.name;const o=aa(s,t.update.name),u=new gn({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=(function(g){const y=g.fieldPaths||[];return new Gn(y.map((T=>me.fromServerFormat(T))))})(t.updateMask);return new ms(o,u,c,n,r)}return new Jo(o,u,n,r)}if(t.delete){const o=aa(s,t.delete);return new Ep(o,n)}if(t.verify){const o=aa(s,t.verify);return new fA(o,n)}return ht(1463,{proto:t})}function RD(s,t){return s&&s.length>0?(pt(t!==void 0,14353),s.map((n=>(function(o,u){let c=o.updateTime?on(o.updateTime):on(u);return c.isEqual(_t.min())&&(c=on(u)),new fD(c,o.transformResults||[])})(n,t)))):[]}function EA(s,t){return{documents:[_A(s,t.path)]}}function SA(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_A(s,o);const u=(function(y){if(y.length!==0)return IA(re.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(y){if(y.length!==0)return y.map((T=>(function(I){return{field:Eo(I.field),direction:DD(I.dir)}})(T)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Mg(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function AA(s){let t=vA(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){pt(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const I=bA(S);return I instanceof re&&vp(I)?I.getFilters():[I]})(n.where));let c=[];n.orderBy&&(c=(function(S){return S.map((I=>(function($){return new df(So($.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(I)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let I;return I=typeof S=="object"?S.value:S,Vf(I)?null:I})(n.limit));let g=null;n.startAt&&(g=(function(S){const I=!!S.before,j=S.values||[];return new zo(j,I)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const I=!S.before,j=S.values||[];return new zo(j,I)})(n.endAt)),$2(t,o,c,u,m,"F",g,y)}function CD(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function bA(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=So(n.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=So(n.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=So(n.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(n.unaryFilter.field);return Bt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Bt.create(So(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return re.create(n.compositeFilter.filters.map((r=>bA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ht(1026)}})(n.compositeFilter.op))})(s):ht(30097,{filter:s})}function DD(s){return TD[s]}function ND(s){return ED[s]}function VD(s){return SD[s]}function Eo(s){return{fieldPath:s.canonicalString()}}function So(s){return me.fromServerFormat(s.fieldPath)}function IA(s){return s instanceof Bt?(function(n){if(n.op==="=="){if(mE(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(dE(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mE(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(dE(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:ND(n.op),value:n.value}}})(s):s instanceof re?(function(n){const r=n.getFilters().map((o=>IA(o)));return r.length===1?r[0]:{compositeFilter:{op:VD(n.op),filters:r}}})(s):ht(54877,{filter:s})}function OD(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function wA(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class or{constructor(t,n,r,o,u=_t.min(),c=_t.min(),m=xe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class RA{constructor(t){this.yt=t}}function xD(s,t){let n;if(t.document)n=ID(s.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=ot.fromSegments(t.noDocument.path),o=pa(t.noDocument.readTime);n=ye.newNoDocument(r,o),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ht(56709);{const r=ot.fromSegments(t.unknownDocument.path),o=pa(t.unknownDocument.version);n=ye.newUnknownDocument(r,o)}}return t.readTime&&n.setReadTime((function(o){const u=new Jt(o[0],o[1]);return _t.fromTimestamp(u)})(t.readTime)),n}function VE(s,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_f(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=(function(u,c){return{name:pf(u,c.key),fields:c.data.value.mapValue.fields,updateTime:Fo(u,c.version.toTimestamp()),createTime:Fo(u,c.createTime.toTimestamp())}})(s.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ga(t.version)};else{if(!t.isUnknownDocument())return ht(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:ga(t.version)}}return r}function _f(s){const t=s.toTimestamp();return[t.seconds,t.nanoseconds]}function ga(s){const t=s.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function pa(s){const t=new Jt(s.seconds,s.nanoseconds);return _t.fromTimestamp(t)}function $s(s,t){const n=(t.baseMutations||[]).map((u=>Ug(s.yt,u)));for(let u=0;u<t.mutations.length-1;++u){const c=t.mutations[u];if(u+1<t.mutations.length&&t.mutations[u+1].transform!==void 0){const m=t.mutations[u+1];c.updateTransforms=m.transform.fieldTransforms,t.mutations.splice(u+1,1),++u}}const r=t.mutations.map((u=>Ug(s.yt,u))),o=Jt.fromMillis(t.localWriteTimeMs);return new Sp(t.batchId,o,n,r)}function du(s){const t=pa(s.readTime),n=s.lastLimboFreeSnapshotVersion!==void 0?pa(s.lastLimboFreeSnapshotVersion):_t.min();let r;return r=(function(u){return u.documents!==void 0})(s.query)?(function(u){const c=u.documents.length;return pt(c===1,1966,{count:c}),Kn(Yu(vA(u.documents[0])))})(s.query):(function(u){return Kn(AA(u))})(s.query),new or(r,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,t,n,xe.fromBase64String(s.resumeToken))}function CA(s,t){const n=ga(t.snapshotVersion),r=ga(t.lastLimboFreeSnapshotVersion);let o;o=mf(t.target)?EA(s.yt,t.target):SA(s.yt,t.target).ft;const u=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ma(t.target),readTime:n,resumeToken:u,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function DA(s){const t=AA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xg(t,t.limit,"L"):t}function ag(s,t){return new bp(t.largestBatchId,Ug(s.yt,t.overlayMutation))}function OE(s,t){const n=t.path.lastSegment();return[s,en(t.path.popLast()),n]}function xE(s,t,n,r){return{indexId:s,uid:t,sequenceNumber:n,readTime:ga(r.readTime),documentKey:en(r.documentKey.path),largestBatchId:r.largestBatchId}}class MD{getBundleMetadata(t,n){return ME(t).get(n).next((r=>{if(r)return(function(u){return{id:u.bundleId,createTime:pa(u.createTime),version:u.version}})(r)}))}saveBundleMetadata(t,n){return ME(t).put((function(o){return{bundleId:o.id,createTime:ga(on(o.createTime)),version:o.version}})(n))}getNamedQuery(t,n){return PE(t).get(n).next((r=>{if(r)return(function(u){return{name:u.name,query:DA(u.bundledQuery),readTime:pa(u.readTime)}})(r)}))}saveNamedQuery(t,n){return PE(t).put((function(o){return{name:o.name,readTime:ga(on(o.readTime)),bundledQuery:o.bundledQuery}})(n))}}function ME(s){return ze(s,Of)}function PE(s){return ze(s,xf)}class qf{constructor(t,n){this.serializer=t,this.userId=n}static wt(t,n){const r=n.uid||"";return new qf(t,r)}getOverlay(t,n){return ru(t).get(OE(this.userId,n)).next((r=>r?ag(this.serializer,r):null))}getOverlays(t,n){const r=xi();return U.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){const o=[];return r.forEach(((u,c)=>{const m=new bp(n,c);o.push(this.St(t,m))})),U.waitFor(o)}removeOverlaysForBatchId(t,n,r){const o=new Set;n.forEach((c=>o.add(en(c.getCollectionPath()))));const u=[];return o.forEach((c=>{const m=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(ru(t).Z(wg,m))})),U.waitFor(u)}getOverlaysForCollection(t,n,r){const o=xi(),u=en(n),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return ru(t).J(wg,c).next((m=>{for(const g of m){const y=ag(this.serializer,g);o.set(y.getKey(),y)}return o}))}getOverlaysForCollectionGroup(t,n,r,o){const u=xi();let c;const m=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ru(t).ee({index:OS,range:m},((g,y,T)=>{const S=ag(this.serializer,y);u.size()<o||S.largestBatchId===c?(u.set(S.getKey(),S),c=S.largestBatchId):T.done()})).next((()=>u))}St(t,n){return ru(t).put((function(o,u,c){const[m,g,y]=OE(u,c.mutation.key);return{userId:u,collectionPath:g,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:yf(o.yt,c.mutation)}})(this.serializer,this.userId,n))}}function ru(s){return ze(s,Mf)}class PD{bt(t){return ze(t,dp)}getSessionToken(t){return this.bt(t).get("sessionToken").next((n=>{const r=n?.value;return r?xe.fromUint8Array(r):xe.EMPTY_BYTE_STRING}))}setSessionToken(t,n){return this.bt(t).put({name:"sessionToken",value:n.toUint8Array()})}}class Zs{constructor(){}Dt(t,n){this.Ct(t,n),n.vt()}Ct(t,n){if("nullValue"in t)this.Ft(n,5);else if("booleanValue"in t)this.Ft(n,10),n.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(n,15),n.Mt(fe(t.integerValue));else if("doubleValue"in t){const r=fe(t.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Du(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=fr(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,n),this.Nt(n);else if("bytesValue"in t)this.Ft(n,30),n.Bt(dr(t.bytesValue)),this.Nt(n);else if("referenceValue"in t)this.Lt(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in t?HS(t)?this.Ft(n,Number.MAX_SAFE_INTEGER):kf(t)?this.kt(t.mapValue,n):(this.qt(t.mapValue,n),this.Nt(n)):"arrayValue"in t?(this.Qt(t.arrayValue,n),this.Nt(n)):ht(19022,{$t:t})}Ot(t,n){this.Ft(n,25),this.Ut(t,n)}Ut(t,n){n.xt(t)}qt(t,n){const r=t.fields||{};this.Ft(n,55);for(const o of Object.keys(r))this.Ot(o,n),this.Ct(r[o],n)}kt(t,n){const r=t.fields||{};this.Ft(n,53);const o=Uo,u=r[o].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(fe(u)),this.Ot(o,n),this.Ct(r[o],n)}Qt(t,n){const r=t.values||[];this.Ft(n,50);for(const o of r)this.Ct(o,n)}Lt(t,n){this.Ft(n,37),ot.fromName(t).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(t,n){t.Mt(n)}Nt(t){t.Mt(2)}}Zs.Kt=new Zs;const go=255;function kD(s){if(s===0)return 8;let t=0;return s>>4||(t+=4,s<<=4),s>>6||(t+=2,s<<=2),s>>7||(t+=1),t}function kE(s){const t=64-(function(r){let o=0;for(let u=0;u<8;++u){const c=kD(255&r[u]);if(o+=c,c!==8)break}return o})(s);return Math.ceil(t/8)}class UD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const o=n.codePointAt(0);this.Gt(240|o>>>18),this.Gt(128|63&o>>>12),this.Gt(128|63&o>>>6),this.Gt(128|63&o)}}this.zt()}Zt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const o=n.codePointAt(0);this.Jt(240|o>>>18),this.Jt(128|63&o>>>12),this.Jt(128|63&o>>>6),this.Jt(128|63&o)}}this.Ht()}Xt(t){const n=this.en(t),r=kE(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=255&n[o]}nn(t){const n=this.en(t),r=kE(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=~(255&n[o])}rn(){this.sn(go),this.sn(255)}_n(){this.an(go),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const n=(function(u){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,u,!1),new Uint8Array(c.buffer)})(t),r=!!(128&n[0]);n[0]^=r?255:128;for(let o=1;o<n.length;++o)n[o]^=r?255:0;return n}Gt(t){const n=255&t;n===0?(this.sn(0),this.sn(255)):n===go?(this.sn(go),this.sn(0)):this.sn(n)}Jt(t){const n=255&t;n===0?(this.an(0),this.an(255)):n===go?(this.an(go),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class LD{constructor(t){this.cn=t}Bt(t){this.cn.Wt(t)}xt(t){this.cn.Yt(t)}Mt(t){this.cn.Xt(t)}vt(){this.cn.rn()}}class zD{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class su{constructor(){this.cn=new UD,this.ln=new LD(this.cn),this.hn=new zD(this.cn)}seed(t){this.cn.seed(t)}Pn(t){return t===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ws{constructor(t,n,r,o){this.Tn=t,this.In=n,this.En=r,this.dn=o}An(){const t=this.dn.length,n=t===0||this.dn[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.dn,0),n!==t?r.set([0],this.dn.length):++r[r.length-1],new Ws(this.Tn,this.In,this.En,r)}Rn(t,n,r){return{indexId:this.Tn,uid:t,arrayValue:Jh(this.En),directionalValue:Jh(this.dn),orderedDocumentKey:Jh(n),documentKey:r.path.toArray()}}Vn(t,n,r){const o=this.Rn(t,n,r);return[o.indexId,o.uid,o.arrayValue,o.directionalValue,o.orderedDocumentKey,o.documentKey]}}function Jr(s,t){let n=s.Tn-t.Tn;return n!==0?n:(n=UE(s.En,t.En),n!==0?n:(n=UE(s.dn,t.dn),n!==0?n:ot.comparator(s.In,t.In)))}function UE(s,t){for(let n=0;n<s.length&&n<t.length;++n){const r=s[n]-t[n];if(r!==0)return r}return s.length-t.length}function Jh(s){return D0()?(function(n){let r="";for(let o=0;o<n.length;o++)r+=String.fromCharCode(n[o]);return r})(s):s}function LE(s){return typeof s!="string"?s:(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(s)}class zE{constructor(t){this.mn=new $t(((n,r)=>me.comparator(n.field,r.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.fn=t.orderBy,this.gn=[];for(const n of t.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(t){if(pt(t.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Ag(t);if(n!==void 0&&!this.wn(n))return!1;const r=Ys(t);let o=new Set,u=0,c=0;for(;u<r.length&&this.wn(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(this.mn.size>0){const m=this.mn.getIterator().getNext();if(!o.has(m.field.canonicalString())){const g=r[u];if(!this.Sn(m,g)||!this.bn(this.fn[c++],g))return!1}++u}for(;u<r.length;++u){const m=r[u];if(c>=this.fn.length||!this.bn(this.fn[c++],m))return!1}return!0}Dn(){if(this.pn)return null;let t=new $t(me.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new qh(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),n.push(new qh(r.field,0))}for(const r of this.fn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),n.push(new qh(r.field,r.dir==="asc"?0:1)));return new lf(lf.UNKNOWN_ID,this.collectionId,n,Cu.empty())}wn(t){for(const n of this.gn)if(this.Sn(n,t))return!0;return!1}Sn(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===r}bn(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}function NA(s){if(pt(s instanceof Bt||s instanceof re,20012),s instanceof Bt){if(s instanceof WS){const n=s.value.arrayValue?.values?.map((r=>Bt.create(s.field,"==",r)))||[];return re.create(n,"or")}return s}const t=s.filters.map((n=>NA(n)));return re.create(t,s.op)}function BD(s){if(s.getFilters().length===0)return[];const t=Bg(NA(s));return pt(VA(t),7391),Lg(t)||zg(t)?[t]:t.getFilters()}function Lg(s){return s instanceof Bt}function zg(s){return s instanceof re&&vp(s)}function VA(s){return Lg(s)||zg(s)||(function(n){if(n instanceof re&&Ng(n)){for(const r of n.getFilters())if(!Lg(r)&&!zg(r))return!1;return!0}return!1})(s)}function Bg(s){if(pt(s instanceof Bt||s instanceof re,34018),s instanceof Bt)return s;if(s.filters.length===1)return Bg(s.filters[0]);const t=s.filters.map((r=>Bg(r)));let n=re.create(t,s.op);return n=vf(n),VA(n)?n:(pt(n instanceof re,64498),pt(Bo(n),40251),pt(n.filters.length>1,57927),n.filters.reduce(((r,o)=>Rp(r,o))))}function Rp(s,t){let n;return pt(s instanceof Bt||s instanceof re,38388),pt(t instanceof Bt||t instanceof re,25473),n=s instanceof Bt?t instanceof Bt?(function(o,u){return re.create([o,u],"and")})(s,t):BE(s,t):t instanceof Bt?BE(t,s):(function(o,u){if(pt(o.filters.length>0&&u.filters.length>0,48005),Bo(o)&&Bo(u))return JS(o,u.getFilters());const c=Ng(o)?o:u,m=Ng(o)?u:o,g=c.filters.map((y=>Rp(y,m)));return re.create(g,"or")})(s,t),vf(n)}function BE(s,t){if(Bo(t))return JS(t,s.getFilters());{const n=t.filters.map((r=>Rp(s,r)));return re.create(n,"or")}}function vf(s){if(pt(s instanceof Bt||s instanceof re,11850),s instanceof Bt)return s;const t=s.getFilters();if(t.length===1)return vf(t[0]);if(YS(s))return s;const n=t.map((o=>vf(o))),r=[];return n.forEach((o=>{o instanceof Bt?r.push(o):o instanceof re&&(o.op===s.op?r.push(...o.filters):r.push(o))})),r.length===1?r[0]:re.create(r,s.op)}class jD{constructor(){this.Cn=new Cp}addToCollectionParentIndex(t,n){return this.Cn.add(n),U.resolve()}getCollectionParents(t,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return U.resolve()}deleteFieldIndex(t,n){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,n){return U.resolve()}getDocumentsMatchingTarget(t,n){return U.resolve(null)}getIndexType(t,n){return U.resolve(0)}getFieldIndexes(t,n){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,n){return U.resolve(Dn.min())}getMinOffsetFromCollectionGroup(t,n){return U.resolve(Dn.min())}updateCollectionGroup(t,n,r){return U.resolve()}updateIndexEntries(t,n){return U.resolve()}}class Cp{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new $t(ie.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new $t(ie.comparator)).toArray()}}const jE="IndexedDbIndexManager",xh=new Uint8Array(0);class qD{constructor(t,n){this.databaseId=n,this.vn=new Cp,this.Fn=new gr((r=>ma(r)),((r,o)=>Qu(r,o))),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.vn.has(n)){const r=n.lastSegment(),o=n.popLast();t.addOnCommittedListener((()=>{this.vn.add(n)}));const u={collectionId:r,parent:en(o)};return qE(t).put(u)}return U.resolve()}getCollectionParents(t,n){const r=[],o=IDBKeyRange.bound([n,""],[ES(n),""],!1,!0);return qE(t).J(o).next((u=>{for(const c of u){if(c.collectionId!==n)break;r.push(Oi(c.parent))}return r}))}addFieldIndex(t,n){const r=au(t),o=(function(m){return{indexId:m.indexId,collectionGroup:m.collectionGroup,fields:m.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(n);delete o.indexId;const u=r.add(o);if(n.indexState){const c=yo(t);return u.next((m=>{c.put(xE(m,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return u.next()}deleteFieldIndex(t,n){const r=au(t),o=yo(t),u=po(t);return r.delete(n.indexId).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const n=au(t),r=po(t),o=yo(t);return n.Z().next((()=>r.Z())).next((()=>o.Z()))}createTargetIndexes(t,n){return U.forEach(this.Mn(n),(r=>this.getIndexType(t,r).next((o=>{if(o===0||o===1){const u=new zE(r).Dn();if(u!=null)return this.addFieldIndex(t,u)}}))))}getDocumentsMatchingTarget(t,n){const r=po(t);let o=!0;const u=new Map;return U.forEach(this.Mn(n),(c=>this.xn(t,c).next((m=>{o&&(o=!!m),u.set(c,m)})))).next((()=>{if(o){let c=xt();const m=[];return U.forEach(u,((g,y)=>{et(jE,`Using index ${(function(at){return`id=${at.indexId}|cg=${at.collectionGroup}|f=${at.fields.map((bt=>`${bt.fieldPath}:${bt.kind}`)).join(",")}`})(g)} to execute ${ma(n)}`);const T=(function(at,bt){const Ct=Ag(bt);if(Ct===void 0)return null;for(const vt of gf(at,Ct.fieldPath))switch(vt.op){case"array-contains-any":return vt.value.arrayValue.values||[];case"array-contains":return[vt.value]}return null})(y,g),S=(function(at,bt){const Ct=new Map;for(const vt of Ys(bt))for(const R of gf(at,vt.fieldPath))switch(R.op){case"==":case"in":Ct.set(vt.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return Ct.set(vt.fieldPath.canonicalString(),R.value),Array.from(Ct.values())}return null})(y,g),I=(function(at,bt){const Ct=[];let vt=!0;for(const R of Ys(bt)){const b=R.kind===0?vE(at,R.fieldPath,at.startAt):TE(at,R.fieldPath,at.startAt);Ct.push(b.value),vt&&(vt=b.inclusive)}return new zo(Ct,vt)})(y,g),j=(function(at,bt){const Ct=[];let vt=!0;for(const R of Ys(bt)){const b=R.kind===0?TE(at,R.fieldPath,at.endAt):vE(at,R.fieldPath,at.endAt);Ct.push(b.value),vt&&(vt=b.inclusive)}return new zo(Ct,vt)})(y,g),$=this.On(g,y,I),tt=this.On(g,y,j),W=this.Nn(g,y,S),dt=this.Bn(g.indexId,T,$,I.inclusive,tt,j.inclusive,W);return U.forEach(dt,(gt=>r.Y(gt,n.limit).next((at=>{at.forEach((bt=>{const Ct=ot.fromSegments(bt.documentKey);c.has(Ct)||(c=c.add(Ct),m.push(Ct))}))}))))})).next((()=>m))}return U.resolve(null)}))}Mn(t){let n=this.Fn.get(t);return n||(t.filters.length===0?n=[t]:n=BD(re.create(t.filters,"and")).map((r=>Og(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt))),this.Fn.set(t,n),n)}Bn(t,n,r,o,u,c,m){const g=(n!=null?n.length:1)*Math.max(r.length,u.length),y=g/(n!=null?n.length:1),T=[];for(let S=0;S<g;++S){const I=n?this.Ln(n[S/y]):xh,j=this.kn(t,I,r[S%y],o),$=this.qn(t,I,u[S%y],c),tt=m.map((W=>this.kn(t,I,W,!0)));T.push(...this.createRange(j,$,tt))}return T}kn(t,n,r,o){const u=new Ws(t,ot.empty(),n,r);return o?u:u.An()}qn(t,n,r,o){const u=new Ws(t,ot.empty(),n,r);return o?u.An():u}xn(t,n){const r=new zE(n),o=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,o).next((u=>{let c=null;for(const m of u)r.yn(m)&&(!c||m.fields.length>c.fields.length)&&(c=m);return c}))}getIndexType(t,n){let r=2;const o=this.Mn(n);return U.forEach(o,(u=>this.xn(t,u).next((c=>{c?r!==0&&c.fields.length<(function(g){let y=new $t(me.comparator),T=!1;for(const S of g.filters)for(const I of S.getFlattenedFilters())I.field.isKeyField()||(I.op==="array-contains"||I.op==="array-contains-any"?T=!0:y=y.add(I.field));for(const S of g.orderBy)S.field.isKeyField()||(y=y.add(S.field));return y.size+(T?1:0)})(u)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&o.length>1&&r===2?1:r))}Qn(t,n){const r=new su;for(const o of Ys(t)){const u=n.data.field(o.fieldPath);if(u==null)return null;const c=r.Pn(o.kind);Zs.Kt.Dt(u,c)}return r.un()}Ln(t){const n=new su;return Zs.Kt.Dt(t,n.Pn(0)),n.un()}$n(t,n){const r=new su;return Zs.Kt.Dt(_p(this.databaseId,n),r.Pn((function(u){const c=Ys(u);return c.length===0?0:c[c.length-1].kind})(t))),r.un()}Nn(t,n,r){if(r===null)return[];let o=[];o.push(new su);let u=0;for(const c of Ys(t)){const m=r[u++];for(const g of o)if(this.Un(n,c.fieldPath)&&Pu(m))o=this.Kn(o,c,m);else{const y=g.Pn(c.kind);Zs.Kt.Dt(m,y)}}return this.Wn(o)}On(t,n,r){return this.Nn(t,n,r.position)}Wn(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].un();return n}Kn(t,n,r){const o=[...t],u=[];for(const c of r.arrayValue.values||[])for(const m of o){const g=new su;g.seed(m.un()),Zs.Kt.Dt(c,g.Pn(n.kind)),u.push(g)}return u}Un(t,n){return!!t.filters.find((r=>r instanceof Bt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(t,n){const r=au(t),o=yo(t);return(n?r.J(Ig,IDBKeyRange.bound(n,n)):r.J()).next((u=>{const c=[];return U.forEach(u,(m=>o.get([m.indexId,this.uid]).next((g=>{c.push((function(T,S){const I=S?new Cu(S.sequenceNumber,new Dn(pa(S.readTime),new ot(Oi(S.documentKey)),S.largestBatchId)):Cu.empty(),j=T.fields.map((([$,tt])=>new qh(me.fromServerFormat($),tt)));return new lf(T.indexId,T.collectionGroup,j,I)})(m,g))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((n=>n.length===0?null:(n.sort(((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return u!==0?u:wt(r.collectionGroup,o.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(t,n,r){const o=au(t),u=yo(t);return this.Gn(t).next((c=>o.J(Ig,IDBKeyRange.bound(n,n)).next((m=>U.forEach(m,(g=>u.put(xE(g.indexId,this.uid,c,r))))))))}updateIndexEntries(t,n){const r=new Map;return U.forEach(n,((o,u)=>{const c=r.get(o.collectionGroup);return(c?U.resolve(c):this.getFieldIndexes(t,o.collectionGroup)).next((m=>(r.set(o.collectionGroup,m),U.forEach(m,(g=>this.zn(t,o,g).next((y=>{const T=this.jn(u,g);return y.isEqual(T)?U.resolve():this.Jn(t,u,g,y,T)})))))))}))}Hn(t,n,r,o){return po(t).put(o.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(t,n,r,o){return po(t).delete(o.Vn(this.uid,this.$n(r,n.key),n.key))}zn(t,n,r){const o=po(t);let u=new $t(Jr);return o.ee({index:VS,range:IDBKeyRange.only([r.indexId,this.uid,Jh(this.$n(r,n))])},((c,m)=>{u=u.add(new Ws(r.indexId,n,LE(m.arrayValue),LE(m.directionalValue)))})).next((()=>u))}jn(t,n){let r=new $t(Jr);const o=this.Qn(n,t);if(o==null)return r;const u=Ag(n);if(u!=null){const c=t.data.field(u.fieldPath);if(Pu(c))for(const m of c.arrayValue.values||[])r=r.add(new Ws(n.indexId,t.key,this.Ln(m),o))}else r=r.add(new Ws(n.indexId,t.key,xh,o));return r}Jn(t,n,r,o,u){et(jE,"Updating index entries for document '%s'",n.key);const c=[];return(function(g,y,T,S,I){const j=g.getIterator(),$=y.getIterator();let tt=mo(j),W=mo($);for(;tt||W;){let dt=!1,gt=!1;if(tt&&W){const at=T(tt,W);at<0?gt=!0:at>0&&(dt=!0)}else tt!=null?gt=!0:dt=!0;dt?(S(W),W=mo($)):gt?(I(tt),tt=mo(j)):(tt=mo(j),W=mo($))}})(o,u,Jr,(m=>{c.push(this.Hn(t,n,r,m))}),(m=>{c.push(this.Yn(t,n,r,m))})),U.waitFor(c)}Gn(t){let n=1;return yo(t).ee({index:NS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,o,u)=>{u.done(),n=o.sequenceNumber+1})).next((()=>n))}createRange(t,n,r){r=r.sort(((c,m)=>Jr(c,m))).filter(((c,m,g)=>!m||Jr(c,g[m-1])!==0));const o=[];o.push(t);for(const c of r){const m=Jr(c,t),g=Jr(c,n);if(m===0)o[0]=t.An();else if(m>0&&g<0)o.push(c),o.push(c.An());else if(g>0)break}o.push(n);const u=[];for(let c=0;c<o.length;c+=2){if(this.Zn(o[c],o[c+1]))return[];const m=o[c].Vn(this.uid,xh,ot.empty()),g=o[c+1].Vn(this.uid,xh,ot.empty());u.push(IDBKeyRange.bound(m,g))}return u}Zn(t,n){return Jr(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(FE)}getMinOffset(t,n){return U.mapArray(this.Mn(n),(r=>this.xn(t,r).next((o=>o||ht(44426))))).next(FE)}}function qE(s){return ze(s,Ou)}function po(s){return ze(s,Tu)}function au(s){return ze(s,fp)}function yo(s){return ze(s,vu)}function FE(s){pt(s.length!==0,28825);let t=s[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<s.length;r++){const o=s[r].indexState.offset;up(o,t)<0&&(t=o),n<o.largestBatchId&&(n=o.largestBatchId)}return new Dn(t.readTime,t.documentKey,n)}const HE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OA=41943040;class tn{static withCacheSize(t){return new tn(t,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function xA(s,t,n){const r=s.store(si),o=s.store(xo),u=[],c=IDBKeyRange.only(n.batchId);let m=0;const g=r.ee({range:c},((T,S,I)=>(m++,I.delete())));u.push(g.next((()=>{pt(m===1,47070,{batchId:n.batchId})})));const y=[];for(const T of n.mutations){const S=RS(t,T.key.path,n.batchId);u.push(o.delete(S)),y.push(T.key)}return U.waitFor(u).next((()=>y))}function Tf(s){if(!s)return 0;let t;if(s.document)t=s.document;else if(s.unknownDocument)t=s.unknownDocument;else{if(!s.noDocument)throw ht(14731);t=s.noDocument}return JSON.stringify(t).length}tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(OA,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);class Ff{constructor(t,n,r,o){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=o,this.Xn={}}static wt(t,n,r,o){pt(t.uid!=="",64387);const u=t.isAuthenticated()?t.uid:"";return new Ff(u,n,r,o)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $r(t).ee({index:ea,range:r},((o,u,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(t,n,r,o){const u=Ao(t),c=$r(t);return c.add({}).next((m=>{pt(typeof m=="number",49019);const g=new Sp(m,n,r,o),y=(function(j,$,tt){const W=tt.baseMutations.map((gt=>yf(j.yt,gt))),dt=tt.mutations.map((gt=>yf(j.yt,gt)));return{userId:$,batchId:tt.batchId,localWriteTimeMs:tt.localWriteTime.toMillis(),baseMutations:W,mutations:dt}})(this.serializer,this.userId,g),T=[];let S=new $t(((I,j)=>wt(I.canonicalString(),j.canonicalString())));for(const I of o){const j=RS(this.userId,I.key.path,m);S=S.add(I.key.path.popLast()),T.push(c.put(y)),T.push(u.put(j,g2))}return S.forEach((I=>{T.push(this.indexManager.addToCollectionParentIndex(t,I))})),t.addOnCommittedListener((()=>{this.Xn[m]=g.keys()})),U.waitFor(T).next((()=>g))}))}lookupMutationBatch(t,n){return $r(t).get(n).next((r=>r?(pt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),$s(this.serializer,r)):null))}er(t,n){return this.Xn[n]?U.resolve(this.Xn[n]):this.lookupMutationBatch(t,n).next((r=>{if(r){const o=r.keys();return this.Xn[n]=o,o}return null}))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return $r(t).ee({index:ea,range:o},((c,m,g)=>{m.userId===this.userId&&(pt(m.batchId>=r,47524,{tr:r}),u=$s(this.serializer,m)),g.done()})).next((()=>u))}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ra;return $r(t).ee({index:ea,range:n,reverse:!0},((o,u,c)=>{r=u.batchId,c.done()})).next((()=>r))}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,ra],[this.userId,Number.POSITIVE_INFINITY]);return $r(t).J(ea,n).next((r=>r.map((o=>$s(this.serializer,o)))))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=Fh(this.userId,n.path),o=IDBKeyRange.lowerBound(r),u=[];return Ao(t).ee({range:o},((c,m,g)=>{const[y,T,S]=c,I=Oi(T);if(y===this.userId&&n.path.isEqual(I))return $r(t).get(S).next((j=>{if(!j)throw ht(61480,{nr:c,batchId:S});pt(j.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:j.userId,batchId:S}),u.push($s(this.serializer,j))}));g.done()})).next((()=>u))}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new $t(wt);const o=[];return n.forEach((u=>{const c=Fh(this.userId,u.path),m=IDBKeyRange.lowerBound(c),g=Ao(t).ee({range:m},((y,T,S)=>{const[I,j,$]=y,tt=Oi(j);I===this.userId&&u.path.isEqual(tt)?r=r.add($):S.done()}));o.push(g)})),U.waitFor(o).next((()=>this.rr(t,r)))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1,u=Fh(this.userId,r),c=IDBKeyRange.lowerBound(u);let m=new $t(wt);return Ao(t).ee({range:c},((g,y,T)=>{const[S,I,j]=g,$=Oi(I);S===this.userId&&r.isPrefixOf($)?$.length===o&&(m=m.add(j)):T.done()})).next((()=>this.rr(t,m)))}rr(t,n){const r=[],o=[];return n.forEach((u=>{o.push($r(t).get(u).next((c=>{if(c===null)throw ht(35274,{batchId:u});pt(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:u}),r.push($s(this.serializer,c))})))})),U.waitFor(o).next((()=>r))}removeMutationBatch(t,n){return xA(t.le,this.userId,n).next((r=>(t.addOnCommittedListener((()=>{this.ir(n.batchId)})),U.forEach(r,(o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))))}ir(t){delete this.Xn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((n=>{if(!n)return U.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),o=[];return Ao(t).ee({range:r},((u,c,m)=>{if(u[0]===this.userId){const g=Oi(u[1]);o.push(g)}else m.done()})).next((()=>{pt(o.length===0,56720,{sr:o.map((u=>u.canonicalString()))})}))}))}containsKey(t,n){return MA(t,this.userId,n)}_r(t){return PA(t).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:ra,lastStreamToken:""}))}}function MA(s,t,n){const r=Fh(t,n.path),o=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Ao(s).ee({range:u,X:!0},((m,g,y)=>{const[T,S,I]=m;T===t&&S===o&&(c=!0),y.done()})).next((()=>c))}function $r(s){return ze(s,si)}function Ao(s){return ze(s,xo)}function PA(s){return ze(s,Nu)}class ya{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ya(0)}static cr(){return new ya(-1)}}class FD{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.lr(t).next((n=>{const r=new ya(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(t,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.lr(t).next((n=>_t.fromTimestamp(new Jt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.lr(t).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(t,n,r){return this.lr(t).next((o=>(o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.hr(t,o))))}addTargetData(t,n){return this.Pr(t,n).next((()=>this.lr(t).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(t,r))))))}updateTargetData(t,n){return this.Pr(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next((()=>_o(t).delete(n.targetId))).next((()=>this.lr(t))).next((r=>(pt(r.targetCount>0,8065),r.targetCount-=1,this.hr(t,r))))}removeTargets(t,n,r){let o=0;const u=[];return _o(t).ee(((c,m)=>{const g=du(m);g.sequenceNumber<=n&&r.get(g.targetId)===null&&(o++,u.push(this.removeTargetData(t,g)))})).next((()=>U.waitFor(u))).next((()=>o))}forEachTarget(t,n){return _o(t).ee(((r,o)=>{const u=du(o);n(u)}))}lr(t){return GE(t).get(hf).next((n=>(pt(n!==null,2888),n)))}hr(t,n){return GE(t).put(hf,n)}Pr(t,n){return _o(t).put(CA(this.serializer,n))}Tr(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.lr(t).next((n=>n.targetCount))}getTargetData(t,n){const r=ma(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return _o(t).ee({range:o,index:DS},((c,m,g)=>{const y=du(m);Qu(n,y.target)&&(u=y,g.done())})).next((()=>u))}addMatchingKeys(t,n,r){const o=[],u=ns(t);return n.forEach((c=>{const m=en(c.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(t,r,c))})),U.waitFor(o)}removeMatchingKeys(t,n,r){const o=ns(t);return U.forEach(n,(u=>{const c=en(u.path);return U.waitFor([o.delete([r,c]),this.referenceDelegate.removeReference(t,r,u)])}))}removeMatchingKeysForTargetId(t,n){const r=ns(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),o=ns(t);let u=xt();return o.ee({range:r,X:!0},((c,m,g)=>{const y=Oi(c[1]),T=new ot(y);u=u.add(T)})).next((()=>u))}containsKey(t,n){const r=en(n.path),o=IDBKeyRange.bound([r],[ES(r)],!1,!0);let u=0;return ns(t).ee({index:hp,X:!0,range:o},(([c,m],g,y)=>{c!==0&&(u++,y.done())})).next((()=>u>0))}At(t,n){return _o(t).get(n).next((r=>r?du(r):null))}}function _o(s){return ze(s,Mo)}function GE(s){return ze(s,sa)}function ns(s){return ze(s,Po)}const KE="LruGarbageCollector",HD=1048576;function QE([s,t],[n,r]){const o=wt(s,n);return o===0?wt(t,r):o}class GD{constructor(t){this.Ir=t,this.buffer=new $t(QE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();QE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kA{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){et(KE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ds(n)?et(KE,"Ignoring IndexedDB error during garbage collection: ",n):await va(n)}await this.Vr(3e5)}))}}class KD{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return U.resolve(Hn.ce);const r=new GD(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(HE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,c,m,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(r=S,m=Date.now(),this.removeTargets(t,r,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),vo()<=Lt.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-T}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function UA(s,t){return new KD(s,t)}class QD{constructor(t,n){this.db=t,this.garbageCollector=UA(this,n)}gr(t){const n=this.wr(t);return this.db.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}pr(t,n){return this.Sr(t,((r,o)=>n(o)))}addReference(t,n,r){return Mh(t,r)}removeReference(t,n,r){return Mh(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return Mh(t,n)}br(t,n){return(function(o,u){let c=!1;return PA(o).te((m=>MA(o,m,u).next((g=>(g&&(c=!0),U.resolve(!g)))))).next((()=>c))})(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Sr(t,((c,m)=>{if(m<=n){const g=this.br(t,c).next((y=>{if(!y)return u++,r.getEntry(t,c).next((()=>(r.removeEntry(c,_t.min()),ns(t).delete((function(S){return[0,en(S.path)]})(c)))))}));o.push(g)}})).next((()=>U.waitFor(o))).next((()=>r.apply(t))).next((()=>u))}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return Mh(t,n)}Sr(t,n){const r=ns(t);let o,u=Hn.ce;return r.ee({index:hp},(([c,m],{path:g,sequenceNumber:y})=>{c===0?(u!==Hn.ce&&n(new ot(Oi(o)),u),u=y,o=g):u=Hn.ce})).next((()=>{u!==Hn.ce&&n(new ot(Oi(o)),u)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Mh(s,t){return ns(s).put((function(r,o){return{targetId:0,path:en(r.path),sequenceNumber:o}})(t,s.currentSequenceNumber))}class LA{constructor(){this.changes=new gr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class YD{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return Ks(t).put(r)}removeEntry(t,n,r){return Ks(t).delete((function(u,c){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],_f(c),m[m.length-1]]})(n,r))}updateMetadata(t,n){return this.getMetadata(t).next((r=>(r.byteSize+=n,this.Dr(t,r))))}getEntry(t,n){let r=ye.newInvalidDocument(n);return Ks(t).ee({index:Hh,range:IDBKeyRange.only(ou(n))},((o,u)=>{r=this.Cr(n,u)})).next((()=>r))}vr(t,n){let r={size:0,document:ye.newInvalidDocument(n)};return Ks(t).ee({index:Hh,range:IDBKeyRange.only(ou(n))},((o,u)=>{r={document:this.Cr(n,u),size:Tf(u)}})).next((()=>r))}getEntries(t,n){let r=wn();return this.Fr(t,n,((o,u)=>{const c=this.Cr(o,u);r=r.insert(o,c)})).next((()=>r))}Mr(t,n){let r=wn(),o=new de(ot.comparator);return this.Fr(t,n,((u,c)=>{const m=this.Cr(u,c);r=r.insert(u,m),o=o.insert(u,Tf(c))})).next((()=>({documents:r,Or:o})))}Fr(t,n,r){if(n.isEmpty())return U.resolve();let o=new $t(JE);n.forEach((g=>o=o.add(g)));const u=IDBKeyRange.bound(ou(o.first()),ou(o.last())),c=o.getIterator();let m=c.getNext();return Ks(t).ee({index:Hh,range:u},((g,y,T)=>{const S=ot.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;m&&JE(m,S)<0;)r(m,null),m=c.getNext();m&&m.isEqual(S)&&(r(m,y),m=c.hasNext()?c.getNext():null),m?T.j(ou(m)):T.done()})).next((()=>{for(;m;)r(m,null),m=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(t,n,r,o,u){const c=n.path,m=[c.popLast().toArray(),c.lastSegment(),_f(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ks(t).J(IDBKeyRange.bound(m,g,!0)).next((y=>{u?.incrementDocumentReadCount(y.length);let T=wn();for(const S of y){const I=this.Cr(ot.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);I.isFoundDocument()&&(Xu(n,I)||o.has(I.key))&&(T=T.insert(I.key,I))}return T}))}getAllFromCollectionGroup(t,n,r,o){let u=wn();const c=XE(n,r),m=XE(n,Dn.max());return Ks(t).ee({index:CS,range:IDBKeyRange.bound(c,m,!0)},((g,y,T)=>{const S=this.Cr(ot.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);u=u.insert(S.key,S),u.size===o&&T.done()})).next((()=>u))}newChangeBuffer(t){return new XD(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((n=>n.byteSize))}getMetadata(t){return YE(t).get(bg).next((n=>(pt(!!n,20021),n)))}Dr(t,n){return YE(t).put(bg,n)}Cr(t,n){if(n){const r=xD(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(_t.min())))return r}return ye.newInvalidDocument(t)}}function zA(s){return new YD(s)}class XD extends LA{constructor(t,n){super(),this.Nr=t,this.trackRemovals=n,this.Br=new gr((r=>r.toString()),((r,o)=>r.isEqual(o)))}applyChanges(t){const n=[];let r=0,o=new $t(((u,c)=>wt(u.canonicalString(),c.canonicalString())));return this.changes.forEach(((u,c)=>{const m=this.Br.get(u);if(n.push(this.Nr.removeEntry(t,u,m.readTime)),c.isValidDocument()){const g=VE(this.Nr.serializer,c);o=o.add(u.path.popLast());const y=Tf(g);r+=y-m.size,n.push(this.Nr.addEntry(t,u,g))}else if(r-=m.size,this.trackRemovals){const g=VE(this.Nr.serializer,c.convertToNoDocument(_t.min()));n.push(this.Nr.addEntry(t,u,g))}})),o.forEach((u=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(t,u))})),n.push(this.Nr.updateMetadata(t,r)),U.waitFor(n)}getFromCache(t,n){return this.Nr.vr(t,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(t,n){return this.Nr.Mr(t,n).next((({documents:r,Or:o})=>(o.forEach(((u,c)=>{this.Br.set(u,{size:c,readTime:r.get(u).readTime})})),r)))}}function YE(s){return ze(s,Vu)}function Ks(s){return ze(s,cf)}function ou(s){const t=s.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function XE(s,t){const n=t.documentKey.path.toArray();return[s,_f(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function JE(s,t){const n=s.path.toArray(),r=t.path.toArray();let o=0;for(let u=0;u<n.length-2&&u<r.length-2;++u)if(o=wt(n[u],r[u]),o)return o;return o=wt(n.length,r.length),o||(o=wt(n[n.length-2],r[r.length-2]),o||wt(n[n.length-1],r[r.length-1]))}class JD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class BA{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&bu(r.mutation,o,Gn.empty(),Jt.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,xt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=xt()){const o=xi();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let c=hu();return u.forEach(((m,g)=>{c=c.insert(m,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=xi();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,xt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(t,n,r,o){let u=wn();const c=Au(),m=(function(){return Au()})();return n.forEach(((g,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof ms)?u=u.insert(y.key,y):T!==void 0?(c.set(y.key,T.mutation.getFieldMask()),bu(T.mutation,y,T.mutation.getFieldMask(),Jt.now())):c.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,T)=>c.set(y,T))),n.forEach(((y,T)=>m.set(y,new JD(T,c.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=Au();let o=new de(((c,m)=>c-m)),u=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const m of c)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||Gn.empty();T=m.applyToLocalView(y,T),r.set(g,T);const S=(o.get(m.batchId)||xt()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,T=g.value,S=rA();T.forEach((I=>{if(!u.has(I)){const j=cA(n.get(I),r.get(I));j!==null&&S.set(I,j),u=u.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(t,y,S))}return U.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(c){return ot.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Z2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):U.resolve(xi());let m=Ru,g=u;return c.next((y=>U.forEach(y,((T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(T)?U.resolve():this.remoteDocumentCache.getEntry(t,T).next((I=>{g=g.insert(T,I)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,xt()))).next((T=>({batchId:m,changes:iA(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ot(n)).next((r=>{let o=hu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let c=hu();return this.indexManager.getCollectionParents(t,u).next((m=>U.forEach(m,(g=>{const y=(function(S,I){return new Uf(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((T=>{T.forEach(((S,I)=>{c=c.insert(S,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((c=>{u.forEach(((g,y)=>{const T=y.getKey();c.get(T)===null&&(c=c.insert(T,ye.newInvalidDocument(T)))}));let m=hu();return c.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&bu(T.mutation,y,Gn.empty(),Jt.now()),Xu(n,y)&&(m=m.insert(g,y))})),m}))}}class $D{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:on(o.createTime)}})(n)),U.resolve()}getNamedQuery(t,n){return U.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:DA(o.bundledQuery),readTime:on(o.readTime)}})(n)),U.resolve()}}class ZD{constructor(){this.overlays=new de(ot.comparator),this.qr=new Map}getOverlay(t,n){return U.resolve(this.overlays.get(n))}getOverlays(t,n){const r=xi();return U.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),U.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(t,n,r){const o=xi(),u=n.length+1,c=new ot(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return U.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new de(((y,T)=>y-T));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=xi(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=xi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>m.set(y,T))),!(m.size()>=o)););return U.resolve(m)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new bp(n,r));let u=this.qr.get(n);u===void 0&&(u=xt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class WD{constructor(){this.sessionToken=xe.EMPTY_BYTE_STRING}getSessionToken(t){return U.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,U.resolve()}}class Dp{constructor(){this.Qr=new $t(Fe.$r),this.Ur=new $t(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Fe(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Fe(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new ot(new ie([])),r=new Fe(n,t),o=new Fe(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ot(new ie([])),r=new Fe(n,t),o=new Fe(n,t+1);let u=xt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new Fe(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ot.comparator(t.key,n.key)||wt(t.Yr,n.Yr)}static Kr(t,n){return wt(t.Yr,n.Yr)||ot.comparator(t.key,n.key)}}class tN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Fe.$r)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Sp(u,n,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Fe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return U.resolve(c)}lookupMutationBatch(t,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return U.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?ra:this.tr-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Fe(n,0),o=new Fe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),U.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new $t(wt);return n.forEach((o=>{const u=new Fe(o,0),c=new Fe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;ot.isDocumentKey(u)||(u=u.child(""));const c=new Fe(new ot(u),0);let m=new $t(wt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),c),U.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){pt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,(o=>{const u=new Fe(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Fe(n,0),o=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class eN{constructor(t){this.ri=t,this.docs=(function(){return new de(ot.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():ye.newInvalidDocument(n))}getEntries(t,n){let r=wn();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():ye.newInvalidDocument(o))})),U.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=wn();const c=n.path,m=new ot(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||up(AS(T),r)<=0||(o.has(T.key)||Xu(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return U.resolve(u)}getAllFromCollectionGroup(t,n,r,o){ht(9500)}ii(t,n){return U.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new nN(this)}getSize(t){return U.resolve(this.size)}}class nN extends LA{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),U.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class iN{constructor(t){this.persistence=t,this.si=new gr((n=>ma(n)),Qu),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Dp,this.targetCount=0,this.ai=ya.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ya(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(t,n){return this.Pr(n),U.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),U.waitFor(u).next((()=>o))}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),U.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(t,n){return U.resolve(this._i.containsKey(n))}}class Np{constructor(t,n){this.ui={},this.overlays={},this.ci=new Hn(0),this.li=!1,this.li=!0,this.hi=new WD,this.referenceDelegate=t(this),this.Pi=new iN(this),this.indexManager=new jD,this.remoteDocumentCache=(function(o){return new eN(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new RA(n),this.Ii=new $D(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ZD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new tN(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){et("MemoryPersistence","Starting transaction:",t);const o=new rN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return U.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class rN extends IS{constructor(t){super(),this.currentSequenceNumber=t}}class Hf{constructor(t){this.persistence=t,this.Ri=new Dp,this.Vi=null}static mi(t){return new Hf(t)}get fi(){if(this.Vi)return this.Vi;throw ht(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,(r=>{const o=ot.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Ef{constructor(t,n){this.persistence=t,this.pi=new gr((r=>en(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=UA(this,n)}static mi(t,n){return new Ef(t,n)}Ei(){}di(t){return U.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return U.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?U.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((m=>{m||(r++,u.removeEntry(c,_t.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),U.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),U.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),U.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),U.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Kh(t.data.value)),n}br(t,n,r){return U.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return U.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class sN{constructor(t){this.serializer=t}k(t,n,r,o){const u=new Nf("createOrUpgrade",n);r<1&&o>=1&&((function(g){g.createObjectStore(Ku)})(t),(function(g){g.createObjectStore(Nu,{keyPath:m2}),g.createObjectStore(si,{keyPath:oE,autoIncrement:!0}).createIndex(ea,lE,{unique:!0}),g.createObjectStore(xo)})(t),$E(t),(function(g){g.createObjectStore(Xs)})(t));let c=U.resolve();return r<3&&o>=3&&(r!==0&&((function(g){g.deleteObjectStore(Po),g.deleteObjectStore(Mo),g.deleteObjectStore(sa)})(t),$E(t)),c=c.next((()=>(function(g){const y=g.store(sa),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return y.put(hf,T)})(u)))),r<4&&o>=4&&(r!==0&&(c=c.next((()=>(function(g,y){return y.store(si).J().next((S=>{g.deleteObjectStore(si),g.createObjectStore(si,{keyPath:oE,autoIncrement:!0}).createIndex(ea,lE,{unique:!0});const I=y.store(si),j=S.map(($=>I.put($)));return U.waitFor(j)}))})(t,u)))),c=c.next((()=>{(function(g){g.createObjectStore(ko,{keyPath:A2})})(t)}))),r<5&&o>=5&&(c=c.next((()=>this.yi(u)))),r<6&&o>=6&&(c=c.next((()=>((function(g){g.createObjectStore(Vu)})(t),this.wi(u))))),r<7&&o>=7&&(c=c.next((()=>this.Si(u)))),r<8&&o>=8&&(c=c.next((()=>this.bi(t,u)))),r<9&&o>=9&&(c=c.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(t)}))),r<10&&o>=10&&(c=c.next((()=>this.Di(u)))),r<11&&o>=11&&(c=c.next((()=>{(function(g){g.createObjectStore(Of,{keyPath:b2})})(t),(function(g){g.createObjectStore(xf,{keyPath:I2})})(t)}))),r<12&&o>=12&&(c=c.next((()=>{(function(g){const y=g.createObjectStore(Mf,{keyPath:O2});y.createIndex(wg,x2,{unique:!1}),y.createIndex(OS,M2,{unique:!1})})(t)}))),r<13&&o>=13&&(c=c.next((()=>(function(g){const y=g.createObjectStore(cf,{keyPath:p2});y.createIndex(Hh,y2),y.createIndex(CS,_2)})(t))).next((()=>this.Ci(t,u))).next((()=>t.deleteObjectStore(Xs)))),r<14&&o>=14&&(c=c.next((()=>this.Fi(t,u)))),r<15&&o>=15&&(c=c.next((()=>(function(g){g.createObjectStore(fp,{keyPath:w2,autoIncrement:!0}).createIndex(Ig,R2,{unique:!1}),g.createObjectStore(vu,{keyPath:C2}).createIndex(NS,D2,{unique:!1}),g.createObjectStore(Tu,{keyPath:N2}).createIndex(VS,V2,{unique:!1})})(t)))),r<16&&o>=16&&(c=c.next((()=>{n.objectStore(vu).clear()})).next((()=>{n.objectStore(Tu).clear()}))),r<17&&o>=17&&(c=c.next((()=>{(function(g){g.createObjectStore(dp,{keyPath:P2})})(t)}))),r<18&&o>=18&&D0()&&(c=c.next((()=>{n.objectStore(vu).clear()})).next((()=>{n.objectStore(Tu).clear()}))),c}wi(t){let n=0;return t.store(Xs).ee(((r,o)=>{n+=Tf(o)})).next((()=>{const r={byteSize:n};return t.store(Vu).put(bg,r)}))}yi(t){const n=t.store(Nu),r=t.store(si);return n.J().next((o=>U.forEach(o,(u=>{const c=IDBKeyRange.bound([u.userId,ra],[u.userId,u.lastAcknowledgedBatchId]);return r.J(ea,c).next((m=>U.forEach(m,(g=>{pt(g.userId===u.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const y=$s(this.serializer,g);return xA(t,u.userId,y).next((()=>{}))}))))}))))}Si(t){const n=t.store(Po),r=t.store(Xs);return t.store(sa).get(hf).next((o=>{const u=[];return r.ee(((c,m)=>{const g=new ie(c),y=(function(S){return[0,en(S)]})(g);u.push(n.get(y).next((T=>T?U.resolve():(S=>n.put({targetId:0,path:en(S),sequenceNumber:o.highestListenSequenceNumber}))(g))))})).next((()=>U.waitFor(u)))}))}bi(t,n){t.createObjectStore(Ou,{keyPath:S2});const r=n.store(Ou),o=new Cp,u=c=>{if(o.add(c)){const m=c.lastSegment(),g=c.popLast();return r.put({collectionId:m,parent:en(g)})}};return n.store(Xs).ee({X:!0},((c,m)=>{const g=new ie(c);return u(g.popLast())})).next((()=>n.store(xo).ee({X:!0},(([c,m,g],y)=>{const T=Oi(m);return u(T.popLast())}))))}Di(t){const n=t.store(Mo);return n.ee(((r,o)=>{const u=du(o),c=CA(this.serializer,u);return n.put(c)}))}Ci(t,n){const r=n.store(Xs),o=[];return r.ee(((u,c)=>{const m=n.store(cf),g=(function(S){return S.document?new ot(ie.fromString(S.document.name).popFirst(5)):S.noDocument?ot.fromSegments(S.noDocument.path):S.unknownDocument?ot.fromSegments(S.unknownDocument.path):ht(36783)})(c).path.toArray(),y={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(m.put(y))})).next((()=>U.waitFor(o)))}Fi(t,n){const r=n.store(si),o=zA(this.serializer),u=new Np(Hf.mi,this.serializer.yt);return r.J().next((c=>{const m=new Map;return c.forEach((g=>{let y=m.get(g.userId)??xt();$s(this.serializer,g).keys().forEach((T=>y=y.add(T))),m.set(g.userId,y)})),U.forEach(m,((g,y)=>{const T=new Je(y),S=qf.wt(this.serializer,T),I=u.getIndexManager(T),j=Ff.wt(T,this.serializer,I,u.referenceDelegate);return new BA(o,j,S,I).recalculateAndSaveOverlaysForDocumentKeys(new Rg(n,Hn.ce),g).next()}))}))}}function $E(s){s.createObjectStore(Po,{keyPath:T2}).createIndex(hp,E2,{unique:!0}),s.createObjectStore(Mo,{keyPath:"targetId"}).createIndex(DS,v2,{unique:!0}),s.createObjectStore(sa)}const Zr="IndexedDbPersistence",og=18e5,lg=5e3,ug="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aN="main";class Vp{constructor(t,n,r,o,u,c,m,g,y,T,S=18){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Mi=u,this.window=c,this.document=m,this.xi=y,this.Oi=T,this.Ni=S,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=I=>Promise.resolve(),!Vp.v())throw new ut(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QD(this,o),this.$i=n+aN,this.serializer=new RA(g),this.Ui=new ls(this.$i,this.Ni,new sN(this.serializer)),this.hi=new PD,this.Pi=new FD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zA(this.serializer),this.Ii=new MD,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,T===!1&&an(Zr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(X.FAILED_PRECONDITION,ug);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Pi.getHighestSequenceNumber(t)))})).then((t=>{this.ci=new Hn(t,this.xi)})).then((()=>{this.li=!0})).catch((t=>(this.Ui&&this.Ui.close(),Promise.reject(t))))}Ji(t){return this.Qi=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ui.$((async n=>{n.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>Ph(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(t).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(t))).next((n=>this.isPrimary&&!n?this.Zi(t).next((()=>!1)):!!n&&this.Xi(t).next((()=>!0)))))).catch((t=>{if(ds(t))return et(Zr,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return et(Zr,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Mi.enqueueRetryable((()=>this.Qi(t))),this.isPrimary=t}))}Hi(t){return lu(t).get(fo).next((n=>U.resolve(this.es(n))))}ts(t){return Ph(t).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,og)){this.qi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=ze(n,ko);return r.J().next((o=>{const u=this.ss(o,og),c=o.filter((m=>u.indexOf(m)===-1));return U.forEach(c,(m=>r.delete(m.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const n of t)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(t){return!!t&&t.ownerId===this.clientId}Yi(t){return this.Oi?U.resolve(!0):lu(t).get(fo).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,lg)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ut(X.FAILED_PRECONDITION,ug);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ph(t).J().next((r=>this.ss(r,lg).find((o=>{if(this.clientId!==o.clientId){const u=!this.networkEnabled&&o.networkEnabled,c=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(u||c&&m)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&et(Zr,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Ku,ko],(t=>{const n=new Rg(t,Hn.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(t,n){return t.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(t=>Ph(t).J().next((n=>this.ss(n,og).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(t,n){return Ff.wt(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new qD(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return qf.wt(this.serializer,t)}getBundleCache(){return this.Ii}runTransaction(t,n,r){et(Zr,"Starting transaction:",t);const o=n==="readonly"?"readonly":"readwrite",u=(function(g){return g===18?L2:g===17?kS:g===16?U2:g===15?mp:g===14?PS:g===13?MS:g===12?k2:g===11?xS:void ht(60245)})(this.Ni);let c;return this.Ui.runTransaction(t,o,u,(m=>(c=new Rg(m,this.ci?this.ci.next():Hn.ce),n==="readwrite-primary"?this.Hi(c).next((g=>!!g||this.Yi(c))).next((g=>{if(!g)throw an(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ut(X.FAILED_PRECONDITION,bS);return r(c)})).next((g=>this.Xi(c).next((()=>g)))):this.Is(c).next((()=>r(c)))))).then((m=>(c.raiseOnCommittedEvent(),m)))}Is(t){return lu(t).get(fo).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,lg)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ut(X.FAILED_PRECONDITION,ug)}))}Xi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lu(t).put(fo,n)}static v(){return ls.v()}Zi(t){const n=lu(t);return n.get(fo).next((r=>this.es(r)?(et(Zr,"Releasing primary lease."),n.delete(fo)):U.resolve()))}rs(t,n){const r=Date.now();return!(t<r-n)&&(!(t>r)||(an(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;C0()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(t){try{const n=this.Ki?.getItem(this._s(t))!==null;return et(Zr,`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return an(Zr,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(t){an("Failed to set zombie client id.",t)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function lu(s){return ze(s,Ku)}function Ph(s){return ze(s,ko)}function oN(s,t){let n=s.projectId;return s.isDefaultDatabase||(n+="."+s.database),"firestore/"+t+"/"+n+"/"}class Op{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=xt(),o=xt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Op(t,n.fromCache,r,o)}}class lN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class jA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return C0()?8:wS(Le())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new lN;return this.Ss(t,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,c,m.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(vo()<=Lt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(vo()<=Lt.DEBUG&&et("QueryEngine","Query:",To(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(vo()<=Lt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Kn(n))):U.resolve())}ys(t,n){if(EE(n))return U.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=xg(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=xt(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,c,g.readTime)?this.ys(t,xg(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,r,o){return EE(n)||o.isEqual(_t.min())?U.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,r,o)?U.resolve(null):(vo()<=Lt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),To(n)),this.vs(t,c,n,o2(o,Ru)).next((m=>m)))}))}Ds(t,n){let r=new $t(eA(t));return n.forEach(((o,u)=>{Xu(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return vo()<=Lt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",To(n)),this.ps.getDocumentsMatchingQuery(t,n,Dn.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const xp="LocalStore",uN=3e8;class cN{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new de(wt),this.xs=new gr((u=>ma(u)),Qu),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new BA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function qA(s,t,n,r){return new cN(s,t,n,r)}async function FA(s,t){const n=Rt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let g=xt();for(const y of o){c.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:m})))}))}))}function hN(s,t){const n=Rt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,T){const S=y.batch,I=S.keys();let j=U.resolve();return I.forEach(($=>{j=j.next((()=>T.getEntry(g,$))).next((tt=>{const W=y.docVersions.get($);pt(W!==null,48541),tt.version.compareTo(W)<0&&(S.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),T.addEntry(tt)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=xt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function HA(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function fN(s,t){const n=Rt(s),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((T,S)=>{const I=o.get(S);if(!I)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let j=I.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?j=j.withResumeToken(xe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,r)),o=o.insert(S,j),(function(tt,W,dt){return tt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=uN?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(I,j,T)&&m.push(n.Pi.updateTargetData(u,j))}));let g=wn(),y=xt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(dN(u,c,t.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(_t.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(T)}return U.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function dN(s,t,n){let r=xt(),o=xt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let c=wn();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(_t.min())?(t.removeEntry(m,g.readTime),c=c.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),c=c.insert(m,g)):et(xp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function mN(s,t){const n=Rt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ra),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function gN(s,t){const n=Rt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,U.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new or(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function jg(s,t,n){const r=Rt(s),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!ds(c))throw c;et(xp,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function ZE(s,t,n){const r=Rt(s);let o=_t.min(),u=xt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,y,T){const S=Rt(g),I=S.xs.get(T);return I!==void 0?U.resolve(S.Ms.get(I)):S.Pi.getTargetData(y,T)})(r,c,Kn(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,n?o:_t.min(),n?u:xt()))).next((m=>(pN(r,tD(t),m),{documents:m,Qs:u})))))}function pN(s,t,n){let r=s.Os.get(t)||_t.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class WE{constructor(){this.activeTargetIds=aD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GA{constructor(){this.Mo=new WE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new WE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class yN{Oo(t){}shutdown(){}}const t0="ConnectivityMonitor";class e0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){et(t0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){et(t0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kh=null;function qg(){return kh===null?kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():kh++,"0x"+kh.toString(16)}const cg="RestConnection",_N={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===ff?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const c=qg(),m=this.zo(t,n.toUriEncodedString());et(cg,`Sending RPC '${t}' ${c}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),T=Ko(y);return this.Jo(t,m,g,r,T).then((S=>(et(cg,`Received RPC '${t}' ${c}: `,S),S)),(S=>{throw fa(cg,`RPC '${t}' ${c} failed with error: `,S,"url: ",m,"request:",r),S}))}Ho(t,n,r,o,u,c){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=_N[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class TN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const We="WebChannelConnection";class EN extends vN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const c=qg();return new Promise(((m,g)=>{const y=new mS;y.setWithCredentials(!0),y.listenOnce(gS.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case jh.NO_ERROR:const S=y.getResponseJson();et(We,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(S)),m(S);break;case jh.TIMEOUT:et(We,`RPC '${t}' ${c} timed out`),g(new ut(X.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const I=y.getStatus();if(et(We,`RPC '${t}' ${c} failed with status:`,I,"response text:",y.getResponseText()),I>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j?.error;if($&&$.status&&$.message){const tt=(function(dt){const gt=dt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(gt)>=0?gt:X.UNKNOWN})($.status);g(new ut(tt,$.message))}else g(new ut(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ut(X.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:t,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{et(We,`RPC '${t}' ${c} completed.`)}}));const T=JSON.stringify(o);et(We,`RPC '${t}' ${c} sending request:`,o),y.send(n,"POST",T,r,15)}))}T_(t,n,r){const o=qg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=_S(),m=yS(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=u.join("");et(We,`Creating RPC '${t}' stream ${o}: ${T}`,g);const S=c.createWebChannel(T,g);this.I_(S);let I=!1,j=!1;const $=new TN({Yo:W=>{j?et(We,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(I||(et(We,`Opening RPC '${t}' stream ${o} transport.`),S.open(),I=!0),et(We,`RPC '${t}' stream ${o} sending:`,W),S.send(W))},Zo:()=>S.close()}),tt=(W,dt,gt)=>{W.listen(dt,(at=>{try{gt(at)}catch(bt){setTimeout((()=>{throw bt}),0)}}))};return tt(S,cu.EventType.OPEN,(()=>{j||(et(We,`RPC '${t}' stream ${o} transport opened.`),$.o_())})),tt(S,cu.EventType.CLOSE,(()=>{j||(j=!0,et(We,`RPC '${t}' stream ${o} transport closed`),$.a_(),this.E_(S))})),tt(S,cu.EventType.ERROR,(W=>{j||(j=!0,fa(We,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),$.a_(new ut(X.UNAVAILABLE,"The operation could not be completed")))})),tt(S,cu.EventType.MESSAGE,(W=>{if(!j){const dt=W.data[0];pt(!!dt,16349);const gt=dt,at=gt?.error||gt[0]?.error;if(at){et(We,`RPC '${t}' stream ${o} received error:`,at);const bt=at.status;let Ct=(function(b){const D=Ve[b];if(D!==void 0)return dA(D)})(bt),vt=at.message;Ct===void 0&&(Ct=X.INTERNAL,vt="Unknown error status: "+bt+" with message "+at.message),j=!0,$.a_(new ut(Ct,vt)),S.close()}else et(We,`RPC '${t}' stream ${o} received:`,dt),$.u_(dt)}})),tt(m,pS.STAT_EVENT,(W=>{W.stat===Eg.PROXY?et(We,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===Eg.NOPROXY&&et(We,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function SN(){return typeof window<"u"?window:null}function $h(){return typeof document<"u"?document:null}function Gf(s){return new AD(s,!0)}class KA{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&et("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const n0="PersistentStream";class QA{constructor(t,n,r,o,u,c,m,g){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(an(n.toString()),an("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new ut(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return et(n0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(et(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AN extends QA{constructor(t,n,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=wD(this.serializer,t),r=(function(u){if(!("targetChange"in u))return _t.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?_t.min():c.readTime?on(c.readTime):_t.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=kg(this.serializer),n.addTarget=(function(u,c){let m;const g=c.target;if(m=mf(g)?{documents:EA(u,g)}:{query:SA(u,g).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=pA(u,c.resumeToken);const y=Mg(u,c.expectedCount);y!==null&&(m.expectedCount=y)}else if(c.snapshotVersion.compareTo(_t.min())>0){m.readTime=Fo(u,c.snapshotVersion.toTimestamp());const y=Mg(u,c.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const r=CD(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=kg(this.serializer),n.removeTarget=t,this.q_(n)}}class bN extends QA{constructor(t,n,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return pt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,pt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){pt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=RD(t.writeResults,t.commitTime),r=on(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=kg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>yf(this.serializer,r)))};this.q_(n)}}class IN{}class wN extends IN{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Pg(n,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(X.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,Pg(n,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(X.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(an(n),this.aa=!1):et("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _a="RemoteStore";class CN{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ea(this)&&(et(_a,"Restarting streams for network reachability change."),await(async function(g){const y=Rt(g);y.Ea.add(4),await $u(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Kf(y)})(this))}))})),this.Ra=new RN(r,o)}}async function Kf(s){if(Ea(s))for(const t of s.da)await t(!0)}async function $u(s){for(const t of s.da)await t(!1)}function YA(s,t){const n=Rt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Up(n)?kp(n):$o(n).O_()&&Pp(n,t))}function Mp(s,t){const n=Rt(s),r=$o(n);n.Ia.delete(t),r.O_()&&XA(n,t),n.Ia.size===0&&(r.O_()?r.L_():Ea(n)&&n.Ra.set("Unknown"))}function Pp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$o(s).Y_(t)}function XA(s,t){s.Va.Ue(t),$o(s).Z_(t)}function kp(s){s.Va=new vD({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),$o(s).start(),s.Ra.ua()}function Up(s){return Ea(s)&&!$o(s).x_()&&s.Ia.size>0}function Ea(s){return Rt(s).Ea.size===0}function JA(s){s.Va=void 0}async function DN(s){s.Ra.set("Online")}async function NN(s){s.Ia.forEach(((t,n)=>{Pp(s,t)}))}async function VN(s,t){JA(s),Up(s)?(s.Ra.ha(t),kp(s)):s.Ra.set("Unknown")}async function ON(s,t,n){if(s.Ra.set("Online"),t instanceof gA&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(s,t)}catch(r){et(_a,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Sf(s,r)}else if(t instanceof Xh?s.Va.Ze(t):t instanceof mA?s.Va.st(t):s.Va.tt(t),!n.isEqual(_t.min()))try{const r=await HA(s.localStore);n.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,c))}})),m.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(xe.EMPTY_BYTE_STRING,T.snapshotVersion)),XA(u,g);const S=new or(T.target,g,y,T.sequenceNumber);Pp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){et(_a,"Failed to raise snapshot:",r),await Sf(s,r)}}async function Sf(s,t,n){if(!ds(t))throw t;s.Ea.add(1),await $u(s),s.Ra.set("Offline"),n||(n=()=>HA(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{et(_a,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Kf(s)}))}function $A(s,t){return t().catch((n=>Sf(s,n,t)))}async function Zu(s){const t=Rt(s),n=hs(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ra;for(;xN(t);)try{const o=await mN(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,MN(t,o)}catch(o){await Sf(t,o)}ZA(t)&&WA(t)}function xN(s){return Ea(s)&&s.Ta.length<10}function MN(s,t){s.Ta.push(t);const n=hs(s);n.O_()&&n.X_&&n.ea(t.mutations)}function ZA(s){return Ea(s)&&!hs(s).x_()&&s.Ta.length>0}function WA(s){hs(s).start()}async function PN(s){hs(s).ra()}async function kN(s){const t=hs(s);for(const n of s.Ta)t.ea(n.mutations)}async function UN(s,t,n){const r=s.Ta.shift(),o=Ap.from(r,t,n);await $A(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Zu(s)}async function LN(s,t){t&&hs(s).X_&&await(async function(r,o){if((function(c){return pD(c)&&c!==X.ABORTED})(o.code)){const u=r.Ta.shift();hs(r).B_(),await $A(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Zu(r)}})(s,t),ZA(s)&&WA(s)}async function i0(s,t){const n=Rt(s);n.asyncQueue.verifyOperationInProgress(),et(_a,"RemoteStore received new credentials");const r=Ea(n);n.Ea.add(3),await $u(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Kf(n)}async function zN(s,t){const n=Rt(s);t?(n.Ea.delete(2),await Kf(n)):t||(n.Ea.add(2),await $u(n),n.Ra.set("Unknown"))}function $o(s){return s.ma||(s.ma=(function(n,r,o){const u=Rt(n);return u.sa(),new AN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:DN.bind(null,s),t_:NN.bind(null,s),r_:VN.bind(null,s),H_:ON.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Up(s)?kp(s):s.Ra.set("Unknown")):(await s.ma.stop(),JA(s))}))),s.ma}function hs(s){return s.fa||(s.fa=(function(n,r,o){const u=Rt(n);return u.sa(),new bN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:PN.bind(null,s),r_:LN.bind(null,s),ta:kN.bind(null,s),na:UN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Zu(s)):(await s.fa.stop(),s.Ta.length>0&&(et(_a,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Lp{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const c=Date.now()+r,m=new Lp(t,n,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(s,t){if(an("AsyncQueue",`${t}: ${s}`),ds(s))return new ut(X.UNAVAILABLE,`${t}: ${s}`);throw s}class Co{static emptySet(t){return new Co(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ot.comparator(n.key,r.key):(n,r)=>ot.comparator(n.key,r.key),this.keyedMap=hu(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Co)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Co;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class r0{constructor(){this.ga=new de(ot.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):ht(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class Ho{constructor(t,n,r,o,u,c,m,g,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Ho(t,n,Co.emptySet(n),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class BN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class jN{constructor(){this.queries=s0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Rt(n),u=o.queries;o.queries=s0(),u.forEach(((c,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new ut(X.ABORTED,"Firestore shutting down"))}}function s0(){return new gr((s=>tA(s)),Lf)}async function tb(s,t){const n=Rt(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new BN,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=zp(c,`Initialization of query '${To(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Bp(n)}async function eb(s,t){const n=Rt(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qN(s,t){const n=Rt(s);let r=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&Bp(n)}function FN(s,t,n){const r=Rt(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function Bp(s){s.Ca.forEach((t=>{t.next()}))}var Fg,a0;(a0=Fg||(Fg={})).Ma="default",a0.Cache="cache";class nb{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ho(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Fg.Cache}}class ib{constructor(t){this.key=t}}class rb{constructor(t){this.key=t}}class HN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=eA(t),this.tu=new Co(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new r0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const I=o.get(T),j=Xu(this.query,S)?S:null,$=!!I&&this.mutatedKeys.has(I.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let W=!1;I&&j?I.data.isEqual(j.data)?$!==tt&&(r.track({type:3,doc:j}),W=!0):this.su(I,j)||(r.track({type:2,doc:j}),W=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(m=!0)):!I&&j?(r.track({type:0,doc:j}),W=!0):I&&!j&&(r.track({type:1,doc:I}),W=!0,(g||y)&&(m=!0)),W&&(j?(c=c.add(j),u=tt?u.add(T):u.delete(T)):(c=c.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const T=this.query.limitType==="F"?c.last():c.first();c=c.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((T,S)=>(function(j,$){const tt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Rt:W})}};return tt(j)-tt($)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,c.length!==0||y?{snapshot:new Ho(this.query,t.tu,u,c,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new rb(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new ib(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=xt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jp="SyncEngine";class GN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class KN{constructor(t){this.key=t,this.hu=!1}}class QN{constructor(t,n,r,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new gr((m=>tA(m)),Lf),this.Iu=new Map,this.Eu=new Set,this.du=new de(ot.comparator),this.Au=new Map,this.Ru=new Dp,this.Vu={},this.mu=new Map,this.fu=ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YN(s,t,n=!0){const r=cb(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await sb(r,t,n,!0),o}async function XN(s,t){const n=cb(s);await sb(n,t,!0,!1)}async function sb(s,t,n,r){const o=await gN(s.localStore,Kn(t)),u=o.targetId,c=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await JN(s,t,u,c==="current",o.resumeToken)),s.isPrimaryClient&&n&&YA(s.remoteStore,o),m}async function JN(s,t,n,r,o){s.pu=(S,I,j)=>(async function(tt,W,dt,gt){let at=W.view.ru(dt);at.Cs&&(at=await ZE(tt.localStore,W.query,!1).then((({documents:R})=>W.view.ru(R,at))));const bt=gt&&gt.targetChanges.get(W.targetId),Ct=gt&&gt.targetMismatches.get(W.targetId)!=null,vt=W.view.applyChanges(at,tt.isPrimaryClient,bt,Ct);return l0(tt,W.targetId,vt.au),vt.snapshot})(s,S,I,j);const u=await ZE(s.localStore,t,!0),c=new HN(t,u.Qs),m=c.ru(u.documents),g=Ju.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=c.applyChanges(m,s.isPrimaryClient,g);l0(s,n,y.au);const T=new GN(t,n,c);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),y.snapshot}async function $N(s,t,n){const r=Rt(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Lf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await jg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Mp(r.remoteStore,o.targetId),Hg(r,o.targetId)})).catch(va)):(Hg(r,o.targetId),await jg(r.localStore,o.targetId,!0))}async function ZN(s,t){const n=Rt(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mp(n.remoteStore,r.targetId))}async function WN(s,t,n){const r=hb(s);try{const o=await(function(c,m){const g=Rt(c),y=Jt.now(),T=m.reduce(((j,$)=>j.add($.key)),xt());let S,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let $=wn(),tt=xt();return g.Ns.getEntries(j,T).next((W=>{$=W,$.forEach(((dt,gt)=>{gt.isValidDocument()||(tt=tt.add(dt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,$))).next((W=>{S=W;const dt=[];for(const gt of m){const at=mD(gt,S.get(gt.key).overlayedDocument);at!=null&&dt.push(new ms(gt.key,at,KS(at.value.mapValue),Rn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,dt,m)})).next((W=>{I=W;const dt=W.applyToLocalDocumentSet(S,tt);return g.documentOverlayCache.saveOverlays(j,W.batchId,dt)}))})).then((()=>({batchId:I.batchId,changes:iA(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,g){let y=c.Vu[c.currentUser.toKey()];y||(y=new de(wt)),y=y.insert(m,g),c.Vu[c.currentUser.toKey()]=y})(r,o.batchId,n),await Wu(r,o.changes),await Zu(r.remoteStore)}catch(o){const u=zp(o,"Failed to persist write");n.reject(u)}}async function ab(s,t){const n=Rt(s);try{const r=await fN(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?pt(c.hu,14607):o.removedDocuments.size>0&&(pt(c.hu,42227),c.hu=!1))})),await Wu(n,r,t)}catch(r){await va(r)}}function o0(s,t,n){const r=Rt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const g=Rt(c);g.onlineState=m;let y=!1;g.queries.forEach(((T,S)=>{for(const I of S.Sa)I.va(m)&&(y=!0)})),y&&Bp(g)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function tV(s,t,n){const r=Rt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new de(ot.comparator);c=c.insert(u,ye.newNoDocument(u,_t.min()));const m=xt().add(u),g=new jf(_t.min(),new Map,new de(wt),c,m);await ab(r,g),r.du=r.du.remove(u),r.Au.delete(t),qp(r)}else await jg(r.localStore,t,!1).then((()=>Hg(r,t,n))).catch(va)}async function eV(s,t){const n=Rt(s),r=t.batch.batchId;try{const o=await hN(n.localStore,t);lb(n,r,null),ob(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wu(n,o)}catch(o){await va(o)}}async function nV(s,t,n){const r=Rt(s);try{const o=await(function(c,m){const g=Rt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(pt(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,t);lb(r,t,n),ob(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Wu(r,o)}catch(o){await va(o)}}function ob(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function lb(s,t,n){const r=Rt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Hg(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||ub(s,r)}))}function ub(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(Mp(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),qp(s))}function l0(s,t,n){for(const r of n)r instanceof ib?(s.Ru.addReference(r.key,t),iV(s,r)):r instanceof rb?(et(jp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||ub(s,r.key)):ht(19791,{wu:r})}function iV(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(et(jp,"New document in limbo: "+n),s.Eu.add(r),qp(s))}function qp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new ot(ie.fromString(t)),r=s.fu.next();s.Au.set(r,new KN(n)),s.du=s.du.insert(n,r),YA(s.remoteStore,new or(Kn(Yu(n.path)),r,"TargetPurposeLimboResolution",Hn.ce))}}async function Wu(s,t,n){const r=Rt(s),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{c.push(r.pu(g,t,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Op.As(g.targetId,y);u.push(T)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(g,y){const T=Rt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>U.forEach(y,(I=>U.forEach(I.Es,(j=>T.persistence.referenceDelegate.addReference(S,I.targetId,j))).next((()=>U.forEach(I.ds,(j=>T.persistence.referenceDelegate.removeReference(S,I.targetId,j)))))))))}catch(S){if(!ds(S))throw S;et(xp,"Failed to update sequence numbers: "+S)}for(const S of y){const I=S.targetId;if(!S.fromCache){const j=T.Ms.get(I),$=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion($);T.Ms=T.Ms.insert(I,tt)}}})(r.localStore,u))}async function rV(s,t){const n=Rt(s);if(!n.currentUser.isEqual(t)){et(jp,"User change. New user:",t.toKey());const r=await FA(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ut(X.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Wu(n,r.Ls)}}function sV(s,t){const n=Rt(s),r=n.Au.get(t);if(r&&r.hu)return xt().add(r.key);{let o=xt();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function cb(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=ab.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tV.bind(null,t),t.Pu.H_=qN.bind(null,t.eventManager),t.Pu.yu=FN.bind(null,t.eventManager),t}function hb(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nV.bind(null,t),t}class Lu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return qA(this.persistence,new jA,t.initialUser,this.serializer)}Cu(t){return new Np(Hf.mi,this.serializer)}Du(t){return new GA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lu.provider={build:()=>new Lu};class aV extends Lu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){pt(this.persistence.referenceDelegate instanceof Ef,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kA(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Np((r=>Ef.mi(r,n)),this.serializer)}}class oV extends Lu{constructor(t,n,r){super(),this.xu=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await hb(this.xu.syncEngine),await Zu(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return qA(this.persistence,new jA,t.initialUser,this.serializer)}Fu(t,n){const r=this.persistence.referenceDelegate.garbageCollector;return new kA(r,t.asyncQueue,n)}Mu(t,n){const r=new h2(n,this.persistence);return new c2(t.asyncQueue,r)}Cu(t){const n=oN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Vp(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,SN(),$h(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new GA}}class Af{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>o0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rV.bind(null,this.syncEngine),await zN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new jN})()}createDatastore(t){const n=Gf(t.databaseInfo.databaseId),r=(function(u){return new EN(u)})(t.databaseInfo);return(function(u,c,m,g){return new wN(u,c,m,g)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,c,m){return new CN(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>o0(this.syncEngine,n,0)),(function(){return e0.v()?new e0:new yN})())}createSyncEngine(t,n){return(function(o,u,c,m,g,y,T){const S=new QN(o,u,c,m,g,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Rt(n);et(_a,"RemoteStore shutting down."),r.Ea.add(5),await $u(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Af.provider={build:()=>new Af};class fb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):an("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const fs="FirestoreClient";class lV{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{et(fs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(et(fs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=zp(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function hg(s,t){s.asyncQueue.verifyOperationInProgress(),et(fs,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await FA(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function u0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await uV(s);et(fs,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>i0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>i0(t.remoteStore,o))),s._onlineComponents=t}async function uV(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){et(fs,"Using user provided OfflineComponentProvider");try{await hg(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;fa("Error using user provided cache. Falling back to memory cache: "+n),await hg(s,new Lu)}}else et(fs,"Using default OfflineComponentProvider"),await hg(s,new aV(void 0));return s._offlineComponents}async function db(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(et(fs,"Using user provided OnlineComponentProvider"),await u0(s,s._uninitializedComponentsProvider._online)):(et(fs,"Using default OnlineComponentProvider"),await u0(s,new Af))),s._onlineComponents}function cV(s){return db(s).then((t=>t.syncEngine))}async function Gg(s){const t=await db(s),n=t.eventManager;return n.onListen=YN.bind(null,t.syncEngine),n.onUnlisten=$N.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=XN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ZN.bind(null,t.syncEngine),n}function hV(s,t,n={}){const r=new lr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,g,y){const T=new fb({next:I=>{T.Nu(),c.enqueueAndForget((()=>eb(u,S)));const j=I.docs.has(m);!j&&I.fromCache?y.reject(new ut(X.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&I.fromCache&&g&&g.source==="server"?y.reject(new ut(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new nb(Yu(m.path),T,{includeMetadataChanges:!0,qa:!0});return tb(u,S)})(await Gg(s),s.asyncQueue,t,n,r))),r.promise}function mb(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const c0=new Map;const gb="firestore.googleapis.com",h0=!0;class f0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gb,this.ssl=h0}else this.host=t.host,this.ssl=t.ssl??h0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<HD)throw new ut(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}a2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mb(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Fp{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XC;switch(r.type){case"firstParty":return new WC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=c0.get(n);r&&(et("ComponentProvider","Removing Datastore"),c0.delete(n),r.terminate())})(this),Promise.resolve()}}function fV(s,t,n,r={}){s=ur(s,Fp);const o=Ko(t),u=s._getSettings(),c={...u,emulatorOptions:s._getEmulatorOptions()},m=`${t}:${n}`;o&&(I0(`https://${m}`),w0("Firestore",!0)),u.host!==gb&&u.host!==m&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:r};if(!la(g,c)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Je.MOCK_USER;else{y=bI(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ut(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(S)}s._authCredentials=new JC(new TS(y,T))}}class Qf{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Qf(this.firestore,t,this._query)}}class Ue{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Gu(n,Ue._jsonSchema))return new Ue(t,r||null,new ot(ie.fromString(n.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Oe("string",Ue._jsonSchemaVersion),referencePath:Oe("string")};class zu extends Qf{constructor(t,n,r){super(t,n,Yu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new ot(t))}withConverter(t){return new zu(this.firestore,t,this._path)}}function bo(s,t,...n){if(s=Cn(s),arguments.length===1&&(t=op.newId()),s2("doc","path",t),s instanceof Fp){const r=ie.fromString(t,...n);return nE(r),new Ue(s,null,new ot(r))}{if(!(s instanceof Ue||s instanceof zu))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ie.fromString(t,...n));return nE(r),new Ue(s.firestore,s instanceof zu?s.converter:null,new ot(r))}}const d0="AsyncQueue";class m0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KA(this,"async_queue_retry"),this._c=()=>{const r=$h();r&&et(d0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=$h();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=$h();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ds(t))throw t;et(d0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,an("INTERNAL UNHANDLED ERROR: ",g0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Lp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ht(47125,{Pc:g0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function g0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function p0(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Go extends Fp{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new m0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new m0(t),this._firestoreClient=void 0,await t}}}function dV(s,t){const n=typeof s=="object"?s:M0(),r=typeof s=="string"?s:ff,o=Xg(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=SI("firestore");u&&fV(o,...u)}return o}function Hp(s){if(s._terminated)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||pb(s),s._firestoreClient}function pb(s){const t=s._freezeSettings(),n=(function(o,u,c,m){return new B2(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,mb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new lV(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}function mV(s,t){fa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=s._freezeSettings();return gV(s,Af.provider,{build:r=>new oV(r,n.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function gV(s,t,n){if((s=ur(s,Go))._firestoreClient||s._terminated)throw new ut(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(s._componentsProvider||s._getSettings().localCache)throw new ut(X.FAILED_PRECONDITION,"SDK cache is already specified.");s._componentsProvider={_online:t,_offline:n},pb(s)}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(xe.fromBase64String(t))}catch(n){throw new ut(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fn(xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gu(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Oe("string",Fn._jsonSchemaVersion),bytes:Oe("string")};class Gp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new me(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class yb{constructor(t){this._methodName=t}}class Pi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return wt(this._lat,t._lat)||wt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(t){if(Gu(t,Pi._jsonSchema))return new Pi(t.latitude,t.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Oe("string",Pi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class ki{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gu(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ki(t.vectorValues);throw new ut(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Oe("string",ki._jsonSchemaVersion),vectorValues:Oe("object")};const pV=/^__.*__$/;class yV{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ms(t,this.data,this.fieldMask,n,this.fieldTransforms):new Jo(t,this.data,n,this.fieldTransforms)}}function _b(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{Ac:s})}}class Kp{constructor(t,n,r,o,u,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Kp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return bf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(_b(this.Ac)&&pV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class _V{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Gf(t)}Cc(t,n,r,o=!1){return new Kp({Ac:t,methodName:n,Dc:r,path:me.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vV(s){const t=s._freezeSettings(),n=Gf(s._databaseId);return new _V(s._databaseId,!!t.ignoreUndefinedProperties,n)}function TV(s,t,n,r,o,u={}){const c=s.Cc(u.merge||u.mergeFields?2:0,t,n,o);Sb("Data must be an object, but it was:",c,r);const m=Tb(r,c);let g,y;if(u.merge)g=new Gn(c.fieldMask),y=c.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const I=EV(t,S,n);if(!c.contains(I))throw new ut(X.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);AV(T,I)||T.push(I)}g=new Gn(T),y=c.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=c.fieldTransforms;return new yV(new gn(m),g,y)}function vb(s,t){if(Eb(s=Cn(s)))return Sb("Unsupported field value:",t,s),Tb(s,t);if(s instanceof yb)return(function(r,o){if(!_b(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let g=vb(m,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Jt.fromDate(r);return{timestampValue:Fo(o.serializer,u)}}if(r instanceof Jt){const u=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fo(o.serializer,u)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:pA(o.serializer,r._byteString)};if(r instanceof Ue){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return(function(c,m){return{mapValue:{fields:{[pp]:{stringValue:yp},[Uo]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tp(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${lp(r)}`)})(s,t)}function Tb(s,t){const n={};return US(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ta(s,((r,o)=>{const u=vb(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function Eb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Jt||s instanceof Pi||s instanceof Fn||s instanceof Ue||s instanceof yb||s instanceof ki)}function Sb(s,t,n){if(!Eb(n)||!SS(n)){const r=lp(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function EV(s,t,n){if((t=Cn(t))instanceof Gp)return t._internalPath;if(typeof t=="string")return Ab(s,t);throw bf("Field path arguments must be of type string or ",s,!1,void 0,n)}const SV=new RegExp("[~\\*/\\[\\]]");function Ab(s,t,n){if(t.search(SV)>=0)throw bf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Gp(...t.split("."))._internalPath}catch{throw bf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function bf(s,t,n,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new ut(X.INVALID_ARGUMENT,m+s+g)}function AV(s,t){return s.some((n=>n.isEqual(t)))}class bb{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new bV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ib("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bV extends bb{data(){return super.data()}}function Ib(s,t){return typeof t=="string"?Ab(s,t):t instanceof Gp?t._internalPath:t._delegate._internalPath}function IV(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wV{convertValue(t,n="none"){switch(us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw ht(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ta(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[Uo].arrayValue?.values?.map((r=>fe(r.doubleValue)));return new ki(n)}convertGeoPoint(t){return new Pi(fe(t.latitude),fe(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Pf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xu(t));default:return null}}convertTimestamp(t){const n=fr(t);return new Jt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ie.fromString(t);pt(wA(r),9688,{name:t});const o=new da(r.get(1),r.get(3)),u=new ot(r.popFirst(5));return o.isEqual(n)||an(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function RV(s,t,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,r}class mu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oa extends bb{constructor(t,n,r,o,u,c){super(t,n,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Ib("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Oe("string",oa._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Zh extends oa{data(t={}){return super.data(t)}}class Do{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new mu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Zh(this._firestore,this._userDataWriter,r.key,r,new mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const g=new Zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new mu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new mu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),T=c.indexOf(m.doc.key)),{type:CV(m.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Do._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=op.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function CV(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:s})}}function y0(s){s=ur(s,Ue);const t=ur(s.firestore,Go);return hV(Hp(t),s._key).then((n=>Rb(t,s,n)))}Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:Oe("string",Do._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class wb extends wV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}function If(s,t,n){s=ur(s,Ue);const r=ur(s.firestore,Go),o=RV(s.converter,t,n);return NV(r,[TV(vV(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Rn.none())])}function DV(s,...t){s=Cn(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||p0(t[r])||(n=t[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(p0(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,m;if(s instanceof Ue)c=ur(s.firestore,Go),m=Yu(s._key.path),u={next:g=>{t[r]&&t[r](Rb(c,s,g))},error:t[r+1],complete:t[r+2]};else{const g=ur(s,Qf);c=ur(g.firestore,Go),m=g._query;const y=new wb(c);u={next:T=>{t[r]&&t[r](new Do(c,y,g,T))},error:t[r+1],complete:t[r+2]},IV(s._query)}return(function(y,T,S,I){const j=new fb(I),$=new nb(T,j,S);return y.asyncQueue.enqueueAndForget((async()=>tb(await Gg(y),$))),()=>{j.Nu(),y.asyncQueue.enqueueAndForget((async()=>eb(await Gg(y),$)))}})(Hp(c),m,o,u)}function NV(s,t){return(function(r,o){const u=new lr;return r.asyncQueue.enqueueAndForget((async()=>WN(await cV(r),o,u))),u.promise})(Hp(s),t)}function Rb(s,t,n){const r=n.docs.get(t._key),o=new wb(s);return new oa(s,o,t._key,r,new mu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Xo=o})(Qo),No(new ua("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Go(new $C(r.getProvider("auth-internal")),new t2(c,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new da(y.options.projectId,T)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),as(ZT,WT,t),as(ZT,WT,"esm2020")})();var VV="firebase",OV="12.6.0";as(VV,OV,"app");const xV={apiKey:"AIzaSyDA7JElzU6qiRo7JInsyFOyCwV584gZ5Ag",authDomain:"track-my-reps.firebaseapp.com",projectId:"track-my-reps",storageBucket:"track-my-reps.firebasestorage.app",messagingSenderId:"164703762100",appId:"1:164703762100:web:1d75ecf0d08a101135c9e1",measurementId:"G-1RHC65C2N3"},Cb=x0(xV),fg=QC(Cb),MV=new rr,na=dV(Cb);mV(na).catch(s=>{s.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):s.code==="unimplemented"&&console.warn("The current browser does not support persistence.")});const PV=()=>{const[s,t]=ne.useState(null),[n,r]=ne.useState(!0);return ne.useEffect(()=>PR(fg,m=>{t(m),r(!1)}),[]),{user:s,loading:n,signInWithGoogle:async()=>{try{await nC(fg,MV)}catch(c){console.error("Error signing in:",c),alert("Failed to sign in. Please try again.")}},signOut:async()=>{try{await kR(fg)}catch(c){console.error("Error signing out:",c)}}}},kV=(s,t,n)=>{const[r,o]=ne.useState(t),[u,c]=ne.useState(!1),m=ne.useRef(!1),g=ne.useRef(!1),y=ne.useRef(null),T=ne.useRef(0),S=ne.useRef(null);return ne.useEffect(()=>{if(!s){S.current!==null&&(o(t),m.current=!1,S.current=null);return}S.current!==s.uid&&(m.current=!1,S.current=s.uid);const I=bo(na,"users",s.uid);return DV(I,$=>{if(g.current){console.log("Skipping snapshot update - currently saving");return}const tt=Date.now()-T.current;if(m.current&&tt<1e3){console.log("Skipping snapshot update - recent local change");return}if($.exists()){const W=$.data()[n];W!==void 0&&(console.log(`Loading ${n} from Firebase:`,W),o(W),m.current=!0)}else console.log(`First time - saving initial ${n} to Firebase`),If(I,{[n]:t},{merge:!0}),m.current=!0})},[s,n,t]),ne.useEffect(()=>{if(!s||u||!m.current)return;y.current&&clearTimeout(y.current),T.current=Date.now();const I=async()=>{try{console.log(`Saving ${n} to Firebase:`,r),c(!0),g.current=!0;const j=bo(na,"users",s.uid);await If(j,{[n]:r},{merge:!0}),console.log(` ${n} saved successfully`)}catch(j){console.error(`Error syncing ${n}:`,j)}finally{c(!1),setTimeout(()=>{g.current=!1},500)}};return y.current=setTimeout(I,500),()=>{y.current&&clearTimeout(y.current)}},[s,r,n,u]),[r,o,u]},uu=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],UV={Monday:{isRest:!1,exercises:[{name:"Bench Press",sets:3,reps:8,weight:null},{name:"Incline Dumbbell Press",sets:3,reps:10,weight:null},{name:"Cable Flyes",sets:3,reps:12,weight:null}]},Tuesday:{isRest:!1,exercises:[{name:"Pull-ups",sets:3,reps:8,weight:null},{name:"Barbell Rows",sets:3,reps:10,weight:null},{name:"Lat Pulldown",sets:3,reps:12,weight:null}]},Wednesday:{isRest:!0,exercises:[]},Thursday:{isRest:!1,exercises:[{name:"Squats",sets:4,reps:10,weight:null},{name:"Leg Press",sets:3,reps:12,weight:null},{name:"Leg Curls",sets:3,reps:12,weight:null}]},Friday:{isRest:!1,exercises:[{name:"Overhead Press",sets:3,reps:10,weight:null},{name:"Lateral Raises",sets:3,reps:12,weight:null},{name:"Barbell Curls",sets:3,reps:10,weight:null},{name:"Tricep Dips",sets:3,reps:10,weight:null}]},Saturday:{isRest:!0,exercises:[]},Sunday:{isRest:!0,exercises:[]}};function LV(){const{user:s,loading:t,signInWithGoogle:n,signOut:r}=PV(),[o,u]=ne.useState("tracker"),c=ne.useRef(!1),m=ne.useRef(new Set),g=ne.useRef({}),y=ne.useRef(null),[T,S]=kV(s,UV,"weeklyPlan"),[I,j]=ne.useState(()=>{const nt=new Date().getDay();return uu[nt===0?6:nt-1]}),[$,tt]=ne.useState({}),[W,dt]=ne.useState({}),gt=ne.useRef({completedSets:!1,workoutNotes:!1}),at=ne.useRef(null);ne.useEffect(()=>{(async()=>{if(!s){tt({}),dt({}),gt.current={completedSets:!1,workoutNotes:!1};return}console.log(" Loading workout data from Firebase...");try{const M=await y0(bo(na,"users",s.uid,"workoutData","completedSets"));M.exists()?(console.log(" Loaded completedSets:",M.data()),tt(M.data())):console.log(" No completedSets found in Firebase");const J=await y0(bo(na,"users",s.uid,"workoutData","workoutNotes"));J.exists()?(console.log(" Loaded workoutNotes:",J.data()),dt(J.data())):console.log(" No workoutNotes found in Firebase"),gt.current={completedSets:!0,workoutNotes:!0}}catch(M){console.error(" Error loading workout data:",M)}})()},[s]),ne.useEffect(()=>{g.current=$},[$]),ne.useEffect(()=>{if(!s){y.current=null,c.current=!1,m.current.clear();return}y.current!==s.uid&&(y.current=s.uid,c.current=!1,m.current.clear())},[s]),ne.useEffect(()=>{if(!T||c.current||!s)return;let nt=!1;const M={};uu.forEach(ft=>{if(!T[ft]){M[ft]={isRest:!0,exercises:[]},nt=!0;return}M[ft]={...T[ft]},M[ft].categories&&!M[ft].exercises&&(nt=!0,M[ft].exercises=M[ft].categories.flatMap(Et=>Et.exercises||[]),delete M[ft].categories),M[ft].exercises||(nt=!0,M[ft].exercises=[])}),nt?(console.log("Migrating data structure from categories to exercises"),c.current=!0,S(M)):c.current=!0;const J={...$};let it=!1;uu.forEach(ft=>{const Et=J[ft];if(Array.isArray(Et)){it=!0;const N={};Et.forEach((K,st)=>{Array.isArray(K)&&K.forEach((lt,St)=>{N[`${st}-${St}`]=lt})}),J[ft]=N}}),it&&(console.log("Migrating completedSets from nested arrays to flat structure"),tt(J))},[T,S,$]),ne.useEffect(()=>{if(!c.current||m.current.has(I))return;const nt=T[I];if(!(!nt||nt.isRest||!nt.exercises)){if(!g.current[I]){console.log("Initializing completedSets for",I);const M={};nt.exercises.forEach((J,it)=>{for(let ft=0;ft<J.sets;ft++)M[`${it}-${ft}`]=!1}),tt(J=>({...J,[I]:M}))}m.current.add(I)}},[I,T]);const bt=async nt=>{if(s)try{console.log(" Saving completedSets to Firebase..."),await If(bo(na,"users",s.uid,"workoutData","completedSets"),nt),console.log(" Saved completedSets successfully")}catch(M){console.error(" Error saving completedSets:",M)}},Ct=async nt=>{s&&(at.current&&clearTimeout(at.current),at.current=setTimeout(async()=>{try{console.log(" Saving workoutNotes to Firebase..."),await If(bo(na,"users",s.uid,"workoutData","workoutNotes"),nt),console.log(" Saved workoutNotes successfully")}catch(M){console.error(" Error saving workoutNotes:",M)}},1e3))},vt=(nt,M)=>{tt(J=>{const it=J[I]||{},ft=`${nt}-${M}`;if(Object.keys(it).length===0){const N=T[I];if(!N.exercises)return J;const K={};N.exercises.forEach((lt,St)=>{for(let It=0;It<lt.sets;It++)K[`${St}-${It}`]=!1}),K[ft]=!0;const st={...J,[I]:K};return bt(st),st}if(M>0){const N=`${nt}-${M-1}`;if(!it[N])return J}const Et={...J,[I]:{...it,[ft]:!it[ft]}};return bt(Et),Et})},R=()=>{if(window.confirm("Reset all checkboxes for today?")){const nt=T[I];if(!nt.exercises)return;const M={};nt.exercises.forEach((it,ft)=>{for(let Et=0;Et<it.sets;Et++)M[`${ft}-${Et}`]=!1});const J={...$,[I]:M};tt(J),bt(J)}},b=()=>{const nt=T[I];if(!nt.exercises||nt.exercises.length===0)return{completed:0,total:0,percentage:0};const M=$[I]||{};let J=0,it=0;return nt.exercises.forEach((ft,Et)=>{for(let N=0;N<ft.sets;N++)it++,M[`${Et}-${N}`]&&J++}),{completed:J,total:it,percentage:it>0?Math.round(J/it*100):0}},D=nt=>{S(M=>({...M,[nt]:{...M[nt],isRest:!M[nt].isRest,exercises:M[nt].isRest?M[nt].exercises:[]}}))},x=nt=>{const M=prompt("Exercise name:");if(!M)return;const J=parseInt(prompt("Number of sets:","3")),it=prompt("Reps (e.g., 8-12 or 15):","8-12");!M||!J||!it||S(ft=>{const Et={...ft};return Et[nt]={...Et[nt],exercises:[...Et[nt].exercises||[],{name:M,sets:J,reps:it}]},Et})},O=(nt,M)=>{S(J=>{const it={...J};return it[nt]={...it[nt],exercises:(it[nt].exercises||[]).filter((ft,Et)=>Et!==M)},it})},k=nt=>{const M={...W,[I]:nt};dt(M),Ct(M)},w=b(),se=T[I];return t?Z.jsx("div",{className:"app",children:Z.jsxs("div",{className:"loading-screen",children:[Z.jsx("div",{className:"loading-spinner"}),Z.jsx("p",{children:"Loading..."})]})}):s?o==="planner"?Z.jsxs("div",{className:"app",children:[Z.jsxs("header",{className:"header",children:[Z.jsx("h1",{children:" Weekly Planner"}),Z.jsxs("div",{className:"header-buttons",children:[Z.jsx("button",{className:"nav-button",onClick:()=>u("tracker"),children:"Back to Tracker"}),Z.jsxs("div",{className:"user-info",children:[Z.jsx("img",{src:s.photoURL,alt:s.displayName,className:"user-avatar"}),Z.jsx("button",{className:"sign-out-btn",onClick:r,children:"Sign Out"})]})]})]}),Z.jsx("div",{className:"planner-container",children:uu.map(nt=>Z.jsxs("div",{className:"day-planner",children:[Z.jsxs("div",{className:"day-header",children:[Z.jsx("h2",{children:nt}),Z.jsx("div",{className:"day-controls",children:Z.jsxs("label",{className:"rest-toggle",children:[Z.jsx("input",{type:"checkbox",checked:T[nt].isRest,onChange:()=>D(nt)}),Z.jsx("span",{children:"Rest Day"})]})})]}),T[nt].isRest?Z.jsx("div",{className:"rest-day-message",children:" Rest & Recovery"}):Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:"exercises-list",children:(T[nt].exercises||[]).map((M,J)=>Z.jsxs("div",{className:"exercise-edit",children:[Z.jsxs("div",{className:"exercise-info",children:[Z.jsx("span",{className:"exercise-name-small",children:M.name}),Z.jsxs("span",{className:"exercise-details",children:[M.sets,"  ",M.reps]})]}),Z.jsx("button",{className:"remove-btn-small",onClick:()=>O(nt,J),children:""})]},J))}),Z.jsx("button",{className:"add-exercise-btn",onClick:()=>x(nt),children:"+ Add Exercise"})]})]},nt))})]}):Z.jsxs("div",{className:"app",children:[Z.jsxs("header",{className:"header",children:[Z.jsxs("div",{className:"header-top",children:[Z.jsx("h1",{children:" Workout Tracker"}),Z.jsxs("div",{className:"user-info",children:[Z.jsx("img",{src:s.photoURL,alt:s.displayName,className:"user-avatar"}),Z.jsx("button",{className:"sign-out-btn",onClick:r,children:"Sign Out"})]})]}),Z.jsx("div",{className:"day-selector",children:uu.map(nt=>Z.jsx("button",{className:`day-btn ${I===nt?"active":""} ${T[nt].isRest?"rest":""}`,onClick:()=>j(nt),children:nt.slice(0,3)},nt))}),Z.jsx("p",{className:"date",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),se.isRest?Z.jsx("div",{className:"rest-day-view",children:Z.jsxs("div",{className:"rest-card",children:[Z.jsx("div",{className:"rest-icon",children:""}),Z.jsx("h2",{children:"Rest Day"}),Z.jsx("p",{children:"Take it easy and let your muscles recover!"}),Z.jsx("button",{className:"edit-plan-btn",onClick:()=>u("planner"),children:"Edit Weekly Plan"})]})}):Z.jsxs(Z.Fragment,{children:[Z.jsxs("div",{className:"progress-section",children:[Z.jsx("div",{className:"progress-bar-container",children:Z.jsx("div",{className:"progress-bar",style:{width:`${w.percentage}%`}})}),Z.jsxs("p",{className:"progress-text",children:[w.completed," / ",w.total," sets completed (",w.percentage,"%)"]})]}),Z.jsx("div",{className:"workout-container",children:(se.exercises||[]).map((nt,M)=>Z.jsxs("div",{className:"exercise-card",children:[Z.jsxs("div",{className:"exercise-header",children:[Z.jsx("h3",{className:"exercise-name",children:nt.name}),Z.jsxs("span",{className:"exercise-reps",children:[nt.sets,"  ",nt.reps]})]}),Z.jsx("div",{className:"sets-container",children:Array.from({length:nt.sets},(J,it)=>Z.jsxs("label",{className:"set-checkbox",children:[Z.jsx("input",{type:"checkbox",checked:$[I]?.[`${M}-${it}`]||!1,onChange:()=>vt(M,it)}),Z.jsxs("span",{className:"checkbox-label",children:["Set ",it+1]})]},it))})]},M))}),Z.jsxs("div",{className:"workout-notes-section",children:[Z.jsx("label",{className:"notes-label",children:" Workout Notes"}),Z.jsx("textarea",{className:"workout-notes-input",placeholder:"Track your weights, reps, and how you felt today...",value:W[I]||"",onChange:nt=>k(nt.target.value),rows:4})]}),Z.jsxs("div",{className:"footer",children:[Z.jsx("button",{className:"edit-plan-btn",onClick:()=>u("planner"),children:" Weekly Plan"}),Z.jsx("button",{className:"reset-button",onClick:R,children:" Reset Today"})]})]}),Z.jsxs("nav",{className:"bottom-nav",children:[Z.jsxs("button",{className:`nav-item ${o==="tracker"?"active":""}`,onClick:()=>u("tracker"),children:[Z.jsx("div",{className:"nav-icon",children:""}),Z.jsx("span",{children:"Tracker"})]}),Z.jsxs("button",{className:`nav-item ${o==="planner"?"active":""}`,onClick:()=>u("planner"),children:[Z.jsx("div",{className:"nav-icon",children:""}),Z.jsx("span",{children:"Plan"})]}),Z.jsxs("button",{className:"nav-item",onClick:R,children:[Z.jsx("div",{className:"nav-icon",children:""}),Z.jsx("span",{children:"Reset"})]})]})]}):Z.jsx("div",{className:"app",children:Z.jsx("div",{className:"sign-in-screen",children:Z.jsxs("div",{className:"sign-in-card",children:[Z.jsx("h1",{children:" Workout Tracker"}),Z.jsx("p",{className:"sign-in-subtitle",children:"Track your workouts across all devices"}),Z.jsxs("div",{className:"features-list",children:[Z.jsxs("div",{className:"feature-item",children:[Z.jsx("span",{className:"feature-icon",children:""}),Z.jsx("span",{children:"Custom weekly workout plans"})]}),Z.jsxs("div",{className:"feature-item",children:[Z.jsx("span",{className:"feature-icon",children:""}),Z.jsx("span",{children:"Track your progress daily"})]}),Z.jsxs("div",{className:"feature-item",children:[Z.jsx("span",{className:"feature-icon",children:""}),Z.jsx("span",{children:"Sync across all devices"})]}),Z.jsxs("div",{className:"feature-item",children:[Z.jsx("span",{className:"feature-icon",children:""}),Z.jsx("span",{children:"Mobile-friendly interface"})]})]}),Z.jsxs("button",{className:"google-sign-in-btn",onClick:n,children:[Z.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[Z.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),Z.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),Z.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),Z.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),Z.jsx("p",{className:"privacy-note",children:"Your data is private and synced securely to your Google account"})]})})})}mI.createRoot(document.getElementById("root")).render(Z.jsx(ne.StrictMode,{children:Z.jsx(LV,{})}));
