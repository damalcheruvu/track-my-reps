(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var dd={exports:{}},ll={};var d_;function QS(){if(d_)return ll;d_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var p in l)p!=="key"&&(h[p]=l[p])}else h=l;return l=h.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:h}}return ll.Fragment=t,ll.jsx=i,ll.jsxs=i,ll}var m_;function YS(){return m_||(m_=1,dd.exports=QS()),dd.exports}var X=YS(),md={exports:{}},vt={};var g_;function KS(){if(g_)return vt;g_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.iterator;function F(V){return V===null||typeof V!="object"?null:(V=U&&V[U]||V["@@iterator"],typeof V=="function"?V:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,Z={};function ht(V,Y,et){this.props=V,this.context=Y,this.refs=Z,this.updater=et||tt}ht.prototype.isReactComponent={},ht.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ht.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function _t(){}_t.prototype=ht.prototype;function dt(V,Y,et){this.props=V,this.context=Y,this.refs=Z,this.updater=et||tt}var Ht=dt.prototype=new _t;Ht.constructor=dt,nt(Ht,ht.prototype),Ht.isPureReactComponent=!0;var $t=Array.isArray;function Vt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function S(V,Y,et){var st=et.ref;return{$$typeof:a,type:V,key:Y,ref:st!==void 0?st:null,props:et}}function N(V,Y){return S(V.type,Y,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function M(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return Y[et]})}var w=/\/+/g;function kt(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):Y.toString(36)}function le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Vt,Vt):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function q(V,Y,et,st,pt){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var Ut=!1;if(V===null)Ut=!0;else switch(At){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(V.$$typeof){case a:case t:Ut=!0;break;case A:return Ut=V._init,q(Ut(V._payload),Y,et,st,pt)}}if(Ut)return pt=pt(V),Ut=st===""?"."+kt(V,0):st,$t(pt)?(et="",Ut!=null&&(et=Ut.replace(w,"$&/")+"/"),q(pt,Y,et,"",function(Js){return Js})):pt!=null&&(C(pt)&&(pt=N(pt,et+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+Ut)),Y.push(pt)),1;Ut=0;var Ce=st===""?".":st+":";if($t(V))for(var ie=0;ie<V.length;ie++)st=V[ie],At=Ce+kt(st,ie),Ut+=q(st,Y,et,At,pt);else if(ie=F(V),typeof ie=="function")for(V=ie.call(V),ie=0;!(st=V.next()).done;)st=st.value,At=Ce+kt(st,ie++),Ut+=q(st,Y,et,At,pt);else if(At==="object"){if(typeof V.then=="function")return q(le(V),Y,et,st,pt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function W(V,Y,et){if(V==null)return V;var st=[],pt=0;return q(V,st,"","",function(At){return Y.call(et,At,pt++)}),st}function lt(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var Mt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Bt={map:W,forEach:function(V,Y,et){W(V,function(){Y.apply(this,arguments)},et)},count:function(V){var Y=0;return W(V,function(){Y++}),Y},toArray:function(V){return W(V,function(Y){return Y})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return vt.Activity=R,vt.Children=Bt,vt.Component=ht,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=dt,vt.StrictMode=r,vt.Suspense=v,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},vt.cache=function(V){return function(){return V.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(V,Y,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=nt({},V.props),pt=V.key;if(Y!=null)for(At in Y.key!==void 0&&(pt=""+Y.key),Y)!b.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(st[At]=Y[At]);var At=arguments.length-2;if(At===1)st.children=et;else if(1<At){for(var Ut=Array(At),Ce=0;Ce<At;Ce++)Ut[Ce]=arguments[Ce+2];st.children=Ut}return S(V.type,pt,st)},vt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},vt.createElement=function(V,Y,et){var st,pt={},At=null;if(Y!=null)for(st in Y.key!==void 0&&(At=""+Y.key),Y)b.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(pt[st]=Y[st]);var Ut=arguments.length-2;if(Ut===1)pt.children=et;else if(1<Ut){for(var Ce=Array(Ut),ie=0;ie<Ut;ie++)Ce[ie]=arguments[ie+2];pt.children=Ce}if(V&&V.defaultProps)for(st in Ut=V.defaultProps,Ut)pt[st]===void 0&&(pt[st]=Ut[st]);return S(V,At,pt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:p,render:V}},vt.isValidElement=C,vt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:lt}},vt.memo=function(V,Y){return{$$typeof:y,type:V,compare:Y===void 0?null:Y}},vt.startTransition=function(V){var Y=D.T,et={};D.T=et;try{var st=V(),pt=D.S;pt!==null&&pt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Vt,Mt)}catch(At){Mt(At)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),D.T=Y}},vt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vt.use=function(V){return D.H.use(V)},vt.useActionState=function(V,Y,et){return D.H.useActionState(V,Y,et)},vt.useCallback=function(V,Y){return D.H.useCallback(V,Y)},vt.useContext=function(V){return D.H.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V,Y){return D.H.useDeferredValue(V,Y)},vt.useEffect=function(V,Y){return D.H.useEffect(V,Y)},vt.useEffectEvent=function(V){return D.H.useEffectEvent(V)},vt.useId=function(){return D.H.useId()},vt.useImperativeHandle=function(V,Y,et){return D.H.useImperativeHandle(V,Y,et)},vt.useInsertionEffect=function(V,Y){return D.H.useInsertionEffect(V,Y)},vt.useLayoutEffect=function(V,Y){return D.H.useLayoutEffect(V,Y)},vt.useMemo=function(V,Y){return D.H.useMemo(V,Y)},vt.useOptimistic=function(V,Y){return D.H.useOptimistic(V,Y)},vt.useReducer=function(V,Y,et){return D.H.useReducer(V,Y,et)},vt.useRef=function(V){return D.H.useRef(V)},vt.useState=function(V){return D.H.useState(V)},vt.useSyncExternalStore=function(V,Y,et){return D.H.useSyncExternalStore(V,Y,et)},vt.useTransition=function(){return D.H.useTransition()},vt.version="19.2.1",vt}var p_;function sm(){return p_||(p_=1,md.exports=KS()),md.exports}var tn=sm(),gd={exports:{}},ul={},pd={exports:{}},yd={};var y_;function XS(){return y_||(y_=1,(function(a){function t(q,W){var lt=q.length;q.push(W);t:for(;0<lt;){var Mt=lt-1>>>1,Bt=q[Mt];if(0<l(Bt,W))q[Mt]=W,q[lt]=Bt,lt=Mt;else break t}}function i(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var W=q[0],lt=q.pop();if(lt!==W){q[0]=lt;t:for(var Mt=0,Bt=q.length,V=Bt>>>1;Mt<V;){var Y=2*(Mt+1)-1,et=q[Y],st=Y+1,pt=q[st];if(0>l(et,lt))st<Bt&&0>l(pt,et)?(q[Mt]=pt,q[st]=lt,Mt=st):(q[Mt]=et,q[Y]=lt,Mt=Y);else if(st<Bt&&0>l(pt,lt))q[Mt]=pt,q[st]=lt,Mt=st;else break t}}return W}function l(q,W){var lt=q.sortIndex-W.sortIndex;return lt!==0?lt:q.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var v=[],y=[],A=1,R=null,U=3,F=!1,tt=!1,nt=!1,Z=!1,ht=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Ht(q){for(var W=i(y);W!==null;){if(W.callback===null)r(y);else if(W.startTime<=q)r(y),W.sortIndex=W.expirationTime,t(v,W);else break;W=i(y)}}function $t(q){if(nt=!1,Ht(q),!tt)if(i(v)!==null)tt=!0,Vt||(Vt=!0,M());else{var W=i(y);W!==null&&le($t,W.startTime-q)}}var Vt=!1,D=-1,b=5,S=-1;function N(){return Z?!0:!(a.unstable_now()-S<b)}function C(){if(Z=!1,Vt){var q=a.unstable_now();S=q;var W=!0;try{t:{tt=!1,nt&&(nt=!1,_t(D),D=-1),F=!0;var lt=U;try{e:{for(Ht(q),R=i(v);R!==null&&!(R.expirationTime>q&&N());){var Mt=R.callback;if(typeof Mt=="function"){R.callback=null,U=R.priorityLevel;var Bt=Mt(R.expirationTime<=q);if(q=a.unstable_now(),typeof Bt=="function"){R.callback=Bt,Ht(q),W=!0;break e}R===i(v)&&r(v),Ht(q)}else r(v);R=i(v)}if(R!==null)W=!0;else{var V=i(y);V!==null&&le($t,V.startTime-q),W=!1}}break t}finally{R=null,U=lt,F=!1}W=void 0}}finally{W?M():Vt=!1}}}var M;if(typeof dt=="function")M=function(){dt(C)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,kt=w.port2;w.port1.onmessage=C,M=function(){kt.postMessage(null)}}else M=function(){ht(C,0)};function le(q,W){D=ht(function(){q(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(q){switch(U){case 1:case 2:case 3:var W=3;break;default:W=U}var lt=U;U=W;try{return q()}finally{U=lt}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var lt=U;U=q;try{return W()}finally{U=lt}},a.unstable_scheduleCallback=function(q,W,lt){var Mt=a.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Mt+lt:Mt):lt=Mt,q){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=lt+Bt,q={id:A++,callback:W,priorityLevel:q,startTime:lt,expirationTime:Bt,sortIndex:-1},lt>Mt?(q.sortIndex=lt,t(y,q),i(v)===null&&q===i(y)&&(nt?(_t(D),D=-1):nt=!0,le($t,lt-Mt))):(q.sortIndex=Bt,t(v,q),tt||F||(tt=!0,Vt||(Vt=!0,M()))),q},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(q){var W=U;return function(){var lt=U;U=W;try{return q.apply(this,arguments)}finally{U=lt}}}})(yd)),yd}var __;function JS(){return __||(__=1,pd.exports=XS()),pd.exports}var _d={exports:{}},Qe={};var v_;function ZS(){if(v_)return Qe;v_=1;var a=sm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,y,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:v,containerInfo:y,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return h(v,y,null,A)},Qe.flushSync=function(v){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=y,r.p=A,r.d.f()}},Qe.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},Qe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Qe.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,R=p(A,y.crossOrigin),U=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:U,fetchPriority:F}):A==="script"&&r.d.X(v,{crossOrigin:R,integrity:U,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},Qe.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,R=p(A,y.crossOrigin);r.d.L(v,A,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=p(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},Qe.requestFormReset=function(v){r.d.r(v)},Qe.unstable_batchedUpdates=function(v,y){return v(y)},Qe.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.1",Qe}var E_;function $S(){if(E_)return _d.exports;E_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),_d.exports=ZS(),_d.exports}var T_;function WS(){if(T_)return ul;T_=1;var a=JS(),t=sm(),i=$S();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),e;if(f===o)return v(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=c,o=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,o=f;break}if(E===o){g=!0,o=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=c;break}if(E===o){g=!0,o=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,U=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=C&&e[C]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ht:return"Profiler";case Z:return"StrictMode";case $t:return"Suspense";case Vt:return"SuspenseList";case S:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case dt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:kt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return kt(e(n))}catch{}}return null}var le=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Mt=[],Bt=-1;function V(e){return{current:e}}function Y(e){0>Bt||(e.current=Mt[Bt],Mt[Bt]=null,Bt--)}function et(e,n){Bt++,Mt[Bt]=e.current,e.current=n}var st=V(null),pt=V(null),At=V(null),Ut=V(null);function Ce(e,n){switch(et(At,n),et(pt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ly(n),e=ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),et(st,e)}function ie(){Y(st),Y(pt),Y(At)}function Js(e){e.memoizedState!==null&&et(Ut,e);var n=st.current,s=ky(n,e.type);n!==s&&(et(pt,e),et(st,s))}function qr(e){pt.current===e&&(Y(st),Y(pt)),Ut.current===e&&(Y(Ut),sl._currentValue=lt)}var Hr,Gr;function Zn(e){if(Hr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Hr=n&&n[1]||"",Gr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+e+Gr}var io=!1;function Zs(e,n){if(!e||io)return"";io=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var z=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){z=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){z=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),P=E.split(`
`);for(c=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===I.length||c===P.length)for(o=I.length-1,c=P.length-1;1<=o&&0<=c&&I[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(I[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||I[o]!==P[c]){var H=`
`+I[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=c);break}}}finally{io=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Zn(s):""}function so(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Zs(e.type,!1);case 11:return Zs(e.type.render,!1);case 1:return Zs(e.type,!0);case 31:return Zn("Activity");default:return""}}function ro(e){try{var n="",s=null;do n+=so(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ie=a.unstable_scheduleCallback,ns=a.unstable_cancelCallback,mh=a.unstable_shouldYield,zl=a.unstable_requestPaint,Ze=a.unstable_now,$s=a.unstable_getCurrentPriorityLevel,ao=a.unstable_ImmediatePriority,oo=a.unstable_UserBlockingPriority,is=a.unstable_NormalPriority,gh=a.unstable_LowPriority,Bl=a.unstable_IdlePriority,jl=a.log,ql=a.unstable_setDisableYieldValue,Un=null,ke=null;function En(e){if(typeof jl=="function"&&ql(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Un,e)}catch{}}var he=Math.clz32?Math.clz32:Gl,Hl=Math.log,Fr=Math.LN2;function Gl(e){return e>>>=0,e===0?32:31-(Hl(e)/Fr|0)|0}var $n=256,Ws=262144,ye=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Wn(o):(g&=E,g!==0?c=Wn(g):s||(s=E&~e,s!==0&&(c=Wn(s))))):(E=o&~f,E!==0?c=Wn(E):g!==0?c=Wn(g):s||(s=o&~e,s!==0&&(c=Wn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ph(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fl(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function tr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yh(e,n,s,o,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-he(s),Q=1<<H;E[H]=0,I[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var j=z[H];j!==null&&(j.lane&=-536870913)}s&=~Q}o!==0&&er(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function er(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function lo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),c=1<<o;c&n|e[o]&n&&(e[o]|=n),s&=~c}}function uo(e,n){var s=n&-n;return s=(s&42)!==0?1:nr(s),(s&(e.suspendedLanes|n))!==0?0:s}function nr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ql(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:a_(e.type))}function kn(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var Pn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Pn,Ve="__reactProps$"+Pn,ni="__reactContainer$"+Pn,Qr="__reactEvents$"+Pn,_h="__reactListeners$"+Pn,Yl="__reactHandles$"+Pn,Kl="__reactResources$"+Pn,ii="__reactMarker$"+Pn;function Yr(e){delete e[_e],delete e[Ve],delete e[Qr],delete e[_h],delete e[Yl]}function si(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Gy(e);e!==null;){if(s=e[_e])return s;e=Gy(e)}return n}e=s,s=e.parentNode}return null}function Tn(e){if(e=e[_e]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ri(e){var n=e[Kl];return n||(n=e[Kl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ii]=!0}var co=new Set,ho={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(ho[e]=n,e=0;e<n.length;e++)co.add(n[e])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mo={},go={};function Xl(e){return pe.call(go,e)?!0:pe.call(mo,e)?!1:fo.test(e)?go[e]=!0:(mo[e]=!0,!1)}function Kr(e,n,s){if(Xl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function hn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ee(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Me(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function po(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=ss(e)?"checked":"value";e._valueTracker=po(e,n,""+e[n])}}function ir(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ss(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sr=/[\n"\\]/g;function en(e){return e.replace(sr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xr(e,n,s,o,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Me(n)):e.value!==""+Me(n)&&(e.value=""+Me(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?yo(e,g,Me(n)):s!=null?yo(e,g,Me(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Me(E):e.removeAttribute("name")}function Jl(e,n,s,o,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}s=s!=null?""+Me(s):"",n=n!=null?""+Me(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ft(e)}function yo(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function rs(e,n,s,o){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Me(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Zl(e,n,s){if(n!=null&&(n=""+Me(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Me(s):""}function as(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(le(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Me(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ft(e)}function nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var $l=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _o(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||$l.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function vo(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&_o(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&_o(e,f,n[f])}function Jr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(e){return os.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var Eo=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,ui=null;function rr(e){var n=Tn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Xr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var c=o[Ve]||null;if(!c)throw Error(r(90));Xr(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ir(o)}break t;case"textarea":Zl(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&rs(e,!!s.multiple,n,!1)}}}var $r=!1;function us(e,n,s){if($r)return e(n,s);$r=!0;try{var o=e(n);return o}finally{if($r=!1,(ls!==null||ui!==null)&&(Qu(),ls&&(n=ls,e=ui,ui=ls=null,rr(n),e)))for(n=0;n<e.length;n++)rr(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ar=!1;if(An)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){ar=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{ar=!1}var ci=null,To=null,or=null;function So(){if(or)return or;var e,n=To,s=n.length,o,c="value"in ci?ci.value:ci.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===c[f-o];o++);return or=c.slice(e,1<o?1-o:void 0)}function lr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function jn(){return!1}function Pe(e){function n(s,o,c,f,g){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:jn,this.isPropagationStopped=jn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Pe(Ni),cs=R({},Ni,{view:0,detail:0}),Ao=Pe(cs),hs,Wr,fi,ta=R({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(hs=e.screenX-fi.screenX,Wr=e.screenY-fi.screenY):Wr=hs=0,fi=e),hs)},movementY:function(e){return"movementY"in e?e.movementY:Wr}}),bo=Pe(ta),ur=R({},ta,{dataTransfer:0}),tu=Pe(ur),eu=R({},cs,{relatedTarget:0}),cr=Pe(eu),Ro=R({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=Pe(Ro),ea=R({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iu=Pe(ea),su=R({},Ni,{data:0}),di=Pe(su),ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ou[e])?!!n[e]:!1}function fs(){return lu}var $e=R({},cs,{key:function(e){if(e.key){var n=ru[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uu=Pe($e),cu=R({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Pe(cu),u=R({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),m=Pe(u),_=R({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(_),L=R({},ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(L),$=R({},Ni,{newState:0,oldState:0}),Tt=Pe($),fe=[9,13,27,32],jt=An&&"CompositionEvent"in window,se=null;An&&"documentMode"in document&&(se=document.documentMode);var bn=An&&"TextEvent"in window&&!se,mi=An&&(!jt||se&&8<se&&11>=se),qn=" ",Hn=!1;function hr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function na(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ia=!1;function p0(e,n){switch(e){case"compositionend":return na(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function y0(e,n){if(ia)return e==="compositionend"||!jt&&hr(e,n)?(e=So(),or=To=ci=null,ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var _0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!_0[e.type]:n==="textarea"}function Km(e,n,s,o){ls?ui?ui.push(o):ui=[o]:ls=o,n=Wu(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var wo=null,Co=null;function v0(e){Ny(e,0)}function hu(e){var n=cn(e);if(ir(n))return e}function Xm(e,n){if(e==="change")return n}var Jm=!1;if(An){var vh;if(An){var Eh="oninput"in document;if(!Eh){var Zm=document.createElement("div");Zm.setAttribute("oninput","return;"),Eh=typeof Zm.oninput=="function"}vh=Eh}else vh=!1;Jm=vh&&(!document.documentMode||9<document.documentMode)}function $m(){wo&&(wo.detachEvent("onpropertychange",Wm),Co=wo=null)}function Wm(e){if(e.propertyName==="value"&&hu(Co)){var n=[];Km(n,Co,e,Sn(e)),us(v0,n)}}function E0(e,n,s){e==="focusin"?($m(),wo=n,Co=s,wo.attachEvent("onpropertychange",Wm)):e==="focusout"&&$m()}function T0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hu(Co)}function S0(e,n){if(e==="click")return hu(n)}function A0(e,n){if(e==="input"||e==="change")return hu(n)}function b0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:b0;function Io(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!pe.call(n,c)||!fn(e[c],n[c]))return!1}return!0}function tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eg(e,n){var s=tg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=tg(s)}}function ng(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ng(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function Th(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var R0=An&&"documentMode"in document&&11>=document.documentMode,sa=null,Sh=null,Do=null,Ah=!1;function sg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ah||sa==null||sa!==li(o)||(o=sa,"selectionStart"in o&&Th(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Do&&Io(Do,o)||(Do=o,o=Wu(Sh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=sa)))}function fr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ra={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},bh={},rg={};An&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function dr(e){if(bh[e])return bh[e];if(!ra[e])return e;var n=ra[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in rg)return bh[e]=n[s];return e}var ag=dr("animationend"),og=dr("animationiteration"),lg=dr("animationstart"),w0=dr("transitionrun"),C0=dr("transitionstart"),I0=dr("transitioncancel"),ug=dr("transitionend"),cg=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function Gn(e,n){cg.set(e,n),ai(n,[e])}var fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],aa=0,wh=0;function du(){for(var e=aa,n=wh=aa=0;n<e;){var s=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var c=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&hg(s,c,f)}}function mu(e,n,s,o){Rn[aa++]=e,Rn[aa++]=n,Rn[aa++]=s,Rn[aa++]=o,wh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ch(e,n,s,o){return mu(e,n,s,o),gu(e)}function mr(e,n){return mu(e,null,null,n),gu(e)}function hg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-he(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function gu(e){if(50<Zo)throw Zo=0,kf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var oa={};function D0(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,s,o){return new D0(e,n,s,o)}function Ih(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var s=e.alternate;return s===null?(s=dn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function fg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function pu(e,n,s,o,c,f){var g=0;if(o=e,typeof e=="function")Ih(e)&&(g=1);else if(typeof e=="string")g=xS(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case S:return e=dn(31,s,n,c),e.elementType=S,e.lanes=f,e;case nt:return gr(s.children,c,f,n);case Z:g=8,c|=24;break;case ht:return e=dn(12,s,n,c|2),e.elementType=ht,e.lanes=f,e;case $t:return e=dn(13,s,n,c),e.elementType=$t,e.lanes=f,e;case Vt:return e=dn(19,s,n,c),e.elementType=Vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case _t:g=9;break t;case Ht:g=11;break t;case D:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=dn(g,s,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function gr(e,n,s,o){return e=dn(7,e,o,n),e.lanes=s,e}function Dh(e,n,s){return e=dn(6,e,null,n),e.lanes=s,e}function dg(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function Nh(e,n,s){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var mg=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var s=mg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ro(n)},mg.set(e,n),n)}return{value:e,source:n,stack:ro(n)}}var la=[],ua=0,yu=null,No=0,Cn=[],In=0,ds=null,gi=1,pi="";function Mi(e,n){la[ua++]=No,la[ua++]=yu,yu=e,No=n}function gg(e,n,s){Cn[In++]=gi,Cn[In++]=pi,Cn[In++]=ds,ds=e;var o=gi;e=pi;var c=32-he(o)-1;o&=~(1<<c),s+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,gi=1<<32-he(n)+c|s<<c|o,pi=f+e}else gi=1<<f|s<<c|o,pi=e}function Oh(e){e.return!==null&&(Mi(e,1),gg(e,1,0))}function Vh(e){for(;e===yu;)yu=la[--ua],la[ua]=null,No=la[--ua],la[ua]=null;for(;e===ds;)ds=Cn[--In],Cn[In]=null,pi=Cn[--In],Cn[In]=null,gi=Cn[--In],Cn[In]=null}function pg(e,n){Cn[In++]=gi,Cn[In++]=pi,Cn[In++]=ds,gi=n.id,pi=n.overflow,ds=e}var ze=null,te=null,xt=!1,ms=null,Dn=!1,Mh=Error(r(519));function gs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oo(wn(n,e)),Mh}function yg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Ve]=o,s){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(s=0;s<Wo.length;s++)wt(Wo[s],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),Jl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),as(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||xy(n.textContent,s)?(o.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),o.onScroll!=null&&wt("scroll",n),o.onScrollEnd!=null&&wt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||gs(e,!0)}function _g(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:ze=ze.return}}function ca(e){if(e!==ze)return!1;if(!xt)return _g(e),xt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||$f(e.type,e.memoizedProps)),s=!s),s&&te&&gs(e),_g(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=Hy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=Hy(e)}else n===27?(n=te,Ds(e.type)?(e=id,id=null,te=e):te=n):te=ze?On(e.stateNode.nextSibling):null;return!0}function pr(){te=ze=null,xt=!1}function xh(){var e=ms;return e!==null&&(on===null?on=e:on.push.apply(on,e),ms=null),e}function Oo(e){ms===null?ms=[e]:ms.push(e)}var Uh=V(null),yr=null,xi=null;function ps(e,n,s){et(Uh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=Uh.current,Y(Uh)}function Lh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function kh(e,n,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Lh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Lh(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ha(e,n,s,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===Ut.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}c=c.return}e!==null&&kh(n,e,s,o),n.flags|=262144}function _u(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _r(e){yr=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return vg(yr,e)}function vu(e,n){return yr===null&&_r(e),vg(e,n)}function vg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},xi===null){if(e===null)throw Error(r(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return s}var N0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},O0=a.unstable_scheduleCallback,V0=a.unstable_NormalPriority,Te={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new N0,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&O0(V0,function(){e.controller.abort()})}var Mo=null,zh=0,fa=0,da=null;function M0(e,n){if(Mo===null){var s=Mo=[];zh=0,fa=Hf(),da={status:"pending",value:void 0,then:function(o){s.push(o)}}}return zh++,n.then(Eg,Eg),n}function Eg(){if(--zh===0&&Mo!==null){da!==null&&(da.status="fulfilled");var e=Mo;Mo=null,fa=0,da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function x0(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var Tg=q.S;q.S=function(e,n){sy=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&M0(e,n),Tg!==null&&Tg(e,n)};var vr=V(null);function Bh(){var e=vr.current;return e!==null?e:Wt.pooledCache}function Eu(e,n){n===null?et(vr,vr.current):et(vr,n.pool)}function Sg(){var e=Bh();return e===null?null:{parent:Te._currentValue,pool:e}}var ma=Error(r(460)),jh=Error(r(474)),Tu=Error(r(542)),Su={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(zn,zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,wg(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,wg(e),e}throw Tr=n,ma}}function Er(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Tr=s,ma):s}}var Tr=null;function Rg(){if(Tr===null)throw Error(r(459));var e=Tr;return Tr=null,e}function wg(e){if(e===ma||e===Tu)throw Error(r(483))}var ga=null,xo=0;function Au(e){var n=xo;return xo+=1,ga===null&&(ga=[]),bg(ga,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function bu(e,n){throw n.$$typeof===U?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cg(e){function n(x,O){if(e){var k=x.deletions;k===null?(x.deletions=[O],x.flags|=16):k.push(O)}}function s(x,O){if(!e)return null;for(;O!==null;)n(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function c(x,O){return x=Vi(x,O),x.index=0,x.sibling=null,x}function f(x,O,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<O?(x.flags|=67108866,O):k):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,k,G){return O===null||O.tag!==6?(O=Dh(k,x.mode,G),O.return=x,O):(O=c(O,k),O.return=x,O)}function I(x,O,k,G){var ut=k.type;return ut===nt?H(x,O,k.props.children,G,k.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Er(ut)===O.type)?(O=c(O,k.props),Uo(O,k),O.return=x,O):(O=pu(k.type,k.key,k.props,null,x.mode,G),Uo(O,k),O.return=x,O)}function P(x,O,k,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=Nh(k,x.mode,G),O.return=x,O):(O=c(O,k.children||[]),O.return=x,O)}function H(x,O,k,G,ut){return O===null||O.tag!==7?(O=gr(k,x.mode,G,ut),O.return=x,O):(O=c(O,k),O.return=x,O)}function Q(x,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Dh(""+O,x.mode,k),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return k=pu(O.type,O.key,O.props,null,x.mode,k),Uo(k,O),k.return=x,k;case tt:return O=Nh(O,x.mode,k),O.return=x,O;case b:return O=Er(O),Q(x,O,k)}if(le(O)||M(O))return O=gr(O,x.mode,k,null),O.return=x,O;if(typeof O.then=="function")return Q(x,Au(O),k);if(O.$$typeof===dt)return Q(x,vu(x,O),k);bu(x,O)}return null}function z(x,O,k,G){var ut=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ut!==null?null:E(x,O,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case F:return k.key===ut?I(x,O,k,G):null;case tt:return k.key===ut?P(x,O,k,G):null;case b:return k=Er(k),z(x,O,k,G)}if(le(k)||M(k))return ut!==null?null:H(x,O,k,G,null);if(typeof k.then=="function")return z(x,O,Au(k),G);if(k.$$typeof===dt)return z(x,O,vu(x,k),G);bu(x,k)}return null}function j(x,O,k,G,ut){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(k)||null,E(O,x,""+G,ut);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return x=x.get(G.key===null?k:G.key)||null,I(O,x,G,ut);case tt:return x=x.get(G.key===null?k:G.key)||null,P(O,x,G,ut);case b:return G=Er(G),j(x,O,k,G,ut)}if(le(G)||M(G))return x=x.get(k)||null,H(O,x,G,ut,null);if(typeof G.then=="function")return j(x,O,k,Au(G),ut);if(G.$$typeof===dt)return j(x,O,k,vu(O,G),ut);bu(O,G)}return null}function rt(x,O,k,G){for(var ut=null,Pt=null,at=O,bt=O=0,It=null;at!==null&&bt<k.length;bt++){at.index>bt?(It=at,at=null):It=at.sibling;var zt=z(x,at,k[bt],G);if(zt===null){at===null&&(at=It);break}e&&at&&zt.alternate===null&&n(x,at),O=f(zt,O,bt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt,at=It}if(bt===k.length)return s(x,at),xt&&Mi(x,bt),ut;if(at===null){for(;bt<k.length;bt++)at=Q(x,k[bt],G),at!==null&&(O=f(at,O,bt),Pt===null?ut=at:Pt.sibling=at,Pt=at);return xt&&Mi(x,bt),ut}for(at=o(at);bt<k.length;bt++)It=j(at,x,bt,k[bt],G),It!==null&&(e&&It.alternate!==null&&at.delete(It.key===null?bt:It.key),O=f(It,O,bt),Pt===null?ut=It:Pt.sibling=It,Pt=It);return e&&at.forEach(function(xs){return n(x,xs)}),xt&&Mi(x,bt),ut}function ft(x,O,k,G){if(k==null)throw Error(r(151));for(var ut=null,Pt=null,at=O,bt=O=0,It=null,zt=k.next();at!==null&&!zt.done;bt++,zt=k.next()){at.index>bt?(It=at,at=null):It=at.sibling;var xs=z(x,at,zt.value,G);if(xs===null){at===null&&(at=It);break}e&&at&&xs.alternate===null&&n(x,at),O=f(xs,O,bt),Pt===null?ut=xs:Pt.sibling=xs,Pt=xs,at=It}if(zt.done)return s(x,at),xt&&Mi(x,bt),ut;if(at===null){for(;!zt.done;bt++,zt=k.next())zt=Q(x,zt.value,G),zt!==null&&(O=f(zt,O,bt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return xt&&Mi(x,bt),ut}for(at=o(at);!zt.done;bt++,zt=k.next())zt=j(at,x,bt,zt.value,G),zt!==null&&(e&&zt.alternate!==null&&at.delete(zt.key===null?bt:zt.key),O=f(zt,O,bt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return e&&at.forEach(function(FS){return n(x,FS)}),xt&&Mi(x,bt),ut}function Zt(x,O,k,G){if(typeof k=="object"&&k!==null&&k.type===nt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case F:t:{for(var ut=k.key;O!==null;){if(O.key===ut){if(ut=k.type,ut===nt){if(O.tag===7){s(x,O.sibling),G=c(O,k.props.children),G.return=x,x=G;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Er(ut)===O.type){s(x,O.sibling),G=c(O,k.props),Uo(G,k),G.return=x,x=G;break t}s(x,O);break}else n(x,O);O=O.sibling}k.type===nt?(G=gr(k.props.children,x.mode,G,k.key),G.return=x,x=G):(G=pu(k.type,k.key,k.props,null,x.mode,G),Uo(G,k),G.return=x,x=G)}return g(x);case tt:t:{for(ut=k.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){s(x,O.sibling),G=c(O,k.children||[]),G.return=x,x=G;break t}else{s(x,O);break}else n(x,O);O=O.sibling}G=Nh(k,x.mode,G),G.return=x,x=G}return g(x);case b:return k=Er(k),Zt(x,O,k,G)}if(le(k))return rt(x,O,k,G);if(M(k)){if(ut=M(k),typeof ut!="function")throw Error(r(150));return k=ut.call(k),ft(x,O,k,G)}if(typeof k.then=="function")return Zt(x,O,Au(k),G);if(k.$$typeof===dt)return Zt(x,O,vu(x,k),G);bu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(s(x,O.sibling),G=c(O,k),G.return=x,x=G):(s(x,O),G=Dh(k,x.mode,G),G.return=x,x=G),g(x)):s(x,O)}return function(x,O,k,G){try{xo=0;var ut=Zt(x,O,k,G);return ga=null,ut}catch(at){if(at===ma||at===Tu)throw at;var Pt=dn(29,at,null,x.mode);return Pt.lanes=G,Pt.return=x,Pt}finally{}}}var Sr=Cg(!0),Ig=Cg(!1),ys=!1;function qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=gu(e),hg(e,null,s),n}return mu(e,o,n,s),gu(e)}function Lo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,lo(e,s)}}function Gh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Fh=!1;function ko(){if(Fh){var e=da;if(e!==null)throw e}}function Po(e,n,s,o){Fh=!1;var c=e.updateQueue;ys=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var I=E,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=I))}if(f!==null){var Q=c.baseState;g=0,H=P=I=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Ct&z)===z:(o&z)===z){z!==0&&z===fa&&(Fh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,ft=E;z=n;var Zt=s;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){Q=rt.call(Zt,Q,z);break t}Q=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,z=typeof rt=="function"?rt.call(Zt,Q,z):rt,z==null)break t;Q=R({},Q,z);break t;case 2:ys=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=j,I=Q):H=H.next=j,g|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);H===null&&(I=Q),c.baseState=I,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),bs|=g,e.lanes=g,e.memoizedState=Q}}function Dg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Ng(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Dg(s[e],n)}var pa=V(null),Ru=V(0);function Og(e,n){e=Gi,et(Ru,e),et(pa,n),Gi=e|n.baseLanes}function Qh(){et(Ru,Gi),et(pa,pa.current)}function Yh(){Gi=Ru.current,Y(pa),Y(Ru)}var mn=V(null),Nn=null;function Es(e){var n=e.alternate;et(de,de.current&1),et(mn,e),Nn===null&&(n===null||pa.current!==null||n.memoizedState!==null)&&(Nn=e)}function Kh(e){et(de,de.current),et(mn,e),Nn===null&&(Nn=e)}function Vg(e){e.tag===22?(et(de,de.current),et(mn,e),Nn===null&&(Nn=e)):Ts()}function Ts(){et(de,de.current),et(mn,mn.current)}function gn(e){Y(mn),Nn===e&&(Nn=null),Y(de)}var de=V(0);function wu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ed(s)||nd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,St=null,Xt=null,Se=null,Cu=!1,ya=!1,Ar=!1,Iu=0,zo=0,_a=null,U0=0;function ue(){throw Error(r(321))}function Xh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!fn(e[s],n[s]))return!1;return!0}function Jh(e,n,s,o,c,f){return Li=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?gp:ff,Ar=!1,f=s(o,c),Ar=!1,ya&&(f=xg(n,s,o,c)),Mg(e),f}function Mg(e){q.H=qo;var n=Xt!==null&&Xt.next!==null;if(Li=0,Se=Xt=St=null,Cu=!1,zo=0,_a=null,n)throw Error(r(300));e===null||Ae||(e=e.dependencies,e!==null&&_u(e)&&(Ae=!0))}function xg(e,n,s,o){St=e;var c=0;do{if(ya&&(_a=null),zo=0,ya=!1,25<=c)throw Error(r(301));if(c+=1,Se=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=pp,f=n(s,o)}while(ya);return f}function L0(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Bo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(St.flags|=1024),n}function Zh(){var e=Iu!==0;return Iu=0,e}function $h(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Wh(e){if(Cu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Cu=!1}Li=0,Se=Xt=St=null,ya=!1,zo=Iu=0,_a=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?St.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Xt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Se===null?St.memoizedState:Se.next;if(n!==null)Se=n,Xt=e;else{if(e===null)throw St.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?St.memoizedState=Se=e:Se=Se.next=e}return Se}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(e){var n=zo;return zo+=1,_a===null&&(_a=[]),e=bg(_a,e,n),n=St,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?gp:ff),e}function Nu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===dt)return Be(e)}throw Error(r(438,String(e)))}function tf(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Du(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=N;return n.index++,s}function ki(e,n){return typeof n=="function"?n(e):n}function Ou(e){var n=me();return ef(n,Xt,e)}function ef(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,I=null,P=n,H=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Ct&Q)===Q:(Li&Q)===Q){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===fa&&(H=!0);else if((Li&z)===z){P=P.next,z===fa&&(H=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Q,g=f):I=I.next=Q,St.lanes|=z,bs|=z;Q=P.action,Ar&&s(f,Q),f=P.hasEagerState?P.eagerState:s(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,St.lanes|=Q,bs|=Q;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=E,!fn(f,e.memoizedState)&&(Ae=!0,H&&(s=da,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function nf(e){var n=me(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Ug(e,n,s){var o=St,c=me(),f=xt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!fn((Xt||c).memoizedState,s);if(g&&(c.memoizedState=s,Ae=!0),c=c.queue,af(Pg.bind(null,o,c,e),[e]),c.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,va(9,{destroy:void 0},kg.bind(null,o,c,s,n),null),Wt===null)throw Error(r(349));f||(Li&127)!==0||Lg(o,n,s)}return s}function Lg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=Du(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function kg(e,n,s,o){n.value=s,n.getSnapshot=o,zg(n)&&Bg(e)}function Pg(e,n,s){return s(function(){zg(n)&&Bg(e)})}function zg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!fn(e,s)}catch{return!0}}function Bg(e){var n=mr(e,2);n!==null&&ln(n,e,2)}function sf(e){var n=We();if(typeof e=="function"){var s=e;if(e=s(),Ar){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function jg(e,n,s,o){return e.baseState=s,ef(e,Xt,typeof o=="function"?o:ki)}function k0(e,n,s,o,c){if(xu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,qg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function qg(e,n){var s=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=s(c,o),I=q.S;I!==null&&I(g,E),Hg(e,n,E)}catch(P){rf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(c,o),Hg(e,n,f)}catch(P){rf(e,n,P)}}function Hg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Gg(e,n,o)},function(o){return rf(e,n,o)}):Gg(e,n,s)}function Gg(e,n,s){n.status="fulfilled",n.value=s,Fg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,qg(e,s)))}function rf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Fg(n),n=n.next;while(n!==o)}e.action=null}function Fg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Qg(e,n){return n}function Yg(e,n){if(xt){var s=Wt.formState;if(s!==null){t:{var o=St;if(xt){if(te){e:{for(var c=te,f=Dn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){te=On(c.nextSibling),o=c.data==="F!";break t}}gs(o)}o=!1}o&&(n=s[0])}}return s=We(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:n},s.queue=o,s=fp.bind(null,St,o),o.dispatch=s,o=sf(!1),f=hf.bind(null,St,!1,o.queue),o=We(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,s=k0.bind(null,St,c,f,s),c.dispatch=s,o.memoizedState=e,[n,s,!1]}function Kg(e){var n=me();return Xg(n,Xt,e)}function Xg(e,n,s){if(n=ef(e,n,Qg)[0],e=Ou(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Bo(n)}catch(g){throw g===ma?Tu:g}else o=n;n=me();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(St.flags|=2048,va(9,{destroy:void 0},P0.bind(null,c,s),null)),[o,f,e]}function P0(e,n){e.action=n}function Jg(e){var n=me(),s=Xt;if(s!==null)return Xg(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function va(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Du(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Zg(){return me().memoizedState}function Vu(e,n,s,o){var c=We();St.flags|=e,c.memoizedState=va(1|n,{destroy:void 0},s,o===void 0?null:o)}function Mu(e,n,s,o){var c=me();o=o===void 0?null:o;var f=c.memoizedState.inst;Xt!==null&&o!==null&&Xh(o,Xt.memoizedState.deps)?c.memoizedState=va(n,f,s,o):(St.flags|=e,c.memoizedState=va(1|n,f,s,o))}function $g(e,n){Vu(8390656,8,e,n)}function af(e,n){Mu(2048,8,e,n)}function z0(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Du(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Wg(e){var n=me().memoizedState;return z0({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function tp(e,n){return Mu(4,2,e,n)}function ep(e,n){return Mu(4,4,e,n)}function np(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ip(e,n,s){s=s!=null?s.concat([e]):null,Mu(4,4,np.bind(null,n,e),s)}function of(){}function sp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Xh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function rp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Xh(n,o[1]))return o[0];if(o=e(),Ar){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o}function lf(e,n,s){return s===void 0||(Li&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=ay(),St.lanes|=e,bs|=e,s)}function ap(e,n,s,o){return fn(s,n)?s:pa.current!==null?(e=lf(e,s,o),fn(e,n)||(Ae=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Ct&261930)===0?(Ae=!0,e.memoizedState=s):(e=ay(),St.lanes|=e,bs|=e,n)}function op(e,n,s,o,c){var f=W.p;W.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,hf(e,!1,n,s);try{var I=c(),P=q.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var H=x0(I,o);jo(e,n,H,_n(e))}else jo(e,n,o,_n(e))}catch(Q){jo(e,n,{then:function(){},status:"rejected",reason:Q},_n())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function B0(){}function uf(e,n,s,o){if(e.tag!==5)throw Error(r(476));var c=lp(e).queue;op(e,c,n,lt,s===null?B0:function(){return up(e),s(o)})}function lp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:lt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function up(e){var n=lp(e);n.next===null&&(n=e.alternate.memoizedState),jo(e,n.next.queue,{},_n())}function cf(){return Be(sl)}function cp(){return me().memoizedState}function hp(){return me().memoizedState}function j0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();e=_s(s);var o=vs(n,e,s);o!==null&&(ln(o,n,s),Lo(o,n,s)),n={cache:Ph()},e.payload=n;return}n=n.return}}function q0(e,n,s){var o=_n();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},xu(e)?dp(n,s):(s=Ch(e,n,s,o),s!==null&&(ln(s,e,o),mp(s,n,o)))}function fp(e,n,s){var o=_n();jo(e,n,s,o)}function jo(e,n,s,o){var c={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(xu(e))dp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return mu(e,n,c,0),Wt===null&&du(),!1}catch{}finally{}if(s=Ch(e,n,c,o),s!==null)return ln(s,e,o),mp(s,n,o),!0}return!1}function hf(e,n,s,o){if(o={lane:2,revertLane:Hf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xu(e)){if(n)throw Error(r(479))}else n=Ch(e,s,o,2),n!==null&&ln(n,e,2)}function xu(e){var n=e.alternate;return e===St||n!==null&&n===St}function dp(e,n){ya=Cu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function mp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,lo(e,s)}}var qo={readContext:Be,use:Nu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};qo.useEffectEvent=ue;var gp={readContext:Be,use:Nu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:$g,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Vu(4194308,4,np.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Vu(4194308,4,e,n)},useInsertionEffect:function(e,n){Vu(4,2,e,n)},useMemo:function(e,n){var s=We();n=n===void 0?null:n;var o=e();if(Ar){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=We();if(s!==void 0){var c=s(n);if(Ar){En(!0);try{s(n)}finally{En(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=q0.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=sf(e);var n=e.queue,s=fp.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:of,useDeferredValue:function(e,n){var s=We();return lf(s,e,n)},useTransition:function(){var e=sf(!1);return e=op.bind(null,St,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,c=We();if(xt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Wt===null)throw Error(r(349));(Ct&127)!==0||Lg(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,$g(Pg.bind(null,o,f,e),[e]),o.flags|=2048,va(9,{destroy:void 0},kg.bind(null,o,f,s,n),null),s},useId:function(){var e=We(),n=Wt.identifierPrefix;if(xt){var s=pi,o=gi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Iu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=U0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:cf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=hf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:tf,useCacheRefresh:function(){return We().memoizedState=j0.bind(null,St)},useEffectEvent:function(e){var n=We(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},ff={readContext:Be,use:Nu,useCallback:sp,useContext:Be,useEffect:af,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:ep,useMemo:rp,useReducer:Ou,useRef:Zg,useState:function(){return Ou(ki)},useDebugValue:of,useDeferredValue:function(e,n){var s=me();return ap(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Ou(ki)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Bo(e),n]},useSyncExternalStore:Ug,useId:cp,useHostTransitionStatus:cf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,n){var s=me();return jg(s,Xt,e,n)},useMemoCache:tf,useCacheRefresh:hp};ff.useEffectEvent=Wg;var pp={readContext:Be,use:Nu,useCallback:sp,useContext:Be,useEffect:af,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:ep,useMemo:rp,useReducer:nf,useRef:Zg,useState:function(){return nf(ki)},useDebugValue:of,useDeferredValue:function(e,n){var s=me();return Xt===null?lf(s,e,n):ap(s,Xt.memoizedState,e,n)},useTransition:function(){var e=nf(ki)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Bo(e),n]},useSyncExternalStore:Ug,useId:cp,useHostTransitionStatus:cf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,n){var s=me();return Xt!==null?jg(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:tf,useCacheRefresh:hp};pp.useEffectEvent=Wg;function df(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:R({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var mf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=_n(),c=_s(o);c.payload=n,s!=null&&(c.callback=s),n=vs(e,c,o),n!==null&&(ln(n,e,o),Lo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=_n(),c=_s(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=vs(e,c,o),n!==null&&(ln(n,e,o),Lo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=_n(),o=_s(s);o.tag=2,n!=null&&(o.callback=n),n=vs(e,o,s),n!==null&&(ln(n,e,s),Lo(n,e,s))}};function yp(e,n,s,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Io(s,o)||!Io(c,f):!0}function _p(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&mf.enqueueReplaceState(n,n.state,null)}function br(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=R({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function vp(e){fu(e)}function Ep(e){console.error(e)}function Tp(e){fu(e)}function Uu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Sp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function gf(e,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){Uu(e,n)},s}function Ap(e){return e=_s(e),e.tag=3,e}function bp(e,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Sp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Sp(n,s,o),typeof c!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function H0(e,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ha(n,s,c,!0),s=mn.current,s!==null){switch(s.tag){case 31:case 13:return Nn===null?Yu():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===Su?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Bf(e,o,c)),!1;case 22:return s.flags|=65536,o===Su?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Bf(e,o,c)),!1}throw Error(r(435,s.tag))}return Bf(e,o,c),Yu(),!1}if(xt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Mh&&(e=Error(r(422),{cause:o}),Oo(wn(e,s)))):(o!==Mh&&(n=Error(r(423),{cause:o}),Oo(wn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=wn(o,s),c=gf(e.stateNode,o,c),Gh(e,c),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:o});if(f=wn(f,s),Jo===null?Jo=[f]:Jo.push(f),ce!==4&&(ce=2),n===null)return!0;o=wn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=gf(s.stateNode,o,e),Gh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Ap(c),bp(c,e,s,o),Gh(s,c),!1}s=s.return}while(s!==null);return!1}var pf=Error(r(461)),Ae=!1;function je(e,n,s,o){n.child=e===null?Ig(n,null,s,o):Sr(n,e.child,s,o)}function Rp(e,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return _r(n),o=Jh(e,n,s,g,f,c),E=Zh(),e!==null&&!Ae?($h(e,n,c),Pi(e,n,c)):(xt&&E&&Oh(n),n.flags|=1,je(e,n,o,c),n.child)}function wp(e,n,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!Ih(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Cp(e,n,f,o,c)):(e=pu(s.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!bf(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Io,s(g,o)&&e.ref===n.ref)return Pi(e,n,c)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Cp(e,n,s,o,c){if(e!==null){var f=e.memoizedProps;if(Io(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,bf(e,c))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,Pi(e,n,c)}return yf(e,n,s,o,c)}function Ip(e,n,s,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return Dp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eu(n,f!==null?f.cachePool:null),f!==null?Og(n,f):Qh(),Vg(n);else return o=n.lanes=536870912,Dp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Eu(n,f.cachePool),Og(n,f),Ts(),n.memoizedState=null):(e!==null&&Eu(n,null),Qh(),Ts());return je(e,n,c,s),n.child}function Ho(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dp(e,n,s,o,c){var f=Bh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Eu(n,null),Qh(),Vg(n),e!==null&&ha(e,n,o,!0),n.childLanes=c,null}function Lu(e,n){return n=Pu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Np(e,n,s){return Sr(n,e.child,null,s),e=Lu(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function G0(e,n,s){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(xt){if(o.mode==="hidden")return e=Lu(n,o),n.lanes=536870912,Ho(null,e);if(Kh(n),(e=te)?(e=qy(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=dg(e),s.return=n,n.child=s,ze=n,te=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return Lu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Kh(n),c)if(n.flags&256)n.flags&=-257,n=Np(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ae||ha(e,n,s,!1),c=(s&e.childLanes)!==0,Ae||c){if(o=Wt,o!==null&&(g=uo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,mr(e,g),ln(o,e,g),pf;Yu(),n=Np(e,n,s)}else e=f.treeContext,te=On(g.nextSibling),ze=n,xt=!0,ms=null,Dn=!1,e!==null&&pg(n,e),n=Lu(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function yf(e,n,s,o,c){return _r(n),s=Jh(e,n,s,o,void 0,c),o=Zh(),e!==null&&!Ae?($h(e,n,c),Pi(e,n,c)):(xt&&o&&Oh(n),n.flags|=1,je(e,n,s,c),n.child)}function Op(e,n,s,o,c,f){return _r(n),n.updateQueue=null,s=xg(n,o,s,c),Mg(e),o=Zh(),e!==null&&!Ae?($h(e,n,f),Pi(e,n,f)):(xt&&o&&Oh(n),n.flags|=1,je(e,n,s,f),n.child)}function Vp(e,n,s,o,c){if(_r(n),n.stateNode===null){var f=oa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},qh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):oa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(df(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&mf.enqueueReplaceState(f,f.state,null),Po(n,o,f,c),ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=br(s,E);f.props=I;var P=f.context,H=s.contextType;g=oa,typeof H=="object"&&H!==null&&(g=Be(H));var Q=s.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&_p(n,f,o,g),ys=!1;var z=n.memoizedState;f.state=z,Po(n,o,f,c),ko(),P=n.memoizedState,E||z!==P||ys?(typeof Q=="function"&&(df(n,s,Q,o),P=n.memoizedState),(I=ys||yp(n,s,I,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Hh(e,n),g=n.memoizedProps,H=br(s,g),f.props=H,Q=n.pendingProps,z=f.context,P=s.contextType,I=oa,typeof P=="object"&&P!==null&&(I=Be(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==I)&&_p(n,f,o,I),ys=!1,z=n.memoizedState,f.state=z,Po(n,o,f,c),ko();var j=n.memoizedState;g!==Q||z!==j||ys||e!==null&&e.dependencies!==null&&_u(e.dependencies)?(typeof E=="function"&&(df(n,s,E,o),j=n.memoizedState),(H=ys||yp(n,s,H,o,z,j,I)||e!==null&&e.dependencies!==null&&_u(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=I,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Sr(n,e.child,null,c),n.child=Sr(n,null,s,c)):je(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Pi(e,n,c),e}function Mp(e,n,s,o){return pr(),n.flags|=256,je(e,n,s,o),n.child}var _f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(e){return{baseLanes:e,cachePool:Sg()}}function Ef(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=yn),e}function xp(e,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(xt){if(c?Es(n):Ts(),(e=te)?(e=qy(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=dg(e),s.return=n,n.child=s,ze=n,te=null)):e=null,e===null)throw gs(n);return nd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(Ts(),c=n.mode,E=Pu({mode:"hidden",children:E},c),o=gr(o,c,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=vf(s),o.childLanes=Ef(e,g,s),n.memoizedState=_f,Ho(null,o)):(Es(n),Tf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Es(n),n.flags&=-257,n=Sf(e,n,s)):n.memoizedState!==null?(Ts(),n.child=e.child,n.flags|=128,n=null):(Ts(),E=o.fallback,c=n.mode,o=Pu({mode:"visible",children:o.children},c),E=gr(E,c,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Sr(n,e.child,null,s),o=n.child,o.memoizedState=vf(s),o.childLanes=Ef(e,g,s),n.memoizedState=_f,n=Ho(null,o));else if(Es(n),nd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(r(419)),o.stack="",o.digest=g,Oo({value:o,source:null,stack:null}),n=Sf(e,n,s)}else if(Ae||ha(e,n,s,!1),g=(s&e.childLanes)!==0,Ae||g){if(g=Wt,g!==null&&(o=uo(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,mr(e,o),ln(g,e,o),pf;ed(E)||Yu(),n=Sf(e,n,s)}else ed(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,te=On(E.nextSibling),ze=n,xt=!0,ms=null,Dn=!1,e!==null&&pg(n,e),n=Tf(n,o.children),n.flags|=4096);return n}return c?(Ts(),E=o.fallback,c=n.mode,I=e.child,P=I.sibling,o=Vi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Vi(P,E):(E=gr(E,c,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Ho(null,o),o=n.child,E=e.child.memoizedState,E===null?E=vf(s):(c=E.cachePool,c!==null?(I=Te._currentValue,c=c.parent!==I?{parent:I,pool:I}:c):c=Sg(),E={baseLanes:E.baseLanes|s,cachePool:c}),o.memoizedState=E,o.childLanes=Ef(e,g,s),n.memoizedState=_f,Ho(e.child,o)):(Es(n),s=e.child,e=s.sibling,s=Vi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Tf(e,n){return n=Pu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Pu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function Sf(e,n,s){return Sr(n,e.child,null,s),e=Tf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Up(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Lh(e.return,n,s)}function Af(e,n,s,o,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Lp(e,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(de,g),je(e,n,o,s),o=xt?No:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Up(e,s,n);else if(e.tag===19)Up(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&wu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Af(n,!1,c,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&wu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Af(n,!0,s,null,f,o);break;case"together":Af(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),bs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ha(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Vi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Vi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&_u(e)))}function F0(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),ps(n,Te,e.memoizedState.cache),pr();break;case 27:case 5:Js(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Kh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Es(n),n.flags|=128,null):(s&n.child.childLanes)!==0?xp(e,n,s):(Es(n),e=Pi(e,n,s),e!==null?e.sibling:null);Es(n);break;case 19:var c=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ha(e,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return Lp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(de,de.current),o)break;return null;case 22:return n.lanes=0,Ip(e,n,s,n.pendingProps);case 24:ps(n,Te,e.memoizedState.cache)}return Pi(e,n,s)}function kp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!bf(e,s)&&(n.flags&128)===0)return Ae=!1,F0(e,n,s);Ae=(e.flags&131072)!==0}else Ae=!1,xt&&(n.flags&1048576)!==0&&gg(n,No,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Er(n.elementType),n.type=e,typeof e=="function")Ih(e)?(o=br(e,o),n.tag=1,n=Vp(null,n,e,o,s)):(n.tag=0,n=yf(null,n,e,o,s));else{if(e!=null){var c=e.$$typeof;if(c===Ht){n.tag=11,n=Rp(null,n,e,o,s);break t}else if(c===D){n.tag=14,n=wp(null,n,e,o,s);break t}}throw n=kt(e)||e,Error(r(306,n,""))}}return n;case 0:return yf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=br(o,n.pendingProps),Vp(e,n,o,c,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Hh(e,n),Po(n,o,null,s);var g=n.memoizedState;if(o=g.cache,ps(n,Te,o),o!==f.cache&&kh(n,[Te],s,!0),ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Mp(e,n,o,s);break t}else if(o!==c){c=wn(Error(r(424)),n),Oo(c),n=Mp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=On(e.firstChild),ze=n,xt=!0,ms=null,Dn=!0,s=Ig(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(pr(),o===c){n=Pi(e,n,s);break t}je(e,n,o,s)}n=n.child}return n;case 26:return ku(e,n),e===null?(s=Ky(n.type,null,n.pendingProps,null))?n.memoizedState=s:xt||(s=n.type,e=n.pendingProps,o=tc(At.current).createElement(s),o[_e]=n,o[Ve]=e,qe(o,s,e),ve(o),n.stateNode=o):n.memoizedState=Ky(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Js(n),e===null&&xt&&(o=n.stateNode=Fy(n.type,n.pendingProps,At.current),ze=n,Dn=!0,c=te,Ds(n.type)?(id=c,te=On(o.firstChild)):te=c),je(e,n,n.pendingProps.children,s),ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xt&&((c=o=te)&&(o=TS(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,ze=n,te=On(o.firstChild),Dn=!1,c=!0):c=!1),c||gs(n)),Js(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,$f(c,f)?o=null:g!==null&&$f(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Jh(e,n,L0,null,null,s),sl._currentValue=c),ku(e,n),je(e,n,o,s),n.child;case 6:return e===null&&xt&&((e=s=te)&&(s=SS(s,n.pendingProps,Dn),s!==null?(n.stateNode=s,ze=n,te=null,e=!0):e=!1),e||gs(n)),null;case 13:return xp(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Sr(n,null,o,s):je(e,n,o,s),n.child;case 11:return Rp(e,n,n.type,n.pendingProps,s);case 7:return je(e,n,n.pendingProps,s),n.child;case 8:return je(e,n,n.pendingProps.children,s),n.child;case 12:return je(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ps(n,n.type,o.value),je(e,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,_r(n),c=Be(c),o=o(c),n.flags|=1,je(e,n,o,s),n.child;case 14:return wp(e,n,n.type,n.pendingProps,s);case 15:return Cp(e,n,n.type,n.pendingProps,s);case 19:return Lp(e,n,s);case 31:return G0(e,n,s);case 22:return Ip(e,n,s,n.pendingProps);case 24:return _r(n),o=Be(Te),e===null?(c=Bh(),c===null&&(c=Wt,f=Ph(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},qh(n),ps(n,Te,c)):((e.lanes&s)!==0&&(Hh(e,n),Po(n,null,null,s),ko()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ps(n,Te,o)):(o=f.cache,ps(n,Te,o),o!==c.cache&&kh(n,[Te],s,!0))),je(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function zi(e){e.flags|=4}function Rf(e,n,s,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(cy())e.flags|=8192;else throw Tr=Su,jh}else e.flags&=-16777217}function Pp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wy(n))if(cy())e.flags|=8192;else throw Tr=Su,jh}function zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Fl():536870912,e.lanes|=n,Aa|=n)}function Go(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function Q0(e,n,s){var o=n.pendingProps;switch(Vh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Te),ie(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ca(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xh())),ee(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(ee(n),Pp(n,f)):(ee(n),Rf(n,c,null,o,s))):f?f!==e.memoizedState?(zi(n),ee(n),Pp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),ee(n),Rf(n,c,e,o,s)),null;case 27:if(qr(n),s=At.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ee(n),null}e=st.current,ca(n)?yg(n):(e=Fy(c,o,s),n.stateNode=e,zi(n))}return ee(n),null;case 5:if(qr(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ee(n),null}if(f=st.current,ca(n))yg(n);else{var g=tc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[_e]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return ee(n),Rf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=At.current,ca(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,c=ze,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||xy(e.nodeValue,s)),e||gs(n,!0)}else e=tc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ee(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ca(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[_e]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else s=xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ca(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[_e]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),zu(n,n.updateQueue),ee(n),null);case 4:return ie(),e===null&&Yf(n.stateNode.containerInfo),ee(n),null;case 10:return Ui(n.type),ee(n),null;case 19:if(Y(de),o=n.memoizedState,o===null)return ee(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Go(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=wu(e),f!==null){for(n.flags|=128,Go(o,!1),e=f.updateQueue,n.updateQueue=e,zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)fg(s,e),s=s.sibling;return et(de,de.current&1|2),xt&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ze()>Gu&&(n.flags|=128,c=!0,Go(o,!1),n.lanes=4194304)}else{if(!c)if(e=wu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,zu(n,e),Go(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!xt)return ee(n),null}else 2*Ze()-o.renderingStartTime>Gu&&s!==536870912&&(n.flags|=128,c=!0,Go(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ze(),e.sibling=null,s=de.current,et(de,c?s&1|2:s&1),xt&&Mi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return gn(n),Yh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(vr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Y0(e,n){switch(Vh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Te),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return qr(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(r(340));pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return ie(),null;case 10:return Ui(n.type),null;case 22:case 23:return gn(n),Yh(),e!==null&&Y(vr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Te),null;case 25:return null;default:return null}}function zp(e,n){switch(Vh(n),n.tag){case 3:Ui(Te),ie();break;case 26:case 27:case 5:qr(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Y(de);break;case 10:Ui(n.type);break;case 22:case 23:gn(n),Yh(),e!==null&&Y(vr);break;case 24:Ui(Te)}}function Fo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==c)}}catch(E){Yt(n,n.return,E)}}function Ss(e,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var I=s,P=E;try{P()}catch(H){Yt(c,I,H)}}}o=o.next}while(o!==f)}}catch(H){Yt(n,n.return,H)}}function Bp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Ng(n,s)}catch(o){Yt(e,e.return,o)}}}function jp(e,n,s){s.props=br(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Yt(e,n,o)}}function Qo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){Yt(e,n,c)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Yt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Yt(e,n,c)}else s.current=null}function qp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Yt(e,e.return,c)}}function wf(e,n,s){try{var o=e.stateNode;gS(o,e.type,s,n),o[Ve]=n}catch(c){Yt(e,e.return,c)}}function Hp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function Cf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function If(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(If(e,n,s),e=e.sibling;e!==null;)If(e,n,s),e=e.sibling}function Bu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Bu(e,n,s),e=e.sibling;e!==null;)Bu(e,n,s),e=e.sibling}function Gp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,o,s),n[_e]=e,n[Ve]=s}catch(f){Yt(e,e.return,f)}}var Bi=!1,be=!1,Df=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,xe=null;function K0(e,n){if(e=e.containerInfo,Jf=oc,e=ig(e),Th(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,P=0,H=0,Q=e,z=null;e:for(;;){for(var j;Q!==s||c!==0&&Q.nodeType!==3||(E=g+c),Q!==f||o!==0&&Q.nodeType!==3||(I=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(j=Q.firstChild)!==null;)z=Q,Q=j;for(;;){if(Q===e)break e;if(z===s&&++P===c&&(E=g),z===f&&++H===o&&(I=g),(j=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=j}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Zf={focusedElem:e,selectionRange:s},oc=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=br(s.type,c);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Yt(s,s.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)td(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function Qp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qi(e,s),o&4&&Fo(5,s);break;case 1:if(qi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(s,s.return,g)}else{var c=br(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(s,s.return,g)}}o&64&&Bp(s),o&512&&Qo(s,s.return);break;case 3:if(qi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Ng(e,n)}catch(g){Yt(s,s.return,g)}}break;case 27:n===null&&o&4&&Gp(s);case 26:case 5:qi(e,s),n===null&&o&4&&qp(s),o&512&&Qo(s,s.return);break;case 12:qi(e,s);break;case 31:qi(e,s),o&4&&Xp(e,s);break;case 13:qi(e,s),o&4&&Jp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=iS.bind(null,s),AS(e,s))));break;case 22:if(o=s.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||be,c=Bi;var f=be;Bi=o,(be=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):qi(e,s),Bi=c,be=f}break;case 30:break;default:qi(e,s)}}function Yp(e){var n=e.alternate;n!==null&&(e.alternate=null,Yp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Yr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,sn=!1;function ji(e,n,s){for(s=s.child;s!==null;)Kp(e,n,s),s=s.sibling}function Kp(e,n,s){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:be||yi(s,n),ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||yi(s,n);var o=re,c=sn;Ds(s.type)&&(re=s.stateNode,sn=!1),ji(e,n,s),el(s.stateNode),re=o,sn=c;break;case 5:be||yi(s,n);case 6:if(o=re,c=sn,re=null,ji(e,n,s),re=o,sn=c,re!==null)if(sn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{re.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:re!==null&&(sn?(e=re,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Oa(e)):By(re,s.stateNode));break;case 4:o=re,c=sn,re=s.stateNode.containerInfo,sn=!0,ji(e,n,s),re=o,sn=c;break;case 0:case 11:case 14:case 15:Ss(2,s,n),be||Ss(4,s,n),ji(e,n,s);break;case 1:be||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&jp(s,n,o)),ji(e,n,s);break;case 21:ji(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,ji(e,n,s),be=o;break;default:ji(e,n,s)}}function Xp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oa(e)}catch(s){Yt(n,n.return,s)}}}function Jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(s){Yt(n,n.return,s)}}function X0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Fp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Fp),n;default:throw Error(r(435,e.tag))}}function ju(e,n){var s=X0(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var c=sS.bind(null,e,o);o.then(c,c)}})}function rn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){re=E.stateNode,sn=!1;break t}break;case 5:re=E.stateNode,sn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(re===null)throw Error(r(160));Kp(f,g,c),re=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Zp(n,e),n=n.sibling}var Fn=null;function Zp(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),an(e),o&4&&(Ss(3,e,e.return),Fo(3,e),Ss(5,e,e.return));break;case 1:rn(n,e),an(e),o&512&&(be||s===null||yi(s,s.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=Fn;if(rn(n,e),an(e),o&512&&(be||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ii]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,o,s),f[_e]=e,ve(f),o=f;break t;case"link":var g=Zy("link","href",c).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(o),qe(f,o,s),c.head.appendChild(f);break;case"meta":if(g=Zy("meta","content",c).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(o),qe(f,o,s),c.head.appendChild(f);break;default:throw Error(r(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else $y(c,e.type,e.stateNode);else e.stateNode=Jy(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?$y(c,e.type,e.stateNode):Jy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&wf(e,e.memoizedProps,s.memoizedProps)}break;case 27:rn(n,e),an(e),o&512&&(be||s===null||yi(s,s.return)),s!==null&&o&4&&wf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(rn(n,e),an(e),o&512&&(be||s===null||yi(s,s.return)),e.flags&32){c=e.stateNode;try{nn(c,"")}catch(rt){Yt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,wf(e,c,s!==null?s.memoizedProps:c)),o&1024&&(Df=!0);break;case 6:if(rn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){Yt(e,e.return,rt)}}break;case 3:if(ic=null,c=Fn,Fn=ec(n.containerInfo),rn(n,e),Fn=c,an(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Oa(n.containerInfo)}catch(rt){Yt(e,e.return,rt)}Df&&(Df=!1,$p(e));break;case 4:o=Fn,Fn=ec(e.stateNode.containerInfo),rn(n,e),an(e),Fn=o;break;case 12:rn(n,e),an(e);break;case 31:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ju(e,o)));break;case 13:rn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Hu=Ze()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ju(e,o)));break;case 22:c=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,P=Bi,H=be;if(Bi=P||c,be=H||I,rn(n,e),be=H,Bi=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||I||Bi||be||Rr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Q=I.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Yt(I,I.return,rt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=c?"":I.memoizedProps}catch(rt){Yt(I,I.return,rt)}}}else if(n.tag===18){if(s===null){I=n;try{var j=I.stateNode;c?jy(j,!0):jy(I.stateNode,!1)}catch(rt){Yt(I,I.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ju(e,s))));break;case 19:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ju(e,o)));break;case 30:break;case 21:break;default:rn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Hp(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Cf(e);Bu(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(nn(g,""),s.flags&=-33);var E=Cf(e);Bu(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,P=Cf(e);If(e,P,I);break;default:throw Error(r(161))}}catch(H){Yt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$p(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qp(e,n.alternate,n),n=n.sibling}function Rr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Rr(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&jp(n,n.return,s),Rr(n);break;case 27:el(n.stateNode);case 26:case 5:yi(n,n.return),Rr(n);break;case 22:n.memoizedState===null&&Rr(n);break;case 30:Rr(n);break;default:Rr(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(c,f,s),Fo(4,f);break;case 1:if(Hi(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Yt(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var I=c.shared.hiddenCallbacks;if(I!==null)for(c.shared.hiddenCallbacks=null,c=0;c<I.length;c++)Dg(I[c],E)}catch(P){Yt(o,o.return,P)}}s&&g&64&&Bp(f),Qo(f,f.return);break;case 27:Gp(f);case 26:case 5:Hi(c,f,s),s&&o===null&&g&4&&qp(f),Qo(f,f.return);break;case 12:Hi(c,f,s);break;case 31:Hi(c,f,s),s&&g&4&&Xp(c,f);break;case 13:Hi(c,f,s),s&&g&4&&Jp(c,f);break;case 22:f.memoizedState===null&&Hi(c,f,s),Qo(f,f.return);break;case 30:break;default:Hi(c,f,s)}n=n.sibling}}function Nf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Vo(s))}function Of(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e))}function Qn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wp(e,n,s,o),n=n.sibling}function Wp(e,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,s,o),c&2048&&Fo(9,n);break;case 1:Qn(e,n,s,o);break;case 3:Qn(e,n,s,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e)));break;case 12:if(c&2048){Qn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else Qn(e,n,s,o);break;case 31:Qn(e,n,s,o);break;case 13:Qn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,s,o):Yo(e,n):f._visibility&2?Qn(e,n,s,o):(f._visibility|=2,Ea(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Nf(g,n);break;case 24:Qn(e,n,s,o),c&2048&&Of(n.alternate,n);break;default:Qn(e,n,s,o)}}function Ea(e,n,s,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ea(f,g,E,I,c),Fo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Ea(f,g,E,I,c):Yo(f,g):(H._visibility|=2,Ea(f,g,E,I,c)),c&&P&2048&&Nf(g.alternate,g);break;case 24:Ea(f,g,E,I,c),c&&P&2048&&Of(g.alternate,g);break;default:Ea(f,g,E,I,c)}n=n.sibling}}function Yo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,c=o.flags;switch(o.tag){case 22:Yo(s,o),c&2048&&Nf(o.alternate,o);break;case 24:Yo(s,o),c&2048&&Of(o.alternate,o);break;default:Yo(s,o)}n=n.sibling}}var Ko=8192;function Ta(e,n,s){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)ty(e,n,s),e=e.sibling}function ty(e,n,s){switch(e.tag){case 26:Ta(e,n,s),e.flags&Ko&&e.memoizedState!==null&&US(s,Fn,e.memoizedState,e.memoizedProps);break;case 5:Ta(e,n,s);break;case 3:case 4:var o=Fn;Fn=ec(e.stateNode.containerInfo),Ta(e,n,s),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Ko,Ko=16777216,Ta(e,n,s),Ko=o):Ta(e,n,s));break;default:Ta(e,n,s)}}function ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];xe=o,iy(o,e)}ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:Xo(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:Xo(e);break;case 12:Xo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,qu(e)):Xo(e);break;default:Xo(e)}}function qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];xe=o,iy(o,e)}ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),qu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,qu(n));break;default:qu(n)}e=e.sibling}}function iy(e,n){for(;xe!==null;){var s=xe;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,xe=o;else t:for(s=e;xe!==null;){o=xe;var c=o.sibling,f=o.return;if(Yp(o),o===s){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var J0={getCacheForType:function(e){var n=Be(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Te).controller.signal}},Z0=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Rt=null,Ct=0,Qt=0,pn=null,As=!1,Sa=!1,Vf=!1,Gi=0,ce=0,bs=0,wr=0,Mf=0,yn=0,Aa=0,Jo=null,on=null,xf=!1,Hu=0,sy=0,Gu=1/0,Fu=null,Rs=null,De=0,ws=null,ba=null,Fi=0,Uf=0,Lf=null,ry=null,Zo=0,kf=null;function _n(){return(qt&2)!==0&&Ct!==0?Ct&-Ct:q.T!==null?Hf():Ql()}function ay(){if(yn===0)if((Ct&536870912)===0||xt){var e=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,s){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),Cs(e,Ct,yn,!1)),tr(e,s),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(wr|=s),ce===4&&Cs(e,Ct,yn,!1)),_i(e))}function oy(e,n,s){if((qt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),c=o?tS(e,n):zf(e,n,!0),f=o;do{if(c===0){Sa&&!o&&Cs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!$0(s)){c=zf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=Jo;var I=E.current.memoizedState.isDehydrated;if(I&&(Ra(E,g).flags|=256),g=zf(E,g,!1),g!==2){if(Vf&&!I){E.errorRecoveryDisabledLanes|=f,wr|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Ra(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,yn,!As);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Hu+300-Ze(),10<c)){if(Cs(o,n,yn,!As),ti(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=Py(ly.bind(null,o,s,on,Fu,xf,n,yn,wr,Aa,As,f,"Throttled",-0,0),c);break t}ly(o,s,on,Fu,xf,n,yn,wr,Aa,As,f,null,-0,0)}}break}while(!0);_i(e)}function ly(e,n,s,o,c,f,g,E,I,P,H,Q,z,j){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},ty(n,f,Q);var rt=(f&62914560)===f?Hu-Ze():(f&4194048)===f?sy-Ze():0;if(rt=LS(Q,rt),rt!==null){Fi=f,e.cancelPendingCommit=rt(py.bind(null,e,n,f,s,o,c,g,E,I,H,Q,null,z,j)),Cs(e,f,g,!P);return}}py(e,n,f,s,o,c,g,E,I)}function $0(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,s,o){n&=~Mf,n&=~wr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;o[f]=-1,c&=~g}s!==0&&er(e,s,n)}function Qu(){return(qt&6)===0?($o(0),!1):!0}function Pf(){if(Rt!==null){if(Qt===0)var e=Rt.return;else e=Rt,xi=yr=null,Wh(e),ga=null,xo=0,e=Rt;for(;e!==null;)zp(e.alternate,e),e=e.return;Rt=null}}function Ra(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,_S(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Fi=0,Pf(),Wt=e,Rt=s=Vi(e.current,null),Ct=n,Qt=0,pn=null,As=!1,Sa=Ln(e,n),Vf=!1,Aa=yn=Mf=wr=bs=ce=0,on=Jo=null,xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-he(o),f=1<<c;n|=e[c],o&=~f}return Gi=n,du(),s}function uy(e,n){St=null,q.H=qo,n===ma||n===Tu?(n=Rg(),Qt=3):n===jh?(n=Rg(),Qt=4):Qt=n===pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Rt===null&&(ce=1,Uu(e,wn(n,e.current)))}function cy(){var e=mn.current;return e===null?!0:(Ct&4194048)===Ct?Nn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Nn:!1}function hy(){var e=q.H;return q.H=qo,e===null?qo:e}function fy(){var e=q.A;return q.A=J0,e}function Yu(){ce=4,As||(Ct&4194048)!==Ct&&mn.current!==null||(Sa=!0),(bs&134217727)===0&&(wr&134217727)===0||Wt===null||Cs(Wt,Ct,yn,!1)}function zf(e,n,s){var o=qt;qt|=2;var c=hy(),f=fy();(Wt!==e||Ct!==n)&&(Fu=null,Ra(e,n)),n=!1;var g=ce;t:do try{if(Qt!==0&&Rt!==null){var E=Rt,I=pn;switch(Qt){case 8:Pf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var P=Qt;if(Qt=0,pn=null,wa(e,E,I,P),s&&Sa){g=0;break t}break;default:P=Qt,Qt=0,pn=null,wa(e,E,I,P)}}W0(),g=ce;break}catch(H){uy(e,H)}while(!0);return n&&e.shellSuspendCounter++,xi=yr=null,qt=o,q.H=c,q.A=f,Rt===null&&(Wt=null,Ct=0,du()),g}function W0(){for(;Rt!==null;)dy(Rt)}function tS(e,n){var s=qt;qt|=2;var o=hy(),c=fy();Wt!==e||Ct!==n?(Fu=null,Gu=Ze()+500,Ra(e,n)):Sa=Ln(e,n);t:do try{if(Qt!==0&&Rt!==null){n=Rt;var f=pn;e:switch(Qt){case 1:Qt=0,pn=null,wa(e,n,f,1);break;case 2:case 9:if(Ag(f)){Qt=0,pn=null,my(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),_i(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Ag(f)?(Qt=0,pn=null,my(n)):(Qt=0,pn=null,wa(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?Wy(g):E.stateNode.complete){Qt=0,pn=null;var I=E.sibling;if(I!==null)Rt=I;else{var P=E.return;P!==null?(Rt=P,Ku(P)):Rt=null}break e}}Qt=0,pn=null,wa(e,n,f,5);break;case 6:Qt=0,pn=null,wa(e,n,f,6);break;case 8:Pf(),ce=6;break t;default:throw Error(r(462))}}eS();break}catch(H){uy(e,H)}while(!0);return xi=yr=null,q.H=o,q.A=c,qt=s,Rt!==null?0:(Wt=null,Ct=0,du(),ce)}function eS(){for(;Rt!==null&&!mh();)dy(Rt)}function dy(e){var n=kp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?Ku(e):Rt=n}function my(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Op(s,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Op(s,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:Wh(n);default:zp(s,n),n=Rt=fg(n,Gi),n=kp(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?Ku(e):Rt=n}function wa(e,n,s,o){xi=yr=null,Wh(n),ga=null,xo=0;var c=n.return;try{if(H0(e,c,n,s,Ct)){ce=1,Uu(e,wn(s,e.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ce=1,Uu(e,wn(s,e.current)),Rt=null;return}n.flags&32768?(xt||o===1?e=!0:Sa||(Ct&536870912)!==0?e=!1:(As=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),gy(n,e)):Ku(n)}function Ku(e){var n=e;do{if((n.flags&32768)!==0){gy(n,As);return}e=n.return;var s=Q0(n.alternate,n,Gi);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function gy(e,n){do{var s=Y0(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);ce=6,Rt=null}function py(e,n,s,o,c,f,g,E,I){e.cancelPendingCommit=null;do Xu();while(De!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=wh,yh(e,s,f,g,E,I),e===Wt&&(Rt=Wt=null,Ct=0),ba=n,ws=e,Fi=s,Uf=f,Lf=c,ry=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rS(is,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,c=W.p,W.p=2,g=qt,qt|=4;try{K0(e,n,s)}finally{qt=g,W.p=c,q.T=o}}De=1,yy(),_y(),vy()}}function yy(){if(De===1){De=0;var e=ws,n=ba,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=W.p;W.p=2;var c=qt;qt|=4;try{Zp(n,e);var f=Zf,g=ig(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&ng(E.ownerDocument.documentElement,E)){if(I!==null&&Th(E)){var P=I.start,H=I.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var j=z.getSelection(),rt=E.textContent.length,ft=Math.min(I.start,rt),Zt=I.end===void 0?ft:Math.min(I.end,rt);!j.extend&&ft>Zt&&(g=Zt,Zt=ft,ft=g);var x=eg(E,ft),O=eg(E,Zt);if(x&&O&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var k=Q.createRange();k.setStart(x.node,x.offset),j.removeAllRanges(),ft>Zt?(j.addRange(k),j.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),j.addRange(k))}}}}for(Q=[],j=E;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}oc=!!Jf,Zf=Jf=null}finally{qt=c,W.p=o,q.T=s}}e.current=n,De=2}}function _y(){if(De===2){De=0;var e=ws,n=ba,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=W.p;W.p=2;var c=qt;qt|=4;try{Qp(e,n.alternate,n)}finally{qt=c,W.p=o,q.T=s}}De=3}}function vy(){if(De===4||De===3){De=0,zl();var e=ws,n=ba,s=Fi,o=ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,ba=ws=null,Ey(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Rs=null),Ii(s),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,c=W.p,W.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,W.p=c}}(Fi&3)!==0&&Xu(),_i(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===kf?Zo++:(Zo=0,kf=e):Zo=0,$o(0)}}function Ey(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vo(n)))}function Xu(){return yy(),_y(),vy(),Ty()}function Ty(){if(De!==5)return!1;var e=ws,n=Uf;Uf=0;var s=Ii(Fi),o=q.T,c=W.p;try{W.p=32>s?32:s,q.T=null,s=Lf,Lf=null;var f=ws,g=Fi;if(De=0,ba=ws=null,Fi=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,ny(f.current),Wp(f,f.current,g,s),qt=E,$o(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{W.p=c,q.T=o,Ey(e,n)}}function Sy(e,n,s){n=wn(s,n),n=gf(e.stateNode,n,2),e=vs(e,n,2),e!==null&&(tr(e,2),_i(e))}function Yt(e,n,s){if(e.tag===3)Sy(e,e,s);else for(;n!==null;){if(n.tag===3){Sy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=wn(s,e),s=Ap(2),o=vs(n,s,2),o!==null&&(bp(s,o,n,e),tr(o,2),_i(o));break}}n=n.return}}function Bf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Z0;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(Vf=!0,c.add(s),e=nS.bind(null,e,n,s),n.then(e,e))}function nS(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Wt===e&&(Ct&s)===s&&(ce===4||ce===3&&(Ct&62914560)===Ct&&300>Ze()-Hu?(qt&2)===0&&Ra(e,0):Mf|=s,Aa===Ct&&(Aa=0)),_i(e)}function Ay(e,n){n===0&&(n=Fl()),e=mr(e,n),e!==null&&(tr(e,n),_i(e))}function iS(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ay(e,s)}function sS(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Ay(e,s)}function rS(e,n){return Ie(e,n)}var Ju=null,Ca=null,jf=!1,Zu=!1,qf=!1,Is=0;function _i(e){e!==Ca&&e.next===null&&(Ca===null?Ju=Ca=e:Ca=Ca.next=e),Zu=!0,jf||(jf=!0,oS())}function $o(e,n){if(!qf&&Zu){qf=!0;do for(var s=!1,o=Ju;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Cy(o,f))}else f=Ct,f=ti(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,Cy(o,f));o=o.next}while(s);qf=!1}}function aS(){by()}function by(){Zu=jf=!1;var e=0;Is!==0&&yS()&&(e=Is);for(var n=Ze(),s=null,o=Ju;o!==null;){var c=o.next,f=Ry(o,n);f===0?(o.next=null,s===null?Ju=c:s.next=c,c===null&&(Ca=s)):(s=o,(e!==0||(f&3)!==0)&&(Zu=!0)),o=c}De!==0&&De!==5||$o(e),Is!==0&&(Is=0)}function Ry(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,I=c[g];I===-1?((E&s)===0||(E&o)!==0)&&(c[g]=ph(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,s=Ct,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ns(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ns(o),Ii(s)){case 2:case 8:s=oo;break;case 32:s=is;break;case 268435456:s=Bl;break;default:s=is}return o=wy.bind(null,e),s=Ie(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ns(o),e.callbackPriority=2,e.callbackNode=null,2}function wy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Xu()&&e.callbackNode!==s)return null;var o=Ct;return o=ti(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(oy(e,o,n),Ry(e,Ze()),e.callbackNode!=null&&e.callbackNode===s?wy.bind(null,e):null)}function Cy(e,n){if(Xu())return null;oy(e,n,!0)}function oS(){vS(function(){(qt&6)!==0?Ie(ao,aS):by()})}function Hf(){if(Is===0){var e=fa;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),Is=e}return Is}function Iy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zr(""+e)}function Dy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function lS(e,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=Iy((c[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Iy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Is!==0){var I=g?Dy(c,g):new FormData(c);uf(s,{pending:!0,data:I,method:c.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Dy(c,g):new FormData(c),uf(s,{pending:!0,data:I,method:c.method,action:f},f,I))},currentTarget:c}]})}}for(var Gf=0;Gf<Rh.length;Gf++){var Ff=Rh[Gf],uS=Ff.toLowerCase(),cS=Ff[0].toUpperCase()+Ff.slice(1);Gn(uS,"on"+cS)}Gn(ag,"onAnimationEnd"),Gn(og,"onAnimationIteration"),Gn(lg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(w0,"onTransitionRun"),Gn(C0,"onTransitionStart"),Gn(I0,"onTransitionCancel"),Gn(ug,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function Ny(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){fu(H)}c.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){fu(H)}c.currentTarget=null,f=I}}}}function wt(e,n){var s=n[Qr];s===void 0&&(s=n[Qr]=new Set);var o=e+"__bubble";s.has(o)||(Oy(n,e,2,!1),s.add(o))}function Qf(e,n,s){var o=0;n&&(o|=4),Oy(s,e,o,n)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Yf(e){if(!e[$u]){e[$u]=!0,co.forEach(function(s){s!=="selectionchange"&&(hS.has(s)||Qf(s,!1,e),Qf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[$u]||(n[$u]=!0,Qf("selectionchange",!1,n))}}function Oy(e,n,s,o){switch(a_(n)){case 2:var c=zS;break;case 8:c=BS;break;default:c=ld}s=c.bind(null,n,s,e),c=void 0,!ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Kf(e,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}us(function(){var P=f,H=Sn(s),Q=[];t:{var z=cg.get(e);if(z!==void 0){var j=hi,rt=e;switch(e){case"keypress":if(lr(s)===0)break t;case"keydown":case"keyup":j=uu;break;case"focusin":rt="focus",j=cr;break;case"focusout":rt="blur",j=cr;break;case"beforeblur":case"afterblur":j=cr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case ag:case og:case lg:j=nu;break;case ug:j=T;break;case"scroll":case"scrollend":j=Ao;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Oi;break;case"toggle":case"beforetoggle":j=Tt}var ft=(n&4)!==0,Zt=!ft&&(e==="scroll"||e==="scrollend"),x=ft?z!==null?z+"Capture":null:z;ft=[];for(var O=P,k;O!==null;){var G=O;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||x===null||(G=Bn(O,x),G!=null&&ft.push(tl(O,G,k))),Zt)break;O=O.return}0<ft.length&&(z=new j(z,rt,null,s,H),Q.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&s!==Eo&&(rt=s.relatedTarget||s.fromElement)&&(si(rt)||rt[ni]))break t;if((j||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,j?(rt=s.relatedTarget||s.toElement,j=P,rt=rt?si(rt):null,rt!==null&&(Zt=h(rt),ft=rt.tag,rt!==Zt||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(j=null,rt=P),j!==rt)){if(ft=bo,G="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Oi,G="onPointerLeave",x="onPointerEnter",O="pointer"),Zt=j==null?z:cn(j),k=rt==null?z:cn(rt),z=new ft(G,O+"leave",j,s,H),z.target=Zt,z.relatedTarget=k,G=null,si(H)===P&&(ft=new ft(x,O+"enter",rt,s,H),ft.target=k,ft.relatedTarget=Zt,G=ft),Zt=G,j&&rt)e:{for(ft=fS,x=j,O=rt,k=0,G=x;G;G=ft(G))k++;G=0;for(var ut=O;ut;ut=ft(ut))G++;for(;0<k-G;)x=ft(x),k--;for(;0<G-k;)O=ft(O),G--;for(;k--;){if(x===O||O!==null&&x===O.alternate){ft=x;break e}x=ft(x),O=ft(O)}ft=null}else ft=null;j!==null&&Vy(Q,z,j,ft,!1),rt!==null&&Zt!==null&&Vy(Q,Zt,rt,ft,!0)}}t:{if(z=P?cn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Pt=Xm;else if(Ym(z))if(Jm)Pt=A0;else{Pt=T0;var at=E0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Jr(P.elementType)&&(Pt=Xm):Pt=S0;if(Pt&&(Pt=Pt(e,P))){Km(Q,Pt,s,H);break t}at&&at(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&yo(z,"number",z.value)}switch(at=P?cn(P):window,e){case"focusin":(Ym(at)||at.contentEditable==="true")&&(sa=at,Sh=P,Do=null);break;case"focusout":Do=Sh=sa=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,sg(Q,s,H);break;case"selectionchange":if(R0)break;case"keydown":case"keyup":sg(Q,s,H)}var bt;if(jt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else ia?hr(e,s)&&(It="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(It="onCompositionStart");It&&(mi&&s.locale!=="ko"&&(ia||It!=="onCompositionStart"?It==="onCompositionEnd"&&ia&&(bt=So()):(ci=H,To="value"in ci?ci.value:ci.textContent,ia=!0)),at=Wu(P,It),0<at.length&&(It=new di(It,e,null,s,H),Q.push({event:It,listeners:at}),bt?It.data=bt:(bt=na(s),bt!==null&&(It.data=bt)))),(bt=bn?p0(e,s):y0(e,s))&&(It=Wu(P,"onBeforeInput"),0<It.length&&(at=new di("onBeforeInput","beforeinput",null,s,H),Q.push({event:at,listeners:It}),at.data=bt)),lS(Q,e,P,s,H)}Ny(Q,n)})}function tl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Wu(e,n){for(var s=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bn(e,s),c!=null&&o.unshift(tl(e,c,f)),c=Bn(e,n),c!=null&&o.push(tl(e,c,f))),e.tag===3)return o;e=e.return}return[]}function fS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,n,s,o,c){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,c?(P=Bn(s,f),P!=null&&g.unshift(tl(s,P,I))):c||(P=Bn(s,f),P!=null&&g.push(tl(s,P,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var dS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function My(e){return(typeof e=="string"?e:""+e).replace(dS,`
`).replace(mS,"")}function xy(e,n){return n=My(n),My(e)===n}function Jt(e,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,s,o);break;case"style":vo(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Zr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",c.name,c,null),Jt(e,n,"formEncType",c.formEncType,c,null),Jt(e,n,"formMethod",c.formMethod,c,null),Jt(e,n,"formTarget",c.formTarget,c,null)):(Jt(e,n,"encType",c.encType,c,null),Jt(e,n,"method",c.method,c,null),Jt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Zr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Zr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":wt("beforetoggle",e),wt("toggle",e),Kr(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Kr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Wl.get(s)||s,Kr(e,s,o))}}function Xf(e,n,s,o,c,f){switch(s){case"style":vo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,c);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Kr(e,s,o)}}}function qe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,f,g,s,null)}}c&&Jt(e,n,"srcSet",s.srcSet,s,null),o&&Jt(e,n,"src",s.src,s,null);return;case"input":wt("invalid",e);var E=f=g=c=null,I=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":c=H;break;case"type":g=H;break;case"checked":I=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Jt(e,n,o,H,s,null)}}Jl(e,f,E,I,P,g,c,!1);return;case"select":wt("invalid",e),o=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,c,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?rs(e,!!o,n,!1):s!=null&&rs(e,!!o,s,!0);return;case"textarea":wt("invalid",e),f=c=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Jt(e,n,g,E,s,null)}as(e,o,c,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,I,o,s,null)}return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(o=0;o<Wo.length;o++)wt(Wo[o],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,P,o,s,null)}return;default:if(Jr(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&Xf(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Jt(e,n,E,o,s,null))}function gS(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,I=null,P=null,H=null;for(j in s){var Q=s[j];if(s.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":I=Q;default:o.hasOwnProperty(j)||Jt(e,n,j,null,o,Q)}}for(var z in o){var j=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(j!=null||Q!=null))switch(z){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":H=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:j!==Q&&Jt(e,n,z,j,o,Q)}}Xr(e,g,E,I,P,H,f,c);return;case"select":j=g=E=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":j=I;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,I)}for(c in o)if(f=o[c],I=s[c],o.hasOwnProperty(c)&&(f!=null||I!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Jt(e,n,c,f,o,I)}n=E,s=g,o=j,z!=null?rs(e,!!s,z,!1):!!o!=!!s&&(n!=null?rs(e,!!s,n,!0):rs(e,!!s,s?[]:"",!1));return;case"textarea":j=z=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,c)}for(g in o)if(c=o[g],f=s[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Jt(e,n,g,c,o,f)}Zl(e,z,j);return;case"option":for(var rt in s)if(z=s[rt],s.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Jt(e,n,rt,null,o,z)}for(I in o)if(z=o[I],j=s[I],o.hasOwnProperty(I)&&z!==j&&(z!=null||j!=null))switch(I){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Jt(e,n,I,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in s)z=s[ft],s.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Jt(e,n,ft,null,o,z);for(P in o)if(z=o[P],j=s[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Jt(e,n,P,z,o,j)}return;default:if(Jr(n)){for(var Zt in s)z=s[Zt],s.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&Xf(e,n,Zt,void 0,o,z);for(H in o)z=o[H],j=s[H],!o.hasOwnProperty(H)||z===j||z===void 0&&j===void 0||Xf(e,n,H,z,o,j);return}}for(var x in s)z=s[x],s.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Jt(e,n,x,null,o,z);for(Q in o)z=o[Q],j=s[Q],!o.hasOwnProperty(Q)||z===j||z==null&&j==null||Jt(e,n,Q,z,o,j)}function Uy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var c=s[o],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Uy(g)){for(g=0,E=c.responseEnd,o+=1;o<s.length;o++){var I=s[o],P=I.startTime;if(P>E)break;var H=I.transferSize,Q=I.initiatorType;H&&Uy(Q)&&(I=I.responseEnd,g+=H*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jf=null,Zf=null;function tc(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function $f(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wf=null;function yS(){var e=window.event;return e&&e.type==="popstate"?e===Wf?!1:(Wf=e,!0):(Wf=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,_S=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(e){return zy.resolve(null).then(e).catch(ES)}:Py;function ES(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function By(e,n){var s=n,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(c),Oa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")el(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,el(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&el(e.ownerDocument.body);s=c}while(s);Oa(n)}function jy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":td(s),Yr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function TS(e,n,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function SS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=On(e.nextSibling),e===null))return null;return e}function qy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$?"||e.data==="$~"}function nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function AS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var id=null;function Hy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return On(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Gy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Fy(e,n,s){switch(n=tc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function el(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Yr(e)}var Vn=new Map,Qy=new Set;function ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=W.d;W.d={f:bS,r:RS,D:wS,C:CS,L:IS,m:DS,X:OS,S:NS,M:VS};function bS(){var e=Qi.f(),n=Qu();return e||n}function RS(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?up(n):Qi.r(e)}var Ia=typeof document>"u"?null:document;function Yy(e,n,s){var o=Ia;if(o&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Qy.has(c)||(Qy.add(c),e={rel:e,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),qe(n,"link",e),ve(n),o.head.appendChild(n)))}}function wS(e){Qi.D(e),Yy("dns-prefetch",e,null)}function CS(e,n){Qi.C(e,n),Yy("preconnect",e,n)}function IS(e,n,s){Qi.L(e,n,s);var o=Ia;if(o&&e&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+en(s.imageSizes)+'"]')):c+='[href="'+en(e)+'"]';var f=c;switch(n){case"style":f=Da(e);break;case"script":f=Na(e)}Vn.has(f)||(e=R({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Vn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(nl(f))||n==="script"&&o.querySelector(il(f))||(n=o.createElement("link"),qe(n,"link",e),ve(n),o.head.appendChild(n)))}}function DS(e,n){Qi.m(e,n);var s=Ia;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Na(e)}if(!Vn.has(f)&&(e=R({rel:"modulepreload",href:e},n),Vn.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(il(f)))return}o=s.createElement("link"),qe(o,"link",e),ve(o),s.head.appendChild(o)}}}function NS(e,n,s){Qi.S(e,n,s);var o=Ia;if(o&&e){var c=ri(o).hoistableStyles,f=Da(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(nl(f)))E.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Vn.get(f))&&sd(e,s);var I=g=o.createElement("link");ve(I),qe(I,"link",e),I._p=new Promise(function(P,H){I.onload=P,I.onerror=H}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,nc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function OS(e,n){Qi.X(e,n);var s=Ia;if(s&&e){var o=ri(s).hoistableScripts,c=Na(e),f=o.get(c);f||(f=s.querySelector(il(c)),f||(e=R({src:e,async:!0},n),(n=Vn.get(c))&&rd(e,n),f=s.createElement("script"),ve(f),qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function VS(e,n){Qi.M(e,n);var s=Ia;if(s&&e){var o=ri(s).hoistableScripts,c=Na(e),f=o.get(c);f||(f=s.querySelector(il(c)),f||(e=R({src:e,async:!0,type:"module"},n),(n=Vn.get(c))&&rd(e,n),f=s.createElement("script"),ve(f),qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Ky(e,n,s,o){var c=(c=At.current)?ec(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Da(s.href),s=ri(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Da(s.href);var f=ri(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(nl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(e,s),f||MS(c,e,s,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Na(s),s=ri(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Da(e){return'href="'+en(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function Xy(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function MS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qe(n,"link",s),ve(n),e.head.appendChild(n))}function Na(e){return'[src="'+en(e)+'"]'}function il(e){return"script[async]"+e}function Jy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var c=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),qe(o,"style",c),nc(o,s.precedence,e),n.instance=o;case"stylesheet":c=Da(s.href);var f=e.querySelector(nl(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=Xy(s),(c=Vn.get(c))&&sd(o,c),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),qe(f,"link",o),n.state.loading|=4,nc(f,s.precedence,e),n.instance=f;case"script":return f=Na(s.src),(c=e.querySelector(il(f)))?(n.instance=c,ve(c),c):(o=s,(c=Vn.get(f))&&(o=R({},s),rd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ve(c),qe(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,nc(o,s.precedence,e));return n.instance}function nc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ic=null;function Zy(e,n,s){if(ic===null){var o=new Map,c=ic=new Map;c.set(s,o)}else c=ic,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[ii]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function $y(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function xS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function US(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Da(o.href),f=n.querySelector(nl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=sc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=Xy(o),(c=Vn.get(c))&&sd(o,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),qe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=sc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ad=0;function LS(e,n){return e.stylesheets&&e.count===0&&ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ad===0&&(ad=62500*pS());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ad?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rc=null;function ac(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rc=new Map,n.forEach(kS,e),rc=null,sc.call(e))}function kS(e,n){if(!(n.state.loading&4)){var s=rc.get(e);if(s)var o=s.get(null);else{s=new Map,rc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,c),s.set(g,c),this.count++,o=sc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var sl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function PS(e,n,s,o,c,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function t_(e,n,s,o,c,f,g,E,I,P,H,Q){return e=new PS(e,n,s,g,I,P,H,Q,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=Ph(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},qh(f),e}function e_(e){return e?(e=oa,e):oa}function n_(e,n,s,o,c,f){c=e_(c),o.context===null?o.context=c:o.pendingContext=c,o=_s(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=vs(e,o,n),s!==null&&(ln(s,e,n),Lo(s,e,n))}function i_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function od(e,n){i_(e,n),(e=e.alternate)&&i_(e,n)}function s_(e){if(e.tag===13||e.tag===31){var n=mr(e,67108864);n!==null&&ln(n,e,67108864),od(e,67108864)}}function r_(e){if(e.tag===13||e.tag===31){var n=_n();n=nr(n);var s=mr(e,n);s!==null&&ln(s,e,n),od(e,n)}}var oc=!0;function zS(e,n,s,o){var c=q.T;q.T=null;var f=W.p;try{W.p=2,ld(e,n,s,o)}finally{W.p=f,q.T=c}}function BS(e,n,s,o){var c=q.T;q.T=null;var f=W.p;try{W.p=8,ld(e,n,s,o)}finally{W.p=f,q.T=c}}function ld(e,n,s,o){if(oc){var c=ud(o);if(c===null)Kf(e,n,o,lc,s),o_(e,o);else if(qS(c,e,n,s,o))o.stopPropagation();else if(o_(e,o),n&4&&-1<jS.indexOf(e)){for(;c!==null;){var f=Tn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-he(g);E.entanglements[1]|=I,g&=~I}_i(f),(qt&6)===0&&(Gu=Ze()+500,$o(0))}}break;case 31:case 13:E=mr(f,2),E!==null&&ln(E,f,2),Qu(),od(f,2)}if(f=ud(o),f===null&&Kf(e,n,o,lc,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else Kf(e,n,o,null,s)}}function ud(e){return e=Sn(e),cd(e)}var lc=null;function cd(e){if(lc=null,e=si(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return lc=e,null}function a_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($s()){case ao:return 2;case oo:return 8;case is:case gh:return 32;case Bl:return 268435456;default:return 32}default:return 32}}var hd=!1,Ns=null,Os=null,Vs=null,rl=new Map,al=new Map,Ms=[],jS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o_(e,n){switch(e){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(n.pointerId)}}function ol(e,n,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Tn(n),n!==null&&s_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function qS(e,n,s,o,c){switch(n){case"focusin":return Ns=ol(Ns,e,n,s,o,c),!0;case"dragenter":return Os=ol(Os,e,n,s,o,c),!0;case"mouseover":return Vs=ol(Vs,e,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return rl.set(f,ol(rl.get(f)||null,e,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,al.set(f,ol(al.get(f)||null,e,n,s,o,c)),!0}return!1}function l_(e){var n=si(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,kn(e.priority,function(){r_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,kn(e.priority,function(){r_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ud(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Eo=o,s.target.dispatchEvent(o),Eo=null}else return n=Tn(s),n!==null&&s_(n),e.blockedOn=s,!1;n.shift()}return!0}function u_(e,n,s){uc(e)&&s.delete(n)}function HS(){hd=!1,Ns!==null&&uc(Ns)&&(Ns=null),Os!==null&&uc(Os)&&(Os=null),Vs!==null&&uc(Vs)&&(Vs=null),rl.forEach(u_),al.forEach(u_)}function cc(e,n){e.blockedOn===n&&(e.blockedOn=null,hd||(hd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,HS)))}var hc=null;function c_(e){hc!==e&&(hc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){hc===e&&(hc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(cd(o||s)===null)continue;break}var f=Tn(s);f!==null&&(e.splice(n,3),n-=3,uf(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function Oa(e){function n(I){return cc(I,e)}Ns!==null&&cc(Ns,e),Os!==null&&cc(Os,e),Vs!==null&&cc(Vs,e),rl.forEach(n),al.forEach(n);for(var s=0;s<Ms.length;s++){var o=Ms[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ms.length&&(s=Ms[0],s.blockedOn===null);)l_(s),s.blockedOn===null&&Ms.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],g=c[Ve]||null;if(typeof f=="function")g||c_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ve]||null)E=g.formAction;else if(cd(c)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),c_(s)}}}function h_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function fd(e){this._internalRoot=e}fc.prototype.render=fd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=_n();n_(s,o,e,n,null,null)},fc.prototype.unmount=fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;n_(e.current,2,null,e,null,null),Qu(),n[ni]=null}};function fc(e){this._internalRoot=e}fc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ql();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ms.length&&n!==0&&n<Ms[s].priority;s++);Ms.splice(s,0,e),s===0&&l_(e)}};var f_=t.version;if(f_!=="19.2.1")throw Error(r(527,f_,"19.2.1"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var GS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Un=dc.inject(GS),ke=dc}catch{}}return ul.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",c=vp,f=Ep,g=Tp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=t_(e,1,!1,null,null,s,o,null,c,f,g,h_),e[ni]=n.current,Yf(e),new fd(n)},ul.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,c="",f=vp,g=Ep,E=Tp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=t_(e,1,!0,n,s??null,o,c,I,f,g,E,h_),n.context=e_(null),s=n.current,o=_n(),o=nr(o),c=_s(o),c.callback=null,vs(s,c,o),s=o,n.current.lanes=s,tr(n,s),_i(n),e[ni]=n.current,Yf(e),new fc(n)},ul.version="19.2.1",ul}var S_;function tA(){if(S_)return gd.exports;S_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),gd.exports=WS(),gd.exports}var eA=tA();const nA=()=>{};var A_={};const Zv=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},iA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=a[i++];t[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=a[i++],d=a[i++],p=a[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const h=a[l],d=l+1<a.length,p=d?a[l+1]:0,v=l+2<a.length,y=v?a[l+2]:0,A=h>>2,R=(h&3)<<4|p>>4;let U=(p&15)<<2|y>>6,F=y&63;v||(F=64,d||(U=64)),r.push(i[A],i[R],i[U],i[F])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Zv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):iA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const h=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const R=l<a.length?i[a.charAt(l)]:64;if(++l,h==null||p==null||y==null||R==null)throw new sA;const U=h<<2|p>>4;if(r.push(U),y!==64){const F=p<<4&240|y>>2;if(r.push(F),R!==64){const tt=y<<6&192|R;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class sA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rA=function(a){const t=Zv(a);return $v.encodeByteArray(t,!0)},Nc=function(a){return rA(a).replace(/\./g,"")},Wv=function(a){try{return $v.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function aA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oA=()=>aA().__FIREBASE_DEFAULTS__,lA=()=>{if(typeof process>"u"||typeof A_>"u")return;const a=A_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},uA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Wv(a[1]);return t&&JSON.parse(t)},Zc=()=>{try{return nA()||oA()||lA()||uA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},tE=a=>Zc()?.emulatorHosts?.[a],cA=a=>{const t=tE(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},eE=()=>Zc()?.config,nE=a=>Zc()?.[`_${a}`];class hA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Ja(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iE(a){return(await fetch(a,{credentials:"include"})).ok}function fA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Nc(JSON.stringify(i)),Nc(JSON.stringify(d)),""].join(".")}const ml={};function dA(){const a={prod:[],emulator:[]};for(const t of Object.keys(ml))ml[t]?a.emulator.push(t):a.prod.push(t);return a}function mA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let b_=!1;function sE(a,t){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||ml[a]===t||ml[a]||b_)return;ml[a]=t;function i(U){return`__firebase__banner__${U}`}const r="__firebase__banner",h=dA().prod.length>0;function d(){const U=document.getElementById(r);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function v(U,F){U.setAttribute("width","24"),U.setAttribute("id",F),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function y(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{b_=!0,d()},U}function A(U,F){U.setAttribute("id",F),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function R(){const U=mA(r),F=i("text"),tt=document.getElementById(F)||document.createElement("span"),nt=i("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),ht=i("preprendIcon"),_t=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const dt=U.element;p(dt),A(Z,nt);const Ht=y();v(_t,ht),dt.append(_t,tt,Z,Ht),document.body.appendChild(dt)}h?(tt.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function pA(){const a=Zc()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _A(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function vA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EA(){const a=Je();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function TA(){return!pA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch{return!1}}function AA(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const bA="FirebaseError";class es extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=bA,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?RA(h,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new es(l,p,r)}}function RA(a,t){return a.replace(wA,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const wA=/\{\$([^}]+)}/g;function CA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Mr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const h=a[l],d=t[l];if(R_(h)&&R_(d)){if(!Mr(h,d))return!1}else if(h!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function R_(a){return a!==null&&typeof a=="object"}function Nl(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function IA(a,t){const i=new DA(a,t);return i.subscribe.bind(i)}class DA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");NA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=vd),l.error===void 0&&(l.error=vd),l.complete===void 0&&(l.complete=vd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function vd(){}function vn(a){return a&&a._delegate?a._delegate:a}class xr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Cr="[DEFAULT]";class OA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new hA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(MA(t))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(t=Cr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cr){return this.instances.has(t)}getOptions(t=Cr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const h=this.instances.get(r);return h&&t(h,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Cr){return this.component?this.component.multipleInstances?t:Cr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VA(a){return a===Cr?void 0:a}function MA(a){return a.instantiationMode==="EAGER"}class xA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new OA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Dt||(Dt={}));const UA={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},LA=Dt.INFO,kA={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},PA=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=kA[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rm{constructor(t){this.name=t,this._logLevel=LA,this._logHandler=PA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const zA=(a,t)=>t.some(i=>a instanceof i);let w_,C_;function BA(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jA(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,xd=new WeakMap,aE=new WeakMap,Ed=new WeakMap,am=new WeakMap;function qA(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Bs(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&rE.set(i,a)}).catch(()=>{}),am.set(t,a),t}function HA(a){if(xd.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});xd.set(a,t)}let Ud={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return xd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||aE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Bs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function GA(a){Ud=a(Ud)}function FA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Td(this),t,...i);return aE.set(r,t.sort?t.sort():[t]),Bs(r)}:jA().includes(a)?function(...t){return a.apply(Td(this),t),Bs(rE.get(this))}:function(...t){return Bs(a.apply(Td(this),t))}}function QA(a){return typeof a=="function"?FA(a):(a instanceof IDBTransaction&&HA(a),zA(a,BA())?new Proxy(a,Ud):a)}function Bs(a){if(a instanceof IDBRequest)return qA(a);if(Ed.has(a))return Ed.get(a);const t=QA(a);return t!==a&&(Ed.set(a,t),am.set(t,a)),t}const Td=a=>am.get(a);function YA(a,t,{blocked:i,upgrade:r,blocking:l,terminated:h}={}){const d=indexedDB.open(a,t),p=Bs(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Bs(d.result),v.oldVersion,v.newVersion,Bs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const KA=["get","getKey","getAll","getAllKeys","count"],XA=["put","add","delete","clear"],Sd=new Map;function I_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Sd.get(t))return Sd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=XA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||KA.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Sd.set(t,h),h}GA(a=>({...a,get:(t,i,r)=>I_(t,i)||a.get(t,i,r),has:(t,i)=>!!I_(t,i)||a.has(t,i)}));class JA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function ZA(a){return a.getComponent()?.type==="VERSION"}const Ld="@firebase/app",D_="0.14.6";const Zi=new rm("@firebase/app"),$A="@firebase/app-compat",WA="@firebase/analytics-compat",t1="@firebase/analytics",e1="@firebase/app-check-compat",n1="@firebase/app-check",i1="@firebase/auth",s1="@firebase/auth-compat",r1="@firebase/database",a1="@firebase/data-connect",o1="@firebase/database-compat",l1="@firebase/functions",u1="@firebase/functions-compat",c1="@firebase/installations",h1="@firebase/installations-compat",f1="@firebase/messaging",d1="@firebase/messaging-compat",m1="@firebase/performance",g1="@firebase/performance-compat",p1="@firebase/remote-config",y1="@firebase/remote-config-compat",_1="@firebase/storage",v1="@firebase/storage-compat",E1="@firebase/firestore",T1="@firebase/ai",S1="@firebase/firestore-compat",A1="firebase",b1="12.6.0";const kd="[DEFAULT]",R1={[Ld]:"fire-core",[$A]:"fire-core-compat",[t1]:"fire-analytics",[WA]:"fire-analytics-compat",[n1]:"fire-app-check",[e1]:"fire-app-check-compat",[i1]:"fire-auth",[s1]:"fire-auth-compat",[r1]:"fire-rtdb",[a1]:"fire-data-connect",[o1]:"fire-rtdb-compat",[l1]:"fire-fn",[u1]:"fire-fn-compat",[c1]:"fire-iid",[h1]:"fire-iid-compat",[f1]:"fire-fcm",[d1]:"fire-fcm-compat",[m1]:"fire-perf",[g1]:"fire-perf-compat",[p1]:"fire-rc",[y1]:"fire-rc-compat",[_1]:"fire-gcs",[v1]:"fire-gcs-compat",[E1]:"fire-fst",[S1]:"fire-fst-compat",[T1]:"fire-vertex","fire-js":"fire-js",[A1]:"fire-js-all"};const Oc=new Map,w1=new Map,Pd=new Map;function N_(a,t){try{a.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function qa(a){const t=a.name;if(Pd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,a);for(const i of Oc.values())N_(i,a);for(const i of w1.values())N_(i,a);return!0}function om(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Yn(a){return a==null?!1:a.settings!==void 0}const C1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new Dl("app","Firebase",C1);class I1{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}const Za=b1;function oE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:kd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw js.create("bad-app-name",{appName:String(l)});if(i||(i=eE()),!i)throw js.create("no-options");const h=Oc.get(l);if(h){if(Mr(i,h.options)&&Mr(r,h.config))return h;throw js.create("duplicate-app",{appName:l})}const d=new xA(l);for(const v of Pd.values())d.addComponent(v);const p=new I1(i,r,d);return Oc.set(l,p),p}function lE(a=kd){const t=Oc.get(a);if(!t&&a===kd&&eE())return oE();if(!t)throw js.create("no-app",{appName:a});return t}function qs(a,t,i){let r=R1[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}qa(new xr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const D1="firebase-heartbeat-database",N1=1,El="firebase-heartbeat-store";let Ad=null;function uE(){return Ad||(Ad=YA(D1,N1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(El)}catch(i){console.warn(i)}}}}).catch(a=>{throw js.create("idb-open",{originalErrorMessage:a.message})})),Ad}async function O1(a){try{const i=(await uE()).transaction(El),r=await i.objectStore(El).get(cE(a));return await i.done,r}catch(t){if(t instanceof es)Zi.warn(t.message);else{const i=js.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function O_(a,t){try{const r=(await uE()).transaction(El,"readwrite");await r.objectStore(El).put(t,cE(a)),await r.done}catch(i){if(i instanceof es)Zi.warn(i.message);else{const r=js.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(r.message)}}}function cE(a){return`${a.name}!${a.options.appId}`}const V1=1024,M1=30;class x1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new L1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=V_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>M1){const l=k1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=V_(),{heartbeatsToSend:i,unsentEntries:r}=U1(this._heartbeatsCache.heartbeats),l=Nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function V_(){return new Date().toISOString().substring(0,10)}function U1(a,t=V1){const i=[];let r=a.slice();for(const l of a){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),M_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),M_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class L1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?AA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await O1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return O_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return O_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function M_(a){return Nc(JSON.stringify({version:2,heartbeats:a})).length}function k1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function P1(a){qa(new xr("platform-logger",t=>new JA(t),"PRIVATE")),qa(new xr("heartbeat",t=>new x1(t),"PRIVATE")),qs(Ld,D_,a),qs(Ld,D_,"esm2020"),qs("fire-js","")}P1("");function hE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z1=hE,fE=new Dl("auth","Firebase",hE());const Vc=new rm("@firebase/auth");function B1(a,...t){Vc.logLevel<=Dt.WARN&&Vc.warn(`Auth (${Za}): ${a}`,...t)}function Ec(a,...t){Vc.logLevel<=Dt.ERROR&&Vc.error(`Auth (${Za}): ${a}`,...t)}function Ri(a,...t){throw um(a,...t)}function Jn(a,...t){return um(a,...t)}function lm(a,t,i){const r={...z1(),[t]:i};return new Dl("auth","Firebase",r).create(t,{appName:a.name})}function Nr(a){return lm(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j1(a,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ri(a,"argument-error"),lm(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function um(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return fE.create(a,...t)}function gt(a,t,...i){if(!a)throw um(t,...i)}function Ki(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Ec(t),new Error(t)}function $i(a,t){a||Ki(t)}function zd(){return typeof self<"u"&&self.location?.href||""}function q1(){return x_()==="http:"||x_()==="https:"}function x_(){return typeof self<"u"&&self.location?.protocol||null}function H1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q1()||_A()||"connection"in navigator)?navigator.onLine:!0}function G1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Ol{constructor(t,i){this.shortDelay=t,this.longDelay=i,$i(i>t,"Short delay should be less than long delay!"),this.isMobile=gA()||vA()}get(){return H1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cm(a,t){$i(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class dE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const F1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Q1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y1=new Ol(3e4,6e4);function hm(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function $a(a,t,i,r,l={}){return mE(a,l,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const p=Nl({key:a.config.apiKey,...d}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const y={method:t,headers:v,...h};return yA()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&Ja(a.emulatorConfig.host)&&(y.credentials="include"),dE.fetch()(await gE(a,a.config.apiHost,i,p),y)})}async function mE(a,t,i){a._canInitEmulator=!1;const r={...F1,...t};try{const l=new X1(a),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw mc(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(a,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw mc(a,"email-already-in-use",d);if(v==="USER_DISABLED")throw mc(a,"user-disabled",d);const A=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw lm(a,A,y);Ri(a,A)}}catch(l){if(l instanceof es)throw l;Ri(a,"network-request-failed",{message:String(l)})}}async function K1(a,t,i,r,l={}){const h=await $a(a,t,i,r,l);return"mfaPendingCredential"in h&&Ri(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function gE(a,t,i,r){const l=`${t}${i}?${r}`,h=a,d=h.config.emulator?cm(a.config,l):`${a.config.apiScheme}://${l}`;return Q1.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class X1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),Y1.get())})}}function mc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Jn(a,t,r);return l.customData._tokenResponse=i,l}async function J1(a,t){return $a(a,"POST","/v1/accounts:delete",t)}async function Mc(a,t){return $a(a,"POST","/v1/accounts:lookup",t)}function gl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Z1(a,t=!1){const i=vn(a),r=await i.getIdToken(t),l=fm(r);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:r,authTime:gl(bd(l.auth_time)),issuedAtTime:gl(bd(l.iat)),expirationTime:gl(bd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function bd(a){return Number(a)*1e3}function fm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Ec("JWT malformed, contained fewer than 3 sections"),null;try{const l=Wv(i);return l?JSON.parse(l):(Ec("Failed to decode base64 JWT payload"),null)}catch(l){return Ec("Caught error parsing JWT payload as JSON",l?.toString()),null}}function U_(a){const t=fm(a);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Tl(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof es&&$1(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function $1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class W1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xc(a){const t=a.auth,i=await a.getIdToken(),r=await Tl(a,Mc(t,{idToken:i}));gt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const h=l.providerUserInfo?.length?pE(l.providerUserInfo):[],d=eb(a.providerData,h),p=a.isAnonymous,v=!(a.email&&l.passwordHash)&&!d?.length,y=p?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Bd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,A)}async function tb(a){const t=vn(a);await xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eb(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function pE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function nb(a,t){const i=await mE(a,{},async()=>{const r=Nl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=a.config,d=await gE(a,l,"/v1/token",`key=${h}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:r};return a.emulatorConfig&&Ja(a.emulatorConfig.host)&&(v.credentials="include"),dE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ib(a,t){return $a(a,"POST","/v2/accounts:revokeToken",hm(a,t))}class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):U_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=U_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:h}=await nb(t,i);this.updateTokensAndExpiration(r,l,Number(h))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:h}=i,d=new La;return r&&(gt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(gt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function Us(a,t){gt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Kn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new W1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Bd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Tl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Z1(this,t)}reload(){return tb(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Kn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await xc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Nr(this.auth));const t=await this.getIdToken();return await Tl(this,J1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:R,emailVerified:U,isAnonymous:F,providerData:tt,stsTokenManager:nt}=i;gt(R&&nt,t,"internal-error");const Z=La.fromJSON(this.name,nt);gt(typeof R=="string",t,"internal-error"),Us(r,t.name),Us(l,t.name),gt(typeof U=="boolean",t,"internal-error"),gt(typeof F=="boolean",t,"internal-error"),Us(h,t.name),Us(d,t.name),Us(p,t.name),Us(v,t.name),Us(y,t.name),Us(A,t.name);const ht=new Kn({uid:R,auth:t,email:l,emailVerified:U,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:A});return tt&&Array.isArray(tt)&&(ht.providerData=tt.map(_t=>({..._t}))),v&&(ht._redirectEventId=v),ht}static async _fromIdTokenResponse(t,i,r=!1){const l=new La;l.updateFromServerResponse(i);const h=new Kn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await xc(h),h}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?pE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,p=new La;p.updateFromIdToken(r);const v=new Kn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Bd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,y),v}}const L_=new Map;function Xi(a){$i(a instanceof Function,"Expected a class definition");let t=L_.get(a);return t?($i(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,L_.set(a,t),t)}class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}yE.type="NONE";const k_=yE;function Tc(a,t,i){return`firebase:${a}:${t}:${i}`}class ka{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:h}=this.auth;this.fullUserKey=Tc(this.userKey,l.apiKey,h),this.fullPersistenceKey=Tc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Mc(this.auth,{idToken:t}).catch(()=>{});return i?Kn._fromGetAccountInfoResponse(this.auth,i,t):null}return Kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new ka(Xi(k_),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let h=l[0]||Xi(k_);const d=Tc(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let R;if(typeof A=="string"){const U=await Mc(t,{idToken:A}).catch(()=>{});if(!U)break;R=await Kn._fromGetAccountInfoResponse(t,U,A)}else R=Kn._fromJSON(t,A);y!==h&&(p=R),h=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new ka(h,t,r):(h=v[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==h)try{await y._remove(d)}catch{}})),new ka(h,t,r))}}function P_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(TE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_E(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AE(t))return"Blackberry";if(bE(t))return"Webos";if(vE(t))return"Safari";if((t.includes("chrome/")||EE(t))&&!t.includes("edge/"))return"Chrome";if(SE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function _E(a=Je()){return/firefox\//i.test(a)}function vE(a=Je()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function EE(a=Je()){return/crios\//i.test(a)}function TE(a=Je()){return/iemobile/i.test(a)}function SE(a=Je()){return/android/i.test(a)}function AE(a=Je()){return/blackberry/i.test(a)}function bE(a=Je()){return/webos/i.test(a)}function dm(a=Je()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function sb(a=Je()){return dm(a)&&!!window.navigator?.standalone}function rb(){return EA()&&document.documentMode===10}function RE(a=Je()){return dm(a)||SE(a)||bE(a)||AE(a)||/windows phone/i.test(a)||TE(a)}function wE(a,t=[]){let i;switch(a){case"Browser":i=P_(Je());break;case"Worker":i=`${P_(Je())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Za}/${r}`}class ab{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=h=>new Promise((d,p)=>{try{const v=t(h);d(v)}catch(v){p(v)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function ob(a,t={}){return $a(a,"GET","/v2/passwordPolicy",hm(a,t))}const lb=6;class ub{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??lb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class cb{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new ab(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Mc(this,{idToken:t}),r=await Kn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=G1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Nr(this));const i=t?vn(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ob(this),i=new ub(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await ib(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,r,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&B1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $c(a){return vn(a)}class z_{constructor(t){this.auth=t,this.observer=null,this.addObserver=IA(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hb(a){mm=a}function fb(a){return mm.loadJS(a)}function db(){return mm.gapiScript}function mb(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function gb(a,t){const i=om(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Mr(h,t??{}))return l;Ri(l,"already-initialized")}return i.initialize({options:t})}function pb(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function yb(a,t,i){const r=$c(a);gt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,h=CE(t),{host:d,port:p}=_b(t),v=p===null?"":`:${p}`,y={url:`${h}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(Mr(y,r.config.emulator)&&Mr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Ja(d)?(iE(`${h}//${d}${v}`),sE("Auth",!0)):vb()}function CE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function _b(a){const t=CE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const h=l[1];return{host:h,port:B_(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:B_(d)}}}function B_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function vb(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class IE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}async function Pa(a,t){return K1(a,"POST","/v1/accounts:signInWithIdp",hm(a,t))}const Eb="http://localhost";class Ur extends IE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ur(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...h}=i;if(!r||!l)return null;const d=new Ur(r,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Pa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Pa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Pa(t,i)}buildRequest(){const t={requestUri:Eb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Nl(i)}return t}}class gm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Vl extends gm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ls extends Vl{constructor(){super("facebook.com")}static credential(t){return Ur._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";class Yi extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ur._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Yi.credential(i,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class ks extends Vl{constructor(){super("github.com")}static credential(t){return Ur._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ks.credential(t.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";class Ps extends Vl{constructor(){super("twitter.com")}static credential(t,i){return Ur._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Ps.credential(i,r)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";class Ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const h=await Kn._fromIdTokenResponse(t,r,l),d=j_(r);return new Ha({user:h,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=j_(r);return new Ha({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function j_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Uc extends es{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Uc(t,i,r,l)}}function DE(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(a,h,t,r):h})}async function Tb(a,t,i=!1){const r=await Tl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ha._forOperation(a,"link",r)}async function Sb(a,t,i=!1){const{auth:r}=a;if(Yn(r.app))return Promise.reject(Nr(r));const l="reauthenticate";try{const h=await Tl(a,DE(r,l,t,a),i);gt(h.idToken,r,"internal-error");const d=fm(h.idToken);gt(d,r,"internal-error");const{sub:p}=d;return gt(a.uid===p,r,"user-mismatch"),Ha._forOperation(a,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ri(r,"user-mismatch"),h}}async function Ab(a,t,i=!1){if(Yn(a.app))return Promise.reject(Nr(a));const r="signIn",l=await DE(a,r,t),h=await Ha._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(h.user),h}function bb(a,t,i,r){return vn(a).onIdTokenChanged(t,i,r)}function Rb(a,t,i){return vn(a).beforeAuthStateChanged(t,i)}function wb(a,t,i,r){return vn(a).onAuthStateChanged(t,i,r)}function Cb(a){return vn(a).signOut()}const Lc="__sak";class NE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ib=1e3,Db=10;class OE extends NE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);rb()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Db):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Ib)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}OE.type="LOCAL";const Nb=OE;class VE extends NE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}VE.type="SESSION";const ME=VE;function Ob(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Wc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Wc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,h)),v=await Ob(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];function pm(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class Vb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((p,v)=>{const y=pm("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(R){const U=R;if(U.data.eventId===y)switch(U.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(U.data.response);break;default:clearTimeout(A),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ei(){return window}function Mb(a){Ei().location.href=a}function xE(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function xb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ub(){return navigator?.serviceWorker?.controller||null}function Lb(){return xE()?self:null}const UE="firebaseLocalStorageDb",kb=1,kc="firebaseLocalStorage",LE="fbase_key";class Ml{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function th(a,t){return a.transaction([kc],t?"readwrite":"readonly").objectStore(kc)}function Pb(){const a=indexedDB.deleteDatabase(UE);return new Ml(a).toPromise()}function jd(){const a=indexedDB.open(UE,kb);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(kc,{keyPath:LE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(kc)?t(r):(r.close(),await Pb(),t(await jd()))})})}async function q_(a,t,i){const r=th(a,!0).put({[LE]:t,value:i});return new Ml(r).toPromise()}async function zb(a,t){const i=th(a,!1).get(t),r=await new Ml(i).toPromise();return r===void 0?null:r.value}function H_(a,t){const i=th(a,!0).delete(t);return new Ml(i).toPromise()}const Bb=800,jb=3;class kE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>jb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(Lb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xb(),!this.activeServiceWorker)return;this.sender=new Vb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ub()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jd();return await q_(t,Lc,"1"),await H_(t,Lc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>q_(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>zb(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>H_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=th(l,!1).getAll();return new Ml(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kE.type="LOCAL";const qb=kE;new Ol(3e4,6e4);function PE(a,t){return t?Xi(t):(gt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class ym extends IE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Pa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Pa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Hb(a){return Ab(a.auth,new ym(a),a.bypassAuthState)}function Gb(a){const{auth:t,user:i}=a;return gt(i,t,"internal-error"),Sb(i,new ym(a),a.bypassAuthState)}async function Fb(a){const{auth:t,user:i}=a;return gt(i,t,"internal-error"),Tb(i,new ym(a),a.bypassAuthState)}class zE{constructor(t,i,r,l,h=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Hb;case"linkViaPopup":case"linkViaRedirect":return Fb;case"reauthViaPopup":case"reauthViaRedirect":return Gb;default:Ri(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qb=new Ol(2e3,1e4);async function Yb(a,t,i){if(Yn(a.app))return Promise.reject(Jn(a,"operation-not-supported-in-this-environment"));const r=$c(a);j1(a,t,gm);const l=PE(r,i);return new Ir(r,"signInViaPopup",t,l).executeNotNull()}class Ir extends zE{constructor(t,i,r,l,h){super(t,i,l,h),this.provider=r,this.authWindow=null,this.pollId=null,Ir.currentPopupAction&&Ir.currentPopupAction.cancel(),Ir.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ir.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Qb.get())};t()}}Ir.currentPopupAction=null;const Kb="pendingRedirect",Sc=new Map;class Xb extends zE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Sc.get(this.auth._key());if(!t){try{const r=await Jb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Sc.set(this.auth._key(),t)}return this.bypassAuthState||Sc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jb(a,t){const i=Wb(t),r=$b(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function Zb(a,t){Sc.set(a._key(),t)}function $b(a){return Xi(a._redirectPersistence)}function Wb(a){return Tc(Kb,a.config.apiKey,a.name)}async function tR(a,t,i=!1){if(Yn(a.app))return Promise.reject(Nr(a));const r=$c(a),l=PE(r,t),d=await new Xb(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const eR=600*1e3;class nR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!BE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Jn(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eR&&this.cachedEventUids.clear(),this.cachedEventUids.has(G_(t))}saveEventToCache(t){this.cachedEventUids.add(G_(t)),this.lastProcessedEventTime=Date.now()}}function G_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function BE({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function iR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BE(a);default:return!1}}async function sR(a,t={}){return $a(a,"GET","/v1/projects",t)}const rR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aR=/^https?/;async function oR(a){if(a.config.emulator)return;const{authorizedDomains:t}=await sR(a);for(const i of t)try{if(lR(i))return}catch{}Ri(a,"unauthorized-domain")}function lR(a){const t=zd(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!aR.test(i))return!1;if(rR.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const uR=new Ol(3e4,6e4);function F_(){const a=Ei().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function cR(a){return new Promise((t,i)=>{function r(){F_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{F_(),i(Jn(a,"network-request-failed"))},timeout:uR.get()})}if(Ei().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ei().gapi?.load)r();else{const l=mb("iframefcb");return Ei()[l]=()=>{gapi.load?r():i(Jn(a,"network-request-failed"))},fb(`${db()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Ac=null,t})}let Ac=null;function hR(a){return Ac=Ac||cR(a),Ac}const fR=new Ol(5e3,15e3),dR="__/auth/iframe",mR="emulator/auth/iframe",gR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yR(a){const t=a.config;gt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?cm(t,mR):`https://${a.config.authDomain}/${dR}`,r={apiKey:t.apiKey,appName:a.name,v:Za},l=pR.get(a.config.apiHost);l&&(r.eid=l);const h=a._getFrameworks();return h.length&&(r.fw=h.join(",")),`${i}?${Nl(r).slice(1)}`}async function _R(a){const t=await hR(a),i=Ei().gapi;return gt(i,a,"internal-error"),t.open({where:document.body,url:yR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gR,dontclear:!0},r=>new Promise(async(l,h)=>{await r.restyle({setHideOnLeave:!1});const d=Jn(a,"network-request-failed"),p=Ei().setTimeout(()=>{h(d)},fR.get());function v(){Ei().clearTimeout(p),l(r)}r.ping(v).then(v,()=>{h(d)})}))}const vR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ER=500,TR=600,SR="_blank",AR="http://localhost";class Q_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bR(a,t,i,r=ER,l=TR){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const v={...vR,width:r.toString(),height:l.toString(),top:h,left:d},y=Je().toLowerCase();i&&(p=EE(y)?SR:i),_E(y)&&(t=t||AR,v.scrollbars="yes");const A=Object.entries(v).reduce((U,[F,tt])=>`${U}${F}=${tt},`,"");if(sb(y)&&p!=="_self")return RR(t||"",p),new Q_(null);const R=window.open(t||"",p,A);gt(R,a,"popup-blocked");try{R.focus()}catch{}return new Q_(R)}function RR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const wR="__/auth/handler",CR="emulator/auth/handler",IR=encodeURIComponent("fac");async function Y_(a,t,i,r,l,h){gt(a.config.authDomain,a,"auth-domain-config-required"),gt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:Za,eventId:l};if(t instanceof gm){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",CA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,R]of Object.entries({}))d[A]=R}if(t instanceof Vl){const A=t.getScopes().filter(R=>R!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await a._getAppCheckToken(),y=v?`#${IR}=${encodeURIComponent(v)}`:"";return`${DR(a)}?${Nl(p).slice(1)}${y}`}function DR({config:a}){return a.emulator?cm(a,CR):`https://${a.authDomain}/${wR}`}const Rd="webStorageSupport";class NR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ME,this._completeRedirectFn=tR,this._overrideRedirectResult=Zb}async _openPopup(t,i,r,l){$i(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await Y_(t,i,r,zd(),l);return bR(t,h,pm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const h=await Y_(t,i,r,zd(),l);return Mb(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):($i(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await _R(t),r=new nR(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Rd,{type:Rd},l=>{const h=l?.[0]?.[Rd];h!==void 0&&i(!!h),Ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=oR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return RE()||vE()||dm()}}const OR=NR;var K_="@firebase/auth",X_="1.11.1";class VR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xR(a){qa(new xr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(a)},y=new cb(r,l,h,v);return pb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),qa(new xr("auth-internal",t=>{const i=$c(t.getProvider("auth").getImmediate());return(r=>new VR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qs(K_,X_,MR(a)),qs(K_,X_,"esm2020")}const UR=300,LR=nE("authIdTokenMaxAge")||UR;let J_=null;const kR=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>LR)return;const l=i?.token;J_!==l&&(J_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function PR(a=lE()){const t=om(a,"auth");if(t.isInitialized())return t.getImmediate();const i=gb(a,{popupRedirectResolver:OR,persistence:[qb,Nb,ME]}),r=nE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=kR(h.toString());Rb(i,d,()=>d(i.currentUser)),bb(i,p=>d(p))}}const l=tE("auth");return l&&yb(i,`http://${l}`),i}function zR(){return document.getElementsByTagName("head")?.[0]??document}hb({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const h=Jn("internal-error");h.customData=l,i(h)},r.type="text/javascript",r.charset="UTF-8",zR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xR("Browser");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hs,jE;(function(){var a;function t(D,b){function S(){}S.prototype=b.prototype,D.F=b.prototype,D.prototype=new S,D.prototype.constructor=D,D.D=function(N,C,M){for(var w=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)w[kt-2]=arguments[kt];return b.prototype[C].apply(N,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,b,S){S||(S=0);const N=Array(16);if(typeof b=="string")for(var C=0;C<16;++C)N[C]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(C=0;C<16;++C)N[C]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=D.g[0],S=D.g[1],C=D.g[2];let M=D.g[3],w;w=b+(M^S&(C^M))+N[0]+3614090360&4294967295,b=S+(w<<7&4294967295|w>>>25),w=M+(C^b&(S^C))+N[1]+3905402710&4294967295,M=b+(w<<12&4294967295|w>>>20),w=C+(S^M&(b^S))+N[2]+606105819&4294967295,C=M+(w<<17&4294967295|w>>>15),w=S+(b^C&(M^b))+N[3]+3250441966&4294967295,S=C+(w<<22&4294967295|w>>>10),w=b+(M^S&(C^M))+N[4]+4118548399&4294967295,b=S+(w<<7&4294967295|w>>>25),w=M+(C^b&(S^C))+N[5]+1200080426&4294967295,M=b+(w<<12&4294967295|w>>>20),w=C+(S^M&(b^S))+N[6]+2821735955&4294967295,C=M+(w<<17&4294967295|w>>>15),w=S+(b^C&(M^b))+N[7]+4249261313&4294967295,S=C+(w<<22&4294967295|w>>>10),w=b+(M^S&(C^M))+N[8]+1770035416&4294967295,b=S+(w<<7&4294967295|w>>>25),w=M+(C^b&(S^C))+N[9]+2336552879&4294967295,M=b+(w<<12&4294967295|w>>>20),w=C+(S^M&(b^S))+N[10]+4294925233&4294967295,C=M+(w<<17&4294967295|w>>>15),w=S+(b^C&(M^b))+N[11]+2304563134&4294967295,S=C+(w<<22&4294967295|w>>>10),w=b+(M^S&(C^M))+N[12]+1804603682&4294967295,b=S+(w<<7&4294967295|w>>>25),w=M+(C^b&(S^C))+N[13]+4254626195&4294967295,M=b+(w<<12&4294967295|w>>>20),w=C+(S^M&(b^S))+N[14]+2792965006&4294967295,C=M+(w<<17&4294967295|w>>>15),w=S+(b^C&(M^b))+N[15]+1236535329&4294967295,S=C+(w<<22&4294967295|w>>>10),w=b+(C^M&(S^C))+N[1]+4129170786&4294967295,b=S+(w<<5&4294967295|w>>>27),w=M+(S^C&(b^S))+N[6]+3225465664&4294967295,M=b+(w<<9&4294967295|w>>>23),w=C+(b^S&(M^b))+N[11]+643717713&4294967295,C=M+(w<<14&4294967295|w>>>18),w=S+(M^b&(C^M))+N[0]+3921069994&4294967295,S=C+(w<<20&4294967295|w>>>12),w=b+(C^M&(S^C))+N[5]+3593408605&4294967295,b=S+(w<<5&4294967295|w>>>27),w=M+(S^C&(b^S))+N[10]+38016083&4294967295,M=b+(w<<9&4294967295|w>>>23),w=C+(b^S&(M^b))+N[15]+3634488961&4294967295,C=M+(w<<14&4294967295|w>>>18),w=S+(M^b&(C^M))+N[4]+3889429448&4294967295,S=C+(w<<20&4294967295|w>>>12),w=b+(C^M&(S^C))+N[9]+568446438&4294967295,b=S+(w<<5&4294967295|w>>>27),w=M+(S^C&(b^S))+N[14]+3275163606&4294967295,M=b+(w<<9&4294967295|w>>>23),w=C+(b^S&(M^b))+N[3]+4107603335&4294967295,C=M+(w<<14&4294967295|w>>>18),w=S+(M^b&(C^M))+N[8]+1163531501&4294967295,S=C+(w<<20&4294967295|w>>>12),w=b+(C^M&(S^C))+N[13]+2850285829&4294967295,b=S+(w<<5&4294967295|w>>>27),w=M+(S^C&(b^S))+N[2]+4243563512&4294967295,M=b+(w<<9&4294967295|w>>>23),w=C+(b^S&(M^b))+N[7]+1735328473&4294967295,C=M+(w<<14&4294967295|w>>>18),w=S+(M^b&(C^M))+N[12]+2368359562&4294967295,S=C+(w<<20&4294967295|w>>>12),w=b+(S^C^M)+N[5]+4294588738&4294967295,b=S+(w<<4&4294967295|w>>>28),w=M+(b^S^C)+N[8]+2272392833&4294967295,M=b+(w<<11&4294967295|w>>>21),w=C+(M^b^S)+N[11]+1839030562&4294967295,C=M+(w<<16&4294967295|w>>>16),w=S+(C^M^b)+N[14]+4259657740&4294967295,S=C+(w<<23&4294967295|w>>>9),w=b+(S^C^M)+N[1]+2763975236&4294967295,b=S+(w<<4&4294967295|w>>>28),w=M+(b^S^C)+N[4]+1272893353&4294967295,M=b+(w<<11&4294967295|w>>>21),w=C+(M^b^S)+N[7]+4139469664&4294967295,C=M+(w<<16&4294967295|w>>>16),w=S+(C^M^b)+N[10]+3200236656&4294967295,S=C+(w<<23&4294967295|w>>>9),w=b+(S^C^M)+N[13]+681279174&4294967295,b=S+(w<<4&4294967295|w>>>28),w=M+(b^S^C)+N[0]+3936430074&4294967295,M=b+(w<<11&4294967295|w>>>21),w=C+(M^b^S)+N[3]+3572445317&4294967295,C=M+(w<<16&4294967295|w>>>16),w=S+(C^M^b)+N[6]+76029189&4294967295,S=C+(w<<23&4294967295|w>>>9),w=b+(S^C^M)+N[9]+3654602809&4294967295,b=S+(w<<4&4294967295|w>>>28),w=M+(b^S^C)+N[12]+3873151461&4294967295,M=b+(w<<11&4294967295|w>>>21),w=C+(M^b^S)+N[15]+530742520&4294967295,C=M+(w<<16&4294967295|w>>>16),w=S+(C^M^b)+N[2]+3299628645&4294967295,S=C+(w<<23&4294967295|w>>>9),w=b+(C^(S|~M))+N[0]+4096336452&4294967295,b=S+(w<<6&4294967295|w>>>26),w=M+(S^(b|~C))+N[7]+1126891415&4294967295,M=b+(w<<10&4294967295|w>>>22),w=C+(b^(M|~S))+N[14]+2878612391&4294967295,C=M+(w<<15&4294967295|w>>>17),w=S+(M^(C|~b))+N[5]+4237533241&4294967295,S=C+(w<<21&4294967295|w>>>11),w=b+(C^(S|~M))+N[12]+1700485571&4294967295,b=S+(w<<6&4294967295|w>>>26),w=M+(S^(b|~C))+N[3]+2399980690&4294967295,M=b+(w<<10&4294967295|w>>>22),w=C+(b^(M|~S))+N[10]+4293915773&4294967295,C=M+(w<<15&4294967295|w>>>17),w=S+(M^(C|~b))+N[1]+2240044497&4294967295,S=C+(w<<21&4294967295|w>>>11),w=b+(C^(S|~M))+N[8]+1873313359&4294967295,b=S+(w<<6&4294967295|w>>>26),w=M+(S^(b|~C))+N[15]+4264355552&4294967295,M=b+(w<<10&4294967295|w>>>22),w=C+(b^(M|~S))+N[6]+2734768916&4294967295,C=M+(w<<15&4294967295|w>>>17),w=S+(M^(C|~b))+N[13]+1309151649&4294967295,S=C+(w<<21&4294967295|w>>>11),w=b+(C^(S|~M))+N[4]+4149444226&4294967295,b=S+(w<<6&4294967295|w>>>26),w=M+(S^(b|~C))+N[11]+3174756917&4294967295,M=b+(w<<10&4294967295|w>>>22),w=C+(b^(M|~S))+N[2]+718787259&4294967295,C=M+(w<<15&4294967295|w>>>17),w=S+(M^(C|~b))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.v=function(D,b){b===void 0&&(b=D.length);const S=b-this.blockSize,N=this.C;let C=this.h,M=0;for(;M<b;){if(C==0)for(;M<=S;)l(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<b;)if(N[C++]=D.charCodeAt(M++),C==this.blockSize){l(this,N),C=0;break}}else for(;M<b;)if(N[C++]=D[M++],C==this.blockSize){l(this,N),C=0;break}}this.h=C,this.o+=b},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var S=D.length-8;S<D.length;++S)D[S]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,S=0;S<4;++S)for(let N=0;N<32;N+=8)D[b++]=this.g[S]>>>N&255;return D};function h(D,b){var S=p;return Object.prototype.hasOwnProperty.call(S,D)?S[D]:S[D]=b(D)}function d(D,b){this.h=b;const S=[];let N=!0;for(let C=D.length-1;C>=0;C--){const M=D[C]|0;N&&M==b||(S[C]=M,N=!1)}this.g=S}var p={};function v(D){return-128<=D&&D<128?h(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return R;if(D<0)return Z(y(-D));const b=[];let S=1;for(let N=0;D>=S;N++)b[N]=D/S|0,S*=4294967296;return new d(b,0)}function A(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return Z(A(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=y(Math.pow(b,8));let N=R;for(let M=0;M<D.length;M+=8){var C=Math.min(8,D.length-M);const w=parseInt(D.substring(M,M+C),b);C<8?(C=y(Math.pow(b,C)),N=N.j(C).add(y(w))):(N=N.j(S),N=N.add(y(w)))}return N}var R=v(0),U=v(1),F=v(16777216);a=d.prototype,a.m=function(){if(nt(this))return-Z(this).m();let D=0,b=1;for(let S=0;S<this.g.length;S++){const N=this.i(S);D+=(N>=0?N:4294967296+N)*b,b*=4294967296}return D},a.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(tt(this))return"0";if(nt(this))return"-"+Z(this).toString(D);const b=y(Math.pow(D,6));var S=this;let N="";for(;;){const C=Ht(S,b).g;S=ht(S,C.j(b));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(D);if(S=C,tt(S))return M+N;for(;M.length<6;)M="0"+M;N=M+N}},a.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function tt(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function nt(D){return D.h==-1}a.l=function(D){return D=ht(this,D),nt(D)?-1:tt(D)?0:1};function Z(D){const b=D.g.length,S=[];for(let N=0;N<b;N++)S[N]=~D.g[N];return new d(S,~D.h).add(U)}a.abs=function(){return nt(this)?Z(this):this},a.add=function(D){const b=Math.max(this.g.length,D.g.length),S=[];let N=0;for(let C=0;C<=b;C++){let M=N+(this.i(C)&65535)+(D.i(C)&65535),w=(M>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);N=w>>>16,M&=65535,w&=65535,S[C]=w<<16|M}return new d(S,S[S.length-1]&-2147483648?-1:0)};function ht(D,b){return D.add(Z(b))}a.j=function(D){if(tt(this)||tt(D))return R;if(nt(this))return nt(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(nt(D))return Z(this.j(Z(D)));if(this.l(F)<0&&D.l(F)<0)return y(this.m()*D.m());const b=this.g.length+D.g.length,S=[];for(var N=0;N<2*b;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(let C=0;C<D.g.length;C++){const M=this.i(N)>>>16,w=this.i(N)&65535,kt=D.i(C)>>>16,le=D.i(C)&65535;S[2*N+2*C]+=w*le,_t(S,2*N+2*C),S[2*N+2*C+1]+=M*le,_t(S,2*N+2*C+1),S[2*N+2*C+1]+=w*kt,_t(S,2*N+2*C+1),S[2*N+2*C+2]+=M*kt,_t(S,2*N+2*C+2)}for(D=0;D<b;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=b;D<2*b;D++)S[D]=0;return new d(S,0)};function _t(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function dt(D,b){this.g=D,this.h=b}function Ht(D,b){if(tt(b))throw Error("division by zero");if(tt(D))return new dt(R,R);if(nt(D))return b=Ht(Z(D),b),new dt(Z(b.g),Z(b.h));if(nt(b))return b=Ht(D,Z(b)),new dt(Z(b.g),b.h);if(D.g.length>30){if(nt(D)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var S=U,N=b;N.l(D)<=0;)S=$t(S),N=$t(N);var C=Vt(S,1),M=Vt(N,1);for(N=Vt(N,2),S=Vt(S,2);!tt(N);){var w=M.add(N);w.l(D)<=0&&(C=C.add(S),M=w),N=Vt(N,1),S=Vt(S,1)}return b=ht(D,C.j(b)),new dt(C,b)}for(C=R;D.l(b)>=0;){for(S=Math.max(1,Math.floor(D.m()/b.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),M=y(S),w=M.j(b);nt(w)||w.l(D)>0;)S-=N,M=y(S),w=M.j(b);tt(M)&&(M=U),C=C.add(M),D=ht(D,w)}return new dt(C,D)}a.B=function(D){return Ht(this,D).h},a.and=function(D){const b=Math.max(this.g.length,D.g.length),S=[];for(let N=0;N<b;N++)S[N]=this.i(N)&D.i(N);return new d(S,this.h&D.h)},a.or=function(D){const b=Math.max(this.g.length,D.g.length),S=[];for(let N=0;N<b;N++)S[N]=this.i(N)|D.i(N);return new d(S,this.h|D.h)},a.xor=function(D){const b=Math.max(this.g.length,D.g.length),S=[];for(let N=0;N<b;N++)S[N]=this.i(N)^D.i(N);return new d(S,this.h^D.h)};function $t(D){const b=D.g.length+1,S=[];for(let N=0;N<b;N++)S[N]=D.i(N)<<1|D.i(N-1)>>>31;return new d(S,D.h)}function Vt(D,b){const S=b>>5;b%=32;const N=D.g.length-S,C=[];for(let M=0;M<N;M++)C[M]=b>0?D.i(M+S)>>>b|D.i(M+S+1)<<32-b:D.i(M+S);return new d(C,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Hs=d}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qE,cl,HE,bc,qd,GE,FE,QE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var _=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function R(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var $=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)$[Tt-2]=arguments[Tt];return m.prototype[L].apply(T,$)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let $=0;$<B;$++)u[_+$]=L[$]}else u.push(L)}}class nt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,_){const T=dt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new nt(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,Vt=!1,D=new _t,b=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(S)}};function S(){for(var u;u=ht();){try{u.h.call(u.g)}catch(_){Z(_)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Vt=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function kt(u,m){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R(kt,C),kt.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&kt.Z.h.call(this)},kt.prototype.h=function(){kt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),q=0;function W(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++q,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Bt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function V(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const $=At(u,m,T,L);return $>-1?(m=u[$],_||(m.fa=!1)):(m=new W(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function pt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(lt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function At(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ce={};function ie(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ie(u,m[B],_,T,L);return null}return _=ro(_),u&&u[le]?u.J(m,_,p(T)?!!T.capture:!1,L):Js(u,m,_,!1,T,L)}function Js(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const $=p(L)?!!L.capture:!!L;let Tt=Zs(u);if(Tt||(u[Ut]=Tt=new st(u)),_=Tt.add(m,_,T,$,B),_.proxy)return _;if(T=qr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)M||(L=$),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qr(){function u(_){return m.call(u.src,u.listener,_)}const m=io;return u}function Hr(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Hr(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=ro(_),u&&u[le]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=At(m,_,T,L),_>-1&&(lt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Zs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,_,T,L)),(_=u>-1?m[u]:null)&&Gr(_))}function Gr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[le])pt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Zn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Zs(m))?(pt(_,u),_.h==0&&(_.src=null,m[Ut]=null)):lt(u)}}}function Zn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function io(u,m){if(u.da)u=!0;else{m=new kt(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Gr(u),u=_.call(T,m)}return u}function Zs(u){return u=u[Ut],u instanceof st?u:null}var so="__closure_events_fn_"+(Math.random()*1e9>>>0);function ro(u){return typeof u=="function"?u:(u[so]||(u[so]=function(m){return u.handleEvent(m)}),u[so])}function pe(){N.call(this),this.i=new st(this),this.M=this,this.G=null}R(pe,N),pe.prototype[le]=!0,pe.prototype.removeEventListener=function(u,m,_,T){Hr(this,u,m,_,T)};function Ie(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new C(m,u);else if(m instanceof C)m.target=m.target||u;else{var L=m;m=new C(T,u),et(m,L)}L=!0;let B,$;if(_)for($=_.length-1;$>=0;$--)B=m.g=_[$],L=ns(B,T,!0,m)&&L;if(B=m.g=u,L=ns(B,T,!0,m)&&L,L=ns(B,T,!1,m)&&L,_)for($=0;$<_.length;$++)B=m.g=_[$],L=ns(B,T,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)lt(_[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},pe.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ns(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const $=m[B];if($&&!$.da&&$.capture==_){const Tt=$.listener,fe=$.ha||$.src;$.fa&&pt(u.i,$),L=Tt.call(fe,T)!==!1&&L}}return L&&!T.defaultPrevented}function mh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function zl(u){u.g=mh(()=>{u.g=null,u.i&&(u.i=!1,zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends N{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(u){N.call(this),this.h=u,this.g={}}R($s,N);var ao=[];function oo(u){Mt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Gr(m)},u),u.g={}}$s.prototype.N=function(){$s.Z.N.call(this),oo(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=d.JSON.stringify,gh=d.JSON.parse,Bl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function jl(){}function ql(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){C.call(this,"d")}R(ke,C);function En(){C.call(this,"c")}R(En,C);var he={},Hl=null;function Fr(){return Hl=Hl||new pe}he.Ia="serverreachability";function Gl(u){C.call(this,he.Ia,u)}R(Gl,C);function $n(u){const m=Fr();Ie(m,new Gl(m))}he.STAT_EVENT="statevent";function Ws(u,m){C.call(this,he.STAT_EVENT,u),this.stat=m}R(Ws,C);function ye(u){const m=Fr();Ie(m,new Ws(m,u))}he.Ja="timingevent";function Wn(u,m){C.call(this,he.Ja,u),this.size=m}R(Wn,C);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function ph(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var $="",Tt=B.split("&");for(let jt=0;jt<Tt.length;jt++){var fe=Tt[jt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const bn=se.split("_");$=bn.length>=2&&bn[1]=="type"?$+(se+"="+fe+"&"):$+(se+"=redacted&")}}}else $=null;else $=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+$})}function Fl(u,m,_,T,L,B,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+$})}function ei(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+yh(u,_)+(T?" "+T:"")})}function tr(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function yh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return is(B)}catch{return m}}var er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},uo;function nr(){}R(nr,jl),nr.prototype.g=function(){return new XMLHttpRequest},uo=new nr;function Ii(u){return encodeURIComponent(String(u))}function Ql(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function kn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new $s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var _e={},Ve={};function ni(u,m,_){u.M=1,u.A=ir(Ee(m)),u.u=_,u.R=!0,Qr(u,null)}function Qr(u,m){u.F=Date.now(),ii(u),u.B=Ee(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Jr(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Pn,u.g=ou(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Ze(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ao[0]=L.toString()),L=ao);for(let B=0;B<L.length;B++){const $=ie(_,L[B],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),ph(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=jn(this.g),fe=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Tt!=4||fe==7||(fe==8||jt<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var _=_h(this);if(this.o=m==200,Fl(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,ye(12),cn(this),Tn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<_.length;)if(se=Kl(this,_),se==Ve){Tt==4&&(this.m=4,ye(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ye(15),ei(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,se,null),ri(this,se);if(Yl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,_,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(_.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Ro($),$.P=!0,ye(11))}}else ei(this.i,this.l,_,null),ri(this,_);Tt==4&&cn(this),this.o&&!this.K&&(Tt==4?iu(this.j,this):(this.o=!1,ii(this)))}else Ni(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),cn(this),Tn(this)}}}catch{}finally{}};function _h(u){if(!Yl(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let _="";const T=m.length,L=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Yl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Kl(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ve:(_=Number(m.substring(_,T)),isNaN(_)?_e:(T+=1,T+_>m.length?Ve:(m=m.slice(T,T+_),u.C=T+_,m)))}kn.prototype.cancel=function(){this.K=!0,cn(this)};function ii(u){u.T=Date.now()+u.H,Yr(u,u.H)}function Yr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(tr(this.i,this.B),this.M!=2&&($n(),ye(17)),cn(this),this.m=2,Tn(this)):Yr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||iu(u.j,u)}function cn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,oo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||oi(_.h,u))){if(!u.L&&oi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ea(_),hs(_);else break t;cr(_),ye(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ti(y(_.Va,_),6e3));ai(_.h)<=1&&_.ta&&(_.ta=void 0)}else di(_,11)}else if((u.L||_.g==u)&&ea(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let jt=L[m];const se=jt[0];if(!(se<=_.K))if(_.K=se,jt=jt[1],_.I==2)if(jt[0]=="c"){_.M=jt[1],_.ba=jt[2];const bn=jt[3];bn!=null&&(_.ka=bn,_.j.info("VER="+_.ka));const mi=jt[4];mi!=null&&(_.za=mi,_.j.info("SVER="+_.za));const qn=jt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Hn=u.g;if(Hn){const hr=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hr){var B=T.h;B.g||hr.indexOf("spdy")==-1&&hr.indexOf("quic")==-1&&hr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(fo(B,B.h),B.h=null))}if(T.G){const na=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;na&&(T.wa=na,Ft(T.J,T.G,na))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var $=u;if(T.na=au(T,T.L?T.ba:null,T.W),$.L){mo(T.h,$);var Tt=$,fe=T.O;fe&&(Tt.H=fe),Tt.D&&(si(Tt),ii(Tt)),T.g=$}else eu(T);_.i.length>0&&fi(_)}else jt[0]!="stop"&&jt[0]!="close"||di(_,7);else _.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?di(_,7):Ao(_):jt[0]!="noop"&&_.l&&_.l.qa(jt),_.A=0)}}$n(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ho(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fo(u,m){u.g?u.g.add(m):u.h=m}function mo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}co.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function go(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return F(u.i)}var Xl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,po(this,Wl(u.i)),this.m=u.m):u&&(m=String(u).match(Xl))?(this.l=!1,Me(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),ss(this,m[4]),this.h=li(m[5]||"",!0),po(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new as(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(sr(m,Xr,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(sr(m,Xr,!0),"@"),u.push(Ii(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(sr(_,_.charAt(0)=="/"?yo:Jl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",sr(_,Zl)),u.join("")},hn.prototype.resolve=function(u){const m=Ee(this);let _=!!u.j;_?Me(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ss(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let $=0;$<L.length;){const Tt=L[$++];Tt=="."?T&&$==L.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&$==L.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?po(m,Wl(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ee(u){return new hn(u)}function Me(u,m,_){u.j=_?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function po(u,m,_){m instanceof as?(u.i=m,Zr(u.i,u.l)):(_||(m=sr(m,rs)),u.i=new as(m,u.l))}function Ft(u,m,_){u.i.set(m,_)}function ir(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,en),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xr=/[#\/\?@]/g,Jl=/[#\?:]/g,yo=/[#\?]/g,rs=/[#\?@]/g,Zl=/#/g;function as(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Kr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=as.prototype,a.add=function(u,m){nn(this),this.i=null,u=os(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function $l(u,m){nn(u),m=os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _o(u,m){return nn(u),m=os(u,m),u.g.has(m)}a.forEach=function(u,m){nn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function vo(u,m){nn(u);let _=[];if(typeof m=="string")_o(u,m)&&(_=_.concat(u.g.get(os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return nn(this),this.i=null,u=os(this,u),_o(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=vo(this,u),u.length>0?String(u[0]):m):m};function Jr(u,m,_){$l(u,m),_.length>0&&(u.i=null,u.g.set(os(u,m),F(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Ii(_);_=vo(this,_);for(let B=0;B<_.length;B++){let $=L;_[B]!==""&&($+="="+Ii(_[B])),u.push($)}}return this.i=u.join("&")};function Wl(u){const m=new as;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&($l(this,T),Jr(this,L,_))},u)),u.j=m}function zn(u,m){const _=new Ln;if(d.Image){const T=new Image;T.onload=A(Sn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Sn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(Sn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Sn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Eo(u,m){const _=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function ls(){this.g=new Bl}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}R(ui,jl),ui.prototype.g=function(){return new rr(this.i,this.h)};function rr(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(rr,pe),a=rr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$r(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function $r(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?us(this):Bn(this),this.readyState==3&&$r(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},a.Na=function(u){this.g&&(this.response=u,us(this))},a.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Mt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function ar(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=An(_),typeof u=="string"?_!=null&&Ii(_):Ft(u,m,_))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(Kt,pe);var ci=/^https?$/i,To=["POST","PUT"];a=Kt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():uo.g(),this.g.onreadystatechange=U(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){or(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(To,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of _)this.g.setRequestHeader(B,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){or(this,B)}};function or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,So(u),Di(u)}function So(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Di(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Kt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?lr(this):this.Xa())},a.Xa=function(){lr(this)};function lr(u){if(u.h&&typeof h<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let $=String(u.D).match(Xl)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!ci.test($?$.toLowerCase():"")}_=T}if(_)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",So(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ie(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),gh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=Ql(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Bt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function cs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new co(u&&u.concurrentRequestLimit),this.Ba=new ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=cs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,T){ye(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=au(this,null,this.W),fi(this)};function Ao(u){if(Wr(u),u.I==3){var m=u.V++,_=Ee(u.J);if(Ft(_,"SID",u.M),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),ur(u,_),m=new kn(u,u.j,m),m.M=2,m.A=ir(Ee(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=ou(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}ru(u)}function hs(u){u.g&&(Ro(u),u.g.cancel(),u.g=null)}function Wr(u){hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ea(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!ho(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||b(),Vt||($t(),Vt=!0),D.add(m,u),u.D=0}}function ta(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(y(u.Ea,u,m),su(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=tu(this,L,m),_=Ee(this.J),Ft(_,"RID",u),Ft(_,"CVER",22),this.G&&Ft(_,"X-HTTP-Session-Id",this.G),ur(this,_),B&&(this.R?m="headers="+Ii(An(B))+"&"+m:this.u&&ar(_,this.u,B)),fo(this.h,L),this.Ra&&Ft(_,"TYPE","init"),this.S?(Ft(_,"$req",m),Ft(_,"SID","null"),L.U=!0,ni(L,_,null)):ni(L,_,m),this.I=2}}else this.I==3&&(u?bo(this,u):this.i.length==0||ho(this.h)||bo(this))};function bo(u,m){var _;m?_=m.l:_=u.V++;const T=Ee(u.J);Ft(T,"SID",u.M),Ft(T,"RID",_),Ft(T,"AID",u.K),ur(u,T),u.u&&u.o&&ar(T,u.u,u.o),_=new kn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=tu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),fo(u.h,_),ni(_,T,m)}function ur(u,m){u.H&&Mt(u.H,function(_,T){Ft(m,T,_)}),u.l&&Mt({},function(_,T){Ft(m,T,_)})}function tu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const fe=["count="+_];Tt==-1?_>0?(Tt=L[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let jt=!0;for(let se=0;se<_;se++){var B=L[se].g;const bn=L[se].map;if(B-=Tt,B<0)Tt=Math.max(0,L[se].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var $=bn instanceof Map?bn:Object.entries(bn);for(const[mi,qn]of $){let Hn=qn;p(qn)&&(Hn=is(qn)),fe.push(B+mi+"="+encodeURIComponent(Hn))}}catch(mi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(bn)}}if(jt){$=fe.join("&");break t}}$=void 0}return u=u.i.splice(0,_),m.G=u,$}function eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||b(),Vt||($t(),Vt=!0),D.add(m,u),u.A=0}}function cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(y(u.Da,u),su(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),hs(this),nu(this))};function Ro(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function nu(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),ur(u,m),u.u&&u.o&&ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ir(Ee(m)),_.u=null,_.R=!0,Qr(_,u)}a.Va=function(){this.C!=null&&(this.C=null,hs(this),cr(this),ye(19))};function ea(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function iu(u,m){var _=null;if(u.g==m){ea(u),Ro(u),u.g=null;var T=2}else if(oi(u.h,m))_=m.G,mo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Fr(),Ie(T,new Wn(T,_)),fi(u)}else eu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ta(u,m)||T==2&&cr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function su(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),ir(T),L?zn(T.toString(),_):Eo(T.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(m),ru(u),Wr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function ru(u){if(u.I=0,u.ja=[],u.l){const m=go(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function au(u,m,_){var T=_ instanceof hn?Ee(_):new hn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ss(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new hn(null);T&&Me(B,T),m&&(B.g=m),L&&ss(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Ft(T,_,m),Ft(T,"VER",u.ka),ur(u,T),T}function ou(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ui({ab:_})):new Kt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}a=lu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function fs(){}fs.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){pe.call(this),this.g=new cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}R($e,pe),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ao(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=is(u),u=_);m.i.push(new ve(m.Ya++,u)),m.I==3&&fi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,$e.Z.N.call(this)};function uu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(uu,ke);function cu(){En.call(this),this.status=1}R(cu,En);function Oi(u){this.g=u}R(Oi,lu),Oi.prototype.ra=function(){Ie(this.g,"a")},Oi.prototype.qa=function(u){Ie(this.g,new uu(u))},Oi.prototype.pa=function(u){Ie(this.g,new cu)},Oi.prototype.oa=function(){Ie(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,QE=function(){return new fs},FE=function(){return Fr()},GE=he,qd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,bc=er,lo.COMPLETE="complete",HE=lo,ql.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",pe.prototype.listen=pe.prototype.J,cl=ql,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,qE=Kt}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore",W_="4.9.2";class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Wa="12.3.0";const Lr=new rm("@firebase/firestore");function Va(){return Lr.logLevel}function it(a,...t){if(Lr.logLevel<=Dt.DEBUG){const i=t.map(_m);Lr.debug(`Firestore (${Wa}): ${a}`,...i)}}function Wi(a,...t){if(Lr.logLevel<=Dt.ERROR){const i=t.map(_m);Lr.error(`Firestore (${Wa}): ${a}`,...i)}}function Ga(a,...t){if(Lr.logLevel<=Dt.WARN){const i=t.map(_m);Lr.warn(`Firestore (${Wa}): ${a}`,...i)}}function _m(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function mt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,YE(a,r,i)}function YE(a,t,i){let r=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Wi(r),new Error(r)}function Gt(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||YE(t,l,r)}function Et(a,t){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends es{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class KE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class jR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class qR{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let r=this.i;const l=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Or,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Or)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new KE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class HR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new HR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const r=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const l=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new tv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=QR(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<i&&(r+=t.charAt(l[h]%62))}return r}}function Nt(a,t){return a<t?-1:a>t?1:0}function Hd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),h=t.charAt(r);if(l!==h)return wd(l)===wd(h)?Nt(l,h):wd(l)?1:-1}return Nt(a.length,t.length)}const YR=55296,KR=57343;function wd(a){const t=a.charCodeAt(0);return t>=YR&&t<=KR}function Fa(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const ev="__name__";class vi{constructor(t,i,r){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&mt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const h=vi.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Nt(t.length,i.length)}static compareSegments(t,i){const r=vi.isNumericId(t),l=vi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Hd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hs.fromString(t.substring(4,t.length-2))}}class ae extends vi{construct(t,i,r){return new ae(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const XR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends vi{construct(t,i,r){return new Ge(t,i,r)}static isValidIdentifier(t){return XR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ev}static keyField(){return new Ge([ev])}static fromServerFormat(t){const i=[];let r="",l=0;const h=()=>{if(r.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(h(),l++)}if(h(),d)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ae.fromString(t))}static fromName(t){return new ct(ae.fromString(t).popFirst(5))}static empty(){return new ct(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ae.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ae(t.slice()))}}function JR(a,t,i){if(!i)throw new ot(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function ZR(a,t,i,r){if(t===!0&&r===!0)throw new ot(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function nv(a){if(!ct.isDocumentKey(a))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function XE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Em(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":mt(12329,{type:typeof a})}function za(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Em(a);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function we(a,t){const i={typeString:a};return t&&(i.value=t),i}function xl(a,t){if(!XE(a))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new ot(J.INVALID_ARGUMENT,i);return!0}const iv=-62135596800,sv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*sv);return new ne(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<iv)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(xl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-iv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:we("string",ne._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ne(0,0))}static max(){return new yt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Sl=-1;function $R(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(r===1e9?new ne(i+1,0):new ne(i,r));return new Gs(l,ct.empty(),t)}function WR(a){return new Gs(a.readTime,a.key,Sl)}class Gs{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Gs(yt.min(),ct.empty(),Sl)}static max(){return new Gs(yt.max(),ct.empty(),Sl)}}function tw(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(a.documentKey,t.documentKey),i!==0?i:Nt(a.largestBatchId,t.largestBatchId))}const ew="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function to(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==ew)throw a;it("LocalStore","Unexpectedly lost primary lease")}class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K(((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):K.reject(i)}static resolve(t){return new K(((i,r)=>{i(t)}))}static reject(t){return new K(((i,r)=>{r(t)}))}static waitFor(t){return new K(((i,r)=>{let l=0,h=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++h,d&&h===l&&i()}),(v=>r(v)))})),d=!0,h===l&&i()}))}static or(t){let i=K.resolve(!1);for(const r of t)i=i.next((l=>l?K.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,h)=>{r.push(i.call(this,l,h))})),this.waitFor(r)}static mapArray(t,i){return new K(((r,l)=>{const h=t.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const y=v;i(t[y]).next((A=>{d[y]=A,++p,p===h&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new K(((r,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):r()};h()}))}}function iw(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function eo(a){return a.name==="IndexedDbTransactionError"}class eh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}eh.ce=-1;const Tm=-1;function nh(a){return a==null}function Pc(a){return a===0&&1/a==-1/0}function sw(a){return typeof a=="number"&&Number.isInteger(a)&&!Pc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const JE="";function rw(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=rv(t)),t=aw(a.get(i),t);return rv(t)}function aw(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const h=a.charAt(l);switch(h){case"\0":i+="";break;case JE:i+="";break;default:i+=h}}return i}function rv(a){return a+JE+""}function av(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Pr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function ZE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new pc(this.root,t,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new pc(this.root,t,this.comparator,!0)}}class pc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,r,l,h){this.key=t,this.value=i,this.color=r??He.RED,this.left=l??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,h){return new He(t??this.key,i??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const h=r(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,r),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,r,l,h){return this}insert(t,i,r){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(t){return new ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Oe(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class $E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new $E("Invalid base64 string: "+h):h}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const ow=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(a){if(Gt(!!a,39018),typeof a=="string"){let t=0;const i=ow.exec(a);if(Gt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Qs(a){return typeof a=="string"?Fe.fromBase64String(a):Fe.fromUint8Array(a)}const WE="server_timestamp",tT="__type__",eT="__previous_value__",nT="__local_write_time__";function Sm(a){return(a?.mapValue?.fields||{})[tT]?.stringValue===WE}function ih(a){const t=a.mapValue.fields[eT];return Sm(t)?ih(t):t}function Al(a){const t=Fs(a.mapValue.fields[nT].timestampValue);return new ne(t.seconds,t.nanos)}class lw{constructor(t,i,r,l,h,d,p,v,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A}}const zc="(default)";class bl{constructor(t,i){this.projectId=t,this.database=i||zc}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===zc}isEqual(t){return t instanceof bl&&t.projectId===this.projectId&&t.database===this.database}}const iT="__type__",uw="__max__",yc={mapValue:{}},sT="__vector__",Bc="value";function Ys(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Sm(a)?4:hw(a)?9007199254740991:cw(a)?10:11:mt(28295,{value:a})}function wi(a,t){if(a===t)return!0;const i=Ys(a);if(i!==Ys(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Al(a).isEqual(Al(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Fs(l.timestampValue),p=Fs(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,h){return Qs(l.bytesValue).isEqual(Qs(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,h){return ge(l.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(a,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return ge(l.integerValue)===ge(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=ge(l.doubleValue),p=ge(h.doubleValue);return d===p?Pc(d)===Pc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Fa(a.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},p=h.mapValue.fields||{};if(av(d)!==av(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!wi(d[v],p[v])))return!1;return!0})(a,t);default:return mt(52216,{left:a})}}function Rl(a,t){return(a.values||[]).find((i=>wi(i,t)))!==void 0}function Qa(a,t){if(a===t)return 0;const i=Ys(a),r=Ys(t);if(i!==r)return Nt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(a.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(a,t);case 3:return lv(a.timestampValue,t.timestampValue);case 4:return lv(Al(a),Al(t));case 5:return Hd(a.stringValue,t.stringValue);case 6:return(function(h,d){const p=Qs(h),v=Qs(d);return p.compareTo(v)})(a.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const A=Nt(p[y],v[y]);if(A!==0)return A}return Nt(p.length,v.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=Nt(ge(h.latitude),ge(d.latitude));return p!==0?p:Nt(ge(h.longitude),ge(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return uv(a.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},y=p[Bc]?.arrayValue,A=v[Bc]?.arrayValue,R=Nt(y?.values?.length||0,A?.values?.length||0);return R!==0?R:uv(y,A)})(a.mapValue,t.mapValue);case 11:return(function(h,d){if(h===yc.mapValue&&d===yc.mapValue)return 0;if(h===yc.mapValue)return 1;if(d===yc.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let R=0;R<v.length&&R<A.length;++R){const U=Hd(v[R],A[R]);if(U!==0)return U;const F=Qa(p[v[R]],y[A[R]]);if(F!==0)return F}return Nt(v.length,A.length)})(a.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function lv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Nt(a,t);const i=Fs(a),r=Fs(t),l=Nt(i.seconds,r.seconds);return l!==0?l:Nt(i.nanos,r.nanos)}function uv(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const h=Qa(i[l],r[l]);if(h)return h}return Nt(i.length,r.length)}function Ya(a){return Gd(a)}function Gd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Fs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Qs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ct.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const h of i.values||[])l?l=!1:r+=",",r+=Gd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of r)h?h=!1:l+=",",l+=`${d}:${Gd(i.fields[d])}`;return l+"}"})(a.mapValue):mt(61005,{value:a})}function Rc(a){switch(Ys(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ih(a);return t?16+Rc(t):16;case 5:return 2*a.stringValue.length;case 6:return Qs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,h)=>l+Rc(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Pr(r.fields,((h,d)=>{l+=h.length+Rc(d)})),l})(a.mapValue);default:throw mt(13486,{value:a})}}function Fd(a){return!!a&&"integerValue"in a}function Am(a){return!!a&&"arrayValue"in a}function cv(a){return!!a&&"nullValue"in a}function hv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function wc(a){return!!a&&"mapValue"in a}function cw(a){return(a?.mapValue?.fields||{})[iT]?.stringValue===sT}function pl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Pr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=pl(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=pl(a.arrayValue.values[i]);return t}return{...a}}function hw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===uw}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!wc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=pl(i)}setAll(t){let i=Ge.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=pl(d):l.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,l)}delete(t){const i=this.field(t.popLast());wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];wc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Pr(i,((l,h)=>t[l]=h));for(const l of r)delete t[l]}clone(){return new Mn(pl(this.value))}}function rT(a){const t=[];return Pr(a.fields,((i,r)=>{const l=new Ge([i]);if(wc(r)){const h=rT(r.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Xe{constructor(t,i,r,l,h,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,yt.min(),yt.min(),yt.min(),Mn.empty(),0)}static newFoundDocument(t,i,r,l){return new Xe(t,1,i,yt.min(),r,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,yt.min(),yt.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,yt.min(),yt.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jc{constructor(t,i){this.position=t,this.inclusive=i}}function fv(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const h=t[l],d=a.position[l];if(h.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=Qa(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function dv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!wi(a.position[i],t.position[i]))return!1;return!0}class qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function fw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class aT{}class Ne extends aT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new mw(t,i,r):i==="array-contains"?new yw(t,r):i==="in"?new _w(t,r):i==="not-in"?new vw(t,r):i==="array-contains-any"?new Ew(t,r):new Ne(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new gw(t,r):new pw(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&Ys(this.value)===Ys(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends aT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return oT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oT(a){return a.op==="and"}function lT(a){return dw(a)&&oT(a)}function dw(a){for(const t of a.filters)if(t instanceof Ci)return!1;return!0}function Qd(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+Ya(a.value);if(lT(a))return a.filters.map((t=>Qd(t))).join(",");{const t=a.filters.map((i=>Qd(i))).join(",");return`${a.op}(${t})`}}function uT(a,t){return a instanceof Ne?(function(r,l){return l instanceof Ne&&r.op===l.op&&r.field.isEqual(l.field)&&wi(r.value,l.value)})(a,t):a instanceof Ci?(function(r,l){return l instanceof Ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((h,d,p)=>h&&uT(d,l.filters[p])),!0):!1})(a,t):void mt(19439)}function cT(a){return a instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(a):a instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(cT).join(" ,")+"}"})(a):"Filter"}class mw extends Ne{constructor(t,i,r){super(t,i,r),this.key=ct.fromName(r.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class gw extends Ne{constructor(t,i){super(t,"in",i),this.keys=hT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class pw extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=hT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function hT(a,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class yw extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Am(i)&&Rl(i.arrayValue,this.value)}}class _w extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Rl(this.value.arrayValue,i)}}class vw extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Rl(this.value.arrayValue,i)}}class Ew extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Am(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Rl(this.value.arrayValue,r)))}}class Tw{constructor(t,i=null,r=[],l=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function mv(a,t=null,i=[],r=[],l=null,h=null,d=null){return new Tw(a,t,i,r,l,h,d)}function bm(a){const t=Et(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Qd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),nh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ya(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ya(r))).join(",")),t.Te=i}return t.Te}function Rm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!fw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!uT(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!dv(a.startAt,t.startAt)&&dv(a.endAt,t.endAt)}function Yd(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class sh{constructor(t,i=null,r=[],l=[],h=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Sw(a,t,i,r,l,h,d,p){return new sh(a,t,i,r,l,h,d,p)}function wm(a){return new sh(a)}function gv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Aw(a){return a.collectionGroup!==null}function yl(a){const t=Et(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Oe(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new qc(h,r))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new qc(Ge.keyField(),r))}return t.Ie}function Ti(a){const t=Et(a);return t.Ee||(t.Ee=bw(t,yl(a))),t.Ee}function bw(a,t){if(a.limitType==="F")return mv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new qc(l.field,h)}));const i=a.endAt?new jc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new jc(a.startAt.position,a.startAt.inclusive):null;return mv(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Kd(a,t,i){return new sh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function rh(a,t){return Rm(Ti(a),Ti(t))&&a.limitType===t.limitType}function fT(a){return`${bm(Ti(a))}|lt:${a.limitType}`}function Ma(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>cT(l))).join(", ")}]`),nh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${r})`})(Ti(a))}; limitType=${a.limitType})`}function ah(a,t){return t.isFoundDocument()&&(function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ct.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,t)&&(function(r,l){for(const h of yl(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,v){const y=fv(d,p,v);return d.inclusive?y<=0:y<0})(r.startAt,yl(r),l)||r.endAt&&!(function(d,p,v){const y=fv(d,p,v);return d.inclusive?y>=0:y>0})(r.endAt,yl(r),l))})(a,t)}function Rw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function dT(a){return(t,i)=>{let r=!1;for(const l of yl(a)){const h=ww(l,t,i);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function ww(a,t,i){const r=a.field.isKeyField()?ct.comparator(t.key,i.key):(function(h,d,p){const v=d.data.field(h),y=p.data.field(h);return v!==null&&y!==null?Qa(v,y):mt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return mt(19790,{direction:a.dir})}}class zr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Pr(this.inner,((i,r)=>{for(const[l,h]of r)t(l,h)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}const Cw=new oe(ct.comparator);function ts(){return Cw}const mT=new oe(ct.comparator);function hl(...a){let t=mT;for(const i of a)t=t.insert(i.key,i);return t}function gT(a){let t=mT;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Dr(){return _l()}function pT(){return _l()}function _l(){return new zr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Iw=new oe(ct.comparator),Dw=new Oe(ct.comparator);function Ot(...a){let t=Dw;for(const i of a)t=t.add(i);return t}const Nw=new Oe(Nt);function Ow(){return Nw}function Cm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(t)?"-0":t}}function yT(a){return{integerValue:""+a}}function Vw(a,t){return sw(t)?yT(t):Cm(a,t)}class oh{constructor(){this._=void 0}}function Mw(a,t,i){return a instanceof Hc?(function(l,h){const d={fields:{[tT]:{stringValue:WE},[nT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Sm(h)&&(h=ih(h)),h&&(d.fields[eT]=h),{mapValue:d}})(i,t):a instanceof wl?vT(a,t):a instanceof Cl?ET(a,t):(function(l,h){const d=_T(l,h),p=pv(d)+pv(l.Ae);return Fd(d)&&Fd(l.Ae)?yT(p):Cm(l.serializer,p)})(a,t)}function xw(a,t,i){return a instanceof wl?vT(a,t):a instanceof Cl?ET(a,t):i}function _T(a,t){return a instanceof Gc?(function(r){return Fd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class Hc extends oh{}class wl extends oh{constructor(t){super(),this.elements=t}}function vT(a,t){const i=TT(t);for(const r of a.elements)i.some((l=>wi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Cl extends oh{constructor(t){super(),this.elements=t}}function ET(a,t){let i=TT(t);for(const r of a.elements)i=i.filter((l=>!wi(l,r)));return{arrayValue:{values:i}}}class Gc extends oh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function pv(a){return ge(a.integerValue||a.doubleValue)}function TT(a){return Am(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Uw(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof wl&&l instanceof wl||r instanceof Cl&&l instanceof Cl?Fa(r.elements,l.elements,wi):r instanceof Gc&&l instanceof Gc?wi(r.Ae,l.Ae):r instanceof Hc&&l instanceof Hc})(a.transform,t.transform)}class Lw{constructor(t,i){this.version=t,this.transformResults=i}}class Ji{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ji}static exists(t){return new Ji(void 0,t)}static updateTime(t){return new Ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class lh{}function ST(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new bT(a.key,Ji.none()):new Ul(a.key,a.data,Ji.none());{const i=a.data,r=Mn.empty();let l=new Oe(Ge.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),l=l.add(h)}return new Br(a.key,r,new Xn(l.toArray()),Ji.none())}}function kw(a,t,i){a instanceof Ul?(function(l,h,d){const p=l.value.clone(),v=_v(l.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof Br?(function(l,h,d){if(!Cc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const p=_v(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(AT(l)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function vl(a,t,i,r){return a instanceof Ul?(function(h,d,p,v){if(!Cc(h.precondition,d))return p;const y=h.value.clone(),A=vv(h.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,t,i,r):a instanceof Br?(function(h,d,p,v){if(!Cc(h.precondition,d))return p;const y=vv(h.fieldTransforms,v,d),A=d.data;return A.setAll(AT(h)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((R=>R.field)))})(a,t,i,r):(function(h,d,p){return Cc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function Pw(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),h=_T(r.transform,l||null);h!=null&&(i===null&&(i=Mn.empty()),i.set(r.field,h))}return i||null}function yv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Fa(r,l,((h,d)=>Uw(h,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Ul extends lh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Br extends lh{constructor(t,i,r,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function AT(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function _v(a,t,i){const r=new Map;Gt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const h=a[l],d=h.transform,p=t.data.field(h.field);r.set(h.field,xw(d,p,i[l]))}return r}function vv(a,t,i){const r=new Map;for(const l of a){const h=l.transform,d=i.data.field(l.field);r.set(l.field,Mw(h,d,t))}return r}class bT extends lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zw extends lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&kw(h,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=vl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=vl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=pT();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(l.key)?null:p;const v=ST(d,p);v!==null&&r.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,((i,r)=>yv(i,r)))&&Fa(this.baseMutations,t.baseMutations,((i,r)=>yv(i,r)))}}class Im{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Iw})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,r[d].version);return new Im(t,i,r,l)}}class jw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Lt;function Hw(a){switch(a){case J.OK:return mt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return mt(15467,{code:a})}}function RT(a){if(a===void 0)return Wi("GRPC error has no .code"),J.UNKNOWN;switch(a){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return mt(39323,{code:a})}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function Gw(){return new TextEncoder}const Fw=new Hs([4294967295,4294967295],0);function Ev(a){const t=Gw().encode(a),i=new jE;return i.update(t),new Uint8Array(i.digest())}function Tv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Hs([i,r],0),new Hs([l,h],0)]}class Dm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new fl(`Invalid padding: ${i}`);if(r<0)throw new fl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new fl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Hs.fromNumber(r)));return l.compare(Fw)===1&&(l=new Hs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Ev(t),[r,l]=Tv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Dm(h,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Ev(t),[r,l]=Tv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uh{constructor(t,i,r,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new uh(yt.min(),l,new oe(Nt),ts(),Ot())}}class Ll{constructor(t,i,r,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Ll(r,i,Ot(),Ot(),Ot())}}class Ic{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class wT{constructor(t,i){this.targetId=t,this.Ce=i}}class CT{constructor(t,i,r=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Sv{constructor(){this.ve=0,this.Fe=Av(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),r=Ot();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:mt(38017,{changeType:h})}})),new Ll(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Av()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Qw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=_c(),this.He=_c(),this.Ye=new oe(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Yd(h))if(r===0){const d=new ct(h.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=i;let d,p;try{d=Qs(r).toUint8Array()}catch(v){if(v instanceof $E)return Ga("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Dm(d,l,h)}catch(v){return Ga(v instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Yd(p.target)){const v=new ct(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Ot();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new uh(t,i,this.Ye,this.je,r);return this.je=ts(),this.Je=_c(),this.He=_c(),this.Ye=new oe(Nt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Sv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Oe(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Oe(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Sv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function _c(){return new oe(ct.comparator)}function Av(){return new oe(ct.comparator)}const Yw={asc:"ASCENDING",desc:"DESCENDING"},Kw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xw={and:"AND",or:"OR"};class Jw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Xd(a,t){return a.useProto3Json||nh(t)?t:{value:t}}function Fc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function IT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Zw(a,t){return Fc(a,t.toTimestamp())}function Si(a){return Gt(!!a,49232),yt.fromTimestamp((function(i){const r=Fs(i);return new ne(r.seconds,r.nanos)})(a))}function Nm(a,t){return Jd(a,t).canonicalString()}function Jd(a,t){const i=(function(l){return new ae(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function DT(a){const t=ae.fromString(a);return Gt(xT(t),10190,{key:t.toString()}),t}function Zd(a,t){return Nm(a.databaseId,t.path)}function Cd(a,t){const i=DT(t);if(i.get(1)!==a.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ct(OT(i))}function NT(a,t){return Nm(a.databaseId,t)}function $w(a){const t=DT(a);return t.length===4?ae.emptyPath():OT(t)}function $d(a){return new ae(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function OT(a){return Gt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function bv(a,t,i){return{name:Zd(a,t),fields:i.value.mapValue.fields}}function Ww(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(y,A){return y.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?J.UNKNOWN:RT(y.code);return new ot(A,y.message||"")})(d);i=new CT(r,l,h,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Cd(a,r.document.name),h=Si(r.document.updateTime),d=r.document.createTime?Si(r.document.createTime):yt.min(),p=new Mn({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(l,h,d,p),y=r.targetIds||[],A=r.removedTargetIds||[];i=new Ic(y,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Cd(a,r.document),h=r.readTime?Si(r.readTime):yt.min(),d=Xe.newNoDocument(l,h),p=r.removedTargetIds||[];i=new Ic([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Cd(a,r.document),h=r.removedTargetIds||[];i=new Ic([],h,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,d=new qw(l,h),p=r.targetId;i=new wT(p,d)}}return i}function t2(a,t){let i;if(t instanceof Ul)i={update:bv(a,t.key,t.value)};else if(t instanceof bT)i={delete:Zd(a,t.key)};else if(t instanceof Br)i={update:bv(a,t.key,t.data),updateMask:u2(t.fieldMask)};else{if(!(t instanceof zw))return mt(16599,{Vt:t.type});i={verify:Zd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof Hc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Cl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Gc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:Zw(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt(27497)})(a,t.precondition)),i}function e2(a,t){return a&&a.length>0?(Gt(t!==void 0,14353),a.map((i=>(function(l,h){let d=l.updateTime?Si(l.updateTime):Si(h);return d.isEqual(yt.min())&&(d=Si(h)),new Lw(d,l.transformResults||[])})(i,t)))):[]}function n2(a,t){return{documents:[NT(a,t.path)]}}function i2(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=NT(a,l);const h=(function(y){if(y.length!==0)return MT(Ci.create(y,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((A=>(function(U){return{field:xa(U.field),direction:a2(U.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Xd(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function s2(a){let t=$w(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Gt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=(function(R){const U=VT(R);return U instanceof Ci&&lT(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((U=>(function(tt){return new qc(Ua(tt.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(U)))})(i.orderBy));let p=null;i.limit&&(p=(function(R){let U;return U=typeof R=="object"?R.value:R,nh(U)?null:U})(i.limit));let v=null;i.startAt&&(v=(function(R){const U=!!R.before,F=R.values||[];return new jc(F,U)})(i.startAt));let y=null;return i.endAt&&(y=(function(R){const U=!R.before,F=R.values||[];return new jc(F,U)})(i.endAt)),Sw(t,l,d,h,p,"F",v,y)}function r2(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function VT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ua(i.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ua(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ne.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>VT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(a):mt(30097,{filter:a})}function a2(a){return Yw[a]}function o2(a){return Kw[a]}function l2(a){return Xw[a]}function xa(a){return{fieldPath:a.canonicalString()}}function Ua(a){return Ge.fromServerFormat(a.fieldPath)}function MT(a){return a instanceof Ne?(function(i){if(i.op==="=="){if(hv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NAN"}};if(cv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(hv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NAN"}};if(cv(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(i.field),op:o2(i.op),value:i.value}}})(a):a instanceof Ci?(function(i){const r=i.getFilters().map((l=>MT(l)));return r.length===1?r[0]:{compositeFilter:{op:l2(i.op),filters:r}}})(a):mt(54877,{filter:a})}function u2(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function xT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class zs{constructor(t,i,r,l,h=yt.min(),d=yt.min(),p=Fe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class c2{constructor(t){this.yt=t}}function h2(a){const t=s2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Kd(t,t.limit,"L"):t}class f2{constructor(){this.Cn=new d2}addToCollectionParentIndex(t,i){return this.Cn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Gs.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Gs.min())}updateCollectionGroup(t,i,r){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class d2{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Oe(ae.comparator),h=!l.has(r);return this.index[i]=l.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Oe(ae.comparator)).toArray()}}const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(UT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Ka{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ka(0)}static cr(){return new Ka(-1)}}const wv="LruGarbageCollector",m2=1048576;function Cv([a,t],[i,r]){const l=Nt(a,i);return l===0?Nt(t,r):l}class g2{constructor(t){this.Ir=t,this.buffer=new Oe(Cv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Cv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class p2{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(wv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){eo(i)?it(wv,"Ignoring IndexedDB error during garbage collection: ",i):await to(i)}await this.Vr(3e5)}))}}class y2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return K.resolve(eh.ce);const r=new g2(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Rv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,h,d,p,v,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(t,l)))).next((R=>(r=R,p=Date.now(),this.removeTargets(t,r,i)))).next((R=>(h=R,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((R=>(y=Date.now(),Va()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${R} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:R}))))}}function _2(a,t){return new y2(a,t)}class v2{constructor(){this.changes=new zr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?K.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class E2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class T2{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&vl(r.mutation,l,Xn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ot()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ot()){const l=Dr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((h=>{let d=hl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Dr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ot())))}populateOverlays(t,i,r){const l=[];return r.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let h=ts();const d=_l(),p=(function(){return _l()})();return i.forEach(((v,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Br)?h=h.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),vl(A.mutation,y,A.mutation.getFieldMask(),ne.now())):d.set(y.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new E2(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=_l();let l=new oe(((d,p)=>d-p)),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=r.get(v)||Xn.empty();A=p.applyToLocalView(y,A),r.set(v,A);const R=(l.get(p.batchId)||Ot()).add(v);l=l.insert(p.batchId,R)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,A=v.value,R=pT();A.forEach((U=>{if(!h.has(U)){const F=ST(i.get(U),r.get(U));F!==null&&R.set(U,F),h=h.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,R))}return K.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Aw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-h.size):K.resolve(Dr());let p=Sl,v=h;return d.next((y=>K.forEach(y,((A,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next((U=>{v=v.insert(A,U)}))))).next((()=>this.populateOverlays(t,y,h))).next((()=>this.computeViews(t,v,y,Ot()))).next((A=>({batchId:p,changes:gT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((r=>{let l=hl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const h=i.collectionGroup;let d=hl();return this.indexManager.getCollectionParents(t,h).next((p=>K.forEach(p,(v=>{const y=(function(R,U){return new sh(U,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((A=>{A.forEach(((R,U)=>{d=d.insert(R,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,l)))).next((d=>{h.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=hl();return d.forEach(((v,y)=>{const A=h.get(v);A!==void 0&&vl(A.mutation,y,Xn.empty(),ne.now()),ah(i,y)&&(p=p.insert(v,y))})),p}))}}class S2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:h2(l.bundledQuery),readTime:Si(l.readTime)}})(i)),K.resolve()}}class A2{constructor(){this.overlays=new oe(ct.comparator),this.qr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Dr();return K.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&r.set(l,h)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,h)=>{this.St(t,i,h)})),K.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(t,i,r){const l=Dr(),h=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&v.largestBatchId>r&&l.set(v.getKey(),v)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let h=new oe(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=h.get(y.largestBatchId);A===null&&(A=Dr(),h=h.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Dr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return K.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new jw(i,r));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}class b2{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}class Om{constructor(){this.Qr=new Oe(Ue.$r),this.Ur=new Oe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ue(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ct(new ae([])),r=new Ue(i,t),l=new Ue(i,t+1),h=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new ae([])),r=new Ue(i,t),l=new Ue(i,t+1);let h=Ot();return this.Ur.forEachInRange([r,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Ue(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class R2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Ue.$r)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Bw(h,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ue(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),h=l<0?0:l;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Tm:this.tr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);h.push(p)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Oe(Nt);return i.forEach((l=>{const h=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{r=r.add(p.Yr)}))})),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let h=r;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ct(h),0);let p=new Oe(Nt);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Yr)),!0)}),d),K.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(i.mutations,(l=>{const h=new Ue(l.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ue(i,0),l=this.Zr.firstAfterOrEqual(r);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class w2{constructor(t){this.ri=t,this.docs=(function(){return new oe(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return K.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let r=ts();return i.forEach((l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():Xe.newInvalidDocument(l))})),K.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let h=ts();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||tw(WR(A),r)<=0||(l.has(A.key)||ah(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(t,i,r,l){mt(9500)}ii(t,i){return K.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new C2(this)}getSize(t){return K.resolve(this.size)}}class C2 extends v2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),K.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class I2{constructor(t){this.persistence=t,this.si=new zr((i=>bm(i)),Rm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Om,this.targetCount=0,this.ai=Ka.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),K.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ka(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.Pr(i),K.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,r){let l=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),K.waitFor(h).next((()=>l))}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return K.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),K.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return K.resolve(r)}containsKey(t,i){return K.resolve(this._i.containsKey(i))}}class LT{constructor(t,i){this.ui={},this.overlays={},this.ci=new eh(0),this.li=!1,this.li=!0,this.hi=new b2,this.referenceDelegate=t(this),this.Pi=new I2(this),this.indexManager=new f2,this.remoteDocumentCache=(function(l){return new w2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new c2(i),this.Ii=new S2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new A2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new R2(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const l=new D2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,i){return K.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class D2 extends nw{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Ri=new Om,this.Vi=null}static mi(t){return new Vm(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),K.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(r=>{const l=ct.fromPath(r);return this.gi(t,l).next((h=>{h||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Qc{constructor(t,i){this.persistence=t,this.pi=new zr((r=>rw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=_2(this,i)}static mi(t,i){return new Qc(t,i)}Ei(){}di(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return K.forEach(this.pi,((r,l)=>this.br(t,r,l).next((h=>h?K.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),K.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Rc(t.data.value)),i}br(t,i,r){return K.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return K.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Mm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Ot(),l=Ot();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Mm(t,i.fromCache,r,l)}}class N2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class O2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TA()?8:iw(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,l,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new N2;return this.Ss(t,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>h.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Va()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ma(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Va()<=Dt.DEBUG&&it("QueryEngine","Query:",Ma(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Va()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ma(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):K.resolve())}ys(t,i){if(gv(i))return K.resolve(null);let r=Ti(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Kd(i,null,"F"),r=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=Ot(...h);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((v=>{const y=this.Ds(i,p);return this.Cs(i,y,d,v.readTime)?this.ys(t,Kd(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,r,l){return gv(i)||l.isEqual(yt.min())?K.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,l)?K.resolve(null):(Va()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(i)),this.vs(t,d,i,$R(l,Sl)).next((p=>p)))}))}Ds(t,i){let r=new Oe(dT(t));return i.forEach(((l,h)=>{ah(t,h)&&(r=r.add(h))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,r){return Va()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ma(i)),this.ps.getDocumentsMatchingQuery(t,i,Gs.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const xm="LocalStore",V2=3e8;class M2{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Nt),this.xs=new zr((h=>bm(h)),Rm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new T2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function x2(a,t,i,r){return new M2(a,t,i,r)}async function kT(a,t){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let v=Ot();for(const y of l){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of h){p.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function U2(a,t){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,A){const R=y.batch,U=R.keys();let F=K.resolve();return U.forEach((tt=>{F=F.next((()=>A.getEntry(v,tt))).next((nt=>{const Z=y.docVersions.get(tt);Gt(Z!==null,48541),nt.version.compareTo(Z)<0&&(R.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),A.addEntry(nt)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(v,R)))})(i,r,t,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=Ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function PT(a){const t=Et(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function L2(a,t){const i=Et(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,R)=>{const U=l.get(R);if(!U)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,R))));let F=U.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(R)!==null?F=F.withResumeToken(Fe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,r)),l=l.insert(R,F),(function(nt,Z,ht){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=V2?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(U,F,A)&&p.push(i.Pi.updateTargetData(h,F))}));let v=ts(),y=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(k2(h,d,t.documentUpdates).next((A=>{v=A.ks,y=A.qs}))),!r.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((R=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(A)}return K.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,y))).next((()=>v))})).then((h=>(i.Ms=l,h)))}function k2(a,t,i){let r=Ot(),l=Ot();return i.forEach((h=>r=r.add(h))),t.getEntries(a,r).next((h=>{let d=ts();return i.forEach(((p,v)=>{const y=h.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(yt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):it(xm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function P2(a,t){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Tm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function z2(a,t){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((h=>h?(l=h,K.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new zs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Wd(a,t,i){const r=Et(a),l=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!eo(d))throw d;it(xm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Iv(a,t,i){const r=Et(a);let l=yt.min(),h=Ot();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const R=Et(v),U=R.xs.get(A);return U!==void 0?K.resolve(R.Ms.get(U)):R.Pi.getTargetData(y,A)})(r,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?h:Ot()))).next((p=>(B2(r,Rw(t),p),{documents:p,Qs:h})))))}function B2(a,t,i){let r=a.Os.get(t)||yt.min();i.forEach(((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(t,r)}class Dv{constructor(){this.activeTargetIds=Ow()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class j2{constructor(){this.Mo=new Dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Dv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class q2{Oo(t){}shutdown(){}}const Nv="ConnectivityMonitor";class Ov{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Nv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(Nv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vc=null;function tm(){return vc===null?vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():vc++,"0x"+vc.toString(16)}const Id="RestConnection",H2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===zc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,h){const d=tm(),p=this.zo(t,i.toUriEncodedString());it(Id,`Sending RPC '${t}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:y}=new URL(p),A=Ja(y);return this.Jo(t,p,v,r,A).then((R=>(it(Id,`Received RPC '${t}' ${d}: `,R),R)),(R=>{throw Ga(Id,`RPC '${t}' ${d} failed with error: `,R,"url: ",p,"request:",r),R}))}Ho(t,i,r,l,h,d){return this.Go(t,i,r,l,h)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wa})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),r&&r.headers.forEach(((l,h)=>t[h]=l))}zo(t,i){const r=H2[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class F2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class Q2 extends G2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,h){const d=tm();return new Promise(((p,v)=>{const y=new qE;y.setWithCredentials(!0),y.listenOnce(HE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case bc.NO_ERROR:const R=y.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(R)),p(R);break;case bc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),v(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const U=y.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,U,"response text:",y.getResponseText()),U>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const tt=F?.error;if(tt&&tt.status&&tt.message){const nt=(function(ht){const _t=ht.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(_t)>=0?_t:J.UNKNOWN})(tt.status);v(new ot(nt,tt.message))}else v(new ot(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ot(J.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=tm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=QE(),p=FE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,v);const R=d.createWebChannel(A,v);this.I_(R);let U=!1,F=!1;const tt=new F2({Yo:Z=>{F?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(U||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),R.open(),U=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,Z),R.send(Z))},Zo:()=>R.close()}),nt=(Z,ht,_t)=>{Z.listen(ht,(dt=>{try{_t(dt)}catch(Ht){setTimeout((()=>{throw Ht}),0)}}))};return nt(R,cl.EventType.OPEN,(()=>{F||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),nt(R,cl.EventType.CLOSE,(()=>{F||(F=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(R))})),nt(R,cl.EventType.ERROR,(Z=>{F||(F=!0,Ga(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),tt.a_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),nt(R,cl.EventType.MESSAGE,(Z=>{if(!F){const ht=Z.data[0];Gt(!!ht,16349);const _t=ht,dt=_t?.error||_t[0]?.error;if(dt){it(Ye,`RPC '${t}' stream ${l} received error:`,dt);const Ht=dt.status;let $t=(function(b){const S=Re[b];if(S!==void 0)return RT(S)})(Ht),Vt=dt.message;$t===void 0&&($t=J.INTERNAL,Vt="Unknown error status: "+Ht+" with message "+dt.message),F=!0,tt.a_(new ot($t,Vt)),R.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,ht),tt.u_(ht)}})),nt(p,GE.STAT_EVENT,(Z=>{Z.stat===qd.PROXY?it(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===qd.NOPROXY&&it(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Dd(){return typeof document<"u"?document:null}function ch(a){return new Jw(a,!0)}class zT{constructor(t,i,r=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Vv="PersistentStream";class BT{constructor(t,i,r,l,h,d,p,v){this.Mi=t,this.S_=r,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ot(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Vv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Y2 extends BT{constructor(t,i,r,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Ww(this.serializer,t),r=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Si(d.readTime):yt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=$d(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=Yd(v)?{documents:n2(h,v)}:{query:i2(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=IT(h,d.resumeToken);const y=Xd(h,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Fc(h,d.snapshotVersion.toTimestamp());const y=Xd(h,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=r2(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=$d(this.serializer),i.removeTarget=t,this.q_(i)}}class K2 extends BT{constructor(t,i,r,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=e2(t.writeResults,t.commitTime),r=Si(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=$d(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>t2(this.serializer,r)))};this.q_(i)}}class X2{}class J2 extends X2{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Jd(i,r),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(J.UNKNOWN,h.toString())}))}Ho(t,i,r,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Jd(i,r),l,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Z2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const kr="RemoteStore";class $2{constructor(t,i,r,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{jr(this)&&(it(kr,"Restarting streams for network reachability change."),await(async function(v){const y=Et(v);y.Ea.add(4),await kl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await hh(y)})(this))}))})),this.Ra=new Z2(r,l)}}async function hh(a){if(jr(a))for(const t of a.da)await t(!0)}async function kl(a){for(const t of a.da)await t(!1)}function jT(a,t){const i=Et(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Pm(i)?km(i):no(i).O_()&&Lm(i,t))}function Um(a,t){const i=Et(a),r=no(i);i.Ia.delete(t),r.O_()&&qT(i,t),i.Ia.size===0&&(r.O_()?r.L_():jr(i)&&i.Ra.set("Unknown"))}function Lm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}no(a).Y_(t)}function qT(a,t){a.Va.Ue(t),no(a).Z_(t)}function km(a){a.Va=new Qw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),no(a).start(),a.Ra.ua()}function Pm(a){return jr(a)&&!no(a).x_()&&a.Ia.size>0}function jr(a){return Et(a).Ea.size===0}function HT(a){a.Va=void 0}async function W2(a){a.Ra.set("Online")}async function tC(a){a.Ia.forEach(((t,i)=>{Lm(a,t)}))}async function eC(a,t){HT(a),Pm(a)?(a.Ra.ha(t),km(a)):a.Ra.set("Unknown")}async function nC(a,t,i){if(a.Ra.set("Online"),t instanceof CT&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const p of h.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(r){it(kr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Yc(a,r)}else if(t instanceof Ic?a.Va.Ze(t):t instanceof wT?a.Va.st(t):a.Va.tt(t),!i.isEqual(yt.min()))try{const r=await PT(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(y);A&&h.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),qT(h,v);const R=new zs(A.target,v,y,A.sequenceNumber);Lm(h,R)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){it(kr,"Failed to raise snapshot:",r),await Yc(a,r)}}async function Yc(a,t,i){if(!eo(t))throw t;a.Ea.add(1),await kl(a),a.Ra.set("Offline"),i||(i=()=>PT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(kr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await hh(a)}))}function GT(a,t){return t().catch((i=>Yc(a,i,t)))}async function fh(a){const t=Et(a),i=Ks(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Tm;for(;iC(t);)try{const l=await P2(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,sC(t,l)}catch(l){await Yc(t,l)}FT(t)&&QT(t)}function iC(a){return jr(a)&&a.Ta.length<10}function sC(a,t){a.Ta.push(t);const i=Ks(a);i.O_()&&i.X_&&i.ea(t.mutations)}function FT(a){return jr(a)&&!Ks(a).x_()&&a.Ta.length>0}function QT(a){Ks(a).start()}async function rC(a){Ks(a).ra()}async function aC(a){const t=Ks(a);for(const i of a.Ta)t.ea(i.mutations)}async function oC(a,t,i){const r=a.Ta.shift(),l=Im.from(r,t,i);await GT(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await fh(a)}async function lC(a,t){t&&Ks(a).X_&&await(async function(r,l){if((function(d){return Hw(d)&&d!==J.ABORTED})(l.code)){const h=r.Ta.shift();Ks(r).B_(),await GT(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,l))),await fh(r)}})(a,t),FT(a)&&QT(a)}async function Mv(a,t){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),it(kr,"RemoteStore received new credentials");const r=jr(i);i.Ea.add(3),await kl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await hh(i)}async function uC(a,t){const i=Et(a);t?(i.Ea.delete(2),await hh(i)):t||(i.Ea.add(2),await kl(i),i.Ra.set("Unknown"))}function no(a){return a.ma||(a.ma=(function(i,r,l){const h=Et(i);return h.sa(),new Y2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:W2.bind(null,a),t_:tC.bind(null,a),r_:eC.bind(null,a),H_:nC.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Pm(a)?km(a):a.Ra.set("Unknown")):(await a.ma.stop(),HT(a))}))),a.ma}function Ks(a){return a.fa||(a.fa=(function(i,r,l){const h=Et(i);return h.sa(),new K2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:rC.bind(null,a),r_:lC.bind(null,a),ta:aC.bind(null,a),na:oC.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await fh(a)):(await a.fa.stop(),a.Ta.length>0&&(it(kr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class zm{constructor(t,i,r,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,h){const d=Date.now()+r,p=new zm(t,i,d,l,h);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(a,t){if(Wi("AsyncQueue",`${t}: ${a}`),eo(a))return new ot(J.UNAVAILABLE,`${t}: ${a}`);throw a}class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=hl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class xv{constructor(){this.ga=new oe(ct.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Xa{constructor(t,i,r,l,h,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Xa(t,i,Ba.emptySet(i),d,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class cC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class hC{constructor(){this.queries=Uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Et(i),h=l.queries;l.queries=Uv(),h.forEach(((d,p)=>{for(const v of p.Sa)v.onError(r)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function Uv(){return new zr((a=>fT(a)),rh)}async function fC(a,t){const i=Et(a);let r=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(r=2):(h=new cC,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Bm(d,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&jm(i)}async function dC(a,t){const i=Et(a),r=t.query;let l=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function mC(a,t){const i=Et(a);let r=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&jm(i)}function gC(a,t,i){const r=Et(a),l=r.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);r.queries.delete(t)}function jm(a){a.Ca.forEach((t=>{t.next()}))}var em,Lv;(Lv=em||(em={})).Ma="default",Lv.Cache="cache";class pC{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Xa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==em.Cache}}class YT{constructor(t){this.key=t}}class KT{constructor(t){this.key=t}}class yC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=dT(t),this.tu=new Ba(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new xv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,R)=>{const U=l.get(A),F=ah(this.query,R)?R:null,tt=!!U&&this.mutatedKeys.has(U.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;U&&F?U.data.isEqual(F.data)?tt!==nt&&(r.track({type:3,doc:F}),Z=!0):this.su(U,F)||(r.track({type:2,doc:F}),Z=!0,(v&&this.eu(F,v)>0||y&&this.eu(F,y)<0)&&(p=!0)):!U&&F?(r.track({type:0,doc:F}),Z=!0):U&&!F&&(r.track({type:1,doc:U}),Z=!0,(v||y)&&(p=!0)),Z&&(F?(d=d.add(F),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,R)=>(function(F,tt){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:Z})}};return nt(F)-nt(tt)})(A.type,R.type)||this.eu(A.doc,R.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new Xa(this.query,t.tu,h,d,t.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new KT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new YT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qm="SyncEngine";class _C{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class vC{constructor(t){this.key=t,this.hu=!1}}class EC{constructor(t,i,r,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new zr((p=>fT(p)),rh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ct.comparator),this.Au=new Map,this.Ru=new Om,this.Vu={},this.mu=new Map,this.fu=Ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TC(a,t,i=!0){const r=t0(a);let l;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await XT(r,t,i,!0),l}async function SC(a,t){const i=t0(a);await XT(i,t,!0,!1)}async function XT(a,t,i,r){const l=await z2(a.localStore,Ti(t)),h=l.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await AC(a,t,h,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&jT(a.remoteStore,l),p}async function AC(a,t,i,r,l){a.pu=(R,U,F)=>(async function(nt,Z,ht,_t){let dt=Z.view.ru(ht);dt.Cs&&(dt=await Iv(nt.localStore,Z.query,!1).then((({documents:D})=>Z.view.ru(D,dt))));const Ht=_t&&_t.targetChanges.get(Z.targetId),$t=_t&&_t.targetMismatches.get(Z.targetId)!=null,Vt=Z.view.applyChanges(dt,nt.isPrimaryClient,Ht,$t);return Pv(nt,Z.targetId,Vt.au),Vt.snapshot})(a,R,U,F);const h=await Iv(a.localStore,t,!0),d=new yC(t,h.Qs),p=d.ru(h.documents),v=Ll.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),y=d.applyChanges(p,a.isPrimaryClient,v);Pv(a,i,y.au);const A=new _C(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),y.snapshot}async function bC(a,t,i){const r=Et(a),l=r.Tu.get(t),h=r.Iu.get(l.targetId);if(h.length>1)return r.Iu.set(l.targetId,h.filter((d=>!rh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Wd(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Um(r.remoteStore,l.targetId),nm(r,l.targetId)})).catch(to)):(nm(r,l.targetId),await Wd(r.localStore,l.targetId,!0))}async function RC(a,t){const i=Et(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Um(i.remoteStore,r.targetId))}async function wC(a,t,i){const r=MC(a);try{const l=await(function(d,p){const v=Et(d),y=ne.now(),A=p.reduce(((F,tt)=>F.add(tt.key)),Ot());let R,U;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let tt=ts(),nt=Ot();return v.Ns.getEntries(F,A).next((Z=>{tt=Z,tt.forEach(((ht,_t)=>{_t.isValidDocument()||(nt=nt.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,tt))).next((Z=>{R=Z;const ht=[];for(const _t of p){const dt=Pw(_t,R.get(_t.key).overlayedDocument);dt!=null&&ht.push(new Br(_t.key,dt,rT(dt.value.mapValue),Ji.exists(!0)))}return v.mutationQueue.addMutationBatch(F,y,ht,p)})).next((Z=>{U=Z;const ht=Z.applyToLocalDocumentSet(R,nt);return v.documentOverlayCache.saveOverlays(F,Z.batchId,ht)}))})).then((()=>({batchId:U.batchId,changes:gT(R)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(Nt)),y=y.insert(p,v),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await Pl(r,l.changes),await fh(r.remoteStore)}catch(l){const h=Bm(l,"Failed to persist write");i.reject(h)}}async function JT(a,t){const i=Et(a);try{const r=await L2(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Pl(i,r,t)}catch(r){await to(r)}}function kv(a,t,i){const r=Et(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=Et(d);v.onlineState=p;let y=!1;v.queries.forEach(((A,R)=>{for(const U of R.Sa)U.va(p)&&(y=!0)})),y&&jm(v)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function CC(a,t,i){const r=Et(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),h=l&&l.key;if(h){let d=new oe(ct.comparator);d=d.insert(h,Xe.newNoDocument(h,yt.min()));const p=Ot().add(h),v=new uh(yt.min(),new Map,new oe(Nt),d,p);await JT(r,v),r.du=r.du.remove(h),r.Au.delete(t),Hm(r)}else await Wd(r.localStore,t,!1).then((()=>nm(r,t,i))).catch(to)}async function IC(a,t){const i=Et(a),r=t.batch.batchId;try{const l=await U2(i.localStore,t);$T(i,r,null),ZT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Pl(i,l)}catch(l){await to(l)}}async function DC(a,t,i){const r=Et(a);try{const l=await(function(d,p){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,p).next((R=>(Gt(R!==null,37113),A=R.keys(),v.mutationQueue.removeMutationBatch(y,R)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);$T(r,t,i),ZT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Pl(r,l)}catch(l){await to(l)}}function ZT(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function $T(a,t,i){const r=Et(a);let l=r.Vu[r.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function nm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||WT(a,r)}))}function WT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Um(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Hm(a))}function Pv(a,t,i){for(const r of i)r instanceof YT?(a.Ru.addReference(r.key,t),NC(a,r)):r instanceof KT?(it(qm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||WT(a,r.key)):mt(19791,{wu:r})}function NC(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(it(qm,"New document in limbo: "+i),a.Eu.add(r),Hm(a))}function Hm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ct(ae.fromString(t)),r=a.fu.next();a.Au.set(r,new vC(i)),a.du=a.du.insert(i,r),jT(a.remoteStore,new zs(Ti(wm(i.path)),r,"TargetPurposeLimboResolution",eh.ce))}}async function Pl(a,t,i){const r=Et(a),l=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{d.push(r.pu(v,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Mm.As(v.targetId,y);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(v,y){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>K.forEach(y,(U=>K.forEach(U.Es,(F=>A.persistence.referenceDelegate.addReference(R,U.targetId,F))).next((()=>K.forEach(U.ds,(F=>A.persistence.referenceDelegate.removeReference(R,U.targetId,F)))))))))}catch(R){if(!eo(R))throw R;it(xm,"Failed to update sequence numbers: "+R)}for(const R of y){const U=R.targetId;if(!R.fromCache){const F=A.Ms.get(U),tt=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(U,nt)}}})(r.localStore,h))}async function OC(a,t){const i=Et(a);if(!i.currentUser.isEqual(t)){it(qm,"User change. New user:",t.toKey());const r=await kT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new ot(J.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Pl(i,r.Ls)}}function VC(a,t){const i=Et(a),r=i.Au.get(t);if(r&&r.hu)return Ot().add(r.key);{let l=Ot();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function t0(a){const t=Et(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CC.bind(null,t),t.Pu.H_=mC.bind(null,t.eventManager),t.Pu.yu=gC.bind(null,t.eventManager),t}function MC(a){const t=Et(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=IC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DC.bind(null,t),t}class Kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ch(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return x2(this.persistence,new O2,t.initialUser,this.serializer)}Cu(t){return new LT(Vm.mi,this.serializer)}Du(t){return new j2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kc.provider={build:()=>new Kc};class xC extends Kc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof Qc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new p2(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new LT((r=>Qc.mi(r,i)),this.serializer)}}class im{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OC.bind(null,this.syncEngine),await uC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hC})()}createDatastore(t){const i=ch(t.databaseInfo.databaseId),r=(function(h){return new Q2(h)})(t.databaseInfo);return(function(h,d,p,v){return new J2(h,d,p,v)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,h,d,p){return new $2(r,l,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>kv(this.syncEngine,i,0)),(function(){return Ov.v()?new Ov:new q2})())}createSyncEngine(t,i){return(function(l,h,d,p,v,y,A){const R=new EC(l,h,d,p,v,y);return A&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Et(i);it(kr,"RemoteStore shutting down."),r.Ea.add(5),await kl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}im.provider={build:()=>new im};class UC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Xs="FirestoreClient";class LC{constructor(t,i,r,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{it(Xs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it(Xs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Bm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Nd(a,t){a.asyncQueue.verifyOperationInProgress(),it(Xs,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await kT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function zv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await kC(a);it(Xs,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>Mv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>Mv(t.remoteStore,l))),a._onlineComponents=t}async function kC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(Xs,"Using user provided OfflineComponentProvider");try{await Nd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ga("Error using user provided cache. Falling back to memory cache: "+i),await Nd(a,new Kc)}}else it(Xs,"Using default OfflineComponentProvider"),await Nd(a,new xC(void 0));return a._offlineComponents}async function e0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(Xs,"Using user provided OnlineComponentProvider"),await zv(a,a._uninitializedComponentsProvider._online)):(it(Xs,"Using default OnlineComponentProvider"),await zv(a,new im))),a._onlineComponents}function PC(a){return e0(a).then((t=>t.syncEngine))}async function Bv(a){const t=await e0(a),i=t.eventManager;return i.onListen=TC.bind(null,t.syncEngine),i.onUnlisten=bC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=SC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=RC.bind(null,t.syncEngine),i}function n0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const jv=new Map;const i0="firestore.googleapis.com",qv=!0;class Hv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i0,this.ssl=qv}else this.host=t.host,this.ssl=t.ssl??qv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<m2)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gm{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new BR;switch(r.type){case"firstParty":return new GR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=jv.get(i);r&&(it("ComponentProvider","Removing Datastore"),jv.delete(i),r.terminate())})(this),Promise.resolve()}}function zC(a,t,i,r={}){a=za(a,Gm);const l=Ja(t),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(iE(`https://${p}`),sE("Firestore",!0)),h.host!==i0&&h.host!==p&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:l,emulatorOptions:r};if(!Mr(v,d)&&(a._setSettings(v),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=Ke.MOCK_USER;else{y=fA(r.mockUserToken,a._app?.options.projectId);const R=r.mockUserToken.sub||r.mockUserToken.user_id;if(!R)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(R)}a._authCredentials=new jR(new KE(y,A))}}class dh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new dh(this.firestore,t,this._query)}}class Le{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Il(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(xl(i,Le._jsonSchema))return new Le(t,r||null,new ct(ae.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:we("string",Le._jsonSchemaVersion),referencePath:we("string")};class Il extends dh{constructor(t,i,r){super(t,i,wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new ct(t))}withConverter(t){return new Il(this.firestore,t,this._path)}}function Gv(a,t,...i){if(a=vn(a),arguments.length===1&&(t=vm.newId()),JR("doc","path",t),a instanceof Gm){const r=ae.fromString(t,...i);return nv(r),new Le(a,null,new ct(r))}{if(!(a instanceof Le||a instanceof Il))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ae.fromString(t,...i));return nv(r),new Le(a.firestore,a instanceof Il?a.converter:null,new ct(r))}}const Fv="AsyncQueue";class Qv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zT(this,"async_queue_retry"),this._c=()=>{const r=Dd();r&&it(Fv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Dd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Dd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!eo(t))throw t;it(Fv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Yv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=zm.createAndSchedule(this,t,i,r,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:Yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Yv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function Kv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of r)if(h in l&&typeof l[h]=="function")return!0;return!1})(a,["next","error","complete"])}class Xc extends Gm{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Qv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Qv(t),this._firestoreClient=void 0,await t}}}function BC(a,t){const i=typeof a=="object"?a:lE(),r=typeof a=="string"?a:zc,l=om(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const h=cA("firestore");h&&zC(l,...h)}return l}function s0(a){if(a._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||jC(a),a._firestoreClient}function jC(a){const t=a._freezeSettings(),i=(function(l,h,d,p){return new lw(l,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,n0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new LC(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(a._componentsProvider))}class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Fe.fromBase64String(t))}catch(i){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(xl(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:we("string",xn._jsonSchemaVersion),bytes:we("string")};class Fm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class r0{constructor(t){this._methodName=t}}class Ai{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(t){if(xl(t,Ai._jsonSchema))return new Ai(t.latitude,t.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:we("string",Ai._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(xl(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new bi(t.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:we("string",bi._jsonSchemaVersion),vectorValues:we("object")};const qC=/^__.*__$/;class HC{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Br(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ul(t,this.data,i,this.fieldTransforms)}}function a0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:a})}}class Qm{constructor(t,i,r,l,h,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Jc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(a0(this.Ac)&&qC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class GC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||ch(t)}Cc(t,i,r,l=!1){return new Qm({Ac:t,methodName:i,Dc:r,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FC(a){const t=a._freezeSettings(),i=ch(a._databaseId);return new GC(a._databaseId,!!t.ignoreUndefinedProperties,i)}function QC(a,t,i,r,l,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,t,i,l);c0("Data must be an object, but it was:",d,r);const p=l0(r,d);let v,y;if(h.merge)v=new Xn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const R of h.mergeFields){const U=YC(t,R,i);if(!d.contains(U))throw new ot(J.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);XC(A,U)||A.push(U)}v=new Xn(A),y=d.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,y=d.fieldTransforms;return new HC(new Mn(p),v,y)}function o0(a,t){if(u0(a=vn(a)))return c0("Unsupported field value:",t,a),l0(a,t);if(a instanceof r0)return(function(r,l){if(!a0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const h=[];let d=0;for(const p of r){let v=o0(p,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(a,t)}return(function(r,l){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ne.fromDate(r);return{timestampValue:Fc(l.serializer,h)}}if(r instanceof ne){const h=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fc(l.serializer,h)}}if(r instanceof Ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xn)return{bytesValue:IT(l.serializer,r._byteString)};if(r instanceof Le){const h=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Nm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof bi)return(function(d,p){return{mapValue:{fields:{[iT]:{stringValue:sT},[Bc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Cm(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Em(r)}`)})(a,t)}function l0(a,t){const i={};return ZE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pr(a,((r,l)=>{const h=o0(l,t.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function u0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof Ai||a instanceof xn||a instanceof Le||a instanceof r0||a instanceof bi)}function c0(a,t,i){if(!u0(i)||!XE(i)){const r=Em(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function YC(a,t,i){if((t=vn(t))instanceof Fm)return t._internalPath;if(typeof t=="string")return h0(a,t);throw Jc("Field path arguments must be of type string or ",a,!1,void 0,i)}const KC=new RegExp("[~\\*/\\[\\]]");function h0(a,t,i){if(t.search(KC)>=0)throw Jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Fm(...t.split("."))._internalPath}catch{throw Jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Jc(a,t,i,r,l){const h=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${l}`),v+=")"),new ot(J.INVALID_ARGUMENT,p+a+v)}function XC(a,t){return a.some((i=>i.isEqual(t)))}class f0{constructor(t,i,r,l,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(d0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class JC extends f0{data(){return super.data()}}function d0(a,t){return typeof t=="string"?h0(a,t):t instanceof Fm?t._internalPath:t._delegate._internalPath}function ZC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $C{convertValue(t,i="none"){switch(Ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Qs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Pr(t,((l,h)=>{r[l]=this.convertValue(h,i)})),r}convertVectorValue(t){const i=t.fields?.[Bc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new bi(i)}convertGeoPoint(t){return new Ai(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=ih(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Al(t));default:return null}}convertTimestamp(t){const i=Fs(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ae.fromString(t);Gt(xT(r),9688,{name:t});const l=new bl(r.get(1),r.get(3)),h=new ct(r.popFirst(5));return l.isEqual(i)||Wi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function WC(a,t,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,r}class dl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vr extends f0{constructor(t,i,r,l,h,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(d0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Vr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Vr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vr._jsonSchema={type:we("string",Vr._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Dc extends Vr{data(t={}){return super.data(t)}}class ja{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new dl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Dc(this._firestore,this._userDataWriter,r.key,r,new dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Dc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Dc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:tI(p.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function tI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:a})}}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:we("string",ja._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class m0 extends $C{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function Xv(a,t,i){a=za(a,Le);const r=za(a.firestore,Xc),l=WC(a.converter,t,i);return nI(r,[QC(FC(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Ji.none())])}function eI(a,...t){a=vn(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Kv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Kv(t[r])){const v=t[r];t[r]=v.next?.bind(v),t[r+1]=v.error?.bind(v),t[r+2]=v.complete?.bind(v)}let h,d,p;if(a instanceof Le)d=za(a.firestore,Xc),p=wm(a._key.path),h={next:v=>{t[r]&&t[r](iI(d,a,v))},error:t[r+1],complete:t[r+2]};else{const v=za(a,dh);d=za(v.firestore,Xc),p=v._query;const y=new m0(d);h={next:A=>{t[r]&&t[r](new ja(d,y,v,A))},error:t[r+1],complete:t[r+2]},ZC(a._query)}return(function(y,A,R,U){const F=new UC(U),tt=new pC(A,F,R);return y.asyncQueue.enqueueAndForget((async()=>fC(await Bv(y),tt))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>dC(await Bv(y),tt)))}})(s0(d),p,l,h)}function nI(a,t){return(function(r,l){const h=new Or;return r.asyncQueue.enqueueAndForget((async()=>wC(await PC(r),l,h))),h.promise})(s0(a),t)}function iI(a,t,i){const r=i.docs.get(t._key),l=new m0(a);return new Vr(a,l,t._key,r,new dl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Wa=l})(Za),qa(new xr("firestore",((r,{instanceIdentifier:l,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new Xc(new qR(r.getProvider("auth-internal")),new FR(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(y.options.projectId,A)})(d,l),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),qs($_,W_,t),qs($_,W_,"esm2020")})();var sI="firebase",rI="12.6.0";qs(sI,rI,"app");const aI={apiKey:"AIzaSyDA7JElzU6qiRo7JInsyFOyCwV584gZ5Ag",authDomain:"track-my-reps.firebaseapp.com",projectId:"track-my-reps",storageBucket:"track-my-reps.firebasestorage.app",messagingSenderId:"164703762100",appId:"1:164703762100:web:1d75ecf0d08a101135c9e1",measurementId:"G-1RHC65C2N3"},g0=oE(aI),Od=PR(g0),oI=new Yi,Jv=BC(g0),lI=()=>{const[a,t]=tn.useState(null),[i,r]=tn.useState(!0);return tn.useEffect(()=>wb(Od,p=>{t(p),r(!1)}),[]),{user:a,loading:i,signInWithGoogle:async()=>{try{await Yb(Od,oI)}catch(d){console.error("Error signing in:",d),alert("Failed to sign in. Please try again.")}},signOut:async()=>{try{await Cb(Od)}catch(d){console.error("Error signing out:",d)}}}},Vd=(a,t,i)=>{const[r,l]=tn.useState(t),[h,d]=tn.useState(!1);return tn.useEffect(()=>{if(!a){l(t);return}const p=Gv(Jv,"users",a.uid);return eI(p,y=>{if(y.exists()){const A=y.data()[i];A&&l(A)}else Xv(p,{[i]:t},{merge:!0})})},[a,i]),tn.useEffect(()=>{if(!a||h)return;const v=setTimeout(async()=>{try{d(!0);const y=Gv(Jv,"users",a.uid);await Xv(y,{[i]:r},{merge:!0})}catch(y){console.error("Error syncing to cloud:",y)}finally{d(!1)}},1e3);return()=>clearTimeout(v)},[a,r,i]),[r,l,h]},Md=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],uI={Monday:{isRest:!1,exercises:[{name:"Bench Press",sets:3,reps:8,weight:null},{name:"Incline Dumbbell Press",sets:3,reps:10,weight:null},{name:"Cable Flyes",sets:3,reps:12,weight:null}]},Tuesday:{isRest:!1,exercises:[{name:"Pull-ups",sets:3,reps:8,weight:null},{name:"Barbell Rows",sets:3,reps:10,weight:null},{name:"Lat Pulldown",sets:3,reps:12,weight:null}]},Wednesday:{isRest:!0,exercises:[]},Thursday:{isRest:!1,exercises:[{name:"Squats",sets:4,reps:10,weight:null},{name:"Leg Press",sets:3,reps:12,weight:null},{name:"Leg Curls",sets:3,reps:12,weight:null}]},Friday:{isRest:!1,exercises:[{name:"Overhead Press",sets:3,reps:10,weight:null},{name:"Lateral Raises",sets:3,reps:12,weight:null},{name:"Barbell Curls",sets:3,reps:10,weight:null},{name:"Tricep Dips",sets:3,reps:10,weight:null}]},Saturday:{isRest:!0,exercises:[]},Sunday:{isRest:!0,exercises:[]}};function cI(){const{user:a,loading:t,signInWithGoogle:i,signOut:r}=lI(),[l,h]=tn.useState("tracker"),[d]=tn.useState(()=>{const S=localStorage.getItem("weeklyWorkoutPlan");return S?JSON.parse(S):uI}),[p,v]=Vd(a,d,"weeklyPlan"),[y,A]=tn.useState(()=>{const S=new Date().getDay();return Md[S===0?6:S-1]});tn.useEffect(()=>{a||localStorage.setItem("weeklyWorkoutPlan",JSON.stringify(p))},[p,a]);const[R]=tn.useState(()=>{const S=new Date().toDateString(),N=localStorage.getItem("workoutState");if(N){const{date:C,state:M}=JSON.parse(N);if(C===S)return M}return{}}),[U,F]=Vd(a,R,"completedSets"),[tt,nt]=Vd(a,{},"workoutNotes");tn.useEffect(()=>{const S=p[y];if(!(!S||S.isRest)&&!U[y]){const N=S.categories.map(C=>C.exercises.map(M=>Array(M.sets).fill(!1)));F(C=>({...C,[y]:N}))}},[y,p,U]),tn.useEffect(()=>{if(!a){const S=new Date().toDateString();localStorage.setItem("workoutState",JSON.stringify({date:S,state:U}))}},[U,a]);const Z=(S,N)=>{F(C=>{const M=C[y]||[];if(M.length===0){const q=p[y].exercises.map(W=>Array(W.sets).fill(!1)).map((W,lt)=>W.map((Mt,Bt)=>lt===S&&Bt===N?!0:Mt));return{...C,[y]:q}}const w=M.map((kt,le)=>kt.map((q,W)=>le===S&&W===N?!q:q));return{...C,[y]:w}})},ht=()=>{if(window.confirm("Reset all checkboxes for today?")){const N=p[y].exercises.map(C=>Array(C.sets).fill(!1));F(C=>({...C,[y]:N}))}},_t=()=>{const S=U[y]||[];let N=0,C=0;return S.forEach(M=>{M.forEach(w=>{C++,w&&N++})}),{completed:N,total:C,percentage:C>0?Math.round(N/C*100):0}},dt=S=>{v(N=>({...N,[S]:{...N[S],isRest:!N[S].isRest,exercises:N[S].isRest?N[S].exercises:[]}}))},Ht=S=>{const N=prompt("Exercise name:");if(!N)return;const C=parseInt(prompt("Number of sets:","3")),M=prompt("Reps (e.g., 8-12 or 15):","8-12");!N||!C||!M||v(w=>{const kt={...w};return kt[S].exercises.push({name:N,sets:C,reps:M}),kt})},$t=(S,N)=>{v(C=>{const M={...C};return M[S].exercises=M[S].exercises.filter((w,kt)=>kt!==N),M})},Vt=(S,N)=>{nt(C=>({...C,[S]:N}))},D=_t(),b=p[y];return t?X.jsx("div",{className:"app",children:X.jsxs("div",{className:"loading-screen",children:[X.jsx("div",{className:"loading-spinner"}),X.jsx("p",{children:"Loading..."})]})}):a?l==="planner"?X.jsxs("div",{className:"app",children:[X.jsxs("header",{className:"header",children:[X.jsx("h1",{children:" Weekly Planner"}),X.jsxs("div",{className:"header-buttons",children:[X.jsx("button",{className:"nav-button",onClick:()=>h("tracker"),children:"Back to Tracker"}),X.jsxs("div",{className:"user-info",children:[X.jsx("img",{src:a.photoURL,alt:a.displayName,className:"user-avatar"}),X.jsx("button",{className:"sign-out-btn",onClick:r,children:"Sign Out"})]})]})]}),X.jsx("div",{className:"planner-container",children:Md.map(S=>X.jsxs("div",{className:"day-planner",children:[X.jsxs("div",{className:"day-header",children:[X.jsx("h2",{children:S}),X.jsx("div",{className:"day-controls",children:X.jsxs("label",{className:"rest-toggle",children:[X.jsx("input",{type:"checkbox",checked:p[S].isRest,onChange:()=>dt(S)}),X.jsx("span",{children:"Rest Day"})]})})]}),p[S].isRest?X.jsx("div",{className:"rest-day-message",children:" Rest & Recovery"}):X.jsxs(X.Fragment,{children:[X.jsx("div",{className:"exercises-list",children:p[S].exercises.map((N,C)=>X.jsxs("div",{className:"exercise-edit",children:[X.jsxs("div",{className:"exercise-info",children:[X.jsx("span",{className:"exercise-name-small",children:N.name}),X.jsxs("span",{className:"exercise-details",children:[N.sets,"  ",N.reps]})]}),X.jsx("button",{className:"remove-btn-small",onClick:()=>$t(S,C),children:""})]},C))}),X.jsx("button",{className:"add-exercise-btn",onClick:()=>Ht(S),children:"+ Add Exercise"}),X.jsxs("div",{className:"workout-notes-section",children:[X.jsx("label",{className:"notes-label",children:"Quick Notes (weights, how you felt, etc.)"}),X.jsx("textarea",{className:"workout-notes-input",placeholder:"e.g., Bench Press 60kg  8, felt strong today",value:tt[S]||"",onChange:N=>Vt(S,N.target.value),rows:3})]})]})]},S))})]}):X.jsxs("div",{className:"app",children:[X.jsxs("header",{className:"header",children:[X.jsxs("div",{className:"header-top",children:[X.jsx("h1",{children:" Workout Tracker"}),X.jsxs("div",{className:"user-info",children:[X.jsx("img",{src:a.photoURL,alt:a.displayName,className:"user-avatar"}),X.jsx("button",{className:"sign-out-btn",onClick:r,children:"Sign Out"})]})]}),X.jsx("div",{className:"day-selector",children:Md.map(S=>X.jsx("button",{className:`day-btn ${y===S?"active":""} ${p[S].isRest?"rest":""}`,onClick:()=>A(S),children:S.slice(0,3)},S))}),X.jsx("p",{className:"date",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),b.isRest?X.jsx("div",{className:"rest-day-view",children:X.jsxs("div",{className:"rest-card",children:[X.jsx("div",{className:"rest-icon",children:""}),X.jsx("h2",{children:"Rest Day"}),X.jsx("p",{children:"Take it easy and let your muscles recover!"}),X.jsx("button",{className:"edit-plan-btn",onClick:()=>h("planner"),children:"Edit Weekly Plan"})]})}):X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"progress-section",children:[X.jsx("div",{className:"progress-bar-container",children:X.jsx("div",{className:"progress-bar",style:{width:`${D.percentage}%`}})}),X.jsxs("p",{className:"progress-text",children:[D.completed," / ",D.total," sets completed (",D.percentage,"%)"]})]}),X.jsx("div",{className:"workout-container",children:b.exercises.map((S,N)=>X.jsxs("div",{className:"exercise-card",children:[X.jsxs("div",{className:"exercise-header",children:[X.jsx("h3",{className:"exercise-name",children:S.name}),X.jsxs("span",{className:"exercise-reps",children:[S.sets,"  ",S.reps]})]}),X.jsx("div",{className:"sets-container",children:Array.from({length:S.sets},(C,M)=>X.jsxs("label",{className:"set-checkbox",children:[X.jsx("input",{type:"checkbox",checked:U[y]?.[N]?.[M]||!1,onChange:()=>Z(N,M)}),X.jsxs("span",{className:"checkbox-label",children:["Set ",M+1]})]},M))})]},N))}),tt[y]&&X.jsxs("div",{className:"previous-notes-display",children:[X.jsx("h3",{children:" Previous Notes"}),X.jsx("p",{children:tt[y]})]}),X.jsxs("div",{className:"footer",children:[X.jsx("button",{className:"edit-plan-btn",onClick:()=>h("planner"),children:"Edit Plan"}),X.jsx("button",{className:"reset-button",onClick:ht,children:"Reset Today"})]})]}),X.jsxs("nav",{className:"bottom-nav",children:[X.jsxs("button",{className:`nav-item ${l==="tracker"?"active":""}`,onClick:()=>h("tracker"),children:[X.jsx("div",{className:"nav-icon",children:""}),X.jsx("span",{children:"Workout"})]}),X.jsxs("button",{className:`nav-item ${l==="planner"?"active":""}`,onClick:()=>h("planner"),children:[X.jsx("div",{className:"nav-icon",children:""}),X.jsx("span",{children:"Plan"})]}),X.jsxs("button",{className:"nav-item",onClick:a?r:i,children:[X.jsx("div",{className:"nav-icon",children:a?"":""}),X.jsx("span",{children:a?"Profile":"Sign In"})]})]})]}):X.jsx("div",{className:"app",children:X.jsx("div",{className:"sign-in-screen",children:X.jsxs("div",{className:"sign-in-card",children:[X.jsx("h1",{children:" Workout Tracker"}),X.jsx("p",{className:"sign-in-subtitle",children:"Track your workouts across all devices"}),X.jsxs("div",{className:"features-list",children:[X.jsxs("div",{className:"feature-item",children:[X.jsx("span",{className:"feature-icon",children:""}),X.jsx("span",{children:"Custom weekly workout plans"})]}),X.jsxs("div",{className:"feature-item",children:[X.jsx("span",{className:"feature-icon",children:""}),X.jsx("span",{children:"Track your progress daily"})]}),X.jsxs("div",{className:"feature-item",children:[X.jsx("span",{className:"feature-icon",children:""}),X.jsx("span",{children:"Sync across all devices"})]}),X.jsxs("div",{className:"feature-item",children:[X.jsx("span",{className:"feature-icon",children:""}),X.jsx("span",{children:"Mobile-friendly interface"})]})]}),X.jsxs("button",{className:"google-sign-in-btn",onClick:i,children:[X.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[X.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),X.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),X.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),X.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),X.jsx("p",{className:"privacy-note",children:"Your data is private and synced securely to your Google account"}),X.jsx("button",{className:"continue-local-btn",onClick:()=>{alert("Note: Without signing in, your data will only be saved on this device and may be lost if you clear browser data.")},children:"Continue without sign-in (Local only)"})]})})})}eA.createRoot(document.getElementById("root")).render(X.jsx(tn.StrictMode,{children:X.jsx(cI,{})}));
